/*
WebsocketRails JavaScript Client

Setting up the dispatcher:
  var dispatcher = new WebSocketRails('localhost:3000');
  dispatcher.on_open = function() {
    // trigger a server event immediately after opening connection
    dispatcher.trigger('new_user',{user_name: 'guest'});
  })

Triggering a new event on the server
  dispatcherer.trigger('event_name',object_to_be_serialized_to_json);

Listening for new events from the server
  dispatcher.bind('event_name', function(data) {
    console.log(data.user_name);
  });
*/
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.WebSocketRails=function(){function t(n,r){this.url=n,this.use_websockets=r!=null?r:!0,this.pong=e(this.pong,this),this.supports_websockets=e(this.supports_websockets,this),this.dispatch_channel=e(this.dispatch_channel,this),this.subscribe_private=e(this.subscribe_private,this),this.subscribe=e(this.subscribe,this),this.dispatch=e(this.dispatch,this),this.trigger_event=e(this.trigger_event,this),this.trigger=e(this.trigger,this),this.bind=e(this.bind,this),this.connection_established=e(this.connection_established,this),this.new_message=e(this.new_message,this),this.state="connecting",this.callbacks={},this.channels={},this.queue={},!this.supports_websockets()||!this.use_websockets?this._conn=new t.HttpConnection(n,this):this._conn=new t.WebSocketConnection(n,this),this._conn.new_message=this.new_message}return t.prototype.new_message=function(e){var n,r,i,s,o,u;u=[];for(i=0,s=e.length;i<s;i++)r=e[i],n=new t.Event(r),n.is_result()?((o=this.queue[n.id])!=null&&o.run_callbacks(n.success,n.data),this.queue[n.id]=null):n.is_channel()?this.dispatch_channel(n):n.is_ping()?this.pong():this.dispatch(n),this.state==="connecting"&&n.name==="client_connected"?u.push(this.connection_established(n.data)):u.push(void 0);return u},t.prototype.connection_established=function(e){this.state="connected",this.connection_id=e.connection_id,this._conn.flush_queue(e.connection_id);if(this.on_open!=null)return this.on_open(e)},t.prototype.bind=function(e,t){var n,r;return(r=(n=this.callbacks)[e])==null&&(n[e]=[]),this.callbacks[e].push(t)},t.prototype.trigger=function(e,n,r,i){var s;return s=new t.Event([e,n,this.connection_id],r,i),this.queue[s.id]=s,this._conn.trigger(s)},t.prototype.trigger_event=function(e){var t,n,r;return(r=(t=this.queue)[n=e.id])==null&&(t[n]=e),this._conn.trigger(e)},t.prototype.dispatch=function(e){var t,n,r,i,s;if(this.callbacks[e.name]==null)return;i=this.callbacks[e.name],s=[];for(n=0,r=i.length;n<r;n++)t=i[n],s.push(t(e.data));return s},t.prototype.subscribe=function(e){var n;return this.channels[e]==null?(n=new t.Channel(e,this),this.channels[e]=n,n):this.channels[e]},t.prototype.subscribe_private=function(e){var n;return this.channels[e]==null?(n=new t.Channel(e,this,!0),this.channels[e]=n,n):this.channels[e]},t.prototype.dispatch_channel=function(e){if(this.channels[e.channel]==null)return;return this.channels[e.channel].dispatch(e.name,e.data)},t.prototype.supports_websockets=function(){return typeof WebSocket=="function"||typeof WebSocket=="object"},t.prototype.pong=function(){var e;return e=new t.Event(["websocket_rails.pong",{},this.connection_id]),this._conn.trigger(e)},t}()}).call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};WebSocketRails.Event=function(){function t(t,n,r){var i;this.success_callback=n,this.failure_callback=r,this.run_callbacks=e(this.run_callbacks,this),this.attributes=e(this.attributes,this),this.serialize=e(this.serialize,this),this.is_ping=e(this.is_ping,this),this.is_result=e(this.is_result,this),this.is_channel=e(this.is_channel,this),this.name=t[0],i=t[1],i!=null&&(this.id=i["id"]!=null?i.id:(1+Math.random())*65536|0,this.channel=i.channel!=null?i.channel:void 0,this.data=i.data!=null?i.data:i,this.connection_id=t[2],i.success!=null&&(this.result=!0,this.success=i.success))}return t.prototype.is_channel=function(){return this.channel!=null},t.prototype.is_result=function(){return this.result===!0},t.prototype.is_ping=function(){return this.name==="websocket_rails.ping"},t.prototype.serialize=function(){return JSON.stringify([this.name,this.attributes()])},t.prototype.attributes=function(){return{id:this.id,channel:this.channel,data:this.data}},t.prototype.run_callbacks=function(e,t){return e===!0?typeof this.success_callback=="function"?this.success_callback(t):void 0:typeof this.failure_callback=="function"?this.failure_callback(t):void 0},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};WebSocketRails.HttpConnection=function(){function t(t,n){this.url=t,this.dispatcher=n,this.flush_queue=e(this.flush_queue,this),this.trigger=e(this.trigger,this),this.parse_stream=e(this.parse_stream,this),this.createXMLHttpObject=e(this.createXMLHttpObject,this),this._conn=this.createXMLHttpObject(),this.last_pos=0,this.message_queue=[],this._conn.onreadystatechange=this.parse_stream,this._conn.open("GET","/websocket",!0),this._conn.send()}return t.prototype.httpFactories=function(){return[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}]},t.prototype.createXMLHttpObject=function(){var e,t,n,r,i;n=!1,e=this.httpFactories();for(r=0,i=e.length;r<i;r++){t=e[r];try{n=t()}catch(s){continue}break}return n},t.prototype.parse_stream=function(){var e,t;if(this._conn.readyState===3)return e=this._conn.responseText.substring(this.last_pos),this.last_pos=this._conn.responseText.length,e=e.replace(/\]\]\[\[/g,"],["),t=JSON.parse(e),this.dispatcher.new_message(t)},t.prototype.trigger=function(e){return this.dispatcher.state!=="connected"?this.message_queue.push(e):this.post_data(this.dispatcher.connection_id,e.serialize())},t.prototype.post_data=function(e,t){return $.ajax("/websocket",{type:"POST",data:{client_id:e,data:t},success:function(){}})},t.prototype.flush_queue=function(e){var t,n,r,i;i=this.message_queue;for(n=0,r=i.length;n<r;n++)t=i[n],e!=null&&(t.connection_id=this.dispatcher.connection_id),this.trigger(t);return this.message_queue=[]},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};WebSocketRails.WebSocketConnection=function(){function t(t,n){this.url=t,this.dispatcher=n,this.flush_queue=e(this.flush_queue,this),this.on_error=e(this.on_error,this),this.on_close=e(this.on_close,this),this.on_message=e(this.on_message,this),this.trigger=e(this.trigger,this),this.url.match(/^wss?:\/\//)||(this.url="ws://"+this.url),this.message_queue=[],this._conn=new WebSocket(this.url),this._conn.onmessage=this.on_message,this._conn.onclose=this.on_close,this._conn.onerror=this.on_error}return t.prototype.trigger=function(e){return this.dispatcher.state!=="connected"?this.message_queue.push(e):this._conn.send(e.serialize())},t.prototype.on_message=function(e){var t;return t=JSON.parse(e.data),this.dispatcher.new_message(t)},t.prototype.on_close=function(e){var t;return t=new WebSocketRails.Event(["connection_closed",{}]),this.dispatcher.dispatch(t)},t.prototype.on_error=function(e){var t;return t=new WebSocketRails.Event(["connection_error",e!=null?e.data:void 0]),this.dispatcher.dispatch(t)},t.prototype.flush_queue=function(){var e,t,n,r;r=this.message_queue;for(t=0,n=r.length;t<n;t++)e=r[t],this._conn.send(e.serialize());return this.message_queue=[]},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};WebSocketRails.Channel=function(){function t(t,n,r){var i,s;this.name=t,this._dispatcher=n,this.is_private=r,this._failure_launcher=e(this._failure_launcher,this),this._success_launcher=e(this._success_launcher,this),this.dispatch=e(this.dispatch,this),this.trigger=e(this.trigger,this),this.bind=e(this.bind,this),this.is_private?s="websocket_rails.subscribe_private":s="websocket_rails.subscribe",i=new WebSocketRails.Event([s,{data:{channel:this.name}},this._dispatcher.connection_id],this._success_launcher,this._failure_launcher),this._dispatcher.trigger_event(i),this._callbacks={}}return t.prototype.bind=function(e,t){var n,r;return(r=(n=this._callbacks)[e])==null&&(n[e]=[]),this._callbacks[e].push(t)},t.prototype.trigger=function(e,t){var n;return n=new WebSocketRails.Event([e,{channel:this.name,data:t},this._dispatcher.connection_id]),this._dispatcher.trigger_event(n)},t.prototype.dispatch=function(e,t){var n,r,i,s,o;if(this._callbacks[e]==null)return;s=this._callbacks[e],o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(n(t));return o},t.prototype._success_launcher=function(e){if(this.on_success!=null)return this.on_success(e)},t.prototype._failure_launcher=function(e){if(this.on_failure!=null)return this.on_failure(e)},t}()}.call(this);var Ext=Ext||{};Ext._startTime=(new Date).getTime(),function(){var e=this,t=Object.prototype,n=t.toString,r=!0,i={toString:1},s=function(){},o=function(){var e=o.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},u;Ext.global=e;for(u in i)r=null;r&&(r=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]),Ext.enumerables=r,Ext.apply=function(e,t,n){n&&Ext.apply(e,n);if(e&&t&&typeof t=="object"){var i,s,o;for(i in t)e[i]=t[i];if(r)for(s=r.length;s--;)o=r[s],t.hasOwnProperty(o)&&(e[o]=t[o])}return e},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-",scopeResetCSS:!1},Ext.buildSettings||{}),Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:s,emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(e,t){var n;if(e)for(n in t)e[n]===undefined&&(e[n]=t[n]);return e},iterate:function(e,t,n){if(Ext.isEmpty(e))return;n===undefined&&(n=e),Ext.isIterable(e)?Ext.Array.each.call(Ext.Array,e,t,n):Ext.Object.each.call(Ext.Object,e,t,n)}}),Ext.apply(Ext,{extend:function(){var e=t.constructor,n=function(e){for(var t in e){if(!e.hasOwnProperty(t))continue;this[t]=e[t]}};return function(t,r,i){Ext.isObject(r)&&(i=r,r=t,t=i.constructor!==e?i.constructor:function(){r.apply(this,arguments)});var s=function(){},o,u=r.prototype;return s.prototype=u,o=t.prototype=new s,o.constructor=t,t.superclass=u,u.constructor===e&&(u.constructor=r),t.override=function(e){Ext.override(t,e)},o.override=n,o.proto=o,t.override(i),t.extend=function(e){return Ext.extend(t,e)},t}}(),override:function(e,t){if(e.$isClass)e.override(t);else if(typeof e=="function")Ext.apply(e.prototype,t);else{var n=e.self,r,i;if(n&&n.$isClass)for(r in t)t.hasOwnProperty(r)&&(i=t[r],typeof i=="function"&&(i.$name=r,i.$owner=n,i.$previous=e.hasOwnProperty(r)?e[r]:o),e[r]=i);else Ext.apply(e,t)}return e}}),Ext.apply(Ext,{valueFrom:function(e,t,n){return Ext.isEmpty(e,n)?t:e},typeOf:function(e){var t,r;if(e===null)return"null";t=typeof e;if(t==="undefined"||t==="string"||t==="number"||t==="boolean")return t;r=n.call(e);switch(r){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}if(t==="function")return"function";if(t==="object")return e.nodeType!==undefined?e.nodeType===3?/\S/.test(e.nodeValue)?"textnode":"whitespace":"element":"object"},isEmpty:function(e,t){return e===null||e===undefined||(t?!1:e==="")||Ext.isArray(e)&&e.length===0},isArray:"isArray"in Array?Array.isArray:function(e){return n.call(e)==="[object Array]"},isDate:function(e){return n.call(e)==="[object Date]"},isObject:n.call(null)==="[object Object]"?function(e){return e!==null&&e!==undefined&&n.call(e)==="[object Object]"&&e.ownerDocument===undefined}:function(e){return n.call(e)==="[object Object]"},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){var t=typeof e;return t==="string"||t==="number"||t==="boolean"},isFunction:typeof document!="undefined"&&typeof document.getElementsByTagName("body")=="function"?function(e){return n.call(e)==="[object Function]"}:function(e){return typeof e=="function"},isNumber:function(e){return typeof e=="number"&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return typeof e=="string"},isBoolean:function(e){return typeof e=="boolean"},isElement:function(e){return e?e.nodeType===1:!1},isTextNode:function(e){return e?e.nodeName==="#text":!1},isDefined:function(e){return typeof e!="undefined"},isIterable:function(e){var t=typeof e,n=!1;return e&&t!="string"&&(t=="function"?Ext.isSafari&&(n=e instanceof NodeList||e instanceof HTMLCollection):n=!0),n?e.length!==undefined:!1}}),Ext.apply(Ext,{clone:function(e){var t,i,s,o,u,a;if(e===null||e===undefined)return e;if(e.nodeType&&e.cloneNode)return e.cloneNode(!0);t=n.call(e);if(t==="[object Date]")return new Date(e.getTime());if(t==="[object Array]"){i=e.length,u=[];while(i--)u[i]=Ext.clone(e[i])}else if(t==="[object Object]"&&e.constructor===Object){u={};for(a in e)u[a]=Ext.clone(e[a]);if(r)for(s=r.length;s--;)o=r[s],u[o]=e[o]}return u||e},getUniqueGlobalNamespace:function(){var e=this.uniqueGlobalNamespace,t;if(e===undefined){t=0;do e="ExtBox"+ ++t;while(Ext.global[e]!==undefined);Ext.global[e]=Ext,this.uniqueGlobalNamespace=e}return e},functionFactoryCache:{},cacheableFunctionFactory:function(){var e=this,t=Array.prototype.slice.call(arguments),n=e.functionFactoryCache,r,i,s;return Ext.isSandboxed&&(s=t.length,s>0&&(s--,t[s]="var Ext=window."+Ext.name+";"+t[s])),r=t.join(""),i=n[r],i||(i=Function.prototype.constructor.apply(Function.prototype,t),n[r]=i),i},functionFactory:function(){var e=this,t=Array.prototype.slice.call(arguments),n;return Ext.isSandboxed&&(n=t.length,n>0&&(n--,t[n]="var Ext=window."+Ext.name+";"+t[n])),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{verbose:s,log:s,info:s,warn:s,error:function(e){throw new Error(e)},deprecate:s}}),Ext.type=Ext.typeOf}(),Ext.globalEval=Ext.global.execScript?function(e){execScript(e)}:function($$code){(function(){eval($$code)})()},function(){var e="4.1.1.1",t;Ext.Version=t=Ext.extend(Object,{constructor:function(e){var n,r;return e instanceof t?e:(this.version=this.shortVersion=String(e).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,""),r=this.version.search(/([^\d\.])/),r!==-1&&(this.release=this.version.substr(r,e.length),this.shortVersion=this.version.substr(0,r)),this.shortVersion=this.shortVersion.replace(/[^\d]/g,""),n=this.version.split("."),this.major=parseInt(n.shift()||0,10),this.minor=parseInt(n.shift()||0,10),this.patch=parseInt(n.shift()||0,10),this.build=parseInt(n.shift()||0,10),this)},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(e){return t.compare(this.version,e)===1},isGreaterThanOrEqual:function(e){return t.compare(this.version,e)>=0},isLessThan:function(e){return t.compare(this.version,e)===-1},isLessThanOrEqual:function(e){return t.compare(this.version,e)<=0},equals:function(e){return t.compare(this.version,e)===0},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}}),Ext.apply(t,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(e,n){var r,i,s;e=(new t(e)).toArray(),n=(new t(n)).toArray();for(s=0;s<Math.max(e.length,n.length);s++){r=this.getComponentValue(e[s]),i=this.getComponentValue(n[s]);if(r<i)return-1;if(r>i)return 1}return 0}}),Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(e,n){return Ext.versions[e]=new t(n),Ext.lastRegisteredVersion=Ext.versions[e],this},getVersion:function(e){return e===undefined?Ext.lastRegisteredVersion:Ext.versions[e]},deprecate:function(e,n,r,i){t.compare(Ext.getVersion(e),n)<1&&r.call(i)}}),Ext.setVersion("core",e)}(),Ext.String=function(){var e=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,t=/('|\\)/g,n=/\{(\d+)\}/g,r=/([-.*+?\^${}()|\[\]\/\\])/g,i=/^\s+|\s+$/g,s=/\s+/,o=/(^[^a-z]*|[^\w])/gi,u,a,f,l,c=function(e,t){return u[t]},h=function(e,t){return t in a?a[t]:String.fromCharCode(parseInt(t.substr(2),10))};return{createVarName:function(e){return e.replace(o,"")},htmlEncode:function(e){return e?String(e).replace(f,c):e},htmlDecode:function(e){return e?String(e).replace(l,h):e},addCharacterEntities:function(e){var t=[],n=[],r,i;for(r in e)i=e[r],a[r]=i,u[i]=r,t.push(i),n.push(r);f=new RegExp("("+t.join("|")+")","g"),l=new RegExp("("+n.join("|")+"|&#[0-9]{1,5};"+")","g")},resetCharacterEntities:function(){u={},a={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(e.indexOf("?")===-1?"?":"&")+t},trim:function(t){return t.replace(e,"")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1)},uncapitalize:function(e){return e.charAt(0).toLowerCase()+e.substr(1)},ellipsis:function(e,t,n){if(e&&e.length>t){if(n){var r=e.substr(0,t-2),i=Math.max(r.lastIndexOf(" "),r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"));if(i!==-1&&i>=t-15)return r.substr(0,i)+"..."}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(r,"\\$1")},escape:function(e){return e.replace(t,"\\$1")},toggle:function(e,t,n){return e===t?n:t},leftPad:function(e,t,n){var r=String(e);n=n||" ";while(r.length<t)r=n+r;return r},format:function(e){var t=Ext.Array.toArray(arguments,1);return e.replace(n,function(e,n){return t[n]})},repeat:function(e,t,n){for(var r=[],i=t;i--;)r.push(e);return r.join(n||"")},splitWords:function(e){return e&&typeof e=="string"?e.replace(i,"").split(s):e||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Number=new function(){var e=this,t=.9.toFixed()!=="1",n=Math;Ext.apply(this,{constrain:function(e,t,n){var r=parseFloat(e);return r<t?t:r>n?n:r},snap:function(t,n,r,i){var s;return t===undefined||t<r?r||0:(n&&(s=t%n,s!==0&&(t-=s,s*2>=n?t+=n:s*2<-n&&(t-=n))),e.constrain(t,r,i))},snapInRange:function(t,n,r,i){var s;return r=r||0,t===undefined||t<r?r:(n&&(s=(t-r)%n)&&(t-=s,s*=2,s>=n&&(t+=n)),i!==undefined&&t>(i=e.snapInRange(i,n,r))&&(t=i),t)},toFixed:t?function(e,t){t=t||0;var r=n.pow(10,t);return(n.round(e*r)/r).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)}}),Ext.num=function(){return e.from.apply(this,arguments)}},function(){function m(e,t){return t<0?Math.max(0,e.length+t):Math.min(e.length,t)}function g(e,t,n,r){var i=r?r.length:0,s=e.length,o=m(e,t),u,a,f,l,c,h;if(o===s)i&&e.push.apply(e,r);else{u=Math.min(n,s-o),a=o+u,f=a+i-u,l=s-a,c=s-u;if(f<a)for(h=0;h<l;++h)e[f+h]=e[a+h];else if(f>a)for(h=l;h--;)e[f+h]=e[a+h];if(i&&o===c)e.length=c,e.push.apply(e,r);else{e.length=c+i;for(h=0;h<i;++h)e[o+h]=r[h]}}return e}function y(e,t,n,r){return r&&r.length?t<e.length?e.splice.apply(e,[t,n].concat(r)):e.push.apply(e,r):e.splice(t,n),e}function b(e,t,n){return g(e,t,n)}function w(e,t,n){return e.splice(t,n),e}function E(e,n,r){var i=m(e,n),s=e.slice(n,m(e,i+r));return arguments.length<4?g(e,i,r):g(e,i,r,t.call(arguments,3)),s}function S(e){return e.splice.apply(e,t.call(arguments,1))}var e=Array.prototype,t=e.slice,n=function(){var e=[],t,n=20;if(!e.splice)return!1;while(n--)e.push("A");return e.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),t=e.length,e.splice(13,0,"XXX"),t+1!=e.length?!1:!0}(),r="forEach"in e,i="map"in e,s="indexOf"in e,o="every"in e,u="some"in e,a="filter"in e,f=function(){var e=[1,2,3,4,5].sort(function(){return 0});return e[0]===1&&e[1]===2&&e[2]===3&&e[3]===4&&e[4]===5}(),l=!0,c,h,p,d;try{typeof document!="undefined"&&t.call(document.getElementsByTagName("body"))}catch(v){l=!1}h=n?w:b,p=n?y:g,d=n?S:E,c=Ext.Array={each:function(e,t,n,r){e=c.from(e);var i,s=e.length;if(r!==!0){for(i=0;i<s;i++)if(t.call(n||e[i],e[i],i,e)===!1)return i}else for(i=s-1;i>-1;i--)if(t.call(n||e[i],e[i],i,e)===!1)return i;return!0},forEach:r?function(e,t,n){return e.forEach(t,n)}:function(e,t,n){var r=0,i=e.length;for(;r<i;r++)t.call(n,e[r],r,e)},indexOf:s?function(e,t,n){return e.indexOf(t,n)}:function(e,t,n){var r,i=e.length;for(r=n<0?Math.max(0,i+n):n||0;r<i;r++)if(e[r]===t)return r;return-1},contains:s?function(e,t){return e.indexOf(t)!==-1}:function(e,t){var n,r;for(n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1},toArray:function(e,n,r){if(!e||!e.length)return[];typeof e=="string"&&(e=e.split(""));if(l)return t.call(e,n||0,r||e.length);var i=[],s;n=n||0,r=r?r<0?e.length+r:r:e.length;for(s=n;s<r;s++)i.push(e[s]);return i},pluck:function(e,t){var n=[],r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],n.push(s[t]);return n},map:i?function(e,t,n){return e.map(t,n)}:function(e,t,n){var r=[],i=0,s=e.length;for(;i<s;i++)r[i]=t.call(n,e[i],i,e);return r},every:o?function(e,t,n){return e.every(t,n)}:function(e,t,n){var r=0,i=e.length;for(;r<i;++r)if(!t.call(n,e[r],r,e))return!1;return!0},some:u?function(e,t,n){return e.some(t,n)}:function(e,t,n){var r=0,i=e.length;for(;r<i;++r)if(t.call(n,e[r],r,e))return!0;return!1},clean:function(e){var t=[],n=0,r=e.length,i;for(;n<r;n++)i=e[n],Ext.isEmpty(i)||t.push(i);return t},unique:function(e){var t=[],n=0,r=e.length,i;for(;n<r;n++)i=e[n],c.indexOf(t,i)===-1&&t.push(i);return t},filter:a?function(e,t,n){return e.filter(t,n)}:function(e,t,n){var r=[],i=0,s=e.length;for(;i<s;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r},from:function(e,n){if(e===undefined||e===null)return[];if(Ext.isArray(e))return n?t.call(e):e;var r=typeof e;return e&&e.length!==undefined&&r!=="string"&&(r!=="function"||!e.apply)?c.toArray(e):[e]},remove:function(e,t){var n=c.indexOf(e,t);return n!==-1&&h(e,n,1),e},include:function(e,t){c.contains(e,t)||e.push(t)},clone:function(e){return t.call(e)},merge:function(){var e=t.call(arguments),n=[],r,i;for(r=0,i=e.length;r<i;r++)n=n.concat(e[r]);return c.unique(n)},intersect:function(){var e=[],n=t.call(arguments),r,i,s,o,u,a,f,l,p,d,v,m,g;if(!n.length)return e;r=n.length;for(v=u=0;v<r;v++){a=n[v];if(!o||a.length<o.length)o=a,u=v}o=c.unique(o),h(n,u,1),f=o.length,r=n.length;for(v=0;v<f;v++){l=o[v],d=0;for(m=0;m<r;m++){i=n[m],s=i.length;for(g=0;g<s;g++){p=i[g];if(l===p){d++;break}}}d===r&&e.push(l)}return e},difference:function(e,n){var r=t.call(e),i=r.length,s,o,u;for(s=0,u=n.length;s<u;s++)for(o=0;o<i;o++)r[o]===n[s]&&(h(r,o,1),o--,i--);return r},slice:[1,2].slice(1,undefined).length?function(e,n,r){return t.call(e,n,r)}:function(e,n,r){return typeof n=="undefined"?t.call(e):typeof r=="undefined"?t.call(e,n):t.call(e,n,r)},sort:f?function(e,t){return t?e.sort(t):e.sort()}:function(e,t){var n=e.length,r=0,i,s,o,u;for(;r<n;r++){o=r;for(s=r+1;s<n;s++)t?(i=t(e[s],e[o]),i<0&&(o=s)):e[s]<e[o]&&(o=s);o!==r&&(u=e[r],e[r]=e[o],e[o]=u)}return e},flatten:function(e){function n(e){var r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],Ext.isArray(s)?n(s):t.push(s);return t}var t=[];return n(e)},min:function(e,t){var n=e[0],r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],t?t(n,s)===1&&(n=s):s<n&&(n=s);return n},max:function(e,t){var n=e[0],r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],t?t(n,s)===-1&&(n=s):s>n&&(n=s);return n},mean:function(e){return e.length>0?c.sum(e)/e.length:undefined},sum:function(e){var t=0,n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],t+=i;return t},toMap:function(e,t,n){var r={},i=e.length;if(!t)while(i--)r[e[i]]=i+1;else if(typeof t=="string")while(i--)r[e[i][t]]=i+1;else while(i--)r[t.call(n,e[i])]=i+1;return r},erase:h,insert:function(e,t,n){return p(e,t,0,n)},replace:p,splice:d,push:function(e){var t=arguments.length,n=1,r;e===undefined?e=[]:Ext.isArray(e)||(e=[e]);for(;n<t;n++)r=arguments[n],Array.prototype.push[Ext.isArray(r)?"apply":"call"](e,r);return e}},Ext.each=c.each,c.union=c.merge,Ext.min=c.min,Ext.max=c.max,Ext.sum=c.sum,Ext.mean=c.mean,Ext.flatten=c.flatten,Ext.clean=c.clean,Ext.unique=c.unique,Ext.pluck=c.pluck,Ext.toArray=function(){return c.toArray.apply(c,arguments)}}(),Ext.Function={flexSetter:function(e){return function(t,n){var r,i;if(t===null)return this;if(typeof t!="string"){for(r in t)t.hasOwnProperty(r)&&e.call(this,r,t[r]);if(Ext.enumerables)for(i=Ext.enumerables.length;i--;)r=Ext.enumerables[i],t.hasOwnProperty(r)&&e.call(this,r,t[r])}else e.call(this,t,n);return this}},bind:function(e,t,n,r){if(arguments.length===2)return function(){return e.apply(t,arguments)};var i=e,s=Array.prototype.slice;return function(){var e=n||arguments;return r===!0?(e=s.call(arguments,0),e=e.concat(n)):typeof r=="number"&&(e=s.call(arguments,0),Ext.Array.insert(e,r,n)),i.apply(t||Ext.global,e)}},pass:function(e,t,n){return Ext.isArray(t)||(Ext.isIterable(t)?t=Ext.Array.clone(t):t=t!==undefined?[t]:[]),function(){var r=[].concat(t);return r.push.apply(r,arguments),e.apply(n||this,r)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(e,t,n,r){var i=e;return Ext.isFunction(t)?function(){var i=this,s=arguments;return t.target=i,t.method=e,t.apply(n||i||Ext.global,s)!==!1?e.apply(i||Ext.global,s):r||null}:e},createDelayed:function(e,t,n,r,i){if(n||r)e=Ext.Function.bind(e,n,r,i);return function(){var n=this,r=Array.prototype.slice.call(arguments);setTimeout(function(){e.apply(n,r)},t)}},defer:function(e,t,n,r,i){return e=Ext.Function.bind(e,n,r,i),t>0?setTimeout(Ext.supports.TimeoutActualLateness?function(){e()}:e,t):(e(),0)},createSequence:function(e,t,n){return t?function(){var r=e.apply(this,arguments);return t.apply(n||this,arguments),r}:e},createBuffered:function(e,t,n,r){var i;return function(){var s=r||Array.prototype.slice.call(arguments,0),o=n||this;i&&clearTimeout(i),i=setTimeout(function(){e.apply(o,s)},t)}},createThrottled:function(e,t,n){var r,i,s,o,u=function(){e.apply(n||this,s),r=(new Date).getTime()};return function(){i=(new Date).getTime()-r,s=arguments,clearTimeout(o),!r||i>=t?u():o=setTimeout(u,t-i)}},interceptBefore:function(e,t,n,r){var i=e[t]||Ext.emptyFn;return e[t]=function(){var e=n.apply(r||this,arguments);return i.apply(this,arguments),e}},interceptAfter:function(e,t,n,r){var i=e[t]||Ext.emptyFn;return e[t]=function(){return i.apply(this,arguments),n.apply(r||this,arguments)}}},Ext.defer=Ext.Function.alias(Ext.Function,"defer"),Ext.pass=Ext.Function.alias(Ext.Function,"pass"),Ext.bind=Ext.Function.alias(Ext.Function,"bind"),function(){var e=function(){},t=Ext.Object={chain:function(t){e.prototype=t;var n=new e;return e.prototype=null,n},toQueryObjects:function(e,n,r){var i=t.toQueryObjects,s=[],o,u;if(Ext.isArray(n))for(o=0,u=n.length;o<u;o++)r?s=s.concat(i(e+"["+o+"]",n[o],!0)):s.push({name:e,value:n[o]});else if(Ext.isObject(n))for(o in n)n.hasOwnProperty(o)&&(r?s=s.concat(i(e+"["+o+"]",n[o],!0)):s.push({name:e,value:n[o]}));else s.push({name:e,value:n});return s},toQueryString:function(e,n){var r=[],i=[],s,o,u,a,f;for(s in e)e.hasOwnProperty(s)&&(r=r.concat(t.toQueryObjects(s,e[s],n)));for(o=0,u=r.length;o<u;o++)a=r[o],f=a.value,Ext.isEmpty(f)?f="":Ext.isDate(f)&&(f=Ext.Date.toString(f)),i.push(encodeURIComponent(a.name)+"="+encodeURIComponent(String(f)));return i.join("&")},fromQueryString:function(e,t){var n=e.replace(/^\?/,"").split("&"),r={},i,s,o,u,a,f,l,c,h,p,d,v,m,g;for(a=0,f=n.length;a<f;a++){l=n[a];if(l.length>0){s=l.split("="),o=decodeURIComponent(s[0]),u=s[1]!==undefined?decodeURIComponent(s[1]):"";if(!t)r.hasOwnProperty(o)?(Ext.isArray(r[o])||(r[o]=[r[o]]),r[o].push(u)):r[o]=u;else{p=o.match(/(\[):?([^\]]*)\]/g),d=o.match(/^([^\[]+)/),o=d[0],v=[];if(p===null){r[o]=u;continue}for(c=0,h=p.length;c<h;c++)m=p[c],m=m.length===2?"":m.substring(1,m.length-1),v.push(m);v.unshift(o),i=r;for(c=0,h=v.length;c<h;c++){m=v[c];if(c===h-1)Ext.isArray(i)&&m===""?i.push(u):i[m]=u;else{if(i[m]===undefined||typeof i[m]=="string")g=v[c+1],i[m]=Ext.isNumeric(g)||g===""?[]:{};i=i[m]}}}}}return r},each:function(e,t,n){for(var r in e)if(e.hasOwnProperty(r)&&t.call(n||e,r,e[r],e)===!1)return},merge:function(e){var n=1,r=arguments.length,i=t.merge,s=Ext.clone,o,u,a,f;for(;n<r;n++){o=arguments[n];for(u in o)a=o[u],a&&a.constructor===Object?(f=e[u],f&&f.constructor===Object?i(f,a):e[u]=s(a)):e[u]=a}return e},mergeIf:function(e){var t=1,n=arguments.length,r=Ext.clone,i,s,o;for(;t<n;t++){i=arguments[t];for(s in i)s in e||(o=i[s],o&&o.constructor===Object?e[s]=r(o):e[s]=o)}return e},getKey:function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n;return null},getValues:function(e){var t=[],n;for(n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},getKeys:typeof Object.keys=="function"?function(e){return e?Object.keys(e):[]}:function(e){var t=[],n;for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},getSize:function(e){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t},classify:function(e){var n=e,r=[],i={},s=function(){var e=0,t=r.length,n;for(;e<t;e++)n=r[e],this[n]=new i[n]},o,u;for(o in e)e.hasOwnProperty(o)&&(u=e[o],u&&u.constructor===Object&&(r.push(o),i[o]=t.classify(u)));return s.prototype=n,s}};Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf,Ext.urlEncode=function(){var e=Ext.Array.from(arguments),n="";return typeof e[1]=="string"&&(n=e[1]+"&",e[1]=!1),n+t.toQueryString.apply(t,e)},Ext.urlDecode=function(){return t.fromQueryString.apply(t,arguments)}}(),function(){function e(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/\{(\d+)\}/g,function(e,n){return t[n]})}Ext.Date={now:Date.now||function(){return+(new Date)},toString:function(e){var t=Ext.String.leftPad;return e.getFullYear()+"-"+t(e.getMonth()+1,2,"0")+"-"+t(e.getDate(),2,"0")+"T"+t(e.getHours(),2,"0")+":"+t(e.getMinutes(),2,"0")+":"+t(e.getSeconds(),2,"0")},getElapsed:function(e,t){return Math.abs(e-(t||new Date))},useStrict:!1,formatCodeToRegex:function(n,r){var i=t.parseCodes[n];return i&&(i=typeof i=="function"?i():i,t.parseCodes[n]=i),i?Ext.applyIf({c:i.c?e(i.c,r||"{0}"):i.c},i):{g:0,c:null,s:Ext.String.escapeRegex(n)}},parseFunctions:{MS:function(e,t){var n=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),r=(e||"").match(n);return r?new Date(((r[1]||"")+r[2])*1):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(e){return Ext.Date.monthNames[e].substring(0,3)},getShortDayName:function(e){return Ext.Date.dayNames[e].substring(0,3)},getMonthNumber:function(e){return Ext.Date.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(){var e=/(\\.)/g,t=/([gGhHisucUOPZ]|MS)/;return function(n){return t.test(n.replace(e,""))}}(),formatContainsDateInfo:function(){var e=/(\\.)/g,t=/([djzmnYycU]|MS)/;return function(n){return t.test(n.replace(e,""))}}(),unescapeFormat:function(){var e=/\\/gi;return function(t){return t.replace(e,"")}}(),formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')"
,M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var e,n,r,i,s;for(e="Y-m-dTH:i:sP",n=[],r=0,i=e.length;r<i;++r)s=e.charAt(r),n.push(s=="T"?"'T'":t.getFormatCode(s));return n.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(e,n,r,i,s,o,u){i=i||0,s=s||0,o=o||0,u=u||0;var a=t.add(new Date(e<100?100:e,n-1,r,i,s,o,u),t.YEAR,e<100?e-100:0);return e==a.getFullYear()&&n==a.getMonth()+1&&r==a.getDate()&&i==a.getHours()&&s==a.getMinutes()&&o==a.getSeconds()&&u==a.getMilliseconds()},parse:function(e,n,r){var i=t.parseFunctions;return i[n]==null&&t.createParser(n),i[n](e,Ext.isDefined(r)?r:t.useStrict)},parseDate:function(e,n,r){return t.parse(e,n,r)},getFormatCode:function(e){var n=t.formatCodes[e];return n&&(n=typeof n=="function"?n():n,t.formatCodes[e]=n),n||"'"+Ext.String.escape(e)+"'"},createFormat:function(e){var n=[],r=!1,i="",s;for(s=0;s<e.length;++s)i=e.charAt(s),!r&&i=="\\"?r=!0:r?(r=!1,n.push("'"+Ext.String.escape(i)+"'")):n.push(t.getFormatCode(i));t.formatFunctions[e]=Ext.functionFactory("return "+n.join("+"))},createParser:function(){var n=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Ext.Date.defaults,","results = String(input).match(Ext.Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = Ext.Date.clearTime(new Date);","y = Ext.Number.from(y, Ext.Number.from(def.y, dt.getFullYear()));","m = Ext.Number.from(m, Ext.Number.from(def.m - 1, dt.getMonth()));","d = Ext.Number.from(d, Ext.Number.from(def.d, dt.getDate()));","h  = Ext.Number.from(h, Ext.Number.from(def.h, dt.getHours()));","i  = Ext.Number.from(i, Ext.Number.from(def.i, dt.getMinutes()));","s  = Ext.Number.from(s, Ext.Number.from(def.s, dt.getSeconds()));","ms = Ext.Number.from(ms, Ext.Number.from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = Ext.Date.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (Ext.Date.isLeapYear(v) && z <= 365))? Ext.Date.add(v, Ext.Date.DAY, z) : null);","}else if(strict === true && !Ext.Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = Ext.Date.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), Ext.Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = Ext.Date.add(v, Ext.Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = Ext.Date.add(v, Ext.Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(r){var i=t.parseRegexes.length,s=1,o=[],u=[],a=!1,f="",l=0,c=r.length,h=[],p;for(;l<c;++l)f=r.charAt(l),!a&&f=="\\"?a=!0:a?(a=!1,u.push(Ext.String.escape(f))):(p=t.formatCodeToRegex(f,s),s+=p.g,u.push(p.s),p.g&&p.c&&(p.calcAtEnd?h.push(p.c):o.push(p.c)));o=o.concat(h),t.parseRegexes[i]=new RegExp("^"+u.join("")+"$","i"),t.parseFunctions[r]=Ext.functionFactory("input","strict",e(n,i,o.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var e=[],n=0;n<7;e.push(t.getShortDayName(n)),++n);return{g:0,c:null,s:"(?:"+e.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+t.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Ext.Date.getMonthNumber(results[{0}]), 10);\n",s:"("+t.monthNames.join("|")+")"}},M:function(){for(var e=[],n=0;n<12;e.push(t.getShortMonthName(n)),++n);return Ext.applyIf({s:"("+e.join("|")+")"},t.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return t.formatCodeToRegex("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Ext.Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e=[],n=[t.formatCodeToRegex("Y",1),t.formatCodeToRegex("m",2),t.formatCodeToRegex("d",3),t.formatCodeToRegex("H",4),t.formatCodeToRegex("i",5),t.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",t.formatCodeToRegex("P",8).c,"}else{",t.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],r,i;for(r=0,i=n.length;r<i;++r)e.push(n[r].c);return{g:1,c:e.join(""),s:[n[0].s,"(?:","-",n[1].s,"(?:","-",n[2].s,"(?:","(?:T| )?",n[3].s,":",n[4].s,"(?::",n[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(e,n){return t.format(e,n)},isEqual:function(e,t){return e&&t?e.getTime()===t.getTime():!e&&!t},format:function(e,n){var r=t.formatFunctions;return Ext.isDate(e)?(r[n]==null&&t.createFormat(n),r[n].call(e)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){var n=e.getTimezoneOffset();return(n>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(n)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(n%60),2,"0")},getDayOfYear:function(e){var n=0,r=Ext.Date.clone(e),i=e.getMonth(),s;for(s=0,r.setDate(1),r.setMonth(0);s<i;r.setMonth(++s))n+=t.getDaysInMonth(r);return n+e.getDate()-1},getWeekOfYear:function(){var e=864e5,t=7*e;return function(n){var r=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()+3)/e,i=Math.floor(r/7),s=(new Date(i*t)).getUTCFullYear();return i-Math.floor(Date.UTC(s,0,7)/t)+1}}(),isLeapYear:function(e){var t=e.getFullYear();return(t&3)==0&&!!(t%100||t%400==0&&t)},getFirstDayOfMonth:function(e){var t=(e.getDay()-(e.getDate()-1))%7;return t<0?t+7:t},getLastDayOfMonth:function(e){return t.getLastDateOfMonth(e).getDay()},getFirstDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(e){return new Date(e.getFullYear(),e.getMonth(),t.getDaysInMonth(e))},getDaysInMonth:function(){var e=[31,28,31,30,31,30,31,31,30,31,30,31];return function(n){var r=n.getMonth();return r==1&&t.isLeapYear(n)?29:e[r]}}(),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new Date(e.getTime())},isDST:function(e){return(new Date(e.getFullYear(),0,1)).getTimezoneOffset()!=e.getTimezoneOffset()},clearTime:function(e,n){if(n)return Ext.Date.clearTime(Ext.Date.clone(e));var r=e.getDate(),i,s;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);if(e.getDate()!=r){for(i=1,s=t.add(e,Ext.Date.HOUR,i);s.getDate()!=r;i++,s=t.add(e,Ext.Date.HOUR,i));e.setDate(r),e.setHours(s.getHours())}return e},add:function(e,t,n){var r=Ext.Date.clone(e),i=Ext.Date,s;if(!t||n===0)return r;switch(t.toLowerCase()){case Ext.Date.MILLI:r.setMilliseconds(r.getMilliseconds()+n);break;case Ext.Date.SECOND:r.setSeconds(r.getSeconds()+n);break;case Ext.Date.MINUTE:r.setMinutes(r.getMinutes()+n);break;case Ext.Date.HOUR:r.setHours(r.getHours()+n);break;case Ext.Date.DAY:r.setDate(r.getDate()+n);break;case Ext.Date.MONTH:s=e.getDate(),s>28&&(s=Math.min(s,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.MONTH,n)).getDate())),r.setDate(s),r.setMonth(e.getMonth()+n);break;case Ext.Date.YEAR:s=e.getDate(),s>28&&(s=Math.min(s,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(e),Ext.Date.YEAR,n)).getDate())),r.setDate(s),r.setFullYear(e.getFullYear()+n)}return r},between:function(e,t,n){var r=e.getTime();return t.getTime()<=r&&r<=n.getTime()},compat:function(){var e=window.Date,n,r,i=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],s=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],o=i.length,u=s.length,a,f,l;for(l=0;l<o;l++)a=i[l],e[a]=t[a];for(n=0;n<u;n++)f=s[n],e.prototype[f]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),t[f].apply(t,e)}}};var t=Ext.Date}(),function(e){var t=[],n=function(){};Ext.apply(n,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(e){var t=e.prototype,n,r,i,s,o,u;r=this.prototype=Ext.Object.chain(t),r.self=this,this.superclass=r.superclass=t;if(!e.$isClass){n=Ext.Base.prototype;for(i in n)i in r&&(r[i]=n[i])}u=t.$inheritableStatics;if(u)for(i=0,s=u.length;i<s;i++)o=u[i],this.hasOwnProperty(o)||(this[o]=e[o]);e.$onExtended&&(this.$onExtended=e.$onExtended.slice()),r.config=new r.configClass,r.initConfigList=r.initConfigList.slice(),r.initConfigMap=Ext.clone(r.initConfigMap),r.configMap=Ext.Object.chain(r.configMap)},$onExtended:[],triggerExtended:function(){var e=this.$onExtended,t=e.length,n,r;if(t>0)for(n=0;n<t;n++)r=e[n],r.fn.apply(r.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addConfig:function(e,t){var n=this.prototype,r=Ext.Class.configNameCache,i=n.configMap,s=n.initConfigList,o=n.initConfigMap,u=n.config,a,f,l;for(f in e)e.hasOwnProperty(f)&&(i[f]||(i[f]=!0),l=e[f],a=r[f].initialized,!o[f]&&l!==null&&!n[a]&&(o[f]=!0,s.push(f)));t?Ext.merge(u,e):Ext.mergeIf(u,e),n.configClass=Ext.Object.classify(u)},addStatics:function(e){var t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n],typeof t=="function"&&!t.$isClass&&t!==Ext.emptyFn&&t!==Ext.identityFn&&(t.$owner=this,t.$name=n),this[n]=t);return this},addInheritableStatics:function(e){var t,n,r=this.prototype,i,s;t=r.$inheritableStatics,n=r.$hasInheritableStatics,t||(t=r.$inheritableStatics=[],n=r.$hasInheritableStatics={});for(i in e)e.hasOwnProperty(i)&&(s=e[i],this[i]=s,n[i]||(n[i]=!0,t.push(i)));return this},addMembers:function(e){var t=this.prototype,n=Ext.enumerables,r=[],i,s,o,u;for(o in e)r.push(o);n&&r.push.apply(r,n);for(i=0,s=r.length;i<s;i++)o=r[i],e.hasOwnProperty(o)&&(u=e[o],typeof u=="function"&&!u.$isClass&&u!==Ext.emptyFn&&(u.$owner=this,u.$name=o),t[o]=u);return this},addMember:function(e,t){return typeof t=="function"&&!t.$isClass&&t!==Ext.emptyFn&&(t.$owner=this,t.$name=e),this.prototype[e]=t,this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(e,t){var n=this.prototype,r=e.prototype,i,s,o,u,a;t=Ext.Array.from(t);for(i=0,s=t.length;i<s;i++)o=t[i],a=r[o],typeof a=="function"?(u=Ext.Function.clone(a),u.$owner=this,u.$name=o,n[o]=u):n[o]=a;return this},override:function(e){var t=this,n=Ext.enumerables,r=t.prototype,i=Ext.Function.clone,s,o,u,a,f,l;arguments.length===2&&(s=e,e={},e[s]=arguments[1],n=null);do{f=[],a=null;for(s in e)s=="statics"?a=e[s]:s=="config"?t.addConfig(e[s],!0):f.push(s);n&&f.push.apply(f,n);for(o=f.length;o--;)s=f[o],e.hasOwnProperty(s)&&(u=e[s],typeof u=="function"&&!u.$className&&u!==Ext.emptyFn&&(typeof u.$owner!="undefined"&&(u=i(u)),u.$owner=t,u.$name=s,l=r[s],l&&(u.$previous=l)),r[s]=u);r=t,e=a}while(e);return this},callParent:function(e){var n;return(n=this.callParent.caller)&&(n.$previous||(n=n.$owner?n:n.caller)&&n.$owner.superclass.self[n.$name]).apply(this,e||t)},callSuper:function(e){var n;return(n=this.callSuper.caller)&&((n=n.$owner?n:n.caller)&&n.$owner.superclass.self[n.$name]).apply(this,e||t)},mixin:function(e,t){var n=t.prototype,r=this.prototype,i;typeof n.onClassMixedIn!="undefined"&&n.onClassMixedIn.call(t,this),r.hasOwnProperty("mixins")||("mixins"in r?r.mixins=Ext.Object.chain(r.mixins):r.mixins={});for(i in n)i==="mixins"?Ext.merge(r.mixins,n[i]):typeof r[i]=="undefined"&&i!="mixinId"&&i!="config"&&(r[i]=n[i]);"config"in n&&this.addConfig(n.config,!1),r.mixins[e]=n},getName:function(){return Ext.getClassName(this)},createAlias:e(function(e,t){this.override(e,function(){return this[t].apply(this,arguments)})}),addXtype:function(e){var t=this.prototype,n=t.xtypesMap,r=t.xtypes,i=t.xtypesChain;return t.hasOwnProperty("xtypesMap")||(n=t.xtypesMap=Ext.merge({},t.xtypesMap||{}),r=t.xtypes=t.xtypes?[].concat(t.xtypes):[],i=t.xtypesChain=t.xtypesChain?[].concat(t.xtypesChain):[],t.xtype=e),n[e]||(n[e]=!0,r.push(e),i.push(e),Ext.ClassManager.setAlias(this,"widget."+e)),this}}),n.implement({isInstance:!0,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var e=this.statics.caller,t=this.self;return e?e.$owner:t},callParent:function(e){var n,r=(n=this.callParent.caller)&&(n.$previous||(n=n.$owner?n:n.caller)&&n.$owner.superclass[n.$name]);return r.apply(this,e||t)},callSuper:function(e){var n,r=(n=this.callSuper.caller)&&(n=n.$owner?n:n.caller)&&n.$owner.superclass[n.$name];return r.apply(this,e||t)},self:n,constructor:function(){return this},initConfig:function(e){var t=e,n=Ext.Class.configNameCache,r=new this.configClass,i=this.initConfigList,s=this.configMap,o,u,a,f,l;this.initConfig=Ext.emptyFn,this.initialConfig=t||{},this.config=e=t?Ext.merge(r,e):r;if(t){i=i.slice();for(f in t)s[f]&&t[f]!==null&&(i.push(f),this[n[f].initialized]=!1)}for(u=0,a=i.length;u<a;u++)f=i[u],o=n[f],l=o.initialized,this[l]||(this[l]=!0,this[o.set].call(this,e[f]));return this},hasConfig:function(e){return Boolean(this.configMap[e])},setConfig:function(e,t){if(!e)return this;var n=Ext.Class.configNameCache,r=this.config,i=this.configMap,s=this.initialConfig,o,u;t=Boolean(t);for(o in e){if(t&&s.hasOwnProperty(o))continue;u=e[o],r[o]=u,i[o]&&this[n[o].set](u)}return this},getConfig:function(e){var t=Ext.Class.configNameCache;return this[t[e].get]()},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},onConfigUpdate:function(e,t,n){var r=this.self,i,s,o,u,a,f;e=Ext.Array.from(e),n=n||this;for(i=0,s=e.length;i<s;i++)o=e[i],u="update"+Ext.String.capitalize(o),a=this[u]||Ext.emptyFn,f=function(){a.apply(this,arguments),n[t].apply(n,arguments)},f.$name=u,f.$owner=r,this[u]=f},destroy:function(){this.destroy=Ext.emptyFn}}),n.prototype.callOverridden=n.prototype.callParent,Ext.Base=n}(Ext.Function.flexSetter),function(){function s(e){function t(){return this.constructor.apply(this,arguments)||null}return t}var e,t=Ext.Base,n=[],r,i;for(r in t)t.hasOwnProperty(r)&&n.push(r);i=n.length,Ext.Class=e=function(t,n,r){return typeof t!="function"&&(r=n,n=t,t=null),n||(n={}),t=e.create(t,n),e.process(t,n,r),t},Ext.apply(e,{onBeforeCreated:function(e,t,n){e.addMembers(t),n.onCreated.call(e,e)},create:function(e,r){var o,u;e||(e=s());for(u=0;u<i;u++)o=n[u],e[o]=t[o];return e},process:function(t,n,r){var i=n.preprocessors||e.defaultPreprocessors,s=this.preprocessors,o={onBeforeCreated:this.onBeforeCreated},u=[],a,f,l,c,h,p,d,v;delete n.preprocessors;for(l=0,c=i.length;l<c;l++){a=i[l];if(typeof a=="string"){a=s[a],f=a.properties;if(f===!0)u.push(a.fn);else if(f)for(h=0,p=f.length;h<p;h++){d=f[h];if(n.hasOwnProperty(d)){u.push(a.fn);break}}}else u.push(a)}o.onCreated=r?r:Ext.emptyFn,o.preprocessors=u,this.doProcess(t,n,o)},doProcess:function(e,t,n){var r=this,i=n.preprocessors.shift();if(!i){n.onBeforeCreated.apply(r,arguments);return}i.call(r,e,t,n,r.doProcess)!==!1&&r.doProcess(e,t,n)},preprocessors:{},registerPreprocessor:function(e,t,n,r,i){return r||(r="last"),n||(n=[e]),this.preprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPreprocessorPosition(e,r,i),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=Ext.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,n){var r=this.defaultPreprocessors,i;if(typeof t=="string"){if(t==="first")return r.unshift(e),this;if(t==="last")return r.push(e),this;t=t==="after"?1:-1}return i=Ext.Array.indexOf(r,n),i!==-1&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this},configNameCache:{},getConfigNameMap:function(e){var t=this.configNameCache,n=t[e],r;return n||(r=e.charAt(0).toUpperCase()+e.substr(1),n=t[e]={internal:e,initialized:"_is"+r+"Initialized",apply:"apply"+r,update:"update"+r,set:"set"+r,get:"get"+r,doSet:"doSet"+r,changeEvent:e.toLowerCase()+"change"}),n}}),e.registerPreprocessor("extend",function(e,t){var n=Ext.Base,r=n.prototype,i=t.extend,s,o,u;delete t.extend,i&&i!==Object?s=i:s=n,o=s.prototype;if(!s.$isClass)for(u in r)o[u]||(o[u]=r[u]);e.extend(s),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)},!0),e.registerPreprocessor("statics",function(e,t){e.addStatics(t.statics),delete t.statics}),e.registerPreprocessor("inheritableStatics",function(e,t){e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics}),e.registerPreprocessor("config",function(t,n){var r=n.config,i=t.prototype;delete n.config,Ext.Object.each(r,function(t,r){var s=e.getConfigNameMap(t),o=s.internal,u=s.initialized,a=s.apply,f=s.update,l=s.set,c=s.get,h=l in i||n.hasOwnProperty(l),p=a in i||n.hasOwnProperty(a),d=f in i||n.hasOwnProperty(f),v,m;r===null||!h&&!p&&!d?(i[o]=r,i[u]=!0):i[u]=!1,h||(n[l]=function(e){var t=this[o],n=this[a],r=this[f];return this[u]||(this[u]=!0),n&&(e=n.call(this,e,t)),typeof e!="undefined"&&(this[o]=e,r&&e!==t&&r.call(this,e,t)),this});if(!(c in i)||n.hasOwnProperty(c))m=n[c]||!1,m?v=function(){return m.apply(this,arguments)}:v=function(){return this[o]},n[c]=function(){var e;return this[u]||(this[u]=!0,this[l](this.config[t])),e=this[c],"$previous"in e?e.$previous=v:this[c]=v,v.apply(this,arguments)}}),t.addConfig(r,!0)}),e.registerPreprocessor("mixins",function(e,t,n){var r=t.mixins,i,s,o,u;delete t.mixins,Ext.Function.interceptBefore(n,"onCreated",function(){if(r instanceof Array)for(o=0,u=r.length;o<u;o++)s=r[o],i=s.prototype.mixinId||s.$className,e.mixin(i,s);else for(var t in r)r.hasOwnProperty(t)&&e.mixin(t,r[t])})}),Ext.extend=function(t,n,r){arguments.length===2&&Ext.isObject(n)&&(r=n,n=t,t=null);var i;if(!n)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return r.extend=n,r.preprocessors=["extend","statics","inheritableStatics","mixins","config"],t?(i=new e(t,r),i.prototype.constructor=t):i=new e(r),i.prototype.override=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},i}}(),function(e,t,n,r,i){function s(){function e(){return this.constructor.apply(this,arguments)||null}return e}var o=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(e){var t=this.existCache,n,r,s,o,u;if(this.classes[e]||t[e])return!0;o=i,u=this.parseNamespace(e);for(n=0,r=u.length;n<r;n++){s=u[n];if(typeof s!="string")o=s;else{if(!o||!o[s])return!1;o=o[s]}}return t[e]=!0,this.triggerCreated(e),!0},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(e){var t=this.createdListeners,n=this.nameCreatedListeners,r=this.maps.nameToAlternates[e],i=[e],s,o,u,a,f,l;for(s=0,o=t.length;s<o;s++)f=t[s],f.fn.call(f.scope,e);r&&i.push.apply(i,r);for(s=0,o=i.length;s<o;s++){l=i[s],t=n[l];if(t){for(u=0,a=t.length;u<a;u++)f=t[u],f.fn.call(f.scope,l);delete n[l]}}},onCreated:function(e,t,n){var r=this.createdListeners,i=this.nameCreatedListeners,s={fn:e,scope:t};if(n){if(this.isCreated(n)){e.call(t,n);return}i[n]||(i[n]=[]),i[n].push(s)}else r.push(s)},parseNamespace:function(e){var t=this.namespaceParseCache,n,r,s,o,u,a,f,l,c;if(this.enableNamespaceParseCache&&t.hasOwnProperty(e))return t[e];n=[],r=this.namespaceRewrites,s=i,o=e;for(l=0,c=r.length;l<c;l++){u=r[l],a=u.from,f=u.to;if(o===a||o.substring(0,a.length)===a){o=o.substring(a.length),typeof f!="string"?s=f:n=n.concat(f.split("."));break}}return n.push(s),n=n.concat(o.split(".")),this.enableNamespaceParseCache&&(t[e]=n),n},setNamespace:function(e,t){var n=i,r=this.parseNamespace(e),s=r.length-1,o=r[s],u,a;for(u=0;u<s;u++)a=r[u],typeof a!="string"?n=a:(n[a]||(n[a]={}),n=n[a]);return n[o]=t,n[o]},createNamespaces:function(){var e=i,t,n,r,s,o,u;for(r=0,o=arguments.length;r<o;r++){t=this.parseNamespace(arguments[r]);for(s=0,u=t.length;s<u;s++)n=t[s],typeof n!="string"?e=n:(e[n]||(e[n]={}),e=e[n])}return e},set:function(e,t){var n=this,r=n.maps,i=r.nameToAlternates,s=n.getName(t),o;return n.classes[e]=n.setNamespace(e,t),s&&s!==e&&(r.alternateToName[e]=s,o=i[s]||(i[s]=[]),o.push(e)),this},get:function(e){var t=this.classes,n,r,s,o,u;if(t[e])return t[e];n=i,r=this.parseNamespace(e);for(o=0,u=r.length;o<u;o++){s=r[o];if(typeof s!="string")n=s;else{if(!n||!n[s])return null;n=n[s]}}return n},setAlias:function(e,t){var n=this.maps.aliasToName,r=this.maps.nameToAliases,i;return typeof e=="string"?i=e:i=this.getName(e),t&&n[t]!==i&&(n[t]=i),r[i]||(r[i]=[]),t&&Ext.Array.include(r[i],t),this},addNameAliasMappings:function(e){var t=this.maps.aliasToName,n=this.maps.nameToAliases,r,i,s,o;for(r in e){i=n[r]||(n[r]=[]);for(o=0;o<e[r].length;o++)s=e[r][o],t[s]||(t[s]=r,i.push(s))}return this},addNameAlternateMappings:function(e){var t=this.maps.alternateToName,n=this.maps.nameToAlternates,r,i,s,o;for(r in e){i=n[r]||(n[r]=[]);for(o=0;o<e[r].length;o++)s=e[r],t[s]||(t[s]=r,i.push(s))}return this},getByAlias:function(e){return this.get(this.getNameByAlias(e))},getNameByAlias:function(e){return this.maps.aliasToName[e]||""},getNameByAlternate:function(e){return this.maps.alternateToName[e]||""},getAliasesByName:function(e){return this.maps.nameToAliases[e]||[]},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(t,n,r){var i=s();return typeof n=="function"&&(n=n(i)),n.$className=t,new e(i,n,function(){var e=n.postprocessors||o.defaultPostprocessors,i=o.postprocessors,s=[],u,a,f,l,c,h,p;delete n.postprocessors;for(a=0,f=e.length;a<f;a++){u=e[a];if(typeof u=="string"){u=i[u],h=u.properties;if(h===!0)s.push(u.fn);else if(h)for(l=0,c=h.length;l<c;l++){p=h[l];if(n.hasOwnProperty(p)){s.push(u.fn);break}}}else s.push(u)}n.postprocessors=s,n.createdFn=r,o.processCreate(t,this,n)})},processCreate:function(e,t,n){var r=this,i=n.postprocessors.shift(),s=n.createdFn;if(!i){e&&r.set(e,t),s&&s.call(t,t),e&&r.triggerCreated(e);return}i.call(r,e,t,n,r.processCreate)!==!1&&r.processCreate(e,t,n)},createOverride:function(e,t,n){var r=this,i=t.override,s=t.requires,o=t.uses,u=function(){var a,f;s?(f=s,s=null,Ext.Loader.require(f,u)):(a=r.get(i),delete t.override,delete t.requires,delete t.uses,Ext.override(a,t),r.triggerCreated(e),o&&Ext.Loader.addUsedClasses(o),n&&n.call(a))};return r.existCache[e]=!0,r.onCreated(u,r,i),r},instantiateByAlias:function(){var e=arguments[0],t=n.call(arguments),r=this.getNameByAlias(e);return r||(r=this.maps.aliasToName[e],Ext.syncRequire(r)),t[0]=r,this.instantiate.apply(this,t)},instantiate:function(){var e=arguments[0],t=typeof e,r=n.call(arguments,1),i=e,s,o;return t!="function"?(t!="string"&&r.length===0&&(r=[e],e=e.xclass),o=this.get(e)):o=e,o||(s=this.getNameByAlias(e),s&&(e=s,o=this.get(e))),o||(s=this.getNameByAlternate(e),s&&(e=s,o=this.get(e))),o||(Ext.syncRequire(e),o=this.get(e)),this.getInstantiator(r.length)(o,r)},dynInstantiate:function(e,t){return t=r(t,!0),t.unshift(e),this.instantiate.apply(this,t)},getInstantiator:function(e){var t=this.instantiators,n,r,i;n=t[e];if(!n){r=e,i=[];for(r=0;r<e;r++)i.push("a["+r+"]");n=t[e]=new Function("c","a","return new c("+i.join(",")+")")}return n},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,n,r,i){return r||(r="last"),n||(n=[e]),this.postprocessors[e]={name:e,properties:n||!1,fn:t},this.setDefaultPostprocessorPosition(e,r,i),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=r(e),this},setDefaultPostprocessorPosition:function(e,t,n){var r=this.defaultPostprocessors,i;if(typeof t=="string"){if(t==="first")return r.unshift(e),this;if(t==="last")return r.push(e),this;t=t==="after"?1:-1}return i=Ext.Array.indexOf(r,n),i!==-1&&Ext.Array.splice(r,Math.max(0,i+t),0,e),this},getNamesByExpression:function(e){var t=this.maps.nameToAliases,n=[],r,i,s,o,u,a,f;if(e.indexOf("*")!==-1){e=e.replace(/\*/g,"(.*?)"),u=new RegExp("^"+e+"$");for(r in t)if(t.hasOwnProperty(r)){s=t[r];if(r.search(u)!==-1)n.push(r);else for(a=0,f=s.length;a<f;a++){i=s[a];if(i.search(u)!==-1){n.push(r);break}}}}else o=this.getNameByAlias(e),o?n.push(o):(o=this.getNameByAlternate(e),o?n.push(o):n.push(e));return n}};o.registerPostprocessor("alias",function(e,n,r){var i=r.alias,s,o;for(s=0,o=i.length;s<o;s++)t=i[s],this.setAlias(n,t)},["xtype","alias"]),o.registerPostprocessor("singleton",function(e,t,n,r){return r.call(this,e,new t,n),!1}),o.registerPostprocessor("alternateClassName",function(e,t,n){var r=n.alternateClassName,i,s,o;r instanceof Array||(r=[r]);for(i=0,s=r.length;i<s;i++)o=r[i],this.set(o,t)}),Ext.apply(Ext,{create:t(o,"instantiate"),widget:function(e,t){var n=e,r,i,s,u;return typeof n!="string"?(t=e,n=t.xtype):t=t||{},t.isComponent?t:(r="widget."+n,i=o.getNameByAlias(r),i||(u=!0),s=o.get(i),u||!s?o.instantiateByAlias(r,t):new s(t))},createByAlias:t(o,"instantiateByAlias"),define:function(e,t,n){return t.override?o.createOverride.apply(o,arguments):o.create.apply(o,arguments)},getClassName:t(o,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return Ext.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:t(o,"getClass"),namespace:t(o,"createNamespaces")}),Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,e.registerPreprocessor("className",function(e,t){t.$className&&(e.$className=t.$className)},!0,"first"),e.registerPreprocessor("alias",function(e,t){var n=e.prototype,i=r(t.xtype),s=r(t.alias),o="widget.",u=o.length,a=Array.prototype.slice.call(n.xtypesChain||[]),f=Ext.merge({},n.xtypesMap||{}),l,c,h,p;for(l=0,c=s.length;l<c;l++)h=s[l],h.substring(0,u)===o&&(p=h.substring(u),Ext.Array.include(i,p));e.xtype=t.xtype=i[0],t.xtypes=i;for(l=0,c=i.length;l<c;l++)p=i[l],f[p]||(f[p]=!0,a.push(p));t.xtypesChain=a,t.xtypesMap=f,Ext.Function.interceptAfter(t,"onClassCreated",function(){var e=n.mixins,t,r;for(t in e)if(e.hasOwnProperty(t)){r=e[t],i=r.xtypes;if(i)for(l=0,c=i.length;l<c;l++)p=i[l],f[p]||(f[p]=!0,a.push(p))}});for(l=0,c=i.length;l<c;l++)p=i[l],Ext.Array.include(s,o+p);t.alias=s},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),Ext.Loader=new function(){var e=this,t=Ext.ClassManager,n=Ext.Class,r=Ext.Function.flexSetter,i=Ext.Function.alias,s=Ext.Function.pass,o=Ext.Function.defer,u=Ext.Array.erase,a=["extend","mixins","requires"],f={},l=[],c=/\/\.\//g,h=/\./g;Ext.apply(e,{isInHistory:f,history:l,config:{enabled:!1,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",garbageCollect:!1,paths:{Ext:"."},preserveScripts:!0,scriptCharset:undefined},setConfig:function(t,n){return Ext.isObject(t)&&arguments.length===1?Ext.merge(e.config,t):e.config[t]=Ext.isObject(n)?Ext.merge(e.config[t],n):n,e},getConfig:function(t){return t?e.config[t]:e.config},setPath:r(function(t,n){return e.config.paths[t]=n,e}),addClassPathMappings:function(t){var n;for(n in t)e.config.paths[n]=t[n];return e},getPath:function(t){var n="",r=e.config.paths,i=e.getPrefix(t);if(i.length>0){if(i===t)return r[i];n=r[i],t=t.substring(i.length+1)}return n.length>0&&(n+="/"),n.replace(c,"/")+t.replace(h,"/")+".js"},getPrefix:function(t){var n=e.config.paths,r,i="";if(n.hasOwnProperty(t))return t;for(r in n)n.hasOwnProperty(r)&&r+"."===t.substring(0,r.length+1)&&r.length>i.length&&(i=r);return i},isAClassNameWithAKnownPrefix:function(t){var n=e.getPrefix(t);return n!==""&&n!==t},require:function(e,t,n,r){t&&t.call(n)},syncRequire:function(){},exclude:function(t){return{require:function(n,r,i){return e.require(n,r,i,t)},syncRequire:function(n,r,i){return e.syncRequire(n,r,i,t)}}},onReady:function(e,t,n,r){var i;n!==!1&&Ext.onDocumentReady&&(i=e,e=function(){Ext.onDocumentReady(i,t,r)}),e.call(t)}});var p=[],d={},v={},m={},g={},y=[],b=[],w={};Ext.apply(e,{documentHead:typeof document!="undefined"&&(document.head||document.getElementsByTagName("head")[0]),isLoading:!1,queue:p,isClassFileLoaded:d,isFileLoaded:v,readyListeners:y,optionalRequires:b,requiresMap:w,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:!1,classNameToFilePathMap:m,scriptsLoading:0,syncModeEnabled:!1,scriptElements:g,refreshQueue:function(){var n=p.length,r,i,s,o;if(!n&&!e.scriptsLoading)return e.triggerReady();for(r=0;r<n;r++){i=p[r];if(i){o=i.requires;if(o.length>e.numLoadedFiles)continue;for(s=0;s<o.length;)t.isCreated(o[s])?u(o,s,1):s++;if(i.requires.length===0){u(p,r,1),i.callback.call(i.scope),e.refreshQueue();break}}}return e},injectScriptElement:function(t,n,r,i,s){var u=document.createElement("script"),a=!1,f=e.config,l=function(){a||(a=!0,u.onload=u.onreadystatechange=u.onerror=null,typeof f.scriptChainDelay=="number"?o(n,f.scriptChainDelay,i):n.call(i),e.cleanupScriptElement(u,f.preserveScripts===!1,f.garbageCollect))},c=function(t){o(r,1,i),e.cleanupScriptElement(u,f.preserveScripts===!1,f.garbageCollect)};return u.type="text/javascript",u.onerror=c,s=s||f.scriptCharset,s&&(u.charset=s),"addEventListener"in u?u.onload=l:"readyState"in u?u.onreadystatechange=function(){(this.readyState=="loaded"||this.readyState=="complete")&&l()}:u.onload=l,u.src=t,(e.documentHead||document.getElementsByTagName("head")[0]).appendChild(u),u},removeScriptElement:function(t){return g
[t]&&(e.cleanupScriptElement(g[t],!0,!!e.getConfig("garbageCollect")),delete g[t]),e},cleanupScriptElement:function(t,n,r){var i;t.onload=t.onreadystatechange=t.onerror=null;if(n){Ext.removeNode(t);if(r)for(i in t)try{t[i]=null,delete t[i]}catch(s){}}return e},loadScript:function(t){var n=e.getConfig(),r=typeof t=="string",i=r?t:t.url,s=!r&&t.onError,o=!r&&t.onLoad,u=!r&&t.scope,a=function(){e.numPendingFiles--,e.scriptsLoading--,s&&s.call(u,"Failed loading '"+i+"', please verify that the file exists"),e.numPendingFiles+e.scriptsLoading===0&&e.refreshQueue()},f=function(){e.numPendingFiles--,e.scriptsLoading--,o&&o.call(u),e.numPendingFiles+e.scriptsLoading===0&&e.refreshQueue()},l;e.isLoading=!0,e.numPendingFiles++,e.scriptsLoading++,l=n.disableCaching?i+"?"+n.disableCachingParam+"="+Ext.Date.now():i,g[i]=e.injectScriptElement(l,f,a)},loadScriptFile:function(t,n,r,i,s){if(v[t])return e;var o=e.getConfig(),u=t+(o.disableCaching?"?"+o.disableCachingParam+"="+Ext.Date.now():""),a=!1,f,l,c,h="";i=i||e,e.isLoading=!0;if(!s)c=function(){},g[t]=e.injectScriptElement(u,n,c,i);else{typeof XMLHttpRequest!="undefined"?f=new XMLHttpRequest:f=new ActiveXObject("Microsoft.XMLHTTP");try{f.open("GET",u,!1),f.send(null)}catch(p){a=!0}l=f.status===1223?204:f.status===0&&(self.location||{}).protocol=="file:"?200:f.status,a=a||l===0,!a&&(l>=200&&l<300||l===304)&&(Ext.isIE||(h="\n//@ sourceURL="+t),Ext.globalEval(f.responseText+h),n.call(i)),f=null}},syncRequire:function(){var t=e.syncModeEnabled;t||(e.syncModeEnabled=!0),e.require.apply(e,arguments),t||(e.syncModeEnabled=!1),e.refreshQueue()},require:function(n,r,i,o){var u={},a={},f=[],l=[],c=[],h=[],v,g,y,b,w,E,S,x,T,N,C;if(o){o=typeof o=="string"?[o]:o;for(x=0,N=o.length;x<N;x++){w=o[x];if(typeof w=="string"&&w.length>0){f=t.getNamesByExpression(w);for(T=0,C=f.length;T<C;T++)u[f[T]]=!0}}}n=typeof n=="string"?[n]:n?n:[],r?r.length>0?v=function(){var e=[],n,i;for(n=0,i=h.length;n<i;n++)e.push(t.get(h[n]));return r.apply(this,e)}:v=r:v=Ext.emptyFn,i=i||Ext.global;for(x=0,N=n.length;x<N;x++){b=n[x];if(typeof b=="string"&&b.length>0){l=t.getNamesByExpression(b),C=l.length;for(T=0;T<C;T++)S=l[T],u[S]!==!0&&(h.push(S),!t.isCreated(S)&&!a[S]&&(a[S]=!0,c.push(S)))}}if(c.length>0){if(!e.config.enabled)throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(c.length>1?"es":"")+": "+c.join(", "));g=e.syncModeEnabled,g||p.push({requires:c.slice(),callback:v,scope:i}),N=c.length;for(x=0;x<N;x++)E=c[x],y=e.getPath(E),g&&d.hasOwnProperty(E)&&(e.numPendingFiles--,e.removeScriptElement(y),delete d[E]),d.hasOwnProperty(E)||(d[E]=!1,m[E]=y,e.numPendingFiles++,e.loadScriptFile(y,s(e.onFileLoaded,[E,y],e),s(e.onFileLoadError,[E,y],e),e,g));if(g){v.call(i);if(N===1)return t.get(E)}return e}return v.call(i),e},onFileLoaded:function(t,n){e.numLoadedFiles++,d[t]=!0,v[n]=!0,e.numPendingFiles--,e.numPendingFiles===0&&e.refreshQueue()},onFileLoadError:function(t,n,r,i){e.numPendingFiles--,e.hasFileLoadError=!0},addUsedClasses:function(t){var n,r,i;if(t){t=typeof t=="string"?[t]:t;for(r=0,i=t.length;r<i;r++)n=t[r],typeof n=="string"&&!Ext.Array.contains(b,n)&&b.push(n)}return e},triggerReady:function(){var t,n,r=b;if(e.isLoading){e.isLoading=!1;if(r.length!==0)return r=r.slice(),b.length=0,e.require(r,e.triggerReady,e),e}while(y.length&&!e.isLoading)t=y.shift(),t.fn.call(t.scope);return e},onReady:function(t,n,r,i){var s;r!==!1&&Ext.onDocumentReady&&(s=t,t=function(){Ext.onDocumentReady(s,n,i)}),e.isLoading?y.push({fn:t,scope:n}):t.call(n)},historyPush:function(t){return t&&d.hasOwnProperty(t)&&!f[t]&&(f[t]=!0,l.push(t)),e}}),Ext.disableCacheBuster=function(e,t){var n=new Date;n.setTime(n.getTime()+(e?3650:-1)*24*60*60*1e3),n=n.toGMTString(),document.cookie="ext-cache=1; expires="+n+"; path="+(t||"/")},Ext.require=i(e,"require"),Ext.syncRequire=i(e,"syncRequire"),Ext.exclude=i(e,"exclude"),Ext.onReady=function(t,n,r){e.onReady(t,n,!0,r)},n.registerPreprocessor("loader",function(n,r,i,s){var o=this,u=[],f,l=t.getName(n),c,h,p,d,v,m,g,y,b;for(c=0,p=a.length;c<p;c++){m=a[c];if(r.hasOwnProperty(m)){g=r[m];if(typeof g=="string")u.push(g);else if(g instanceof Array)for(h=0,d=g.length;h<d;h++)v=g[h],typeof v=="string"&&u.push(v);else if(typeof g!="function")for(h in g)g.hasOwnProperty(h)&&(v=g[h],typeof v=="string"&&u.push(v))}}if(u.length===0)return;return e.require(u,function(){for(c=0,p=a.length;c<p;c++){m=a[c];if(r.hasOwnProperty(m)){g=r[m];if(typeof g=="string")r[m]=t.get(g);else if(g instanceof Array)for(h=0,d=g.length;h<d;h++)v=g[h],typeof v=="string"&&(r[m][h]=t.get(v));else if(typeof g!="function")for(var e in g)g.hasOwnProperty(e)&&(v=g[e],typeof v=="string"&&(r[m][e]=t.get(v)))}}s.call(o,n,r,i)}),!1},!0,"after","className"),t.registerPostprocessor("uses",function(t,n,r){var i=r.uses;i&&e.addUsedClasses(i)}),t.onCreated(e.historyPush)},Ext._classPathMetadata&&(Ext.Loader.addClassPathMappings(Ext._classPathMetadata),Ext._classPathMetadata=null),function(){var e=document.getElementsByTagName("script"),t=e[e.length-1],n=t.src,r=n.substring(0,n.lastIndexOf("/")+1),i=Ext.Loader;i.setConfig({enabled:!0,disableCaching:!0,paths:{Ext:r+"src"}})}(),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.Error=Ext.extend(Error,{statics:{ignore:!1,raise:function(e){e=e||{},Ext.isString(e)&&(e={msg:e});var t=this.raise.caller,n;t&&(t.$name&&(e.sourceMethod=t.$name),t.$owner&&(e.sourceClass=t.$owner.$className));if(Ext.Error.handle(e)!==!0)throw n=Ext.Error.prototype.toString.call(e),Ext.log({msg:n,level:"error",dump:e,stack:!0}),new Ext.Error(e)},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(e){Ext.isString(e)&&(e={msg:e});var t=this;Ext.apply(t,e),t.message=t.message||t.msg},toString:function(){var e=this,t=e.sourceClass?e.sourceClass:"",n=e.sourceMethod?"."+e.sourceMethod+"(): ":"",r=e.msg||"(No description provided)";return t+n+r}}),Ext.deprecated=function(e){return Ext.emptyFn},Ext.JSON=new function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){return useNative===null&&(useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"),useNative},pad=function(e){return e<10?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){return e===null||e===undefined?"null":Ext.isDate(e)?Ext.JSON.encodeDate(e):Ext.isString(e)?Ext.JSON.encodeString(e):typeof e=="number"?isFinite(e)?String(e):"null":Ext.isBoolean(e)?String(e):e.toJSON?e.toJSON():Ext.isArray(e)?encodeArray(e,t):Ext.isObject(e)?encodeObject(e,t):typeof e=="function"?"null":"undefined"},m={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(e,t){var n=["[",""],r=e.length,i;for(i=0;i<r;i+=1)n.push(Ext.JSON.encodeValue(e[i]),",");return n[n.length-1]="]",n.join("")},encodeObject=function(e,t){var n=["{",""],r;for(r in e)(!useHasOwn||e.hasOwnProperty(r))&&n.push(Ext.JSON.encodeValue(r),":",Ext.JSON.encodeValue(e[r]),",");return n[n.length-1]="}",n.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return encodingFunction||(encodingFunction=isNative()?JSON.stringify:me.encodeValue),encodingFunction(e)},me.decode=function(e,t){decodingFunction||(decodingFunction=isNative()?JSON.parse:doDecode);try{return decodingFunction(e)}catch(n){if(t===!0)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+e})}}},Ext.encode=Ext.JSON.encode,Ext.decode=Ext.JSON.decode,Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1e3,windowId:"ext-window",documentId:"ext-document",isReady:!1,enableGarbageCollector:!0,enableListenerCollection:!0,addCacheEntry:function(e,t,n){n=n||t.dom;var r=e||t&&t.id||n.id,i=Ext.cache[r]||(Ext.cache[r]={data:{},events:{},dom:n,skipGarbageCollection:!!n.getElementById||!!n.navigator});return t&&(t.$cache=i,i.el=t),i},updateCacheEntry:function(e,t){return e.dom=t,e.el&&(e.el.dom=t),e},id:function(e,t){var n=this,r="";return e=Ext.getDom(e,!0)||{},e===document?e.id=n.documentId:e===window&&(e.id=n.windowId),e.id||(n.isSandboxed&&(r=Ext.sandboxName.toLowerCase()+"-"),e.id=r+(t||"ext-gen")+ ++Ext.idSeed),e.id},escapeId:function(){var e=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,t=/([\W]{1})/g,n=/^(\d)/g,r=function(e,t){return"\\"+t},i=function(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "};return function(s){return e.test(s)?s:s.replace(t,r).replace(n,i)}}(),getBody:function(){var e;return function(){return e||(e=Ext.get(document.body))}}(),getHead:function(){var e;return function(){return e||(e=Ext.get(document.getElementsByTagName("head")[0]))}}(),getDoc:function(){var e;return function(){return e||(e=Ext.get(document))}}(),getCmp:function(e){return Ext.ComponentManager.get(e)},getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var e=arguments.length,t,n;for(t=0;t<e;t++)n=arguments[t],n&&(Ext.isArray(n)?this.destroy.apply(this,n):Ext.isFunction(n.destroy)?n.destroy():n.dom&&n.remove())},callback:function(e,t,n,r){Ext.isFunction(e)&&(n=n||[],t=t||window,r?Ext.defer(e,r,t,n):e.apply(t,n))},htmlEncode:function(e){return Ext.String.htmlEncode(e)},htmlDecode:function(e){return Ext.String.htmlDecode(e)},urlAppend:function(e,t){return Ext.String.urlAppend(e,t)}}),Ext.ns=Ext.namespace,window.undefined=window.undefined,function(){var e=function(e){return e.test(Ext.userAgent)},t=document.compatMode=="CSS1Compat",n=function(e,t){var n;return e&&(n=t.exec(Ext.userAgent))?parseFloat(n[1]):0},r=document.documentMode,i=e(/opera/),s=i&&e(/version\/10\.5/),o=e(/\bchrome\b/),u=e(/webkit/),a=!o&&e(/safari/),f=a&&e(/applewebkit\/4/),l=a&&e(/version\/3/),c=a&&e(/version\/4/),h=a&&e(/version\/5\.0/),p=a&&e(/version\/5/),d=!i&&e(/msie/),v=d&&(e(/msie 7/)&&r!=8&&r!=9||r==7),m=d&&(e(/msie 8/)&&r!=7&&r!=9||r==8),g=d&&(e(/msie 9/)&&r!=7&&r!=8||r==9),y=d&&e(/msie 6/),b=!u&&e(/gecko/),w=b&&e(/rv:1\.9/),E=b&&e(/rv:2\.0/),S=b&&e(/rv:5\./),x=b&&e(/rv:10\./),T=w&&e(/rv:1\.9\.0/),N=w&&e(/rv:1\.9\.1/),C=w&&e(/rv:1\.9\.2/),k=e(/windows|win32/),L=e(/macintosh|mac os x/),A=e(/linux/),O=null,M=n(!0,/\bchrome\/(\d+\.\d+)/),_=n(!0,/\bfirefox\/(\d+\.\d+)/),D=n(d,/msie (\d+\.\d+)/),P=n(i,/version\/(\d+\.\d+)/),H=n(a,/version\/(\d+\.\d+)/),B=n(u,/webkit\/(\d+\.\d+)/),j=/^https/i.test(window.location.protocol),F;try{document.execCommand("BackgroundImageCache",!1,!0)}catch(I){}F=function(){},F.info=F.warn=F.error=Ext.emptyFn,Ext.setVersion("extjs","4.1.1.1"),Ext.apply(Ext,{SSL_SECURE_URL:j&&d?"javascript:''":"about:blank",scopeResetCSS:Ext.buildSettings.scopeResetCSS,resetCls:Ext.buildSettings.baseCSSPrefix+"reset",enableNestedListenerRemoval:!1,USE_NATIVE_JSON:!1,getDom:function(e,t){if(!e||!document)return null;if(e.dom)return e.dom;if(typeof e=="string"){var n=Ext.getElementById(e);return n&&d&&t?e==n.getAttribute("id")?n:null:n}return e},removeNode:y||v||m?function(){var e;return function(t){if(t&&t.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(t):Ext.EventManager.removeAll(t);var n=Ext.cache,r=t.id;n[r]&&(delete n[r].dom,delete n[r]),m&&t.parentNode&&t.parentNode.removeChild(t),e=e||document.createElement("div"),e.appendChild(t),e.innerHTML=""}}}():function(e){if(e&&e.parentNode&&e.tagName.toUpperCase()!="BODY"){Ext.enableNestedListenerRemoval?Ext.EventManager.purgeElement(e):Ext.EventManager.removeAll(e);var t=Ext.cache,n=e.id;t[n]&&(delete t[n].dom,delete t[n]),e.parentNode.removeChild(e)}},isStrict:t,isIEQuirks:d&&!t,isOpera:i,isOpera10_5:s,isWebKit:u,isChrome:o,isSafari:a,isSafari3:l,isSafari4:c,isSafari5:p,isSafari5_0:h,isSafari2:f,isIE:d,isIE6:y,isIE7:v,isIE8:m,isIE9:g,isGecko:b,isGecko3:w,isGecko4:E,isGecko5:S,isGecko10:x,isFF3_0:T,isFF3_5:N,isFF3_6:C,isFF4:4<=_&&_<5,isFF5:5<=_&&_<6,isFF10:10<=_&&_<11,isLinux:A,isWindows:k,isMac:L,chromeVersion:M,firefoxVersion:_,ieVersion:D,operaVersion:P,safariVersion:H,webKitVersion:B,isSecure:j,BLANK_IMAGE_URL:y||v?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(e,t,n){return Ext.isEmpty(e,n)?t:e},escapeRe:function(e){return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(e){if(!Ext.isReady)Ext.onReady(function(){Ext.addBehaviors(e)});else{var t={},n,r,i;for(r in e)(n=r.split("@"))[1]&&(i=n[0],t[i]||(t[i]=Ext.select(i)),t[i].on(n[1],e[r]));t=null}},getScrollbarSize:function(e){if(!Ext.isReady)return{};if(e||!O){var t=document.body,n=document.createElement("div");n.style.width=n.style.height="100px",n.style.overflow="scroll",n.style.position="absolute",t.appendChild(n),O={width:n.offsetWidth-n.clientWidth,height:n.offsetHeight-n.clientHeight},t.removeChild(n)}return O},getScrollBarWidth:function(e){var t=Ext.getScrollbarSize(e);return t.width+2},copyTo:function(e,t,n,r){typeof n=="string"&&(n=n.split(/[,;\s]/));var i,s=n.length,o;for(i=0;i<s;i++){o=n[i];if(r||t.hasOwnProperty(o))e[o]=t[o]}return e},destroyMembers:function(e){for(var t=1,n=arguments,r=n.length;t<r;t++)Ext.destroy(e[n[t]]),delete e[n[t]]},log:F,partition:function(e,t){var n=[[],[]],r,i,s=e.length;for(r=0;r<s;r++)i=e[r],n[t&&t(i,r,e)||!t&&i?0:1].push(i);return n},invoke:function(e,t){var n=[],r=Array.prototype.slice.call(arguments,2),i,s,o=e.length;for(i=0;i<o;i++)s=e[i],s&&typeof s[t]=="function"?n.push(s[t].apply(s,r)):n.push(undefined);return n},zip:function(){var e=Ext.partition(arguments,function(e){return typeof e!="function"}),t=e[0],n=e[1][0],r=Ext.max(Ext.pluck(t,"length")),i=[],s,o,u;for(s=0;s<r;s++){i[s]=[];if(n)i[s]=n.apply(n,Ext.pluck(t,s));else for(o=0,u=t.length;o<u;o++)i[s].push(t[o][s])}return i},toSentence:function(e,t){var n=e.length,r,i;return n<=1?e[0]:(r=e.slice(0,n-1),i=e[n-1],Ext.util.Format.format("{0} {1} {2}",r.join(", "),t||"and",i))},useShims:y})}(),Ext.application=function(e){Ext.require("Ext.app.Application"),Ext.onReady(function(){new Ext.app.Application(e)})},function(){Ext.ns("Ext.util"),Ext.util.Format={};var e=Ext.util.Format,t=/<\/?[^>]+>/gi,n=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,r=/\r?\n/g,i=/[^\d\.]/g,s;Ext.apply(e,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:!1,undef:function(e){return e!==undefined?e:""},defaultValue:function(e,t){return e!==undefined&&e!==""?e:t},substr:"ab".substr(-1)!="b"?function(e,t,n){var r=String(e);return t<0?r.substr(Math.max(r.length+t,0),n):r.substr(t,n)}:function(e,t,n){return String(e).substr(t,n)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(t){return e.currency(t,"$",2)},currency:function(t,n,r,i){var s="",o=",0",u=0;t-=0,t<0&&(t=-t,s="-"),r=Ext.isDefined(r)?r:e.currencyPrecision,o+=o+(r>0?".":"");for(;u<r;u++)o+="0";return t=e.number(t,o),(i||e.currencyAtEnd)===!0?Ext.String.format("{0}{1}{2}",s,t,n||e.currencySign):Ext.String.format("{0}{1}{2}",s,n||e.currencySign,t)},date:function(e,t){return e?(Ext.isDate(e)||(e=new Date(Date.parse(e))),Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)):""},dateRenderer:function(t){return function(n){return e.date(n,t)}},stripTags:function(e){return e?String(e).replace(t,""):e},stripScripts:function(e){return e?String(e).replace(n,""):e},fileSize:function(e){return e<1024?e+" bytes":e<1048576?Math.round(e*10/1024)/10+" KB":Math.round(e*10/1048576)/10+" MB"},math:function(){var e={};return function(t,n){return e[n]||(e[n]=Ext.functionFactory("v","return v "+n+";")),e[n](t)}}(),round:function(e,t){var n=Number(e);return typeof t=="number"&&(t=Math.pow(10,t),n=Math.round(e*t)/t),n},number:function(t,n){if(!n)return t;t=Ext.Number.from(t,NaN);if(isNaN(t))return"";var r=e.thousandSeparator,o=e.decimalSeparator,u=!1,a=t<0,f,l,c,h,p,d,v,m,g;t=Math.abs(t),n.substr(n.length-2)=="/i"?(s||(s=new RegExp("[^\\d\\"+e.decimalSeparator+"]","g")),n=n.substr(0,n.length-2),u=!0,f=n.indexOf(r)!=-1,l=n.replace(s,"").split(o)):(f=n.indexOf(",")!=-1,l=n.replace(i,"").split(".")),l.length>2||(l.length>1?t=Ext.Number.toFixed(t,l[1].length):t=Ext.Number.toFixed(t,0)),c=t.toString(),l=c.split(".");if(f){h=l[0],p=[],d=h.length,v=Math.floor(d/3),m=h.length%3||3;for(g=0;g<d;g+=m)g!==0&&(m=3),p[p.length]=h.substr(g,m),v-=1;c=p.join(r),l[1]&&(c+=o+l[1])}else l[1]&&(c=l[0]+o+l[1]);return a&&(a=c.replace(/[^1-9]/g,"")!==""),(a?"-":"")+n.replace(/[\d,?\.?]+/,c)},numberRenderer:function(t){return function(n){return e.number(n,t)}},plural:function(e,t,n){return e+" "+(e==1?t:n?n:t+"s")},nl2br:function(e){return Ext.isEmpty(e)?"":e.replace(r,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(e){e=Ext.isEmpty(e)?"":e,Ext.isNumber(e)&&(e=e.toString());var t=e.split(" "),n=t.length;return n==1?t[1]=t[2]=t[3]=t[0]:n==2?(t[2]=t[0],t[3]=t[1]):n==3&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}},escapeRegex:function(e){return e.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}(),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){var t=this;typeof e=="number"?t.interval=e:e&&Ext.apply(t,e),t.tasks=[],t.timerFn=Ext.Function.bind(t.onTick,t)},newTask:function(e){var t=new Ext.util.TaskRunner.Task(e);return t.manager=this,t},start:function(e){var t=this,n=(new Date).getTime();return e.pending||(t.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=n,e.taskRunTime=e.fireOnStart!==!1?0:e.taskStartTime,e.taskRunCount=0,t.firing||(e.fireOnStart!==!1?t.startTimer(0,n):t.startTimer(e.interval,n)),e},stop:function(e){return e.stopped||(e.stopped=!0,e.onStop&&e.onStop.call(e.scope||e,e)),e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var e=this,t=e.tasks,n=(new Date).getTime(),r=1e99,i=t.length,s,o,u,a,f,l;e.timerId=null,e.firing=!0;for(u=0;u<i||u<(i=t.length);++u){a=t[u];if(!(l=a.stopped)){s=a.taskRunTime+a.interval;if(s<=n){f=1;try{f=a.run.apply(a.scope||a,a.args||[++a.taskRunCount])}catch(c){try{a.onError&&(f=a.onError.call(a.scope||a,a,c))}catch(h){}}a.taskRunTime=n,f===!1||a.taskRunCount===a.repeat?(e.stop(a),l=!0):(l=a.stopped,s=n+a.interval)}!l&&a.duration&&a.duration<=n-a.taskStartTime&&(e.stop(a),l=!0)}l?(a.pending=!1,o||(o=t.slice(0,u))):(o&&o.push(a),r>s&&(r=s))}o&&(e.tasks=o),e.firing=!1,e.tasks.length&&e.startTimer(r-n,(new Date).getTime())},startTimer:function(e,t){var n=this,r=t+e,i=n.timerId;i&&n.nextExpires-r>n.interval&&(clearTimeout(i),i=null),i||(e<n.interval&&(e=n.interval),n.timerId=setTimeout(n.timerFn,e),n.nextExpires=r)}},function(){var e=this,t=e.prototype;t.destroy=t.stopAll,Ext.util.TaskManager=Ext.TaskManager=new e,e.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){Ext.apply(this,e)},restart:function(e){e!==undefined&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(){this.manager.stop(this)}}),t=e.Task.prototype,t.destroy=t.stop}),Ext.define("Ext.perf.Accumulator",function(){function i(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function s(t){var n=t?t:r()-this.time,s=this,o=s.accum;++o.count,--o.depth||i(o.total,n),i(o.pure,n-s.childTime),e=s.parent,e&&(++e.accum.childCount,e.childTime+=n)}function o(){return{min:Number.MAX_VALUE,max:0,sum:0}}function u(e,t){return function(){var n=e.enter(),r=t.apply(this,arguments);return n.leave(),r}}function a(e){return Math.round(e*100)/100}function f(e,t,n,r){var i={avg:0,min:r.min,max:r.max,sum:0};return e&&(n=n||0,i.sum=r.sum-t*n,i.avg=i.sum/e),i}var e=null,t=Ext.global.chrome,n,r=function(){r=function(){return(new Date).getTime()};var e,n;if(Ext.isChrome&&t&&t.Interval)e=new t.Interval,e.start(),r=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{n=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=n,r=function(){return n.milliseconds}}catch(i){}else Date.now&&(r=Date.now);return Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=r,r()};return{constructor:function(e){var t=this;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure=o(),t.total=o(),t.name=e},statics:{getTimestamp:r},format:function(e){n||(n=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(e*100)/100}}));var t=this.getData(e);return t.name=this.name,t.pure.type="Pure",t.total.type="Total",t.times=[t.pure,t.total],n.apply(t)},getData:function(e){var t=this;return{count:t.count,childCount:t.childCount,depth:t.maxDepth,pure:f(t.count,t.childCount,e,t.pure),total:f(t.count,t.childCount,e,t.total)}},enter:function(){var t=this,n={accum:t,leave:s,childTime:0,parent:e};return++t.depth,t.maxDepth<t.depth&&(t.maxDepth=t.depth),e=n,n.time=r(),n},monitor:function(e,t,n){var r=this.enter();n?e.apply(t,n):e.call(t),r.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var n=this,r=typeof t=="string"?[t]:t,i,s,o,a,f,l,c,h;return h=function(){if(typeof e=="string"){i=Ext.global,a=e.split(".");for(o=0,f=a.length;o<f;++o)i=i[a[o]]}else i=e;for(o=0,f=r.length;o<f;++o)l=r[o],s=l.charAt(0)=="!",s?l=l.substring(1):s=!(l in i.prototype),c=s?i:i.prototype,c[l]=u(n,c[l])},Ext.ClassManager.onCreated(h,n,e),n}}}(),function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){var e=new Ext.perf.Accumulator("$"),t=e.total,n=Ext.perf.Accumulator.getTimestamp,r=0,i,s,o;o=n();do i=e.enter(),i.leave(),++r;while(t.sum<100);return s=n(),(s-o)/r},get:function(e){var t=this,n=t.accumulatorsByName[e];return n||(t.accumulatorsByName[e]=n=new Ext.perf.Accumulator(e),t.accumulators.push(n)),n},enter:function(e){return this.get(e).enter()},monitor:function(e,t,n){this.get(e).monitor(t,n)},report:function(){var e=this,t=e.accumulators,n=e.calibrate();t.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),e.updateGC(),Ext.log("Calibration: "+Math.round(n*100)/100+" msec/sample"),Ext.each(t,function(e){Ext.log(e.format(n))})},getData:function(e){var t={},n=this.accumulators;return Ext.each(n,function(n){if(e||n.count)t[n.name]=n.getData()}),t},reset:function(){Ext.each(this.accumulators,function(e){var t=e;t.count=t.childCount=t.depth=t.maxDepth=0,t.pure={min:Number.MAX_VALUE,max:0,sum:0},t.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e=this.accumulatorsByName.GC,t=Ext.senchaToolbox,n;e&&(e.count=t.garbageCollectionCounter||0,e.count&&(n=e.pure,e.total.sum=n.sum=t.garbageCollectionMilliseconds,n.min=n.max=n.sum/e.count,n=e.total,n.min=n.max=n.sum/e.count))},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){e||(e={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}),this.currentConfig=e;var t,n,r,i,s;for(t in e)if(e.hasOwnProperty(t)){n=e[t],r=Ext.Perf.get(t);for(i in n)n.hasOwnProperty(i)&&(s=n[i],r.tap(i,s))}this.watchGC()}}),Ext.is={init:function(e){var t=this.platforms,n=t.length,r,i;e=e||window.navigator;for(r=0;r<n;r++)i=t[r],this[i.identity]=i.regex.test(e[i.property]);this.Desktop=this.Mac||this.Windows||this.Linux&&!this.Android,this.Tablet=this.iPad,this.Phone=!this.Desktop&&!this.Tablet,this.iOS=this.iPhone||this.iPad||this.iPod,this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]},Ext.is.init(),function(){var e=function(e,t){var n=e.ownerDocument.defaultView,r=(n?n.getComputedStyle(e,null):e.currentStyle)||e.style;return r[t]};Ext.supports={init:function(){var e=this,t=document,n=e.tests,r=n.length,i=r&&Ext.isReady&&t.createElement("div"),s,o=[];i&&(i.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join(""),t.body.appendChild(i));while(r--)s=n[r],i||s.early?e[s.identity]=s.fn.call(e,t,i):o.push(s);i&&t.body.removeChild(i),e.tests=o},PointerEvents:"pointerEvents"in document.documentElement.style,CSS3BoxShadow:"boxShadow"in document.documentElement.style||"WebkitBoxShadow"in document.documentElement.style||"MozBoxShadow"in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:typeof window.orientation!="undefined"&&"onorientationchange"in window,DeviceMotion:"ondevicemotion"in window,Touch:"ontouchstart"in window&&!Ext.is.Desktop,TimeoutActualLateness:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}(),tests:[{identity:"Transitions",fn:function(t,n){var r=["webkit","Moz","o","ms","khtml"],i="TransitionEnd",s=[r[0]+i,"transitionend",r[2]+i,r[3]+i,r[4]+i],o=r.length,u=0,a=!1;for(;u<o;u++)if(e(n,r[u]+"TransitionProperty")){Ext.supports.CSS3Prefix=r[u],Ext.supports.CSS3TransitionEnd=s[u],a=!0;break}return a}},{identity:"RightMargin",fn:function(e,t){var n=e.defaultView;return!n||n.getComputedStyle(t.firstChild.firstChild,null).marginRight=="0px"}},{identity:"DisplayChangeInputSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:!0,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<534.24}},{identity:"TransparentColor",fn:function(e,t,n){return n=e.defaultView,!n||n.getComputedStyle(t.lastChild,null).backgroundColor=="transparent"}},{identity:"ComputedStyle",fn:function(e,t,n){return n=e.defaultView,n&&n.getComputedStyle}},{identity:"Svg",fn:function(e){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(e){return!!e.createElement("canvas").getContext}},{identity:"Vml",fn:function(e){var t=e.createElement("div");return t.innerHTML="<!--[if vml]><br/><br/><![endif]-->",t.childNodes.length==2}},{identity:"Float",fn:function(e,t){return!!t.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(e){return!!e.createElement("audio").canPlayType}},{identity:"History",fn:function(){var e=window.history;return!!e&&!!e.pushState}},{identity:"CSS3DTransform",fn:function(){return typeof WebKitCSSMatrix!="undefined"&&(new WebKitCSSMatrix).hasOwnProperty("m41")}},{identity:"CSS3LinearGradient",fn:function(e,t){var n="background-image:",r="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",i="linear-gradient(left top, black, white)",s="-moz-"+i,o="-o-"+i,u=[n+r,n+i,n+s,n+o];return t.style.cssText=u.join(";"),(""+t.style.backgroundImage).indexOf("gradient")!==-1}},{identity:"CSS3BorderRadius",fn:function(e,t){var n=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],r=!1,i;for(i=0;i<n.length;i++)if(document.body.style[n[i]]!==undefined)return!0;return r}},{identity:"GeoLocation",fn:function(){return typeof navigator!="undefined"&&typeof navigator.geolocation!="undefined"||typeof google!="undefined"&&typeof google.gears!="undefined"}},{identity:"MouseEnterLeave",fn:function(e,t){return"onmouseenter"in t&&"onmouseleave"in t}},{identity:"MouseWheel",fn:function(e,t){return"onmousewheel"in t}},{identity:"Opacity",fn:function(e,t){return Ext.isIE6||Ext.isIE7||Ext.isIE8?!1:(t.firstChild.style.cssText="opacity:0.73",t.firstChild.style.opacity=="0.73")}},{identity:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)}},{identity:"BoundingClientRect",fn:function(e,t){return Ext.isFunction(t.getBoundingClientRect)}},{identity:"IncludePaddingInWidthCalculation",fn:function(e,t){return t.childNodes[1].firstChild.offsetWidth==210}},{identity:"IncludePaddingInHeightCalculation",fn:function(e,t){return t.childNodes[1].firstChild.offsetHeight==210}},{identity:"ArraySort",fn:function(){var e=[1,2,3,4,5].sort(function(){return 0});return e[0]===1&&e[1]===2&&e[2]===3&&e[3]===4&&e[4]===5}},{identity:"Range",fn:function(){return!!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var e=Ext.supports.Range?document.createRange():!1;return e&&!!e.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var e=document.createElement("textarea");return"maxlength"in e}},{identity:"GetPositionPercentage",fn:function(t,n){return e(n.childNodes[2],"left")=="10%"}}]}}(),Ext.supports.init(),Ext.util.DelayedTask=function(e,t,n){var r=this,i,s=function(){clearInterval(i),i=null,e.apply(t,n||[])};this.delay=function(o,u,a,f){r.cancel(),e=u||e,t=a||t,n=f||n,i=setInterval(s,o)},this.cancel=function(){i&&(clearInterval(i),i=null)}},Ext.require("Ext.util.DelayedTask",function(){Ext.util.Event=Ext.extend(Object,function(){function t(e,t,n,r){return function(){n.target===arguments[0]&&e.apply(r,arguments)}}function n(e,t,n,r){return t.task=new Ext.util.DelayedTask,function(){t.task.delay(n.buffer,e,r,Ext.Array.toArray(arguments))}}function r(e,t,n,r){return function(){var i=new Ext.util.DelayedTask;t.tasks||(t.tasks=[]),t.tasks.push(i),i.delay(n.delay||10,e,r,Ext.Array.toArray(arguments))}}function i(e,t,n,r){return function(){var n=t.ev;return n.removeListener(t.fn,r)&&n.observable&&n.observable.hasListeners[n.name]--,e.apply(r,arguments)}}var e={};return{isEvent:!0,constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,t,n){var r=this,i;t=t||r.observable,r.isListening(e,t)||(i=r.createListener(e,t,n),r.firing&&(r.listeners=r.listeners.slice(0)),r.listeners.push(i))},createListener:function(s,o,u){u=u||e,o=o||this.observable;var a={fn:s,scope:o,o:u,ev:this},f=s;return u.single&&(f=i(f,a,u,o)),u.target&&(f=t(f,a,u,o)),u.delay&&(f=r(f,a,u,o)),u.buffer&&(f=n(f,a,u,o)),a.fireFn=f,a},findListener:function(e,t){var n=this.listeners,r=n.length,i,s;while(r--){i=n[r];if(i){s=i.scope;if(i.fn==e&&s==(t||this.observable))return r}}return-1},isListening:function(e,t){return this.findListener(e,t)!==-1},removeListener:function(e,t){var n=this,r,i,s;r=n.findListener(e,t);if(r!=-1){i=n.listeners[r],n.firing&&(n.listeners=n.listeners.slice(0)),i.task&&(i.task.cancel(),delete i.task),s=i.tasks&&i.tasks.length;if(s){while(s--)i.tasks[s].cancel();delete i.tasks}return Ext.Array.erase(n.listeners,r,1),!0}return!1},clearListeners:function(){var e=this.listeners,t=e.length;while(t--)this.removeListener(e[t].fn,e[t].scope)},fire:function(){var e=this,t=e.listeners,n=t.length,r,i,s;if(n>0){e.firing=!0;for(r=0;r<n;r++){s=t[r],i=arguments.length?Array.prototype.slice.call(arguments,0):[],s.o&&i.push(s.o);if(s&&s.fireFn.apply(s.scope||e.observable,i)===!1)return e.firing=!1}}return e.firing=!1,!0}}}())}),Ext.define("Ext.util.Observable",{requires:["Ext.util.Event"],statics:{releaseCapture:function(e){e.fireEvent=this.prototype.fireEvent},capture:function(e,t,n){e.fireEvent=Ext.Function.createInterceptor(e.fireEvent,t,n)},observe:function(e,t){return e&&(e.isObservable||(Ext.applyIf(e,new this),this.capture(e.prototype,e.fireEvent,e)),Ext.isObject(t)&&e.on(t)),e},prepareClass:function(
e,t){if(!e.HasListeners){var n=Ext.util.Observable,r=function(){},i=e.superclass.HasListeners||t&&t.HasListeners||n.HasListeners;e.prototype.HasListeners=e.HasListeners=r,r.prototype=e.hasListeners=new i}}},isObservable:!0,eventsSuspended:0,constructor:function(e){var t=this;Ext.apply(t,e),t.hasListeners||(t.hasListeners=new t.HasListeners),t.events=t.events||{},t.listeners&&(t.on(t.listeners),t.listeners=null),t.bubbleEvents&&t.enableBubble(t.bubbleEvents)},onClassExtended:function(e){e.HasListeners||Ext.util.Observable.prepareClass(e)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|vertical|horizontal|freezeEvent)$/,addManagedListener:function(e,t,n,r,i){var s=this,o=s.managedListeners=s.managedListeners||[],u;if(typeof t!="string"){i=t;for(t in i)i.hasOwnProperty(t)&&(u=i[t],s.eventOptionsRe.test(t)||s.addManagedListener(e,t,u.fn||u,u.scope||i.scope,u.fn?u:i))}else o.push({item:e,ename:t,fn:n,scope:r,options:i}),e.on(t,n,r,i)},removeManagedListener:function(e,t,n,r){var i=this,s,o,u,a,f;if(typeof t!="string"){s=t;for(t in s)s.hasOwnProperty(t)&&(o=s[t],i.eventOptionsRe.test(t)||i.removeManagedListener(e,t,o.fn||o,o.scope||s.scope))}u=i.managedListeners?i.managedListeners.slice():[];for(f=0,a=u.length;f<a;f++)i.removeManagedListenerItem(!1,u[f],e,t,n,r)},fireEvent:function(e){e=e.toLowerCase();var t=this,n=t.events,r=n&&n[e],i=!0;return r&&t.hasListeners[e]&&(i=t.continueFireEvent(e,Ext.Array.slice(arguments,1),r.bubble)),i},continueFireEvent:function(e,t,n){var r=this,i,s,o=!0;do{if(r.eventsSuspended)return(i=r.eventQueue)&&i.push([e,t,n]),o;s=r.events[e];if(s&&s!=1&&(o=s.fire.apply(s,t))===!1)break}while(n&&(r=r.getBubbleParent()));return o},getBubbleParent:function(){var e=this,t=e.getBubbleTarget&&e.getBubbleTarget();return t&&t.isObservable?t:null},addListener:function(e,t,n,r){var i=this,s,o,u,a=0;if(typeof e!="string"){r=e;for(e in r)r.hasOwnProperty(e)&&(s=r[e],i.eventOptionsRe.test(e)||i.addListener(e,s.fn||s,s.scope||r.scope,s.fn?s:r))}else e=e.toLowerCase(),o=i.events[e],o&&o.isEvent?a=o.listeners.length:i.events[e]=o=new Ext.util.Event(i,e),typeof t=="string"&&(t=n[t]||i[t]),o.addListener(t,n,r),o.listeners.length!==a&&(u=i.hasListeners,u.hasOwnProperty(e)?++u[e]:u[e]=1)},removeListener:function(e,t,n){var r=this,i,s,o;if(typeof e!="string"){o=e;for(e in o)o.hasOwnProperty(e)&&(i=o[e],r.eventOptionsRe.test(e)||r.removeListener(e,i.fn||i,i.scope||o.scope))}else e=e.toLowerCase(),s=r.events[e],s&&s.isEvent&&s.removeListener(t,n)&&!--r.hasListeners[e]&&delete r.hasListeners[e]},clearListeners:function(){var e=this.events,t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n],t.isEvent&&t.clearListeners());this.clearManagedListeners()},clearManagedListeners:function(){var e=this.managedListeners||[],t=0,n=e.length;for(;t<n;t++)this.removeManagedListenerItem(!0,e[t]);this.managedListeners=[]},removeManagedListenerItem:function(e,t,n,r,i,s){if(e||t.item===n&&t.ename===r&&(!i||t.fn===i)&&(!s||t.scope===s))t.item.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t)},addEvents:function(e){var t=this,n=t.events||(t.events={}),r,i,s;if(typeof e=="string")for(i=arguments,s=i.length;s--;)r=i[s],n[r]||(n[r]=!0);else Ext.applyIf(t.events,e)},hasListener:function(e){return!!this.hasListeners[e.toLowerCase()]},suspendEvents:function(e){this.eventsSuspended+=1,e&&!this.eventQueue&&(this.eventQueue=[])},resumeEvents:function(){var e=this,t=e.eventQueue,n,r;if(e.eventsSuspended&&!--e.eventsSuspended){delete e.eventQueue;if(t){n=t.length;for(r=0;r<n;r++)e.continueFireEvent.apply(e,t[r])}}},relayEvents:function(e,t,n){var r=this,i=t.length,s=0,o,u;for(;s<i;s++)o=t[s],u=n?n+o:o,r.mon(e,o,r.createRelayer(u))},createRelayer:function(e,t){var n=this;return function(){return n.fireEvent.apply(n,[e].concat(Array.prototype.slice.apply(arguments,t||[0,-1])))}},enableBubble:function(e){if(e){var t=this,n=typeof e=="string"?arguments:e,r=n.length,i=t.events,s,o,u;for(u=0;u<r;++u){s=n[u].toLowerCase(),o=i[s];if(!o||typeof o=="boolean")i[s]=o=new Ext.util.Event(t,s);t.hasListeners[s]=(t.hasListeners[s]||0)+1,o.bubble=!0}}}},function(){function i(e){var t=(this.methodEvents=this.methodEvents||{})[e],n,r,i,s=this,o;return t||(this.methodEvents[e]=t={},t.originalFn=this[e],t.methodName=e,t.before=[],t.after=[],o=function(e,t,o){(r=e.apply(t||s,o))!==undefined&&(typeof r=="object"?(r.returnValue!==undefined?n=r.returnValue:n=r,i=!!r.cancel):r===!1?i=!0:n=r)},this[e]=function(){var e=Array.prototype.slice.call(arguments,0),u,a,f;n=r=undefined,i=!1;for(a=0,f=t.before.length;a<f;a++){u=t.before[a],o(u.fn,u.scope,e);if(i)return n}(r=t.originalFn.apply(s,e))!==undefined&&(n=r);for(a=0,f=t.after.length;a<f;a++){u=t.after[a],o(u.fn,u.scope,e);if(i)return n}return n}),t}var e=this,t=e.prototype,n=function(){},r=function(t){if(!t.HasListeners){var n=t.prototype;e.prepareClass(t,this),t.onExtended(function(t){e.prepareClass(t)}),n.onClassMixedIn?Ext.override(t,{onClassMixedIn:function(e){r.call(this,e),this.callParent(arguments)}}):n.onClassMixedIn=function(e){r.call(this,e)}}};n.prototype={},t.HasListeners=e.HasListeners=n,e.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"}),e.observeClass=e.observe,Ext.apply(t,{onClassMixedIn:r,beforeMethod:function(e,t,n){i.call(this,e).before.push({fn:t,scope:n})},afterMethod:function(e,t,n){i.call(this,e).after.push({fn:t,scope:n})},removeMethodListener:function(e,t,n){var r=this.getMethodEvent(e),i,s;for(i=0,s=r.before.length;i<s;i++)if(r.before[i].fn==t&&r.before[i].scope==n){Ext.Array.erase(r.before,i,1);return}for(i=0,s=r.after.length;i<s;i++)if(r.after[i].fn==t&&r.after[i].scope==n){Ext.Array.erase(r.after,i,1);return}},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(e,arguments)})}})}),Ext.define("Ext.util.HashMap",{mixins:{observable:"Ext.util.Observable"},constructor:function(e){e=e||{};var t=this,n=e.keyFn;t.addEvents("add","clear","remove","replace"),t.mixins.observable.constructor.call(t,e),t.clear(!0),n&&(t.getKey=n)},getCount:function(){return this.length},getData:function(e,t){return t===undefined&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){var n=this;return t===undefined&&(t=e,e=n.getKey(t)),n.containsKey(e)?n.replace(e,t):(n.map[e]=t,++n.length,n.hasListeners.add&&n.fireEvent("add",n,e,t),t)},replace:function(e,t){var n=this,r=n.map,i;return t===undefined&&(t=e,e=n.getKey(t)),n.containsKey(e)||n.add(e,t),i=r[e],r[e]=t,n.hasListeners.replace&&n.fireEvent("replace",n,e,t,i),t},remove:function(e){var t=this.findKey(e);return t!==undefined?this.removeAtKey(t):!1},removeAtKey:function(e){var t=this,n;return t.containsKey(e)?(n=t.map[e],delete t.map[e],--t.length,t.hasListeners.remove&&t.fireEvent("remove",t,e,n),!0):!1},get:function(e){return this.map[e]},clear:function(e){var t=this;return t.map={},t.length=0,e!==!0&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(e){return this.map[e]!==undefined},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t=[],n,r=this.map;for(n in r)r.hasOwnProperty(n)&&t.push(e?n:r[n]);return t},each:function(e,t){var n=Ext.apply({},this.map),r,i=this.length;t=t||this;for(r in n)if(n.hasOwnProperty(r)&&e.call(t,r,n[r],i)===!1)break;return this},clone:function(){var e=new this.self,t=this.map,n;e.suspendEvents();for(n in t)t.hasOwnProperty(n)&&e.add(n,t[n]);return e.resumeEvents(),e},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t]===e)return t;return undefined}}),Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(e){Ext.apply(this,e||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e},isRegistered:function(e){return this.types[e]!==undefined},create:function(e,t){var n=e[this.typeName]||e.type||t,r=this.types[n];return new r(e)},onAvailable:function(e,t,n){var r=this.all,i,s;r.containsKey(e)?(i=r.get(e),t.call(n||i,i)):(s=function(i,o,u){o==e&&(t.call(n||u,u),r.un("add",s))},r.on("add",s))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.ComponentManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ComponentMgr",singleton:!0,typeName:"xtype",create:function(e,t){return typeof e=="string"?Ext.widget(e):e.isComponent?e:Ext.widget(e.xtype||t,e)},registerType:function(e,t){this.types[e]=t,t[this.typeName]=e,t.prototype[this.typeName]=e}}),Ext.define("Ext.ComponentQuery",{singleton:!0,requires:["Ext.ComponentManager"]},function(){var e=this,t=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),n=function(e,t){return t.method.apply(this,[e].concat(t.args))},r=function(e,t){var n=[],r=0,i=e.length,s,o=t!==">";for(;r<i;r++)s=e[r],s.getRefItems&&(n=n.concat(s.getRefItems(o)));return n},i=function(e){var t=[],n=0,r=e.length,i;for(;n<r;n++){i=e[n];while(!!(i=i.ownerCt||i.floatParent))t.push(i)}return t},s=function(e,t,n){if(t==="*")return e.slice();var r=[],i=0,s=e.length,o;for(;i<s;i++)o=e[i],o.isXType(t,n)&&r.push(o);return r},o=function(e,t){var n=Ext.Array,r=[],i=0,s=e.length,o;for(;i<s;i++)o=e[i],o.hasCls(t)&&r.push(o);return r},u=function(e,t,n,r){var i=[],s=0,o=e.length,u;for(;s<o;s++)u=e[s],(r?String(u[t])===r:!!u[t])&&i.push(u);return i},a=function(e,t){var n=[],r=0,i=e.length,s;for(;r<i;r++)s=e[r],s.getItemId()===t&&n.push(s);return n},f=function(t,n,r){return e.pseudos[n](t,r)},l=/^(\s?([>\^])\s?|\s|$)/,c=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,h=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:s},{re:/^(?:[\[](?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]])/,method:u},{re:/^#([\w\-]+)/,method:a},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:f},{re:/^(?:\{([^\}]+)\})/,method:t}];e.Query=Ext.extend(Object,{constructor:function(e){e=e||{},Ext.apply(this,e)},execute:function(e){var t=this.operations,s=0,o=t.length,u,a;e?Ext.isArray(e)?a=e:e.isMixedCollection&&(a=e.items):a=Ext.ComponentManager.all.getArray();for(;s<o;s++){u=t[s],u.mode==="^"?a=i(a||[e]):u.mode?a=r(a||[e],u.mode):a=n(a||r([e]),u);if(s===o-1)return a}return[]},is:function(e){var t=this.operations,r=Ext.isArray(e)?e:[e],i=r.length,s=t[t.length-1],o,u;r=n(r,s);if(r.length===i){if(t.length>1)for(u=0,o=r.length;u<o;u++)if(Ext.Array.indexOf(this.execute(),r[u])===-1)return!1;return!0}return!1}}),Ext.apply(this,{cache:{},pseudos:{not:function(e,t){var n=Ext.ComponentQuery,r=0,i=e.length,s=[],o=-1,u;for(;r<i;++r)u=e[r],n.is(u,t)||(s[++o]=u);return s},first:function(e){var t=[];return e.length>0&&t.push(e[0]),t},last:function(e){var t=e.length,n=[];return t>0&&n.push(e[t-1]),n}},query:function(e,t){var n=e.split(","),r=n.length,i=0,s=[],o=[],u={},a,f,l;for(;i<r;i++)e=Ext.String.trim(n[i]),a=this.cache[e]||(this.cache[e]=this.parse(e)),s=s.concat(a.execute(t));if(r>1){f=s.length;for(i=0;i<f;i++)l=s[i],u[l.id]||(o.push(l),u[l.id]=!0);s=o}return s},is:function(e,t){if(!t)return!0;var n=t.split(","),r=n.length,i=0,s;for(;i<r;i++){t=Ext.String.trim(n[i]),s=this.cache[t]||(this.cache[t]=this.parse(t));if(s.is(e))return!0}return!1},parse:function(t){var n=[],r=h.length,i,u,f,p,d,v,m,g;while(t&&i!==t){i=t,u=t.match(c),u&&(f=u[1],f==="#"?n.push({method:a,args:[Ext.String.trim(u[2])]}):f==="."?n.push({method:o,args:[Ext.String.trim(u[2])]}):n.push({method:s,args:[Ext.String.trim(u[2]),Boolean(u[3])]}),t=t.replace(u[0],""));while(!(p=t.match(l)))for(v=0;t&&v<r;v++){m=h[v],d=t.match(m.re),g=m.method;if(d){n.push({method:Ext.isString(m.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[g].concat(d.slice(1)))):m.method,args:d.slice(1)}),t=t.replace(d[0],"");break}v===r-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}p[1]&&(n.push({mode:p[2]||p[1]}),t=t.replace(p[0],""))}return new e.Query({operations:n})}})}),Ext.define("Ext.util.ProtoElement",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(n){var r=this;Ext.apply(r,n),r.classList=e(r.cls),r.classMap=t(r.classList),delete r.cls,Ext.isFunction(r.style)?(r.styleFn=r.style,delete r.style):typeof r.style=="string"?r.style=Ext.Element.parseStyles(r.style):r.style&&(r.style=Ext.apply({},r.style))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style},addCls:function(t){var n=this,r=e(t),i=r.length,s=n.classList,o=n.classMap,u=n.flushClassList,a=0,f;for(;a<i;++a)f=r[a],o[f]||(o[f]=!0,s.push(f),u&&(u.push(f),delete n.removedClasses[f]));return n},hasCls:function(e){return e in this.classMap},removeCls:function(n){var r=this,i=r.classList,s=r.classList=[],o=t(e(n)),u=i.length,a=r.classMap,f=r.removedClasses,l,c;for(l=0;l<u;++l)c=i[l],o[c]?(f&&a[c]&&(f[c]=!0,Ext.Array.remove(r.flushClassList,c)),delete a[c]):s.push(c);return r},setStyle:function(e,t){var n=this,r=n.style||(n.style={});return typeof e=="string"?arguments.length===1?n.setStyle(Ext.Element.parseStyles(e)):r[e]=t:Ext.apply(r,e),n},writeTo:function(e){var t=this,n=t.flushClassList||t.classList,r=t.removedClasses,i;return t.styleFn?(i=Ext.apply({},t.styleFn()),Ext.apply(i,t.style)):i=t.style,e[t.clsProp]=n.join(" "),i&&(e[t.styleProp]=t.styleIsText?Ext.DomHelper.generateStyles(i):i),r&&(r=Ext.Object.getKeys(r),r.length&&(e[t.removedProp]=r.join(" "))),e}}}()),Ext.EventManager=new function(){var e=this,t=document,n=window,r=function(){function l(e){r.push(n+e)}var e=t.body||t.getElementsByTagName("body")[0],n=Ext.baseCSSPrefix,r=[n+"body"],i=[],s=Ext.supports.CSS3LinearGradient,o=Ext.supports.CSS3BorderRadius,u=[],a,f;return e?(a=e.parentNode,Ext.isIE&&(l("ie"),Ext.isIE6?l("ie6"):(l("ie7p"),Ext.isIE7?l("ie7"):(l("ie8p"),Ext.isIE8?l("ie8"):(l("ie9p"),Ext.isIE9&&l("ie9")))),(Ext.isIE6||Ext.isIE7)&&l("ie7m"),(Ext.isIE6||Ext.isIE7||Ext.isIE8)&&l("ie8m"),(Ext.isIE7||Ext.isIE8)&&l("ie78")),Ext.isGecko&&(l("gecko"),Ext.isGecko3&&l("gecko3"),Ext.isGecko4&&l("gecko4"),Ext.isGecko5&&l("gecko5")),Ext.isOpera&&l("opera"),Ext.isWebKit&&l("webkit"),Ext.isSafari&&(l("safari"),Ext.isSafari2&&l("safari2"),Ext.isSafari3&&l("safari3"),Ext.isSafari4&&l("safari4"),Ext.isSafari5&&l("safari5"),Ext.isSafari5_0&&l("safari5_0")),Ext.isChrome&&l("chrome"),Ext.isMac&&l("mac"),Ext.isLinux&&l("linux"),o||l("nbr"),s||l("nlg"),Ext.scopeResetCSS?(f=Ext.resetElementSpec={cls:n+"reset"},s||u.push(n+"nlg"),o||u.push(n+"nbr"),u.length&&(f.cn={cls:u.join(" ")}),Ext.resetElement=Ext.getBody().createChild(f),u.length&&(Ext.resetElement=Ext.get(Ext.resetElement.dom.firstChild))):(Ext.resetElement=Ext.getBody(),l("reset")),a&&(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)?Ext.isBorderBox=!1:Ext.isBorderBox=!0,Ext.isBorderBox&&i.push(n+"border-box"),Ext.isStrict?i.push(n+"strict"):i.push(n+"quirks"),Ext.fly(a,"_internal").addCls(i)),Ext.fly(e,"_internal").addCls(r),!0):!1};Ext.apply(e,{hasBoundOnReady:!1,hasFiredReady:!1,deferReadyEvent:1,onReadyChain:[],readyEvent:function(){var e=new Ext.util.Event;return e.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||(new Date).getTime(),e.self.prototype.fire.apply(e,arguments),Ext._afterReadytime=(new Date).getTime()},e}(),idleEvent:new Ext.util.Event,isReadyPaused:function(){return/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady},bindReadyEvent:function(){if(e.hasBoundOnReady)return;t.readyState=="complete"?e.onReadyEvent({type:t.readyState||"body"}):(document.addEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.addEventListener("load",e.onReadyEvent,!1),e.hasBoundOnReady=!0)},onReadyEvent:function(t){t&&t.type&&e.onReadyChain.push(t.type),e.hasBoundOnReady&&(document.removeEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.removeEventListener("load",e.onReadyEvent,!1)),Ext.isReady||e.fireDocReady()},fireDocReady:function(){Ext.isReady||(Ext._readyTime=(new Date).getTime(),Ext.isReady=!0,Ext.supports.init(),e.onWindowUnload(),e.readyEvent.onReadyChain=e.onReadyChain,Ext.isNumber(e.deferReadyEvent)?(Ext.Function.defer(e.fireReadyEvent,e.deferReadyEvent),e.hasDocReadyTimer=!0):e.fireReadyEvent())},fireReadyEvent:function(){var t=e.readyEvent;e.hasDocReadyTimer=!1,e.isFiring=!0;while(t.listeners.length&&!e.isReadyPaused())t.fire();e.isFiring=!1,e.hasFiredReady=!0},onDocumentReady:function(t,n,r){r=r||{},r.single=!0,e.readyEvent.addListener(t,n,r),!e.isFiring&&!e.hasDocReadyTimer&&(Ext.isReady?e.fireReadyEvent():e.bindReadyEvent())},stoppedMouseDownEvent:new Ext.util.Event,propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(e){var r;return e=Ext.getDom(e),e===t||e===n?r=e===t?Ext.documentId:Ext.windowId:r=Ext.id(e),Ext.cache[r]||Ext.addCacheEntry(r,null,e),r},prepareListenerConfig:function(t,n,r){var i=e.propRe,s,o,u;for(s in n)n.hasOwnProperty(s)&&(i.test(s)||(o=n[s],typeof o=="function"?u=[t,s,o,n.scope,n]:u=[t,s,o.fn,o.scope,o],r?e.removeListener.apply(e,u):e.addListener.apply(e,u)))},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(t,n){return e.mouseEnterLeaveRe.test(t)&&!Ext.supports.MouseEnterLeave?(n&&(n=Ext.Function.createInterceptor(n,e.contains)),t=t=="mouseenter"?"mouseover":"mouseout"):t=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera&&(t="DOMMouseScroll"),{eventName:t,fn:n}},contains:function(t){var n=t.browserEvent.currentTarget,r=e.getRelatedTarget(t);if(n&&n.firstChild)while(r){if(r===n)return!1;r=r.parentNode,r&&r.nodeType!=1&&(r=null)}return!0},addListener:function(n,r,i,s,o){if(typeof r!="string"){e.prepareListenerConfig(n,r);return}var u=n.dom||Ext.getDom(n),a,f;o=o||{},a=e.normalizeEvent(r,i),f=e.createListenerWrap(u,r,a.fn,s,o),u.attachEvent?u.attachEvent("on"+a.eventName,f):u.addEventListener(a.eventName,f,o.capture||!1),u==t&&r=="mousedown"&&e.stoppedMouseDownEvent.addListener(f),e.getEventListenerCache(n.dom?n:u,r).push({fn:i,wrap:f,scope:s})},removeListener:function(n,r,i,s){if(typeof r!="string"){e.prepareListenerConfig(n,r,!0);return}var o=Ext.getDom(n),u=n.dom?n:Ext.get(o),a=e.getEventListenerCache(u,r),f=e.normalizeEvent(r).eventName,l=a.length,c,h,p,d;while(l--){h=a[l];if(h&&(!i||h.fn==i)&&(!s||h.scope===s)){p=h.wrap,p.task&&(clearTimeout(p.task),delete p.task),c=p.tasks&&p.tasks.length;if(c){while(c--)clearTimeout(p.tasks[c]);delete p.tasks}o.detachEvent?o.detachEvent("on"+f,p):o.removeEventListener(f,p,!1),p&&o==t&&r=="mousedown"&&e.stoppedMouseDownEvent.removeListener(p),Ext.Array.erase(a,l,1)}}},removeAll:function(t){var n=t.dom?t:Ext.get(t),r,i,s;if(!n)return;r=n.$cache||n.getCache(),i=r.events;for(s in i)i.hasOwnProperty(s)&&e.removeListener(n,s);r.events={}},purgeElement:function(t,n){var r=Ext.getDom(t),i=0,s;n?e.removeListener(t,n):e.removeAll(t);if(r&&r.childNodes)for(s=t.childNodes.length;i<s;i++)e.purgeElement(t.childNodes[i],n)},createListenerWrap:function(t,n,r,i,s){s=s||{};var o,u,a=/\\/g,f=function(l,c){return u||(o=["if(!"+Ext.name+") {return;}"],s.buffer||s.delay||s.freezeEvent?o.push("e = new X.EventObjectImpl(e, "+(s.freezeEvent?"true":"false")+");"):o.push("e = X.EventObject.setEvent(e);"),s.delegate?(o.push('var result, t = e.getTarget("'+(s.delegate+"").replace(a,"\\\\")+'", this);'),o.push("if(!t) {return;}")):o.push("var t = e.target, result;"),s.target&&o.push("if(e.target !== options.target) {return;}"),s.stopEvent?o.push("e.stopEvent();"):(s.preventDefault&&o.push("e.preventDefault();"),s.stopPropagation&&o.push("e.stopPropagation();")),s.normalized===!1&&o.push("e = e.browserEvent;"),s.buffer&&(o.push("(wrap.task && clearTimeout(wrap.task));"),o.push("wrap.task = setTimeout(function() {")),s.delay&&(o.push("wrap.tasks = wrap.tasks || [];"),o.push("wrap.tasks.push(setTimeout(function() {")),o.push("result = fn.call(scope || dom, e, t, options);"),s.single&&o.push("evtMgr.removeListener(dom, ename, fn, scope);"),n!=="mousemove"&&(o.push("if (evtMgr.idleEvent.listeners.length) {"),o.push("evtMgr.idleEvent.fire();"),o.push("}")),s.delay&&o.push("}, "+s.delay+"));"),s.buffer&&o.push("}, "+s.buffer+");"),o.push("return result;"),u=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",o.join("\n"))),u.call(t,l,s,r,i,n,t,f,c,Ext,e)};return f},getEventListenerCache:function(t,n){var r,i;return t?(t.$cache?r=t.$cache:r=Ext.cache[e.getId(t)],i=r.events||(r.events={}),i[n]||(i[n]=[])):[]},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(t){e.stopPropagation(t),e.preventDefault(t)},stopPropagation:function(e){e=e.browserEvent||e,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){e=e.browserEvent||e;if(e.preventDefault)e.preventDefault();else{e.returnValue=!1;try{if(e.ctrlKey||e.keyCode>111&&e.keyCode<124)e.keyCode=-1}catch(t){}}},getRelatedTarget:function(t){t=t.browserEvent||t;var n=t.relatedTarget;return n||(e.mouseLeaveRe.test(t.type)?n=t.toElement:e.mouseEnterRe.test(t.type)&&(n=t.fromElement)),e.resolveTextNode(n)},getPageX:function(t){return e.getPageXY(t)[0]},getPageY:function(t){return e.getPageXY(t)[1]},getPageXY:function(e){e=e.browserEvent||e;var n=e.pageX,r=e.pageY,i=t.documentElement,s=t.body;return!n&&n!==0&&(n=e.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),r=e.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)),[n,r]},getTarget:function(t){return t=t.browserEvent||t,e.resolveTextNode(t.target||t.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(!e)return;var t=HTMLElement.prototype.toString.call(e);if(t=="[xpconnect wrapped native prototype]"||t=="[object XULElement]")return;return e.nodeType==3?e.parentNode:e}:function(e){return e&&e.nodeType==3?e.parentNode:e},curWidth:0,curHeight:0,onWindowResize:function(t,r,i){var s=e.resizeEvent;s||(e.resizeEvent=s=new Ext.util.Event,e.on(n,"resize",e.fireResize,null,{buffer:100})),s.addListener(t,r,i)},fireResize:function(){var t=Ext.Element.getViewWidth(),n=Ext.Element.getViewHeight();if(e.curHeight!=n||e.curWidth!=t)e.curHeight=n,e.curWidth=t,e.resizeEvent.fire(t,n)},removeResizeListener:function(t,n){var r=e.resizeEvent;r&&r.removeListener(t,n)},onWindowUnload:function(t,r,i){var s=e.unloadEvent;s||(e.unloadEvent=s=new Ext.util.Event,e.addListener(n,"unload",e.fireUnload)),t&&s.addListener(t,r,i)},fireUnload:function(){try{t=n=undefined;var r,i,s,o,u;e.unloadEvent.fire();if(Ext.isGecko3){r=Ext.ComponentQuery.query("gridview"),i=0,s=r.length;for(;i<s;i++)r[i].scrollToTop()}u=Ext.cache;for(o in u)u.hasOwnProperty(o)&&e.removeAll(o)}catch(a){}},removeUnloadListener:function(t,n){var r=e.unloadEvent;r&&r.removeListener(t,n)},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!(Ext.isGecko&&!Ext.isWindows||Ext.isOpera),getKeyEvent:function(){return e.useKeyDown?"keydown":"keypress"}}),!("addEventListener"in document)&&document.attachEvent&&Ext.apply(e,{pollScroll:function(){var t=!0;try{document.documentElement.doScroll("left")}catch(n){t=!1}return t&&document.body?e.onReadyEvent({type:"doScroll"}):e.scrollTimeout=setTimeout(e.pollScroll,20),t},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var t=document.readyState;e.readyStatesRe.test(t)&&e.onReadyEvent({type:t})},bindReadyEvent:function(){var n=!0;if(e.hasBoundOnReady)return;try{n=window.frameElement===undefined}catch(r){n=!1}if(!n||!t.documentElement.doScroll)e.pollScroll=Ext.emptyFn;if(e.pollScroll()===!0)return;t.readyState=="complete"?e.onReadyEvent({type:"already "+(t.readyState||"body")}):(t.attachEvent("onreadystatechange",e.checkReadyState),window.attachEvent("onload",e.onReadyEvent),e.hasBoundOnReady=!0)},onReadyEvent:function(t){t&&t.type&&e.onReadyChain.push(t.type),e.hasBoundOnReady&&(document.detachEvent("onreadystatechange",e.checkReadyState),window.detachEvent("onload",e.onReadyEvent)),Ext.isNumber(e.scrollTimeout)&&(clearTimeout(e.scrollTimeout),delete e.scrollTimeout),Ext.isReady||e.fireDocReady()},onReadyChain:[]}),Ext.onReady=function(e,t,n){Ext.Loader.onReady(e,t,!0,n)},Ext.onDocumentReady=e.onDocumentReady,e.on=e.addListener,e.un=e.removeListener,Ext.onReady(r)},Ext.define("Ext.EventObjectImpl",{uses:["Ext.util.Point"],BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:function(){var e;return Ext.isGecko?e=3:Ext.isMac?(Ext.isSafari&&Ext.webKitVersion>=532?e=120:e=12,e*=3):e=120,e}(),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(e,t){e&&this.setEvent(e.browserEvent||e,t)},setEvent:function(e,t){var n=this,r,i;return e==n||e&&e.browserEvent?e:(n.browserEvent=e,e?(r=e.button?n.btnMap[e.button]:e.which?e.which-1:-1,n.clickRe.test(e.type)&&r==-1&&(r=0),i={type:e.type,button:r,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey||e.metaKey||!1,altKey:e.altKey,keyCode:e.keyCode,charCode:e.charCode,target:Ext.EventManager.getTarget(e),relatedTarget:Ext.EventManager.getRelatedTarget(e),currentTarget:e.currentTarget,xy:t?n.getXY():null}):i={button:-1,shiftKey:!1,ctrlKey:!1,altKey:!1,keyCode:0,charCode:0,target:null,xy:[0,0]},Ext.apply(n,i),n)},stopEvent:function(){this.stopPropagation(),this.preventDefault()},preventDefault:function(){this.browserEvent&&Ext.EventManager.preventDefault(this.browserEvent)},stopPropagation:function(){var e=this.browserEvent;e&&(e.type=="mousedown"&&Ext.EventManager.stoppedMouseDownEvent.fire(this),Ext.EventManager.stopPropagation(e))},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(e){return Ext.isWebKit?this.safariKeys[e]||e:e},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){return this.xy||(this.xy=Ext.EventManager.getPageXY(this.browserEvent)),this.xy},getTarget:function(e,t,n){return e?Ext.fly(this.target).findParent(e,t,n):n?Ext.get(this.target):this.target},getRelatedTarget:function(e,t,n){return e?Ext.fly(this.relatedTarget).findParent(e,t,n):n?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,n=Math.round(e/t);return!n&&e&&(n=e<0?-1:1),n},getWheelDeltas:function(){var e=this,t=e.browserEvent,n=0,r=0;return Ext.isDefined(t.wheelDeltaX)?(n=t.wheelDeltaX,r=t.wheelDeltaY):t.wheelDelta?r=t.wheelDelta:t.detail&&(r=-t.detail,r>100?r=3:r<-100&&(r=-3),Ext.isDefined(t.axis)&&t.axis===t.HORIZONTAL_AXIS&&(n=r,r=0)),{x:e.correctWheelDelta(n),y:e.correctWheelDelta(r)}},getWheelDelta:function(){var e=this.getWheelDeltas();return e.y},within:function(e,t,n){if(e){var r=t?this.getRelatedTarget():this.getTarget(),i;if(r)return i=Ext.fly(e).contains(r),!i&&n&&(i=r==Ext.getDom(e)),i}return!1},isNavKeyPress:function(){var e=this,t=this.normalizeKey(e.keyCode);return t>=33&&t<=40||t==e.RETURN||t==e.TAB||t==e.ESC},isSpecialKey:function(){var e=this.normalizeKey(this.keyCode);return this.type=="keypress"&&this.ctrlKey||this.isNavKeyPress()||e==this.BACKSPACE||e>=16&&e<=20||e>=44&&e<=46},getPoint:function(){var e=this.getXY();return new Ext.util.Point(e[0],e[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:function(){function r(t,n){var r=t!="mousemove";return function(i,s){var o=s.getXY(),u=e.createMouseEvent(i.ownerDocument,t,!0,r,n,o[0],o[1],s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget);e.fireEvent(i,t,u)}}function i(e,t){}var e,t={},n;return!Ext.isIE&&document.createEvent?e={createHtmlEvent:function(e,t,n,r){var i=e.createEvent("HTMLEvents");return i.initEvent(t,n,r),i},createMouseEvent:function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=e.createEvent("MouseEvents"),d=e.defaultView||window;return p.initMouseEvent?p.initMouseEvent(t,n,r,d,i,s,o,s,o,u,a,f,l,c,h):(p=e.createEvent("UIEvents"),p.initEvent(t,n,r),p.view=d,p.detail=i,p.screenX=s,p.screenY=o,p.clientX=s,p.clientY=o,p.ctrlKey=u,p.altKey=a,p.metaKey=l,p.shiftKey=f,p.button=c,p.relatedTarget=h),p},createUIEvent:function(e,t,n,r,i){var s=e.createEvent("UIEvents"),o=e.defaultView||window;return s.initUIEvent(t,n,r,o,i),s},fireEvent:function(e,t,n){e.dispatchEvent(n)},fixTarget:function(e){return e==window&&!e.dispatchEvent?document:e}}:document.createEventObject&&(n={0:1,1:4,2:2},e={createHtmlEvent:function(e,t,n,r){var i=e.createEventObject();return i.bubbles=n,i.cancelable=r,i},createMouseEvent:function(e,t,r,i,s,o,u,a,f,l,c,h,p){var d=e.createEventObject();return d.bubbles=r,d.cancelable=i,d.detail=s,d.screenX=o,d.screenY=u,d.clientX=o,d.clientY=u,d.ctrlKey=a,d.altKey=f,d.shiftKey=l,d.metaKey=c,d.button=n[h]||h,d.relatedTarget=p,d},createUIEvent:function(e,t,n,r,i){var s=e.createEventObject();return s.bubbles=n,s.cancelable=r,s},fireEvent:function(e,t,n){e.fireEvent("on"+t,n)},fixTarget:function(e){return e==document?document.documentElement:e}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(n,r){var i=r[0],s=r[1];t[n]=function(t,r){var o=e.createHtmlEvent(n,i,s);e.fireEvent(t,n,o)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(e){t[e]=r(e,1)}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(n,r){var i=r[0],s=r[1];t[n]=function(t,r){var o=e.createUIEvent(t.ownerDocument,n,i,s,1);e.fireEvent(t,n,o)}}),e||(t={},e={fixTarget:function(e){return e}}),function(n){var r=this,s=t[r.type]||i,o=n?n.dom||n:r.getTarget();o=e.fixTarget(o),s(o,r)}}()},function(){Ext.EventObject=new Ext.EventObjectImpl}),Ext.define("Ext.dom.AbstractQuery",{select:function(e,t){var n=[],r,i,s,o,u;t=t||document,typeof t=="string"&&(t=document.getElementById(t)),e=e.split(",");for(i=0,o=e.length;i<o;i++)if(typeof e[i]=="string")if(typeof e[i][0]=="@")r=t.getAttributeNode(e[i].substring(1)),n.push(r);else{r=t.querySelectorAll(e[i]);for(s=0,u=r.length;s<u;s++)n.push(r[s])}return n},selectNode:function(e,t){return this.select(e,t)[0]},is:function(e,t){return typeof e=="string"&&(e=document.getElementById(e)),this.select(t).indexOf(e)!==-1}}),Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:function(){function n(e,t,n){return t+"-"+n.toLowerCase()}var e=/([a-z])([A-Z])/g,t={};return function(r){return t[r]||(t[r]=r.replace(e,n))}}(),generateMarkup:function(e,t){var n=this,r,i,s,o,u;if(typeof e=="string")t.push(e);else if(Ext.isArray(e))for(o=0;o<e.length;o++)e[o]&&n.generateMarkup(e[o],t);else{s=e.tag||"div",t.push("<",s);for(r in e)e.hasOwnProperty(r)&&(i=e[r],n.confRe.test(r)||(typeof i=="object"?(t.push(" ",r,'="'),n.generateStyles(i,t).push('"')):t.push(" ",n.attributeTransform[r]||r,'="',i,'"')));n.emptyTags.test(s)?t.push("/>"):(t.push(">"),(i=e.tpl)&&i.applyOut(e.tplData,t),(i=e.html)&&t.push(i),(i=e.cn||e.children)&&n.generateMarkup(i,t),u=n.closeTags,t.push(u[s]||(u[s]="</"+s+">")))}return t},generateStyles:function(e,t){var n=t||[],r;for(r in e)e.hasOwnProperty(r)&&n.push(this.decamelizeName(r),":",e[r],";");return t||n.join("")},markup:function(e){if(typeof e=="string")return e;var t=this.generateMarkup(e,[]);return t.join("")},applyStyles:function(e,t){if(t){var n=0,r,i;e=Ext.fly(e),typeof t=="function"&&(t=t.call
());if(typeof t=="string"){t=Ext.util.Format.trim(t).split(/\s*(?::|;)\s*/);for(r=t.length;n<r;)e.setStyle(t[n++],t[n++])}else Ext.isObject(t)&&e.setStyle(t)}},insertHtml:function(e,t,n){var r={},i,s,o,u,a,f;return e=e.toLowerCase(),r.beforebegin=["BeforeBegin","previousSibling"],r.afterend=["AfterEnd","nextSibling"],o=t.ownerDocument.createRange(),s="setStart"+(this.endRe.test(e)?"After":"Before"),r[e]?(o[s](t),u=o.createContextualFragment(n),t.parentNode.insertBefore(u,e=="beforebegin"?t:t.nextSibling),t[(e=="beforebegin"?"previous":"next")+"Sibling"]):(a=(e=="afterbegin"?"first":"last")+"Child",t.firstChild?(o[s](t[a]),u=o.createContextualFragment(n),e=="afterbegin"?t.insertBefore(u,t.firstChild):t.appendChild(u)):t.innerHTML=n,t[a])},insertBefore:function(e,t,n){return this.doInsert(e,t,n,"beforebegin")},insertAfter:function(e,t,n){return this.doInsert(e,t,n,"afterend","nextSibling")},insertFirst:function(e,t,n){return this.doInsert(e,t,n,"afterbegin","firstChild")},append:function(e,t,n){return this.doInsert(e,t,n,"beforeend","",!0)},overwrite:function(e,t,n){return e=Ext.getDom(e),e.innerHTML=this.markup(t),n?Ext.get(e.firstChild):e.firstChild},doInsert:function(e,t,n,r,i,s){var o=this.insertHtml(r,Ext.getDom(e),this.markup(t));return n?Ext.get(o,!0):o}}),function(){var e=window.document,t=/^\s+|\s+$/g,n=/\s/;Ext.cache||(Ext.cache={}),Ext.define("Ext.dom.AbstractElement",{inheritableStatics:{get:function(t){var n=this,r=Ext.dom.Element,i,s,o,u;if(!t)return null;if(typeof t=="string")return t==Ext.windowId?r.get(window):t==Ext.documentId?r.get(e):(i=Ext.cache[t],i&&i.skipGarbageCollection?(s=i.el,s):(o=e.getElementById(t))?(i&&i.el?s=Ext.updateCacheEntry(i,o).el:s=new r(o,!!i),s):null);return t.tagName?((u=t.id)||(u=Ext.id(t)),i=Ext.cache[u],i&&i.el?s=Ext.updateCacheEntry(i,t).el:s=new r(t,!!i),s):t instanceof n?(t!=n.docEl&&t!=n.winEl&&(u=t.id,i=Ext.cache[u],i&&Ext.updateCacheEntry(i,e.getElementById(u)||t.dom)),t):t.isComposite?t:Ext.isArray(t)?n.select(t):t===e?(n.docEl||(n.docEl=Ext.Object.chain(r.prototype),n.docEl.dom=e,n.docEl.id=Ext.id(e),n.addToCache(n.docEl)),n.docEl):t===window?(n.winEl||(n.winEl=Ext.Object.chain(r.prototype),n.winEl.dom=window,n.winEl.id=Ext.id(window),n.addToCache(n.winEl)),n.winEl):null},addToCache:function(e,t){return e&&Ext.addCacheEntry(t,e),e},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var e,r={},i,s,o,u,a,f=[],l=!1;for(i=0,s=arguments.length;i<s;i++){e=arguments[i],Ext.isString(e)&&(e=e.replace(t,"").split(n));if(e)for(o=0,u=e.length;o<u;o++)a=e[o],r[a]||(i&&(l=!0),r[a]=!0)}for(a in r)f.push(a);return f.changed=l,f},removeCls:function(e,r){var i={},s,o,u,a=[],f=!1;if(e){Ext.isString(e)&&(e=e.replace(t,"").split(n));for(s=0,o=e.length;s<o;s++)i[e[s]]=!0}if(r){Ext.isString(r)&&(r=r.split(n));for(s=0,o=r.length;s<o;s++)u=r[s],i[u]&&(f=!0,delete i[u])}for(u in i)a.push(u);return a.changed=f,a},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(t,n){var r=this,i=typeof t=="string"?e.getElementById(t):t,s;if(!i)return null;s=i.id;if(!n&&s&&Ext.cache[s])return Ext.cache[s].el;r.dom=i,r.id=s||Ext.id(i),r.self.addToCache(r)},set:function(e,t){var n=this.dom,r,i;for(r in e)e.hasOwnProperty(r)&&(i=e[r],r=="style"?this.applyStyles(i):r=="cls"?n.className=i:t!==!1?i===undefined?n.removeAttribute(r):n.setAttribute(r,i):n[r]=i);return this},defaultUnit:"px",is:function(e){return Ext.DomQuery.is(this.dom,e)},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},remove:function(){var e=this,t=e.dom;t&&(Ext.removeNode(t),delete e.dom)},contains:function(e){if(!e)return!1;var t=this,n=e.dom||e;return n===t.dom||Ext.dom.AbstractElement.isAncestor(t.dom,n)},getAttribute:function(e,t){var n=this.dom;return n.getAttributeNS(t,e)||n.getAttribute(t+":"+e)||n.getAttribute(e)||n[e]},update:function(e){return this.dom&&(this.dom.innerHTML=e),this},setHTML:function(e){return this.dom&&(this.dom.innerHTML=e),this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){return this.setVisible(!1),this},show:function(){return this.setVisible(!0),this},setVisible:function(e,t){var n=this,r=n.self,i=n.getVisibilityMode(),s=Ext.baseCSSPrefix;switch(i){case r.VISIBILITY:n.removeCls([s+"hidden-display",s+"hidden-offsets"]),n[e?"removeCls":"addCls"](s+"hidden-visibility");break;case r.DISPLAY:n.removeCls([s+"hidden-visibility",s+"hidden-offsets"]),n[e?"removeCls":"addCls"](s+"hidden-display");break;case r.OFFSETS:n.removeCls([s+"hidden-visibility",s+"hidden-display"]),n[e?"removeCls":"addCls"](s+"hidden-offsets")}return n},getVisibilityMode:function(){var e=(this.$cache||this.getCache()).data,t=e.visibilityMode;return t===undefined&&(e.visibilityMode=t=this.self.DISPLAY),t},setVisibilityMode:function(e){return(this.$cache||this.getCache()).data.visibilityMode=e,this},getCache:function(){var e=this,t=e.dom.id||Ext.id(e.dom);return e.$cache=Ext.cache[t]||Ext.addCacheEntry(t,null,e.dom),e.$cache}},function(){var t=this;Ext.getDetachedBody=function(){var n=t.detachedBodyEl;return n||(n=e.createElement("div"),t.detachedBodyEl=n=new t.Fly(n),n.isDetachedBody=!0),n},Ext.getElementById=function(n){var r=e.getElementById(n),i;return!r&&(i=t.detachedBodyEl)&&(r=i.dom.querySelector("#"+Ext.escapeId(n))),r},Ext.get=function(e){return Ext.dom.Element.get(e)},this.addStatics({Fly:new Ext.Class({extend:t,isFly:!0,constructor:function(e){this.dom=e},attach:function(e){return this.dom=e,this.$cache=e.id?Ext.cache[e.id]:null,this}}),_flyweights:{},fly:function(e,n){var r=null,i=t._flyweights;return n=n||"_global",e=Ext.getDom(e),e&&(r=i[n]||(i[n]=new t.Fly),r.dom=e,r.$cache=e.id?Ext.cache[e.id]:null),r}}),Ext.fly=function(){return t.fly.apply(t,arguments)},function(t){t.destroy=t.remove,e.querySelector?t.getById=function(t,n){var r=e.getElementById(t)||this.dom.querySelector("#"+Ext.escapeId(t));return n?r:r?Ext.get(r):null}:t.getById=function(t,n){var r=e.getElementById(t);return n?r:r?Ext.get(r):null}}(this.prototype)})}(),Ext.dom.AbstractElement.addInheritableStatics({unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(e,t){return typeof e=="number"?e+(t||this.defaultUnit||"px"):e===""||e=="auto"||e===undefined||e===null?e||"":this.unitRe.test(e)?e:e||""},isAncestor:function(e,t){var n=!1;e=Ext.getDom(e),t=Ext.getDom(t);if(e&&t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(t)&16);while(t=t.parentNode)n=t==e||n}return n},parseBox:function(e){typeof e!="string"&&(e=e.toString());var t=e.split(" "),n=t.length;return n==1?t[1]=t[2]=t[3]=t[0]:n==2?(t[2]=t[0],t[3]=t[1]):n==3&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0}},unitizeBox:function(e,t){var n=this.addUnits,r=this.parseBox(e);return n(r.top,t)+" "+n(r.right,t)+" "+n(r.bottom,t)+" "+n(r.left,t)},camelReplaceFn:function(e,t){return t.charAt(1).toUpperCase()},normalize:function(e){return e=="float"&&(e=Ext.supports.Float?"cssFloat":"styleFloat"),this.propertyCache[e]||(this.propertyCache[e]=e.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(Ext.isStrict?document.documentElement.scrollHeight:document.body.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(Ext.isStrict?document.documentElement.scrollWidth:document.body.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){return Ext.supports.OrientationChange?window.orientation==0?"portrait":"landscape":window.innerHeight>window.innerWidth?"portrait":"landscape"},fromPoint:function(e,t){return Ext.get(document.elementFromPoint(e,t))},parseStyles:function(e){var t={},n=this.cssRe,r;if(e){n.lastIndex=0;while(r=n.exec(e))t[r[1]]=r[2]}return t}}),function(){function o(e,t,n){return function(){e.selectionStart=t,e.selectionEnd=n}}var e=document,t=Ext.dom.AbstractElement,n=null,r=e.compatMode=="CSS1Compat",i,s=function(e){return i||(i=new t.Fly),i.attach(e),i};!("activeElement"in e)&&e.addEventListener&&e.addEventListener("focus",function(t){t&&t.target&&(n=t.target==e?null:t.target)},!0),t.addInheritableStatics({getActiveElement:function(){return e.activeElement||n},getRightMarginFixCleaner:function(t){var r=Ext.supports,i=r.DisplayChangeInputSelectionBug,s=r.DisplayChangeTextAreaSelectionBug,u,a,f,l;if(i||s){u=e.activeElement||n,a=u&&u.tagName;if(s&&a=="TEXTAREA"||i&&a=="INPUT"&&u.type=="text")if(Ext.dom.Element.isAncestor(t,u)){f=u.selectionStart,l=u.selectionEnd;if(Ext.isNumber(f)&&Ext.isNumber(l))return o(u,f,l)}}return Ext.emptyFn},getViewWidth:function(e){return e?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(e){return e?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(r?e.documentElement.scrollHeight:e.body.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(r?e.documentElement.scrollWidth:e.body.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?Ext.isStrict?e.documentElement.clientHeight:e.body.clientHeight:self.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?e.body.clientWidth:Ext.isIE?e.documentElement.clientWidth:self.innerWidth},getY:function(e){return Ext.dom.Element.getXY(e)[1]},getX:function(e){return Ext.dom.Element.getXY(e)[0]},getXY:function(t){var n=e.body,r=e.documentElement,i=0,o=0,u=[0,0],a=Math.round,f,l;t=Ext.getDom(t);if(t!=e&&t!=n){if(Ext.isIE)try{f=t.getBoundingClientRect(),o=r.clientTop||n.clientTop,i=r.clientLeft||n.clientLeft}catch(c){f={left:0,top:0}}else f=t.getBoundingClientRect();l=s(document).getScroll(),u=[a(f.left+l.left-i),a(f.top+l.top-o)]}return u},setXY:function(e,t){(e=Ext.fly(e,"_setXY")).position();var n=e.translatePoints(t),r=e.dom.style,i;for(i in n)isNaN(n[i])||(r[i]=n[i]+"px")},setX:function(e,t){Ext.dom.Element.setXY(e,[t,!1])},setY:function(e,t){Ext.dom.Element.setXY(e,[!1,t])},serializeForm:function(e){var t=e.elements||(document.forms[e]||Ext.getDom(e)).elements,n=!1,r=encodeURIComponent,i="",s=t.length,o,u,a,f,l,c,h,p,d;for(c=0;c<s;c++){o=t[c],u=o.name,a=o.type,f=o.options;if(!o.disabled&&u)if(/select-(one|multiple)/i.test(a)){p=f.length;for(h=0;h<p;h++)d=f[h],d.selected&&(l=d.hasAttribute?d.hasAttribute("value"):d.getAttributeNode("value").specified,i+=Ext.String.format("{0}={1}&",r(u),r(l?d.value:d.text)))}else/file|undefined|reset|button/i.test(a)||(!/radio|checkbox/i.test(a)||!!o.checked)&&(a!="submit"||!n)&&(i+=r(u)+"="+r(o.value)+"&",n=/submit/i.test(a))}return i.substr(0,i.length-1)}})}(),Ext.dom.AbstractElement.override({getAnchorXY:function(e,t,n){e=(e||"tl").toLowerCase(),n=n||{};var r=this,i=r.dom==document.body||r.dom==document,s=n.width||i?window.innerWidth:r.getWidth(),o=n.height||i?window.innerHeight:r.getHeight(),u,a=Math.round,f=r.getXY(),l=i?0:t?0:f[0],c=i?0:t?0:f[1],h={c:[a(s*.5),a(o*.5)],t:[a(s*.5),0],l:[0,a(o*.5)],r:[s,a(o*.5)],b:[a(s*.5),o],tl:[0,0],bl:[0,o],br:[s,o],tr:[s,0]};return u=h[e],[u[0]+l,u[1]+c]},alignToRe:/^([a-z]+)-([a-z]+)(\?)?$/,getAlignToXY:function(e,t,n,r){r=!!r,e=Ext.get(e),n=n||[0,0],!t||t=="?"?t="tl-bl?":!/-/.test(t)&&t!==""&&(t="tl-"+t),t=t.toLowerCase();var i=this,s=t.match(this.alignToRe),o=window.innerWidth,u=window.innerHeight,a="",f="",l,c,h,p,d,v,m,g,y,b,w,E,S,x;if(!s)throw"Element.alignTo with an invalid alignment "+t;return a=s[1],f=s[2],x=!!s[3],l=i.getAnchorXY(a,!0),c=e.getAnchorXY(f,r),h=c[0]-l[0]+n[0],p=c[1]-l[1]+n[1],x&&(w=i.getWidth(),E=i.getHeight(),S=e.getPageBox(),g=a.charAt(0),m=a.charAt(a.length-1),b=f.charAt(0),y=f.charAt(f.length-1),v=g=="t"&&b=="b"||g=="b"&&b=="t",d=m=="r"&&y=="l"||m=="l"&&y=="r",h+w>o&&(h=d?S.left-w:o-w),h<0&&(h=d?S.right:0),p+E>u&&(p=v?S.top-E:u-E),p<0&&(p=v?S.bottom:0)),[h,p]},getAnchor:function(){var e=(this.$cache||this.getCache()).data,t;if(!this.dom)return;return t=e._anchor,t||(t=e._anchor={}),t},adjustForConstraints:function(e,t){var n=this.getConstrainVector(t,e);return n&&(e[0]+=n[0],e[1]+=n[1]),e}}),Ext.dom.AbstractElement.addMethods({appendChild:function(e){return Ext.get(e).appendTo(this)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},insertBefore:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e),this},insertAfter:function(e){return e=Ext.getDom(e),e.parentNode.insertBefore(this.dom,e.nextSibling),this},insertFirst:function(e,t){return e=e||{},e.nodeType||e.dom||typeof e=="string"?(e=Ext.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:Ext.get(e)):this.createChild(e,this.dom.firstChild,t)},insertSibling:function(e,t,n){var r=this,i=(t||"before").toLowerCase()=="after",s,o,u,a;if(Ext.isArray(e)){o=r,u=e.length;for(a=0;a<u;a++)s=Ext.fly(o,"_internal").insertSibling(e[a],t,n),i&&(o=s);return s}return e=e||{},e.nodeType||e.dom?(s=r.dom.parentNode.insertBefore(Ext.getDom(e),i?r.dom.nextSibling:r.dom),n||(s=Ext.get(s))):i&&!r.dom.nextSibling?s=Ext.core.DomHelper.append(r.dom.parentNode,e,!n):s=Ext.core.DomHelper[i?"insertAfter":"insertBefore"](r.dom,e,!n),s},replace:function(e){return e=Ext.get(e),this.insertBefore(e),e.remove(),this},replaceWith:function(e){var t=this;return e.nodeType||e.dom||typeof e=="string"?(e=Ext.get(e),t.dom.parentNode.insertBefore(e,t.dom)):e=Ext.core.DomHelper.insertBefore(t.dom,e),delete Ext.cache[t.id],Ext.removeNode(t.dom),t.id=Ext.id(t.dom=e),Ext.dom.AbstractElement.addToCache(t.isFlyweight?new Ext.dom.AbstractElement(t.dom):t),t},createChild:function(e,t,n){return e=e||{tag:"div"},t?Ext.core.DomHelper.insertBefore(t,e,n!==!0):Ext.core.DomHelper[this.dom.firstChild?"append":"insertFirst"](this.dom,e,n!==!0)},wrap:function(e,t,n){var r=Ext.core.DomHelper.insertBefore(this.dom,e||{tag:"div"},!0),i=r;return n&&(i=Ext.DomQuery.selectNode(n,r.dom)),i.appendChild(this.dom),t?r.dom:r},insertHtml:function(e,t,n){var r=Ext.core.DomHelper.insertHtml(e,this.dom,t);return n?Ext.get(r):r}}),function(){var e=Ext.dom.AbstractElement;e.override({getX:function(e){return this.getXY(e)[0]},getY:function(e){return this.getXY(e)[1]},getXY:function(){var e=window.webkitConvertPointFromNodeToPage(this.dom,new WebKitPoint(0,0));return[e.x,e.y]},getOffsetsTo:function(e){var t=this.getXY(),n=Ext.fly(e,"_internal").getXY();return[t[0]-n[0],t[1]-n[1]]},setX:function(e){return this.setXY([e,this.getY()])},setY:function(e){return this.setXY([this.getX(),e])},setLeft:function(t){return this.setStyle("left",e.addUnits(t)),this},setTop:function(t){return this.setStyle("top",e.addUnits(t)),this},setRight:function(t){return this.setStyle("right",e.addUnits(t)),this},setBottom:function(t){return this.setStyle("bottom",e.addUnits(t)),this},setXY:function(e){var t=this,n,r,i;arguments.length>1&&(e=[e,arguments[1]]),n=t.translatePoints(e),r=t.dom.style;for(i in n){if(!n.hasOwnProperty(i))continue;isNaN(n[i])||(r[i]=n[i]+"px")}return t},getLeft:function(e){return parseInt(this.getStyle("left"),10)||0},getRight:function(e){return parseInt(this.getStyle("right"),10)||0},getTop:function(e){return parseInt(this.getStyle("top"),10)||0},getBottom:function(e){return parseInt(this.getStyle("bottom"),10)||0},translatePoints:function(e,t){t=isNaN(e[1])?t:e[1],e=isNaN(e[0])?e:e[0];var n=this,r=n.isStyle("position","relative"),i=n.getXY(),s=parseInt(n.getStyle("left"),10),o=parseInt(n.getStyle("top"),10);return s=isNaN(s)?r?0:n.dom.offsetLeft:s,o=isNaN(o)?r?0:n.dom.offsetTop:o,{left:e-i[0]+s,top:t-i[1]+o}},setBox:function(e){var t=this,n=e.width,r=e.height,i=e.top,s=e.left;return s!==undefined&&t.setLeft(s),i!==undefined&&t.setTop(i),n!==undefined&&t.setWidth(n),r!==undefined&&t.setHeight(r),this},getBox:function(e,t){var n=this,r=n.dom,i=r.offsetWidth,s=r.offsetHeight,o,u,a,f,l,c;return t?e?o=[0,0]:o=[parseInt(n.getStyle("left"),10)||0,parseInt(n.getStyle("top"),10)||0]:o=n.getXY(),e?(a=n.getBorderWidth.call(n,"l")+n.getPadding.call(n,"l"),f=n.getBorderWidth.call(n,"r")+n.getPadding.call(n,"r"),l=n.getBorderWidth.call(n,"t")+n.getPadding.call(n,"t"),c=n.getBorderWidth.call(n,"b")+n.getPadding.call(n,"b"),u={x:o[0]+a,y:o[1]+l,0:o[0]+a,1:o[1]+l,width:i-(a+f),height:s-(l+c)}):u={x:o[0],y:o[1],0:o[0],1:o[1],width:i,height:s},u.left=u.x,u.top=u.y,u.right=u.x+u.width,u.bottom=u.y+u.height,u},getPageBox:function(e){var t=this,n=t.dom,r=n.offsetWidth,i=n.offsetHeight,s=t.getXY(),o=s[1],u=s[0]+r,a=s[1]+i,f=s[0];return n?e?new Ext.util.Region(o,u,a,f):{left:f,top:o,width:r,height:i,right:u,bottom:a}:new Ext.util.Region}})}(),function(){var e=Ext.dom.AbstractElement,t=document.defaultView,n=Ext.Array,r=/^\s+|\s+$/g,i=/\w/g,s=/\s+/,o=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,u=Ext.supports.ClassList,a="padding",f="margin",l="border",c="-left",h="-right",p="-top",d="-bottom",v="-width",m={l:l+c+v,r:l+h+v,t:l+p+v,b:l+d+v},g={l:a+c,r:a+h,t:a+p,b:a+d},y={l:f+c,r:f+h,t:f+p,b:f+d};e.override({styleHooks:{},addStyles:function(e,t){var n=0,r=(e||"").match(i),s,o=r.length,u,a=[];if(o==1)n=Math.abs(parseFloat(this.getStyle(t[r[0]]))||0);else if(o){for(s=0;s<o;s++)u=r[s],a.push(t[u]);a=this.getStyle(a);for(s=0;s<o;s++)u=r[s],n+=Math.abs(parseFloat(a[t[u]])||0)}return n},addCls:u?function(e){var t=this,n=t.dom,i,o,u,a,f;typeof e=="string"&&(e=e.replace(r,"").split(s));if(n&&e&&!!(a=e.length))if(!n.className)n.className=e.join(" ");else{i=n.classList;for(u=0;u<a;++u)f=e[u],f&&(i.contains(f)||(o?o.push(f):(o=n.className.replace(r,""),o=o?[o,f]:[f])));o&&(n.className=o.join(" "))}return t}:function(e){var t=this,n=t.dom,r,i;return n&&e&&e.length&&(i=Ext.Element.mergeClsList(n.className,e),i.changed&&(n.className=i.join(" "))),t},removeCls:function(e){var t=this,n=t.dom,i,o;return typeof e=="string"&&(e=e.replace(r,"").split(s)),n&&n.className&&e&&!!(i=e.length)&&(i==1&&u?e[0]&&n.classList.remove(e[0]):(o=Ext.Element.removeCls(n.className,e),o.changed&&(n.className=o.join(" ")))),t},radioCls:function(e){var t=this.dom.parentNode.childNodes,n,r,i;e=Ext.isArray(e)?e:[e];for(r=0,i=t.length;r<i;r++)n=t[r],n&&n.nodeType==1&&Ext.fly(n,"_internal").removeCls(e);return this.addCls(e)},toggleCls:u?function(e){var t=this,n=t.dom;return n&&(e=e.replace(r,""),e&&n.classList.toggle(e)),t}:function(e){var t=this;return t.hasCls(e)?t.removeCls(e):t.addCls(e)},hasCls:u?function(e){var t=this.dom;return t&&e?t.classList.contains(e):!1}:function(e){var t=this.dom;return t?e&&(" "+t.className+" ").indexOf(" "+e+" ")!=-1:!1},replaceCls:function(e,t){return this.removeCls(e).addCls(t)},isStyle:function(e,t){return this.getStyle(e)==t},getStyle:function(t,n){var r=this,i=r.dom,s=typeof t!="string",o=r.styleHooks,u=t,a=u,f=1,l,c,h,p,d,v,m;if(s){h={},u=a[0],m=0;if(!(f=a.length))return h}if(!i||i.documentElement)return h||"";l=i.style,n?v=l:(v=i.ownerDocument.defaultView.getComputedStyle(i,null),v||(n=!0,v=l));do{p=o[u],p||(o[u]=p={name:e.normalize(u)}),p.get?d=p.get(i,r,n,v):(c=p.name,d=v[c]);if(!s)return d;h[u]=d,u=a[++m]}while(m<f);return h},getStyles:function(){var e=Ext.Array.slice(arguments),t=e.length,n;return t&&typeof e[t-1]=="boolean"&&(n=e.pop()),this.getStyle(e,n)},isTransparent:function(e){var t=this.getStyle(e);return t?o.test(t):!1},setStyle:function(t,n){var r=this,i=r.dom,s=r.styleHooks,o=i.style,u=t,a;if(typeof u=="string")a=s[u],a||(s[u]=a={name:e.normalize(u)}),n=n==null?"":n,a.set?a.set(i,n,r):o[a.name]=n,a.afterSet&&a.afterSet(i,n,r);else for(u in t)t.hasOwnProperty(u)&&(a=s[u],a||(s[u]=a={name:e.normalize(u)}),n=t[u],n=n==null?"":n,a.set?a.set(i,n,r):o[a.name]=n,a.afterSet&&a.afterSet(i,n,r));return r},getHeight:function(e){var t=this.dom,n=e?t.clientHeight-this.getPadding("tb"):t.offsetHeight;return n>0?n:0},getWidth:function(e){var t=this.dom,n=e?t.clientWidth-this.getPadding("lr"):t.offsetWidth;return n>0?n:0},setWidth:function(t){var n=this;return n.dom.style.width=e.addUnits(t),n},setHeight:function(t){var n=this;return n.dom.style.height=e.addUnits(t),n},getBorderWidth:function(e){return this.addStyles(e,m)},getPadding:function(e){return this.addStyles(e,g)},margins:y,applyStyles:function(t){if(t){var n,r,i=this.dom;typeof t=="function"&&(t=t.call());if(typeof t=="string"){t=Ext.util.Format.trim(t).split(/\s*(?::|;)\s*/);for(n=0,r=t.length;n<r;)i.style[e.normalize(t[n++])]=t[n++]}else typeof t=="object"&&this.setStyle(t)}},setSize:function(t,n){var r=this,i=r.dom.style;return Ext.isObject(t)&&(n=t.height,t=t.width),i.width=e.addUnits(t),i.height=e.addUnits(n),r},getViewSize:function(){var t=document,n=this.dom;return n==t||n==t.body?{width:e.getViewportWidth(),height:e.getViewportHeight()}:{width:n.clientWidth,height:n.clientHeight}},getSize:function(e){var t=this.dom;return{width:Math.max(0,e?t.clientWidth-this.getPadding("lr"):t.offsetWidth),height:Math.max(0,e?t.clientHeight-this.getPadding("tb"):t.offsetHeight)}},repaint:function(){var e=this.dom;return this.addCls(Ext.baseCSSPrefix+"repaint"),setTimeout(function(){Ext.fly(e).removeCls(Ext.baseCSSPrefix+"repaint")},1),this},getMargin:function(e){var t=this,n={t:"top",l:"left",r:"right",b:"bottom"},r,i,s;if(!e){s=[];for(r in t.margins)t.margins.hasOwnProperty(r)&&s.push(t.margins[r]);i=t.getStyle(s);if(i&&typeof i=="object")for(r in t.margins)t.margins.hasOwnProperty(r)&&(i[n[r]]=parseFloat(i[t.margins[r]])||0);return i}return t.addStyles.call(t,e,t.margins)},mask:function(e,t,n){var r=this,i=r.dom,s=(r.$cache||r.getCache()).data,o=s.mask,u,a,f="",l=Ext.baseCSSPrefix;r.addCls(l+"masked"),r.getStyle("position")=="static"&&r.addCls(l+"masked-relative"),o&&o.remove(),t&&typeof t=="string"?f=" "+t:f=" "+l+"mask-gray",u=r.createChild({cls:l+"mask"+(n!==!1?"":" "+l+"mask-gray"),html:e?'<div class="'+(t||l+"mask-message")+'">'+e+"</div>":""}),a=r.getSize(),s.mask=u,i===document.body&&(a.height=window.innerHeight,r.orientationHandler&&Ext.EventManager.unOrientationChange(r.orientationHandler,r),r.orientationHandler=function(){a=r.getSize(),a.height=window.innerHeight,u.setSize(a)},Ext.EventManager.onOrientationChange(r.orientationHandler,r)),u.setSize(a),Ext.is.iPad&&Ext.repaint()},unmask:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.mask,r=Ext.baseCSSPrefix;n&&(n.remove(),delete t.mask),e.removeCls([r+"masked",r+"masked-relative"]),e.dom===document.body&&(Ext.EventManager.unOrientationChange(e.orientationHandler,e),delete e.orientationHandler)}}),e.populateStyleMap=function(t,n){var r=["margin-","padding-","border-width-"],i=["before","after"],s,o,u,a;for(s=r.length;s--;)for(a=2;a--;)o=r[s]+i[a],t[e.normalize(o)]=t[o]={name:e.normalize(r[s]+n[a])}},Ext.onReady(function(){function a(e,t,n,r){var i=r[this.name]||"";return o.test(i)?"transparent":i}function f(e,t,n,r){var i=r.marginRight,s,o;return i!="0px"&&(s=e.style,o=s.display,s.display="inline-block",i=(n?r:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight,s.display=o),i}function l(t,n,r,i){var s=i.marginRight,o,u,a;return s!="0px"&&(o=t.style,u=e.getRightMarginFixCleaner(t),a=o.display,o.display="inline-block",s=(r?i:t.ownerDocument.defaultView.getComputedStyle(t,"")).marginRight,o.display=a,u()),s}var t=Ext.supports,n,r,i,s,u;n=e.prototype.styleHooks,e.populateStyleMap(n,["left","right"]),t.init&&t.init(),t.RightMargin||(n.marginRight=n["margin-right"]={name:"marginRight",get:t.DisplayChangeInputSelectionBug||t.DisplayChangeTextAreaSelectionBug?l:f});if(!t.TransparentColor){r=["background-color","border-color","color","outline-color"];for(i=r.length;i--;)s=r[i],u=e.normalize(s),n[s]=n[u]={name:u,get:a}}})}(),Ext.dom.AbstractElement.override({findParent:function(e,t,n){var r=this.dom,i=document.documentElement,s=0,o;t=t||50,isNaN(t)&&(o=Ext.getDom(t),t=Number.MAX_VALUE);while(r&&r.nodeType==1&&s<t&&r!=i&&r!=o){if(Ext.DomQuery.is(r,e))return n?Ext.get(r):r;s++,r=r.parentNode}return null},findParentNode:function(e,t,n){var r=Ext.fly(this.dom.parentNode,"_internal");return r?r.findParent(e,t,n):null},up:function(e,t){return this.findParentNode(e,t,!0)},select:function(e,t){return Ext.dom.Element.select(e,this.dom,t)},query:function(e){return Ext.DomQuery.select(e,this.dom)},down:function(e,t){var n=Ext.DomQuery.selectNode(e,this.dom);return t?n:Ext.get(n)},child:function(e,t){var n,r=this,i;return i=Ext.id(r.dom),i=Ext.escapeId(i),n=Ext.DomQuery.selectNode("#"+i+" > "+e,r.dom),t?n:Ext.get(n)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,n,r){if(!this.dom)return null;var i=this.dom[t];while(i){if(i.nodeType==1&&(!n||Ext.DomQuery.is(i,n)))return r?i:Ext.get(i);i=i[e]}return null},isAncestor:function(e){return this.self.isAncestor.call(this.self,this.dom,e)}}),function(){var e="afterbegin",t="afterend",n="beforebegin",r="beforeend",i="<table>",s="</table>",o=i+"<tbody>",u="</tbody>"+s,a=o+"<tr>",f="</tr>"+u,l=document.createElement("div"),c=["BeforeBegin","previousSibling"],h=["AfterEnd","nextSibling"],p={beforebegin:c,afterend:h},d={beforebegin:c,afterend:h,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};Ext.define("Ext.dom.Helper",{extend:"Ext.dom.AbstractHelper",requires:["Ext.dom.AbstractElement"],tableRe:/^table|tbody|tr|td$/i,tableElRe:/td|tr|tbody/i,useDom:!1,createDom:function(e,t){var n,r=document,i,s,o,u,a,f;if(Ext.isArray(e)){n=r.createDocumentFragment();for(a=0,f=e.length;a<f;a++)this.createDom(e[a],n)}else if(typeof e=="string")n=r.createTextNode(e);else{n=r.createElement(e.tag||"div"),i=!!n.setAttribute;for(s in e)this.confRe.test(s)||(o=e[s],s=="cls"?n.className=o:i?n.setAttribute(s,o):n[s]=o);Ext.DomHelper.applyStyles(n,e.style),(u=e.children||e.cn)?this.createDom(u,n):e.html&&(n.innerHTML=e.html)}return t&&t.appendChild(n),n},ieTable:function(e,t,n,r){l.innerHTML=[t,n,r].join("");var i=-1,s=l,o;while(++i<e)s=s.firstChild;o=s.nextSibling;if(o){s=document.createDocumentFragment();while(o)s.appendChild(o),o=o.nextSibling}return s},insertIntoTable:function(l,c,h,p){var d,v,m=c==n,g=c==e,y=c==r,b=c==t;if(l=="td"&&(g||y)||!this.tableElRe.test(l)&&(m||b))return null;v=m?h:b?h.nextSibling:g?h.firstChild:null;if(m||b)h=h.parentNode;return l=="td"||l=="tr"&&(y||g)?d=this.ieTable(4,a,p,f):l=="tbody"&&(y||g)||l=="tr"&&(m||b)?d=this.ieTable(3,o,p,u):d=this.ieTable(2,i,p,s),h.insertBefore(d,v),d},createContextualFragment:function(e){var t=document.createDocumentFragment(),n,r;l.innerHTML=e,r=l.childNodes,n=r.length;while(n--)t.appendChild(r[0]);return t},applyStyles:function(e,t){t&&(e=Ext.fly(e),typeof t=="function"&&(t=t.call()),typeof t=="string"&&(t=Ext.dom.Element.parseStyles(t)),typeof t=="object"&&e.setStyle(t))},createHtml:function(e){return this.markup(e)},doInsert:function(e,t,n,r,i,s){e=e.dom||Ext.getDom(e);var o;return this.useDom?(o=this.createDom(t,null),s?e.appendChild(o):(i=="firstChild"?e:e.parentNode).insertBefore(o,e[i]||e)):o=this.insertHtml(r,e,this.markup(t)),n?Ext.get(o,!0):o},overwrite:function(e,t,n){var r;e=Ext.getDom(e),t=this.markup(t);if(Ext.isIE&&this.tableRe.test(e.tagName)){while(e.firstChild)e.removeChild(e.firstChild);return t?(r=this.insertHtml("afterbegin",e,t),n?Ext.get(r):r):null}return e.innerHTML=t,n?Ext.get(e.firstChild):e.firstChild},insertHtml:function(t,r,i){var s,o,u,a,f;t=t.toLowerCase();if(!r.insertAdjacentHTML)return r.nodeType===3&&(t=t==="afterbegin"?"beforebegin":t,t=t==="beforeend"?"afterend":t),o=Ext.supports.CreateContextualFragment?r.ownerDocument.createRange():undefined,a="setStart"+(this.endRe.test(t)?"After":"Before"),p[t]?(o?(o[a](r),f=o.createContextualFragment(i)):f=this.createContextualFragment(i),r.parentNode.insertBefore(f,t==n?r:r.nextSibling),r[(t==n?"previous":"next")+"Sibling"]):(u=(t==e?"first":"last")+"Child",r.firstChild?(o?(o[a](r[u]),f=o.createContextualFragment(i)):f=this.createContextualFragment(i),t==e?r.insertBefore(f,r.firstChild):r.appendChild(f)):r.innerHTML=i,r[u]);if(Ext.isIE&&this.tableRe.test(r.tagName)&&(f=this.insertIntoTable(r.tagName.toLowerCase(),t,r,i)))return f;if(s=d[t])return r.insertAdjacentHTML(s[0],i),r[s[1]]},createTemplate:function(e){var t=this.markup(e);return new Ext.Template(t)}},function(){Ext.ns("Ext.core"),Ext.DomHelper=Ext.core.DomHelper=new this})}(),Ext.ns("Ext.core"),Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=function(){function child(e,t){var n=0,r=e.firstChild;while(r){if(r.nodeType==1&&++n==t)return r;r=r.nextSibling}return null}function next(e){while((e=e.nextSibling)&&e.nodeType!=1);return e}function prev(e){while((e=e.previousSibling)&&e.nodeType!=1);return e}function children(e){var t=e.firstChild,n=-1,r;while(t)r=t.nextSibling,t.nodeType==3&&!nonSpace.test(t.nodeValue)?e.removeChild(t):t.nodeIndex=++n,t=r;return this}function byClassName(e,t){t=unescapeCssSelector(t);if(!t)return e;var n=[],r=-1,i,s;for(i=0,s;s=e[i];i++)(" "+s.className+" ").indexOf(t)!=-1&&(n[++r]=s);return n}function attrValue(e,t){return!e.tagName&&typeof e.length!="undefined"&&(e=e[0]),e?t=="for"?e.htmlFor:t=="class"||t=="className"?e.className:e.getAttribute(t)||e[t]:null}function getNodes(e,t,n){var r=[],i=-1,s,o,u,a,f,l,c,h,p;if(!e)return r;n=n||"*",typeof e.getElementsByTagName!="undefined"&&(e=[e]);if(!t)for(o=0,u;u=e[o];o++){s=u.getElementsByTagName(n);for(a=0,f;f=s[a];a++)r[++i]=f}else if(t=="/"||t==">"){c=n.toUpperCase();for(o=0,u,l;u=e[o];o++){l=u.childNodes;for(a=0,p;p=l[a];a++)if(p.nodeName==c||p.nodeName==n||n=="*")r[++i]=p}}else if(t=="+"){c=n.toUpperCase();for(o=0,h;h=e[o];o++){while((h=h.nextSibling)&&h.nodeType!=1);h&&(h.nodeName==c||h.nodeName==n||n=="*")&&(r[++i]=h)}}else if(t=="~"){c=n.toUpperCase();for(o=0,h;h=e[o];o++)while(h=h.nextSibling)if(h.nodeName==c||h.nodeName==n||n=="*")r[++i]=h}return r}function concat(e,t){if(t.slice)return e.concat(t);for(var n=0,r=t.length;n<r;n++)e[e.length]=t[n];return e}function byTag(e,t){if(e.tagName||e==document)e=[e];if(!t)return e;var n=[],r=-1,i,s;t=t.toLowerCase();for(i=0,s;s=e[i];i++)s.nodeType==1&&s.tagName.toLowerCase()==t&&(n[++r]=s);return n}function byId(e,t){t=unescapeCssSelector(t);if(e.tagName||e==document)e=[e];if(!t)return e;var n=[],r=-1,i,s;for(i=0,s;s=e[i];i++)if(s&&s.id==t)return n[++r]=s,n;return n}function byAttribute(e,t,n,r,i){var s=[],o=-1,u=i=="{",a=Ext.DomQuery.operators[r],f,l,c,h,p;n=unescapeCssSelector(n);for(h=0,p;p=e[h];h++){if(p.nodeType!=1)continue;c||(l=Ext.DomQuery.isXml(p),c=!0),l?f=p.getAttribute(t):u?f=Ext.DomQuery.getStyle(p,t):t=="class"||t=="className"?f=p.className:t=="for"?f=p.htmlFor:t=="href"?f=p.getAttribute("href",2):f=p.getAttribute(t);if(a&&a(f,n)||!a&&f)s[++o]=p}return s}function byPseudo(e,t,n){return n=unescapeCssSelector(n),Ext.DomQuery.pseudos[t](e,n)}function nodupIEXml(e){var t=++key,n,r,i,s;e[0].setAttribute("_nodup",t),n=[e[0]];for(r=1,i=e.length;r<i;r++)s=e[r],!s.getAttribute("_nodup")!=t&&(s.setAttribute("_nodup",t),n[n.length]=s);for(r=0,i=e.length;r<i;r++)e[r].removeAttribute("_nodup");return n}function nodup(e){if(!e)return[];var t=e.length,n,r,i=e,s,o=-1,u,a;if(!t||typeof e.nodeType!="undefined"||t==1)return e;if(isIE&&typeof e[0].selectSingleNode!="undefined")return nodupIEXml(e);u=++key,e[0]._nodup=u;for(r=1;n=e[r];r++){if(n._nodup==u){i=[];for(a=0;a<r;a++)i[++o]=e[a];for(a=r+1;s=e[a];a++)s._nodup!=u&&(s._nodup=u,i[++o]=s);return i}n._nodup=u}return i}function quickDiffIEXml(e,t){var n=++key,r=[],i,s;for(i=0,s=e.length;i<s;i++)e[i].setAttribute("_qdiff",n);for(i=0,s=t.length;i<s;i++)t[i].getAttribute("_qdiff")!=n&&(r[r.length]=t[i]);for(i=0,s=e.length;i<s;i++)e[i].removeAttribute("_qdiff");return r}function quickDiff(e,t){var n=e.length,r=++key,i=[],s,o;if(!n)return t;if(isIE&&typeof e[0].selectSingleNode!="undefined")return quickDiffIEXml(e,t);for(s=0;s<n;s++)e[s]._qdiff=r;for(s=0,o=t.length;s<o;s++)t[s]._qdiff!=r&&(i[i.length]=t[s]);return i}function quickId(e,t,n,r){if(e==n){r=unescapeCssSelector(r);var i=n.ownerDocument||n;return i.getElementById(r)}return e=getNodes(e,t,"*"),byId(e,r)}var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g
,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*\#/,isIE=window.ActiveXObject?!0:!1,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){while(t.length<6)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return num=t.charCodeAt(0).toString(16),num.length===1&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return hasEscapes=e.indexOf("\\")>-1,hasEscapes&&(e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),e};return eval("var batch = 30803;"),{getStyle:function(e,t){return Ext.fly(e).getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));while(path.substr(0,1)=="/")path=path.substr(1);while(path&&lastPath!=path){lastPath=path,tokenMatch=path.match(tagTokenRe),type=="select"?tokenMatch?(tokenMatch[1]=="#"?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):path.substr(0,1)!="@"&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&(tokenMatch[1]=="#"?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));while(!(modeMatch=path.match(modeRe))){matched=!1;for(j=0;j<matchersLn;j++){t=matchers[j],m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),path=path.replace(m[0],""),matched=!0;break}}matched||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,n){t=t||document,typeof t=="string"&&(t=document.getElementById(t));var r=e.split(","),i=[],s,o,u,a;for(s=0,o=r.length;s<o;s++)u=r[s].replace(trimRe,""),cache[u]?setupEscapes(u):(cache[u]=Ext.DomQuery.compile(u,n),cache[u]||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:u+" is not a valid selector"})),a=cache[u](t),a&&a!=document&&(i=i.concat(a));return r.length>1?nodup(i):i},isXml:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1},select:document.querySelectorAll?function(e,t,n){t=t||document;if(!Ext.DomQuery.isXml(t))try{return t.parentNode&&t.nodeType!==9&&e.indexOf(",")===-1&&!startIdRe.test(e)&&(e="#"+Ext.escapeId(Ext.id(t))+" "+e,t=t.parentNode),Ext.Array.toArray(t.querySelectorAll(e))}catch(r){}return Ext.DomQuery.jsSelect.call(this,e,t,n)}:function(e,t,n){return Ext.DomQuery.jsSelect.call(this,e,t,n)},selectNode:function(e,t){return Ext.DomQuery.select(e,t)[0]},selectValue:function(e,t,n){e=e.replace(trimRe,""),valueCache[e]?setupEscapes(e):valueCache[e]=Ext.DomQuery.compile(e,"select");var r=valueCache[e](t),i;return r=r[0]?r[0]:r,typeof r.normalize=="function"&&r.normalize(),i=r&&r.firstChild?r.firstChild.nodeValue:null,i===null||i===undefined||i===""?n:i},selectNumber:function(e,t,n){var r=Ext.DomQuery.selectValue(e,t,n||0);return parseFloat(r)},is:function(e,t){typeof e=="string"&&(e=document.getElementById(e));var n=Ext.isArray(e),r=Ext.DomQuery.filter(n?e:[e],t);return n?r.length==e.length:r.length>0},filter:function(e,t,n){t=t.replace(trimRe,""),simpleCache[t]?setupEscapes(t):simpleCache[t]=Ext.DomQuery.compile(t,"simple");var r=simpleCache[t](e);return n?quickDiff(r,e):r},matchers:[{re:/^\.([\w\-\\]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&e.indexOf(t)!==-1},"%=":function(e,t){return e%t==0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&(" "+e+" ").indexOf(" "+t+" ")!=-1}},pseudos:{"first-child":function(e){var t=[],n=-1,r,i,s;for(i=0;s=r=e[i];i++){while((r=r.previousSibling)&&r.nodeType!=1);r||(t[++n]=s)}return t},"last-child":function(e){var t=[],n=-1,r,i,s;for(i=0;s=r=e[i];i++){while((r=r.nextSibling)&&r.nodeType!=1);r||(t[++n]=s)}return t},"nth-child":function(e,t){var n=[],r=-1,i=nthRe.exec(t=="even"&&"2n"||t=="odd"&&"2n+1"||!nthRe2.test(t)&&"n+"+t||t),s=(i[1]||1)-0,o=i[2]-0,u,a,f,l,c;for(u=0;a=e[u];u++){c=a.parentNode;if(batch!=c._batch){f=0;for(l=c.firstChild;l;l=l.nextSibling)l.nodeType==1&&(l.nodeIndex=++f);c._batch=batch}if(s==1){if(o==0||a.nodeIndex==o)n[++r]=a}else(a.nodeIndex+o)%s==0&&(n[++r]=a)}return n},"only-child":function(e){var t=[],n=-1,r,i;for(r=0;i=e[r];r++)!prev(i)&&!next(i)&&(t[++n]=i);return t},empty:function(e){var t=[],n=-1,r,i,s,o,u,a;for(r=0,i;i=e[r];r++){s=i.childNodes,o=0,a=!0;while(u=s[o]){++o;if(u.nodeType==1||u.nodeType==3){a=!1;break}}a&&(t[++n]=i)}return t},contains:function(e,t){var n=[],r=-1,i,s;for(i=0;s=e[i];i++)(s.textContent||s.innerText||s.text||"").indexOf(t)!=-1&&(n[++r]=s);return n},nodeValue:function(e,t){var n=[],r=-1,i,s;for(i=0;s=e[i];i++)s.firstChild&&s.firstChild.nodeValue==t&&(n[++r]=s);return n},checked:function(e){var t=[],n=-1,r,i;for(r=0;i=e[r];r++)i.checked==1&&(t[++n]=i);return t},not:function(e,t){return Ext.DomQuery.filter(e,t,!0)},any:function(e,t){var n=t.split("|"),r=[],i=-1,s,o,u,a;for(o=0;u=e[o];o++)for(a=0;s=n[a];a++)if(Ext.DomQuery.is(u,s)){r[++i]=u;break}return r},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){var n=Ext.DomQuery.select,r=[],i=-1,s,o;for(s=0;o=e[s];s++)n(t,o).length>0&&(r[++i]=o);return r},next:function(e,t){var n=Ext.DomQuery.is,r=[],i=-1,s,o,u;for(s=0;o=e[s];s++)u=next(o),u&&n(u,t)&&(r[++i]=o);return r},prev:function(e,t){var n=Ext.DomQuery.is,r=[],i=-1,s,o,u;for(s=0;o=e[s];s++)u=prev(o),u&&n(u,t)&&(r[++i]=o);return r}}}}(),Ext.query=Ext.DomQuery.select,function(){var e="hidden",t=document,n="visibility",r="display",i="none",s=Ext.baseCSSPrefix+"masked",o=Ext.baseCSSPrefix+"masked-relative",u=Ext.baseCSSPrefix+"mask-msg",a=/^body/i,f,l=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},c=function(e){var t=[],n=-1,r,i;for(r=0;i=e[r];r++)if(i.scrollTop>0||i.scrollLeft>0)t[++n]=i;return t},h=Ext.define("Ext.dom.Element",{extend:"Ext.dom.AbstractElement",alternateClassName:["Ext.Element","Ext.core.Element"],addUnits:function(){return this.self.addUnits.apply(this.self,arguments)},focus:function(e,n){var r=this,i,s;n=n||r.dom,s=(n.ownerDocument||t).body||t.body;try{Number(e)?Ext.defer(r.focus,e,r,[null,n]):(n.offsetHeight>h.getViewHeight()&&(i=s.scrollTop),n.focus(),i!==undefined&&(s.scrollTop=i))}catch(o){}return r},blur:function(){try{this.dom.blur()}catch(e){}return this},isBorderBox:function(){var e=Ext.isBorderBox;return e&&(e=!((this.dom.tagName||"").toLowerCase()in l)),e},hover:function(e,t,n,r){var i=this;return i.on("mouseenter",e,n||i.dom,r),i.on("mouseleave",t,n||i.dom,r),i},getAttributeNS:function(e,t){return this.getAttribute(t,e)},getAttribute:Ext.isIE&&(!Ext.isIE9||t.documentMode!==9)?function(e,t){var n=this.dom,r;return t?(r=typeof n[t+":"+e],r!="undefined"&&r!="unknown"?n[t+":"+e]||null:null):(e==="for"&&(e="htmlFor"),n[e]||null)}:function(e,t){var n=this.dom;return t?n.getAttributeNS(t,e)||n.getAttribute(t+":"+e):n.getAttribute(e)||n[e]||null},cacheScrollValues:function(){var e=this,t,n,r,i=[],s=function(){for(r=0;r<t.length;r++)n=t[r],n.scrollLeft=i[r][0],n.scrollTop=i[r][1]};Ext.DomQuery.pseudos.isScrolled||(Ext.DomQuery.pseudos.isScrolled=c),t=e.query(":isScrolled");for(r=0;r<t.length;r++)n=t[r],i[r]=[n.scrollLeft,n.scrollTop];return s},autoBoxAdjust:!0,isVisible:function(t){var s=this,o=s.dom,u=o.ownerDocument.documentElement;f||(f=new h.Fly);while(o!==u){if(!o||o.nodeType===11||f.attach(o).isStyle(n,e)||f.isStyle(r,i))return!1;if(!t)break;o=o.parentNode}return!0},isDisplayed:function(){return!this.isStyle(r,i)},enableDisplayMode:function(e){var t=this;return t.setVisibilityMode(h.DISPLAY),Ext.isEmpty(e)||((t.$cache||t.getCache()).data.originalDisplay=e),t},mask:function(e,n,r){var i=this,f=i.dom,l=f.style.setExpression,c=(i.$cache||i.getCache()).data,h=c.maskEl,p=c.maskMsg;(!a.test(f.tagName)||i.getStyle("position")!="static")&&i.addCls(o),h&&h.remove(),p&&p.remove(),Ext.DomHelper.append(f,[{cls:Ext.baseCSSPrefix+"mask"},{cls:n?u+" "+n:u,cn:{tag:"div",html:e||""}}]),p=Ext.get(f.lastChild),h=Ext.get(p.dom.previousSibling),c.maskMsg=p,c.maskEl=h,i.addCls(s),h.setDisplayed(!0),typeof e=="string"?(p.setDisplayed(!0),p.center(i)):p.setDisplayed(!1);if(!Ext.supports.IncludePaddingInWidthCalculation&&l)try{h.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"')}catch(d){}if(!Ext.supports.IncludePaddingInHeightCalculation&&l)try{h.dom.style.setExpression("height","this.parentNode."+(f==t.body?"scrollHeight":"offsetHeight")+' + "px"')}catch(d){}else Ext.isIE&&(!Ext.isIE7||!Ext.isStrict)&&i.getStyle("height")=="auto"&&h.setSize(undefined,r||i.getHeight());return h},unmask:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.maskEl,r=t.maskMsg,i;n&&(i=n.dom.style,i.clearExpression&&(i.clearExpression("width"),i.clearExpression("height")),n&&(n.remove(),delete t.maskEl),r&&(r.remove(),delete t.maskMsg),e.removeCls([s,o]))},isMasked:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.maskEl,r=t.maskMsg,i=!1;return n&&n.isVisible()&&(r&&r.center(e),i=!0),i},createShim:function(){var e=t.createElement("iframe"),n;return e.frameBorder="0",e.className=Ext.baseCSSPrefix+"shim",e.src=Ext.SSL_SECURE_URL,n=Ext.get(this.dom.parentNode.insertBefore(e,this.dom)),n.autoBoxAdjust=!1,n},addKeyListener:function(e,t,n){var r;return typeof e!="object"||Ext.isArray(e)?r={target:this,key:e,fn:t,scope:n}:r={target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:n},new Ext.util.KeyMap(r)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},on:function(e,t,n,r){return Ext.EventManager.on(this,e,t,n||this,r),this},un:function(e,t,n){return Ext.EventManager.un(this,e,t,n||this),this},removeAllListeners:function(){return Ext.EventManager.removeAll(this),this},purgeAllListeners:function(){return Ext.EventManager.purgeElement(this),this}},function(){function c(){if(!Ext.enableGarbageCollector)clearInterval(n.collectorThreadId);else{var t,r,i,s;for(t in e){if(!e.hasOwnProperty(t))continue;i=e[t];if(i.skipGarbageCollection)continue;r=i.dom;if(!r.parentNode||!r.offsetParent&&!Ext.getElementById(t))r&&Ext.enableListenerCollection&&Ext.EventManager.removeAll(r),delete e[t]}if(Ext.isIE){s={};for(t in e){if(!e.hasOwnProperty(t))continue;s[t]=e[t]}e=Ext.cache=s}}}var e=Ext.cache,n=this,r=Ext.dom.AbstractElement,i=/a|button|embed|iframe|img|input|object|select|textarea/i,s=/\S/,o=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,u=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,a=/\ssrc=([\'\"])(.*?)\1/i,f=/\stype=([\'\"])(.*?)\1/i,l=!(Ext.isIE6||Ext.isIE7||Ext.isIE8);n.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>',n.collectorThreadId=setInterval(c,3e4),n.addMethods({monitorMouseLeave:function(e,t,n){var r=this,i,s={mouseleave:function(s){i=setTimeout(Ext.Function.bind(t,n||r,[s]),e)},mouseenter:function(){clearTimeout(i)},freezeEvent:!0};return r.on(s),s},swallowEvent:function(e,t){function s(e){e.stopPropagation(),t&&e.preventDefault()}var n=this,r,i;if(Ext.isArray(e)){i=e.length;for(r=0;r<i;r++)n.on(e[r],s);return n}return n.on(e,s),n},relayEvent:function(e,t){this.on(e,function(n){t.fireEvent(e,n)})},clean:function(e){var t=this,n=t.dom,r=(t.$cache||t.getCache()).data,i=n.firstChild,o=-1,u;if(r.isCleaned&&e!==!0)return t;while(i)u=i.nextSibling,i.nodeType==3?s.test(i.nodeValue)?u&&u.nodeType==3&&(i.appendData(Ext.String.trim(u.data)),n.removeChild(u),u=i.nextSibling,i.nodeIndex=++o):n.removeChild(i):(Ext.fly(i).clean(),i.nodeIndex=++o),i=u;return r.isCleaned=!0,t},load:function(e){return this.getLoader().load(e),this},getLoader:function(){var e=this,t=(e.$cache||e.getCache()).data,n=t.loader;return n||(t.loader=n=new Ext.ElementLoader({target:e})),n},syncContent:function(e){e=Ext.getDom(e);var t=this,n=e.childNodes,r=n.length,i=t.dom,s=i.childNodes,o=s.length,u,a,f,l;i.style.cssText=e.style.cssText,i.className=e.className;if(r!==o){e.innerHTML=i.innerHTML;return}for(u=0;u<r;u++){f=n[u],a=s[u],l=f.nodeType;if(l!==a.nodeType||l===1&&f.tagName!==a.tagName){i.innerHTML=e.innerHTML;return}l===3?a.data=f.data:(f.id&&a.id!==f.id&&(a.id=f.id),a.style.cssText=f.style.cssText,a.className=f.className,Ext.fly(a).syncContent(f))}},update:function(e,n,r){var i=this,s,l,c;return i.dom?(e=e||"",l=i.dom,n!==!0?(l.innerHTML=e,Ext.callback(r,i),i):(s=Ext.id(),e+='<span id="'+s+'"></span>',c=setInterval(function(){var n,u,l,h,p,d,v;if(!(d=t.getElementById(s)))return!1;clearInterval(c),Ext.removeNode(d),n=Ext.getHead().dom;while(u=o.exec(e))l=u[1],h=l?l.match(a):!1,h&&h[2]?(v=t.createElement("script"),v.src=h[2],p=l.match(f),p&&p[2]&&(v.type=p[2]),n.appendChild(v)):u[2]&&u[2].length>0&&(window.execScript?window.execScript(u[2]):window.eval(u[2]));Ext.callback(r,i)},20),l.innerHTML=e.replace(u,""),i)):i},removeAllListeners:function(){return this.removeAnchor(),Ext.EventManager.removeAll(this.dom),this},createProxy:function(e,t,n){e=typeof e=="object"?e:{tag:"div",cls:e};var r=this,i=t?Ext.DomHelper.append(t,e,!0):Ext.DomHelper.insertBefore(r.dom,e,!0);return i.setVisibilityMode(h.DISPLAY),i.hide(),n&&r.setBox&&r.getBox&&i.setBox(r.getBox()),i},getScopeParent:function(){var e=this.dom.parentNode;if(Ext.scopeResetCSS){e=e.parentNode;if(!Ext.supports.CSS3LinearGradient||!Ext.supports.CSS3BorderRadius)e=e.parentNode}return e},needsTabIndex:function(){if(this.dom)return this.dom.nodeName==="a"&&!this.dom.href?!0:!i.test(this.dom.nodeName)},focusable:function(){var e=this.dom,t=e.nodeName,n=!1;if(!e.disabled)if(i.test(t)){if(t!=="a"||e.href)n=!0}else n=!isNaN(e.tabIndex);return n&&this.isVisible(!0)}}),Ext.isIE&&(n.prototype.getById=function(r,i){var s=this.dom,o,u,a;if(s){u=l&&t.getElementById(r)||s.all[r];if(u)return i?a=u:(o=e[r],o&&o.el?a=Ext.updateCacheEntry(o,u).el:a=new h(u)),a}return i?Ext.getDom(r):n.get(r)}),n.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners"}),n.Fly=r.Fly=new Ext.Class({extend:n,constructor:function(e){this.dom=e},attach:r.Fly.prototype.attach}),Ext.isIE?Ext.getElementById=function(e){var n=t.getElementById(e),i;return!n&&(i=r.detachedBodyEl)&&(n=i.dom.all[e]),n}:t.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(e){return t.getElementById(e)})})}(),Ext.dom.Element.override(function(){var e=document,t=window,n=/^([a-z]+)-([a-z]+)(\?)?$/,r=Math.round;return{getAnchorXY:function(t,n,i){t=(t||"tl").toLowerCase(),i=i||{};var s=this,o=s.dom==e.body||s.dom==e,u=i.width||o?Ext.dom.Element.getViewWidth():s.getWidth(),a=i.height||o?Ext.dom.Element.getViewHeight():s.getHeight(),f,l=s.getXY(),c=s.getScroll(),h=o?c.left:n?0:l[0],p=o?c.top:n?0:l[1];switch(t){case"tl":f=[0,0];break;case"bl":f=[0,a];break;case"tr":f=[u,0];break;case"c":f=[r(u*.5),r(a*.5)];break;case"t":f=[r(u*.5),0];break;case"l":f=[0,r(a*.5)];break;case"r":f=[u,r(a*.5)];break;case"b":f=[r(u*.5),a];break;case"br":f=[u,a]}return[f[0]+h,f[1]+p]},getAlignToXY:function(t,r,i){t=Ext.get(t),!t||!t.dom,i=i||[0,0],r=(!r||r=="?"?"tl-bl?":!/-/.test(r)&&r!==""?"tl-"+r:r||"tl-bl").toLowerCase();var s=this,o,u,a,f,l,c,h,p=Ext.dom.Element.getViewWidth()-10,d=Ext.dom.Element.getViewHeight()-10,v,m,g,y,b,w,E=e.documentElement,S=e.body,x=E.scrollLeft||S.scrollLeft||0,T=E.scrollTop||S.scrollTop||0,N,C,k,L=r.match(n);return C=L[1],k=L[2],N=!!L[3],o=s.getAnchorXY(C,!0),u=t.getAnchorXY(k,!1),a=u[0]-o[0]+i[0],f=u[1]-o[1]+i[1],N&&(l=s.getWidth(),c=s.getHeight(),h=t.getRegion(),v=C.charAt(0),m=C.charAt(C.length-1),g=k.charAt(0),y=k.charAt(k.length-1),b=v=="t"&&g=="b"||v=="b"&&g=="t",w=m=="r"&&y=="l"||m=="l"&&y=="r",a+l>p+x&&(a=w?h.left-l:p+x-l),a<x&&(a=w?h.right:x),f+c>d+T&&(f=b?h.top-c:d+T-c),f<T&&(f=b?h.bottom:T)),[a,f]},anchorTo:function(e,n,r,i,s,o){var u=this,a=u.dom,f=!Ext.isEmpty(s),l=function(){Ext.fly(a).alignTo(e,n,r,i),Ext.callback(o,Ext.fly(a))},c=this.getAnchor();return this.removeAnchor(),Ext.apply(c,{fn:l,scroll:f}),Ext.EventManager.onWindowResize(l,null),f&&Ext.EventManager.on(t,"scroll",l,null,{buffer:isNaN(s)?50:s}),l.call(u),u},removeAnchor:function(){var e=this,n=this.getAnchor();return n&&n.fn&&(Ext.EventManager.removeResizeListener(n.fn),n.scroll&&Ext.EventManager.un(t,"scroll",n.fn),delete n.fn),e},getAlignVector:function(e,t,n){var r=this,i=r.getXY(),s=r.getAlignToXY(e,t,n);return e=Ext.get(e),s[0]-=i[0],s[1]-=i[1],s},alignTo:function(e,t,n,r){var i=this;return i.setXY(i.getAlignToXY(e,t,n),i.anim&&!!r?i.anim(r):!1)},getConstrainVector:function(e,t){e instanceof Ext.util.Region||(e=Ext.get(e).getViewRegion());var n=this.getRegion(),r=[0,0],i=this.shadow&&!this.shadowDisabled?this.shadow.getShadowSize():undefined,s=!1;return t&&n.translateBy(t[0]-n.x,t[1]-n.y),i&&e.adjust(i[0],-i[1],-i[2],i[3]),n.right>e.right&&(s=!0,r[0]=e.right-n.right),n.left+r[0]<e.left&&(s=!0,r[0]=e.left-n.left),n.bottom>e.bottom&&(s=!0,r[1]=e.bottom-n.bottom),n.top+r[1]<e.top&&(s=!0,r[1]=e.top-n.top),s?r:!1},getCenterXY:function(){return this.getAlignToXY(e,"c-c")},center:function(t){return this.alignTo(t||e,"c-c")}}}()),Ext.dom.Element.override({animate:function(e){var t=this,n,r,i=t.dom.id||Ext.id(t.dom);return Ext.fx.Manager.hasFxBlock(i)||(e.listeners&&(n=e.listeners,delete e.listeners),e.internalListeners&&(e.listeners=e.internalListeners,delete e.internalListeners),r=new Ext.fx.Anim(t.anim(e)),n&&r.on(n),Ext.fx.Manager.queueFx(r)),t},anim:function(e){if(!Ext.isObject(e))return e?{}:!1;var t=this,n=e.duration||Ext.fx.Anim.prototype.duration,r=e.easing||"ease",i;return e.stopAnimation&&t.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(t.id)),Ext.fx.Manager.setFxDefaults(t.id,{delay:0}),i={target:t.dom,remove:e.remove,alternate:e.alternate||!1,duration:n,easing:r,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:!0,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e)},Ext.apply(i.to,e.to),delete i.to.to,delete i.to.from,delete i.to.remove,delete i.to.alternate,delete i.to.keyframes,delete i.to.iterations,delete i.to.listeners,delete i.to.target,delete i.to.paused,delete i.to.callback,delete i.to.scope,delete i.to.duration,delete i.to.easing,delete i.to.concurrent,delete i.to.block,delete i.to.stopAnimation,delete i.to.delay,i},slideIn:function(e,t,n){var r=this,i=r.dom.style,s,o,u,a;return e=e||"t",t=t||{},s=function(){var s=this,f=t.listeners,l,c,h,p;n||r.fixDisplay(),l=r.getBox(),e!="t"&&e!="b"||l.height!==0?(e=="l"||e=="r")&&l.width===0&&(l.width=r.dom.scrollWidth):l.height=r.dom.scrollHeight,c=r.getStyles("width","height","left","right","top","bottom","position","z-index",!0),r.setSize(l.width,l.height),t.preserveScroll&&(u=r.cacheScrollValues()),p=r.wrap({id:Ext.id()+"-anim-wrap-for-"+r.id,style:{visibility:n?"visible":"hidden"}}),a=p.dom.parentNode,p.setPositioning(r.getPositioning()),p.isStyle("position","static")&&p.position("relative"),r.clearPositioning("auto"),p.clip(),u&&u(),r.setStyle({visibility:"",position:"absolute"}),n&&p.setSize(l.width,l.height);switch(e){case"t":h={from:{width:l.width+"px",height:"0px"},to:{width:l.width+"px",height:l.height+"px"}},i.bottom="0px";break;case"l":h={from:{width:"0px",height:l.height+"px"},to:{width:l.width+"px",height:l.height+"px"}},i.right="0px";break;case"r":h={from:{x:l.x+l.width,width:"0px",height:l.height+"px"},to:{x:l.x,width:l.width+"px",height:l.height+"px"}};break;case"b":h={from:{y:l.y+l.height,width:l.width+"px",height:"0px"},to:{y:l.y,width:l.width+"px",height:l.height+"px"}};break;case"tl":h={from:{x:l.x,y:l.y,width:"0px",height:"0px"},to:{width:l.width+"px",height:l.height+"px"}},i.bottom="0px",i.right="0px";break;case"bl":h={from:{y:l.y+l.height,width:"0px",height:"0px"},to:{y:l.y,width:l.width+"px",height:l.height+"px"}},i.bottom="0px";break;case"br":h={from:{x:l.x+l.width,y:l.y+l.height,width:"0px",height:"0px"},to:{x:l.x,y:l.y,width:l.width+"px",height:l.height+"px"}};break;case"tr":h={from:{x:l.x+l.width,width:"0px",height:"0px"},to:{x:l.x,width:l.width+"px",height:l.height+"px"}},i.right="0px"}p.show(),o=Ext.apply({},t),delete o.listeners,o=new Ext.fx.Anim(Ext.applyIf(o,{target:p,duration:500,easing:"ease-out",from:n?h.to:h.from,to:n?h.from:h.to})),o.on("afteranimate",function(){r.setStyle(c),n&&(t.useDisplay?r.setDisplayed(!1):r.hide()),p.dom&&(p.dom.parentNode?p.dom.parentNode.insertBefore(r.dom,p.dom):a.appendChild(r.dom),p.remove()),u&&u(),s.end()}),f&&o.on(f)},r.animate({duration:t.duration?Math.max(t.duration,500)*2:1e3,listeners:{beforeanimate:s}}),r},slideOut:function(e,t){return this.slideIn(e,t,!0)},puff:function(e){var t=this,n,r=t.getBox(),i=t.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:!1}),n=function(){t.clearOpacity(),t.show(),this.to={width:r.width*2,height:r.height*2,x:r.x-r.width/2,y:r.y-r.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){t.dom&&(e.useDisplay?t.setDisplayed(!1):t.hide(),t.setStyle(i),e.callback.call(e.scope))})},t.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:n}}}),t},switchOff:function(e){var t=this,n;return e=Ext.applyIf(e||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),n=function(){var n=this,r=t.getSize(),i=t.getXY(),s,o;t.clearOpacity(),t.clip(),o=t.getPositioning(),s=new Ext.fx.Animator({target:t,duration:e.duration,easing:e.easing,keyframes:{33:{opacity:.3},66:{height:1,y:i[1]+r.height/2},100:{width:1,x:i[0]+r.width/2}}}),s.on("afteranimate",function(){e.useDisplay?t.setDisplayed(!1):t.hide(),t.clearOpacity(),t.setPositioning(o),t.setSize(r),n.end()})},t.animate({duration:Math.max(e.duration,500)*2,listeners:{beforeanimate:{fn:n}}}),t},frame:function(e,t,n){var r=this,i;return e=e||"#C3DAF9",t=t||1,n=n||{},i=function(){r.show();var i=this,s=r.getBox(),o=Ext.getBody().createChild({id:r.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+e}}),u;u=new Ext.fx.Anim({target:o,duration:n.duration||1e3,iterations:t,from:{top:s.y,left:s.x,borderWidth:0,opacity:1,height:s.height,width:s.width},to:{top:s.y-20,left:s.x-20,borderWidth:10,opacity:0,height:s.height+40,width:s.width+40}}),u.on("afteranimate",function(){o.remove(),i.end()})},r.animate({duration:Math.max(n.duration,500)*2||2e3,listeners:{beforeanimate:{fn:i}}}),r},ghost:function(e,t){var n=this,r;return e=e||"b",r=function(){var t=n.getWidth(),r=n.getHeight(),i=n.getXY(),s=n.getPositioning(),o={opacity:0};switch(e){case"t":o.y=i[1]-r;break;case"l":o.x=i[0]-t;break;case"r":o.x=i[0]+t;break;case"b":o.y=i[1]+r;break;case"tl":o.x=i[0]-t,o.y=i[1]-r;break;case"bl":o.x=i[0]-t,o.y=i[1]+r;break;case"br":o.x=i[0]+t,o.y=i[1]+r;break;case"tr":o.x=i[0]+t,o.y=i[1]-r}this.to=o,this.on("afteranimate",function(){n.dom&&(n.hide(),n.clearOpacity(),n.setPositioning(s))})},n.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:{fn:r}}})),n},highlight:function(e,t){var n=this,r=n.dom,i={},s,o,u,a,f,l;return t=t||{},a=t.listeners||{},u=t.attr||"backgroundColor",i[u]=e||"ffff9c",t.to?o=t.to:(o={},o[u]=t.endColor||n.getColor(u,"ffffff","")),t.listeners=Ext.apply(Ext.apply({},a),{beforeanimate:function(){s=r.style[u],n.clearOpacity(),n.show(),f=a.beforeanimate;if(f)return l=f.fn||f,l.apply(f.scope||a.scope||window,arguments)},afteranimate:function(){r&&(r.style[u]=s),f=a.afteranimate,f&&(l=f.fn||f,l.apply(f.scope||a.scope||window,arguments))}}),n.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:i,to:o})),n},pause:function(e){var t=this;return Ext.fx.Manager.setFxDefaults(t.id,{delay:e}),t},fadeIn:function(e){var t=this;return t.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(e){t.isStyle("display","none")?t.setDisplayed(""):t.show()}}})),this},fadeOut:function(e){var t=this;return e=Ext.apply({opacity:0,internalListeners:{afteranimate:function(n){var r=t.dom;r&&n.to.opacity===0&&(e.useDisplay?t.setDisplayed(!1):t.hide())}}},e),t.animate(e),t},scale:function(e,t,n){return this.animate(Ext.apply({},n,{width:e,height:t})),this},shift:function(e){return this.animate(e),this}}),Ext.dom.Element.override({initDD:function(e,t,n){var r=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(r,n)},initDDProxy:function(e,t,n){var r=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(r,n)},initDDTarget:function(e,t,n){var r=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(r,n)}}),function(){var e=Ext.dom.Element,t="visibility",n="display",r="none",i="hidden",s="visible",o="offsets",u="asclass",a="nosize",f="originalDisplay",l="visibilityMode",c="isVisible",h=Ext.baseCSSPrefix+"hide-offsets",p=function(e){var t=(e.$cache||e.getCache()).data,n=t[f];return n===undefined&&(t[f]=n=""),n},d=function(t){var n=(t.$cache||t.getCache()).data,r=n[l];return r===undefined&&(n[l]=r=e.VISIBILITY),r};e.override({originalDisplay:"",visibilityMode:1,setVisible:function(r,s){var f=this,l=f.dom,p=d(f);if(typeof s=="string"){switch(s){case n:p=e.DISPLAY;break;case t:p=e.VISIBILITY;break;case o:p=e.OFFSETS;break;case a:case u:p=e.ASCLASS}f.setVisibilityMode(p),s=!1}if(!s||!f.anim){if(p==e.DISPLAY)return f.setDisplayed(r);p==e.OFFSETS?f[r?"removeCls":"addCls"](h):p==e.VISIBILITY?(f.fixDisplay(),l.style.visibility=r?"":i):p==e.ASCLASS&&f[r?"removeCls":"addCls"](f.visibilityCls||e.visibilityCls)}else r&&(f.setOpacity(.01),f.setVisible(!0)),Ext.isObject(s)||(s={duration:350,easing:"ease-in"}),f.animate(Ext.applyIf({callback:function(){r||f.setVisible(!1).setOpacity(1)},to:{opacity:r?1:0}},s));return(f.$cache||f.getCache()).data[c]=r,f},hasMetrics:function(){var t=d(this);return this.isVisible()||t==e.OFFSETS||t==e.VISIBILITY},toggle:function(e){var t=this;return t.setVisible(!t.isVisible(),t.anim(e)),t},setDisplayed:function(e){return typeof e=="boolean"&&(e=e?p(this):r),this.setStyle(n,e),this},fixDisplay:function(){var e=this;e.isStyle(n,r)&&(e.setStyle(t,i),e.setStyle(n,p(e)),e.isStyle(n,r)&&e.setStyle(n,"block"))},hide:function(e){return typeof e=="string"?(this.setVisible(!1,e),this):(this.setVisible(!1,this.anim(e)),this)},show:function(e){return typeof e=="string"?(this.setVisible(!0,e),this):(this.setVisible(!0,this.anim(e)),this)}})}(),function(){var e=Ext.dom.Element,t="left",n="right",r="top",i="bottom",s="position",o="static",u="relative",a="auto",f="z-index",l="BODY",c="padding",h="border",p="-left",d="-right",v="-top",m="-bottom",g="-width",y={l:h+p+g,r:h+d+g,t:h+v+g,b:h+m+g},b={l:c+p,r:c+d,t:c+v,b:c+m},w=[b.l,b.r,b.t,b.b],E=[y.l,y.r,y.t,y.b],S=["position","top","left"];e.override({getX:function(){return e.getX(this.dom)},getY:function(){return e.getY(this.dom)},getXY:function(){return e.getXY(this.dom)},getOffsetsTo:function(e){var t=this.getXY(),n=Ext.fly(e,"_internal").getXY();return[t[0]-n[0],t[1]-n[1]]},setX:function(e,t){return this.setXY([e,this.getY()],t)},setY:function(e,t){return this.setXY([this.getX(),e],t)},setLeft:function(e){return this.setStyle(t,this.addUnits(e)),this},setTop:function(e){return this.setStyle(r,this.addUnits(e)),this},setRight:function(e){return this.setStyle(n,this.addUnits(e)),this},setBottom:function(e){return this.setStyle(i,this.addUnits(e)),this},setXY:function(t,n){var r=this;return!n||!r.anim?e.setXY(r.dom,t):(Ext.isObject(n)||(n={}),r.animate(Ext.applyIf({to:{x:t[0],y:t[1]}},n))),r},pxRe:/^\d+(?:\.\d*)?px$/i,getLocalX:function(){var e=this,n,r=e.getStyle(t);return!r||r===a?0:r&&e.pxRe.test(r)?parseFloat(r):(r=e.getX(),n=e.dom.offsetParent,n&&(r-=Ext.fly(n).getX()),r)},getLocalY:function(){var e=this,t,n=e.getStyle(r);return!n||n===a?0:n&&e.pxRe.test(n)?parseFloat(n):(n=e.getY(),t=e.dom.offsetParent,t&&(n-=Ext.fly(t).getY()),n)},getLeft:function(e){return e?this.getLocalX():this.getX()},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getTop:function(e){return e?this.getLocalY():this.getY()},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},translatePoints:function(e,t){var n=this,r=n.getStyle(S),i=r.position=="relative",s=parseFloat(r.left),o=parseFloat(r.top),u=n.getXY();return Ext.isArray(e)&&(t=e[1],e=e[0]),isNaN(s)&&(s=i?0:n.dom.offsetLeft),isNaN(o)&&(o=i?0:n.dom.offsetTop),s=typeof e=="number"?e-u[0]+s:undefined,o=typeof t=="number"?t-u[1]+o:undefined,{left:s,top:o}},setBox:function(e,t,n){var r=this,i=e.width,s=e.height;return t&&!r.autoBoxAdjust&&!r.isBorderBox()&&(i-=r.getBorderWidth("lr")+r.getPadding("lr"),s-=r.getBorderWidth("tb")+r.getPadding("tb")),r.setBounds(e.x,e.y,i,s,n),r},getBox:function(e,n){var i=this,s,o,u,a,f,l,c,h,p,d,v,m;return n?(s=i.getStyle([t,r]),s=[parseFloat(s.left)||0,parseFloat(s.top)||0]):s=i.getXY(),d=i.getWidth(),v=i.getHeight(),e?(a=i.getStyle(w),f=i.getStyle(E),l=(parseFloat(f[y.l])||0)+(parseFloat(a[b.l])||0),c=(parseFloat(f[y.r])||0)+(parseFloat(a[b.r])||0),h=(parseFloat(f[y.t])||0)+(parseFloat(a[b.t])||0),p=(parseFloat(f[y.b])||0)+(parseFloat(a[b.b])||0),m={x:s[0]+l,y:s[1]+h,0:s[0]+l,1:s[1]+h,width:d-(l+c),height:v-(h+p)}):m={x:s[0],y:s[1],0:s[0],1:s[1],width:d,height:v},m.right=m.x+m.width,m.bottom=m.y+m.height,m},getPageBox:function(e){var t=this,n=t.dom,r=n.nodeName==l,i=r?Ext.dom.AbstractElement.getViewWidth():n.offsetWidth,s=r?Ext.dom.AbstractElement.getViewHeight():n.offsetHeight,o=t.getXY(),u=o[1],a=o[0]+i,f=o[1]+s,c=o[0];return e?new Ext.util.Region(u,a,f,c):{left:c,top:u,width:i,height:s,right:a,bottom:f}},setLocation:function(e,t,n){return this.setXY([e,t],n)},moveTo:function(e,t,n){return this.setXY([e,t],n)},position:function(e,t,n,r){var i=this;!e&&i.isStyle(s,o)?i.setStyle(s,u):e&&i.setStyle(s,e),t&&i.setStyle(f,t),(n||r)&&i.setXY([n||!1,r||!1])},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:o}),this},getPositioning:function(){var e=this.getStyle([t,r,s,n,i,f]);return e[n]=e[t]?"":e[n],e[i]=e[r]?"":e[i],e},setPositioning:function(e){var t=this,n=t.dom.style;return t.setStyle(e),e.right==a&&(n.right=""),e.bottom==a&&(n.bottom=""),t},move:function(e,t,n){var r=this,i=r.getXY(),s=i[0],o=i[1],u=[s-t,o],a=[s+t,o],f=[s,o-t],l=[s,o+t],c={l:u,left:u,r:a,right:a,t:f,top:f,up:f,b:l,bottom:l,down:l};e=e.toLowerCase(),r.moveTo(c[e][0],c[e][1],n)},setLeftTop:function(t,n){var r=this.dom.style;return r.left=e.addUnits(t),r.top=e.addUnits(n),this},getRegion:function(){return this.getPageBox(!0)},getViewRegion:function(){var e=this,t=e.dom.nodeName==l,n,r,i,s,o,u;return t?(n=e.getScroll(),s=n.left,i=n.top,o=Ext.dom.AbstractElement.getViewportWidth(),u=Ext.dom.AbstractElement.getViewportHeight()):(r=e.getXY(),s=r[0]+e.getBorderWidth("l")+e.getPadding("l"),i=r[1]+e.getBorderWidth("t")+e.getPadding("t"),o=e.getWidth(!0),u=e.getHeight(!0)),new Ext.util.Region(i,s+o-1,i+u-1,s)},setBounds:function(e,t,n,r,i){var s=this;return!i||!s.anim?(s.setSize(n,r),s.setLocation(e,t)):(Ext.isObject(i)||(i={}),s.animate(Ext.applyIf({to:{x:e,y:t,width:s.adjustWidth(n),height:s.adjustHeight(r)}},i))),s},setRegion:function(e,t){return this.setBounds(e.left,e.top,e.right-e.left,e.bottom-e.top,t)}})}(),Ext.dom.Element.override({isScrollable:function(
){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},getScroll:function(){var e=this.dom,t=document,n=t.body,r=t.documentElement,i,s,o;return e==t||e==n?(Ext.isIE&&Ext.isStrict?(i=r.scrollLeft,s=r.scrollTop):(i=window.pageXOffset,s=window.pageYOffset),o={left:i||(n?n.scrollLeft:0),top:s||(n?n.scrollTop:0)}):o={left:e.scrollLeft,top:e.scrollTop},o},scrollBy:function(e,t,n){var r=this,i=r.dom;return e.length?(n=t,t=e[1],e=e[0]):typeof e!="number"&&(n=t,t=e.y,e=e.x),e&&r.scrollTo("left",Math.max(Math.min(i.scrollLeft+e,i.scrollWidth-i.clientWidth),0),n),t&&r.scrollTo("top",Math.max(Math.min(i.scrollTop+t,i.scrollHeight-i.clientHeight),0),n),r},scrollTo:function(e,t,n){var r=/top/i.test(e),i=this,s=i.dom,o,u;return!n||!i.anim?(u="scroll"+(r?"Top":"Left"),s[u]=t,s[u]=t):(o={to:{}},o.to["scroll"+(r?"Top":"Left")]=t,Ext.isObject(n)&&Ext.applyIf(o,n),i.animate(o)),i},scrollIntoView:function(e,t,n){e=Ext.getDom(e)||Ext.getBody().dom;var r=this.dom,i=this.getOffsetsTo(e),s=i[0]+e.scrollLeft,o=i[1]+e.scrollTop,u=o+r.offsetHeight,a=s+r.offsetWidth,f=e.clientHeight,l=parseInt(e.scrollTop,10),c=parseInt(e.scrollLeft,10),h=l+f,p=c+e.clientWidth,d;return r.offsetHeight>f||o<l?d=o:u>h&&(d=u-f),d!=null&&Ext.get(e).scrollTo("top",d,n),t!==!1&&(d=null,r.offsetWidth>e.clientWidth||s<c?d=s:a>p&&(d=a-e.clientWidth),d!=null&&Ext.get(e).scrollTo("left",d,n)),this},scrollChildIntoView:function(e,t){Ext.fly(e,"_scrollChildIntoView").scrollIntoView(this,t)},scroll:function(e,t,n){if(!this.isScrollable())return!1;var r=this.dom,i=r.scrollLeft,s=r.scrollTop,o=r.scrollWidth,u=r.scrollHeight,a=r.clientWidth,f=r.clientHeight,l=!1,c,h={l:Math.min(i+t,o-a),r:c=Math.max(i-t,0),t:Math.max(s-t,0),b:Math.min(s+t,u-f)};return h.d=h.b,h.u=h.t,e=e.substr(0,1),(c=h[e])>-1&&(l=!0,this.scrollTo(e=="l"||e=="r"?"left":"top",c,this.anim(n))),l}}),function(){var e=Ext.dom.Element,t=document.defaultView,n=/table-row|table-.*-group/,r="_internal",i="hidden",s="height",o="width",u="isClipped",a="overflow",f="overflow-x",l="overflow-y",c="originalClip",h=/#document|body/i,p,d,v,m,g;if(!t||!t.getComputedStyle)e.prototype.getStyle=function(t,n){var r=this,i=r.dom,s=typeof t!="string",o=r.styleHooks,u=t,a=u,f=1,l=n,c,h,p,d,v,m,g;if(s){p={},u=a[0],g=0;if(!(f=a.length))return p}if(!i||i.documentElement)return p||"";h=i.style,n?m=h:(m=i.currentStyle,m||(l=!0,m=h));do{d=o[u],d||(o[u]=d={name:e.normalize(u)});if(d.get)v=d.get(i,r,l,m);else{c=d.name;if(d.canThrow)try{v=m[c]}catch(y){v=""}else v=m?m[c]:""}if(!s)return v;p[u]=v,u=a[++g]}while(g<f);return p};e.override({getHeight:function(e,t){var n=this,r=n.dom,i=n.isStyle("display","none"),o,u;return i?0:(o=Math.max(r.offsetHeight,r.clientHeight)||0,Ext.supports.Direct2DBug&&(u=n.adjustDirect2DDimension(s),t?o+=u:u>0&&u<.5&&o++),e&&(o-=n.getBorderWidth("tb")+n.getPadding("tb")),o<0?0:o)},getWidth:function(e,t){var n=this,r=n.dom,i=n.isStyle("display","none"),s,u,a;return i?0:(Ext.supports.BoundingClientRect?(s=r.getBoundingClientRect(),u=s.right-s.left,u=t?u:Math.ceil(u)):u=r.offsetWidth,u=Math.max(u,r.clientWidth)||0,Ext.supports.Direct2DBug&&(a=n.adjustDirect2DDimension(o),t?u+=a:a>0&&a<.5&&u++),e&&(u-=n.getBorderWidth("lr")+n.getPadding("lr")),u<0?0:u)},setWidth:function(e,t){var n=this;return e=n.adjustWidth(e),!t||!n.anim?n.dom.style.width=n.addUnits(e):(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{width:e}},t))),n},setHeight:function(e,t){var n=this;return e=n.adjustHeight(e),!t||!n.anim?n.dom.style.height=n.addUnits(e):(Ext.isObject(t)||(t={}),n.animate(Ext.applyIf({to:{height:e}},t))),n},applyStyles:function(e){return Ext.DomHelper.applyStyles(this.dom,e),this},setSize:function(e,t,n){var r=this;return Ext.isObject(e)&&(n=t,t=e.height,e=e.width),e=r.adjustWidth(e),t=r.adjustHeight(t),!n||!r.anim?(r.dom.style.width=r.addUnits(e),r.dom.style.height=r.addUnits(t)):(n===!0&&(n={}),r.animate(Ext.applyIf({to:{width:e,height:t}},n))),r},getViewSize:function(){var t=this,n=t.dom,r=h.test(n.nodeName),i;return r?i={width:e.getViewWidth(),height:e.getViewHeight()}:i={width:n.clientWidth,height:n.clientHeight},i},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},adjustWidth:function(e){var t=this,n=typeof e=="number";return n&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("lr")+t.getPadding("lr")),n&&e<0?0:e},adjustHeight:function(e){var t=this,n=typeof e=="number";return n&&t.autoBoxAdjust&&!t.isBorderBox()&&(e-=t.getBorderWidth("tb")+t.getPadding("tb")),n&&e<0?0:e},getColor:function(e,t,n){var r=this.getStyle(e),i=n||n===""?n:"#",s,o,u=0;if(!r||/transparent|inherit/.test(r))return t;if(/^r/.test(r)){r=r.slice(4,r.length-1).split(","),o=r.length;for(;u<o;u++)s=parseInt(r[u],10),i+=(s<16?"0":"")+s.toString(16)}else r=r.replace("#",""),i+=r.length==3?r.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):r;return i.length>5?i.toLowerCase():t},setOpacity:function(e,t){var n=this;return n.dom?(!t||!n.anim?n.setStyle("opacity",e):(typeof t!="object"&&(t={duration:350,easing:"ease-in"}),n.animate(Ext.applyIf({to:{opacity:e}},t))),n):n},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(e){var t=this,r=t.dom,i=t.getStyle("display"),s=r.style.display,u=r.style.position,a=e===o?0:1,f=r.currentStyle,l;return i==="inline"&&(r.style.display="inline-block"),r.style.position=i.match(n)?"absolute":"static",l=(parseFloat(f[e])||parseFloat(f.msTransformOrigin.split(" ")[a])*2)%1,r.style.position=u,i==="inline"&&(r.style.display=s),l},clip:function(){var e=this,t=(e.$cache||e.getCache()).data,n;return t[u]||(t[u]=!0,n=e.getStyle([a,f,l]),t[c]={o:n[a],x:n[f],y:n[l]},e.setStyle(a,i),e.setStyle(f,i),e.setStyle(l,i)),e},unclip:function(){var e=this,t=(e.$cache||e.getCache()).data,n;return t[u]&&(t[u]=!1,n=t[c],n.o&&e.setStyle(a,n.o),n.x&&e.setStyle(f,n.x),n.y&&e.setStyle(l,n.y)),e},boxWrap:function(t){t=t||Ext.baseCSSPrefix+"box";var n=Ext.get(this.insertHtml("beforeBegin","<div class='"+t+"'>"+Ext.String.format(e.boxMarkup,t)+"</div>"));return Ext.DomQuery.selectNode("."+t+"-mc",n.dom).appendChild(this.dom),n},getComputedHeight:function(){var e=this,t=Math.max(e.dom.offsetHeight,e.dom.clientHeight);return t||(t=parseFloat(e.getStyle(s))||0,e.isBorderBox()||(t+=e.getFrameWidth("tb"))),t},getComputedWidth:function(){var e=this,t=Math.max(e.dom.offsetWidth,e.dom.clientWidth);return t||(t=parseFloat(e.getStyle(o))||0,e.isBorderBox()||(t+=e.getFrameWidth("lr"))),t},getFrameWidth:function(e,t){return t&&this.isBorderBox()?0:this.getPadding(e)+this.getBorderWidth(e)},addClsOnOver:function(e,t,n){var i=this,s=i.dom,o=Ext.isFunction(t);return i.hover(function(){if(o&&t.call(n||i,i)===!1)return;Ext.fly(s,r).addCls(e)},function(){Ext.fly(s,r).removeCls(e)}),i},addClsOnFocus:function(e,t,n){var i=this,s=i.dom,o=Ext.isFunction(t);return i.on("focus",function(){if(o&&t.call(n||i,i)===!1)return!1;Ext.fly(s,r).addCls(e)}),i.on("blur",function(){Ext.fly(s,r).removeCls(e)}),i},addClsOnClick:function(e,t,n){var i=this,s=i.dom,o=Ext.isFunction(t);return i.on("mousedown",function(){if(o&&t.call(n||i,i)===!1)return!1;Ext.fly(s,r).addCls(e);var u=Ext.getDoc(),a=function(){Ext.fly(s,r).removeCls(e),u.removeListener("mouseup",a)};u.on("mouseup",a)}),i},getStyleSize:function(){var t=this,n=this.dom,r=h.test(n.nodeName),i,u,a;return r?{width:e.getViewWidth(),height:e.getViewHeight()}:(i=t.getStyle([s,o],!0),i.width&&i.width!="auto"&&(u=parseFloat(i.width),t.isBorderBox()&&(u-=t.getFrameWidth("lr"))),i.height&&i.height!="auto"&&(a=parseFloat(i.height),t.isBorderBox()&&(a-=t.getFrameWidth("tb"))),{width:u||t.getWidth(!0),height:a||t.getHeight(!0)})},selectable:function(){var e=this;return e.dom.unselectable="off",e.on("selectstart",function(e){return e.stopPropagation(),!0}),e.applyStyles("-moz-user-select: text; -khtml-user-select: text;"),e.removeCls(Ext.baseCSSPrefix+"unselectable"),e},unselectable:function(){var e=this;return e.dom.unselectable="on",e.swallowEvent("selectstart",!0),e.applyStyles("-moz-user-select:-moz-none;-khtml-user-select:none;"),e.addCls(Ext.baseCSSPrefix+"unselectable"),e}}),e.prototype.styleHooks=p=Ext.dom.AbstractElement.prototype.styleHooks;if(Ext.isIE6||Ext.isIE7)p.fontSize=p["font-size"]={name:"fontSize",canThrow:!0},p.fontStyle=p["font-style"]={name:"fontStyle",canThrow:!0},p.fontFamily=p["font-family"]={name:"fontFamily",canThrow:!0};if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){function y(e,t,n,r){return r[this.styleName]=="none"?"0px":r[this.name]}d=["Top","Right","Bottom","Left"],v=d.length;while(v--)m=d[v],g="border"+m+"Width",p["border-"+m.toLowerCase()+"-width"]=p[g]={name:g,styleName:"border"+m+"Style",get:y}}}(),Ext.onReady(function(){var e=/alpha\(opacity=(.*)\)/i,t=/^\s+|\s+$/g,n=Ext.dom.Element.prototype.styleHooks;n.opacity={name:"opacity",afterSet:function(e,t,n){n.isLayer&&n.onOpacitySet(t)}},!Ext.supports.Opacity&&Ext.isIE&&Ext.apply(n.opacity,{get:function(t){var n=t.style.filter,r,i;if(n.match){r=n.match(e);if(r){i=parseFloat(r[1]);if(!isNaN(i))return i?i/100:0}}return 1},set:function(n,r){var i=n.style,s=i.filter.replace(e,"").replace(t,"");i.zoom=1,typeof r=="number"&&r>=0&&r<1?(r*=100,i.filter=s+(s.length?" ":"")+"alpha(opacity="+r+")"):i.filter=s}})}),Ext.dom.Element.override({select:function(e){return Ext.dom.Element.select(e,!1,this.dom)}}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:"Ext.CompositeElementLite",requires:["Ext.dom.Element","Ext.dom.Query"],statics:{importElementMethods:function(){var e,t=Ext.dom.Element.prototype,n=this.prototype;for(e in t)typeof t[e]=="function"&&function(e){n[e]=n[e]||function(){return this.invoke(e,arguments)}}.call(n,e)}},constructor:function(e,t){this.elements=[],this.add(e,t),this.el=new Ext.dom.AbstractElement.Fly},isComposite:!0,getElement:function(e){return this.el.attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var n=this.elements,r,i;if(!e)return this;typeof e=="string"?e=Ext.dom.Element.selectorFunction(e,t):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]);for(r=0,i=e.length;r<i;++r)n.push(this.transformElement(e[r]));return this},invoke:function(e,t){var n=this.elements,r=n.length,i,s;e=Ext.dom.Element.prototype[e];for(s=0;s<r;s++)i=n[s],i&&e.apply(this.getElement(i),t);return this},item:function(e){var t=this.elements[e],n=null;return t&&(n=this.getElement(t)),n},addListener:function(e,t,n,r){var i=this.elements,s=i.length,o,u;for(o=0;o<s;o++)u=i[o],u&&Ext.EventManager.on(u,e,t,n||u,r);return this},each:function(e,t){var n=this,r=n.elements,i=r.length,s,o;for(s=0;s<i;s++){o=r[s];if(o){o=this.getElement(o);if(e.call(t||o,o,n,s)===!1)break}}return n},fill:function(e){var t=this;return t.elements=[],t.add(e),t},filter:function(e){var t=this,n=t.elements,r=n.length,i=[],s=0,o=typeof e=="function",u,a;for(;s<r;s++)a=n[s],u=!1,a&&(a=t.getElement(a),o?u=e.call(a,a,t,s)!==!1:u=a.is(e),u&&i.push(t.transformElement(a)));return t.elements=i,t},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,n){var r=isNaN(e)?this.indexOf(e):e,i;return r>-1&&(t=Ext.getDom(t),n&&(i=this.elements[r],i.parentNode.insertBefore(t,i),Ext.removeNode(i)),Ext.Array.splice(this.elements,r,1,t)),this},clear:function(){this.elements=[]},addElements:function(e,t){if(!e)return this;typeof e=="string"&&(e=Ext.dom.Element.selectorFunction(e,t));var n=this.elements,r=e.length,i;for(i=0;i<r;i++)n.push(Ext.get(e[i]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return this.indexOf(e)!=-1},removeElement:function(e,t){e=[].concat(e);var n=this,r=n.elements,i=e.length,s,o,u;for(u=0;u<i;u++){s=e[u];if(o=r[s]||r[s=n.indexOf(s)])t&&(o.dom?o.remove():Ext.removeNode(o)),Ext.Array.erase(r,s,1)}return n}},function(){this.importElementMethods(),this.prototype.on=this.prototype.addListener,Ext.DomQuery&&(Ext.dom.Element.selectorFunction=Ext.DomQuery.select),Ext.dom.Element.select=function(e,t){var n;return typeof e=="string"?n=Ext.dom.Element.selectorFunction(e,t):e.length!==undefined&&(n=e),new Ext.CompositeElementLite(n)},Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}),Ext.define("Ext.util.Animate",{requires:["Ext.Element","Ext.CompositeElementLite"],uses:["Ext.fx.Manager","Ext.fx.Anim"],animate:function(e){var t=this;return Ext.fx.Manager.hasFxBlock(t.id)?t:(Ext.fx.Manager.queueFx(new Ext.fx.Anim(t.anim(e))),this)},anim:function(e){if(!Ext.isObject(e))return e?{}:!1;var t=this;return e.stopAnimation&&t.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(t.id)),Ext.apply({target:t,paused:!0},e)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){return Ext.fx.Manager.stopAnimation(this.id),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},function(){Ext.applyIf(Ext.Element.prototype,this.prototype),Ext.CompositeElementLite.importElementMethods()}),Ext.define("Ext.util.ElementContainer",{childEls:[],constructor:function(){var e=this,t;e.hasOwnProperty("childEls")&&(t=e.childEls,delete e.childEls,e.addChildEls.apply(e,t))},destroy:function(){var e=this,t=e.getChildEls(),n,r,i,s;for(i=t.length;i--;)r=t[i],typeof r!="string"&&(r=r.name),n=e[r],n&&(e[r]=null,n.remove())},addChildEls:function(){var e=this,t=arguments;e.hasOwnProperty("childEls")?e.childEls.push.apply(e.childEls,t):e.childEls=e.getChildEls().concat(Array.prototype.slice.call(t)),e.prune(e.childEls,!1)},applyChildEls:function(e,t){var n=this,r=n.getChildEls(),i,s,o,u,a;i=(t||n.id)+"-";for(o=r.length;o--;)s=r[o],typeof s=="string"?a=e.getById(i+s):((u=s.select)?a=Ext.select(u,!0,e.dom):(u=s.selectNode)?a=Ext.get(Ext.DomQuery.selectNode(u,e.dom)):a=e.getById(s.id||i+s.itemId),s=s.name),n[s]=a},getChildEls:function(){var e=this,t;return e.hasOwnProperty("childEls")?e.childEls:(t=e.self,t.$childEls||e.getClassChildEls(t))},getClassChildEls:function(e){var t=this,n=e.$childEls,r,i,s,o,u,a,f,l,c,h,p;if(!n){h=e.superclass,h?(h=h.self,l=[h.$childEls||t.getClassChildEls(h)],p=h.prototype.mixins||{}):(l=[],p={}),c=e.prototype,a=c.mixins;for(f in a)a.hasOwnProperty(f)&&!p.hasOwnProperty(f)&&(u=a[f].self,l.push(u.$childEls||t.getClassChildEls(u)));l.push(c.hasOwnProperty("childEls")&&c.childEls);for(i=0,s=l.length;i<s;++i)r=l[i],r&&r.length&&(n?(o||(o=!0,n=n.slice(0)),n.push.apply(n,r)):n=r);e.$childEls=n=n?t.prune(n,!o):[]}return n},prune:function(e,t){var n=e.length,r={},i;while(n--)i=e[n],typeof i!="string"&&(i=i.name),r[i]?(t&&(t=!1,e=e.slice(0)),Ext.Array.erase(e,n,1)):r[i]=1;return e},removeChildEls:function(e){var t=this,n=t.getChildEls(),r=t.childEls=[],i,s,o;for(s=0,i=n.length;s<i;++s)o=n[s],e(o)||r.push(o)}}),Ext.define("Ext.util.Renderable",{requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElementCls:{tl:[],tc:[],tr:[],ml:[],mc:[],mr:[],bl:[],bc:[],br:[]},frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-right: {frameWidth}px" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}","<table><tbody>",'<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>" style="background-position: {tl}; padding-left:{frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>" style="background-position: {tc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>" style="background-position: {tr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>" style="background-position: {ml}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>" style="background-position: 0 0;" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>" style="background-position: {mr}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>" style="background-position: {bl}; padding-left: {frameWidth}px" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>" style="background-position: {bc}; height: {frameWidth}px" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>" style="background-position: {br}; padding-left: {frameWidth}px" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var e=this,t={},n=e.protoEl,r=e.getTargetEl(),i;e.finishRenderChildren(),e.styleHtmlContent&&r.addCls(e.styleHtmlCls),n.writeTo(t),i=t.removed,i&&r.removeCls(i),i=t.cls,i.length&&r.addCls(i),i=t.style,t.style&&r.setStyle(i),e.protoEl=null,e.ownerCt||e.updateLayout()},afterFirstLayout:function(e,t){var n=this,r=Ext.isDefined(n.x),i=Ext.isDefined(n.y),s,o;n.floating&&(!r||!i)&&(n.floatParent?(s=n.floatParent.getTargetEl().getViewRegion(),o=n.el.getAlignToXY(n.floatParent.getTargetEl(),"c-c"),s.left=o[0]-s.left,s.top=o[1]-s.top):(o=n.el.getAlignToXY(n.container,"c-c"),s=n.container.translatePoints(o[0],o[1])),n.x=r?n.x:s.left,n.y=i?n.y:s.top,r=i=!0),(r||i)&&n.setPosition(n.x,n.y),n.onBoxReady(e,t),n.hasListeners.boxready&&n.fireEvent("boxready",n,e,t)},onBoxReady:Ext.emptyFn,applyRenderSelectors:function(){var e=this,t=e.renderSelectors,n=e.el,r=n.dom,i;e.applyChildEls(n);if(t)for(i in t)t.hasOwnProperty(i)&&t[i]&&(e[i]=Ext.get(Ext.DomQuery.selectNode(t[i],r)))},beforeRender:function(){var e=this,t=e.getTargetEl(),n=e.getComponentLayout();e.frame=e.frame||e.alwaysFramed,n.initialized||n.initLayout(),t&&(t.setStyle(e.getOverflowStyle()),e.overflowStyleSet=!0),e.setUI(e.ui),e.disabled&&e.disable(!0)},doApplyRenderTpl:function(e,t){var n=t.$comp,r;n.rendered||(r=n.initRenderTpl(),r.applyOut(t.renderData,e))},doAutoRender:function(){var e=this;e.rendered||(e.floating?e.render(document.body):e.render(Ext.isBoolean(e.autoRender)?Ext.getBody():e.autoRender))},doRenderContent:function(e,t){var n=t.$comp;n.html&&(Ext.DomHelper.generateMarkup(n.html,e),delete n.html),n.tpl&&(n.tpl.isTemplate||(n.tpl=new Ext.XTemplate(n.tpl)),n.data&&(n.tpl.applyOut(n.data,e),delete n.data))},doRenderFramingDockedItems:function(e,t,n){var r=t.$comp;!r.rendered&&r.doRenderDockedItems&&(t.renderData.$skipDockedItems=!0,r.doRenderDockedItems.call(this,e,t,n))},finishRender:function(e){var t=this,n,r,i,s,o,u;!t.el||t.$pid?(t.container?s=t.container.getById(t.id,!0):s=Ext.getDom(t.id),t.el?(delete t.$pid,t.el.dom||t.wrapPrimaryEl(t.el),s.parentNode.insertBefore(t.el.dom,s),Ext.removeNode(s)):t.wrapPrimaryEl(s)):t.rendering||(n=t.initRenderTpl(),n&&(r=t.initRenderData(),n.insertFirst(t.getTargetEl(),r))),t.container||(t.container=Ext.get(t.el.dom.parentNode)),t.ctCls&&t.container.addCls(t.ctCls),t.onRender(t.container,e),t.overflowStyleSet||t.getTargetEl().setStyle(t.getOverflowStyle()),t.el.setVisibilityMode(Ext.Element[t.hideMode.toUpperCase()]),t.overCls&&t.el.hover(t.addOverCls,t.removeOverCls,t),t.hasListeners.render&&t.fireEvent("render",t),t.contentEl&&(o=Ext.baseCSSPrefix,u=o+"hide-",i=Ext.get(t.contentEl),i.removeCls([o+"hidden",u+"display",u+"offsets",u+"nosize"]),t.getTargetEl().appendChild(i.dom)),t.afterRender(),t.hasListeners.afterrender&&t.fireEvent("afterrender",t),t.initEvents(),t.hidden&&t.el.hide()},finishRenderChildren:function(){var e=this.getComponentLayout();e.finishRender()},getElConfig:function(){var e=this,t=e.autoEl,n=e.getFrameInfo(),r={tag:"div",tpl:n?e.initFramingTpl(n.table):e.initRenderTpl()},i,s,o,u,a;e.initStyles(e.protoEl),e.protoEl.writeTo(r),e.protoEl.flush(),Ext.isString(t)?r.tag=t:Ext.apply(r,t),r.id=e.id;if(r.tpl)if(n){s=e.frameElNames,o=s.length,a=e.id+"-frame1",e.frameGenId=1,r.tplData=Ext.apply({},{$comp:e,fgid:a,ui:e.ui,uiCls:e.uiCls,frameCls:e.frameCls,baseCls:e.baseCls,frameWidth:n.maxWidth,top:!!n.top,left:!!n.left,right:!!n.right,bottom:!!n.bottom,renderData:e.initRenderData()},e.getFramePositions(n));for(i=0;i<o;i++)u=s[i],e.addChildEls({name:"frame"+u,id:a+u});e.addChildEls({name:"frameBody",id:a+"MC"})}else r.tplData=e.initRenderData();return r},initFramingTpl:function(e){var t=e?this.getTpl("frameTableTpl"):this.getTpl("frameTpl");return t&&!t.applyRenderTpl&&this.setupFramingTpl(t),t},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl,e.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(e){return e!==undefined&&(Ext.isNumber(e)?e=this.container.dom.childNodes[e]:e=Ext.getDom(e)),e},getRenderTree:function(){var e=this;return!e.hasListeners.beforerender||e.fireEvent("beforerender",e)!==!1?(e.beforeRender(),e.rendering=!0,e.el?{tag:"div",id:e.$pid=Ext.id()}:e.getElConfig()):null},initContainer:function(e){var t=this;return!e&&t.el&&(e=t.el.dom.parentNode,t.allowDomMove=!1),t.container=e.dom?e:Ext.get(e),t.container},initRenderData:function(){var e=this;return Ext.apply({$comp:e,id:e.id,ui:e.ui,uiCls:e.uiCls,baseCls:e.baseCls,componentCls:e.componentCls,frame:e.frame},e.renderData)},initRenderTpl:function(){var e=this.getTpl("renderTpl");return e&&!e.renderContent&&this.setupRenderTpl(e),e},onRender:function(e,t){var n=this,r=n.x,i=n.y,s,o,u,a=n.el,f=Ext.getBody().dom;Ext.scopeResetCSS&&!n.ownerCt&&(a.dom===f?a.parent().addCls(Ext.resetCls):n.floating&&n.el.dom.parentNode===f?Ext.resetElement.appendChild(n.el):n.resetEl=a.wrap(Ext.resetElementSpec,!1,Ext.supports.CSS3LinearGradient?undefined:"*")),n.applyRenderSelectors(),delete n.rendering,n.rendered=!0,s=null,r!==undefined&&(s=s||{},s.x=r),i!==undefined&&(s=s||{},s.y=i),!n.getFrameInfo()&&Ext.isBorderBox&&(o=n.width,u=n.height,typeof o=="number"&&(s=s||{},s.width=o),typeof u=="number"&&(s=s||{},s.height=u)),n.lastBox=n.el.lastBox=s},render:function(e,t){var n=this,r=n.el&&(n.el=Ext.get(n.el)),i,s,o;Ext.suspendLayouts(),e=n.initContainer(e),o=n.getInsertPosition(t),r?!n.hasListeners.beforerender||n.fireEvent("beforerender",n)!==!1?(n.initStyles(r),n.allowDomMove!==!1&&(o?e.dom.insertBefore(r.dom,o):e.dom.appendChild(r.dom))):i=!0:(s=n.getRenderTree(),n.ownerLayout&&n.ownerLayout.transformItemRenderTree&&(s=n.ownerLayout.transformItemRenderTree(s)),s&&(o?r=Ext.DomHelper.insertBefore(o,s):r=Ext.DomHelper.append(e,s),n.wrapPrimaryEl(r))),r&&!i&&n.finishRender(t),Ext.resumeLayouts(!e.isDetachedBody)},ensureAttachedToBody:function(e){var t=this,n;while(t.ownerCt)t=t.ownerCt;t.container.isDetachedBody&&(t.container=n=Ext.resetElement,n.appendChild(t.el.dom),e&&t.updateLayout(),(typeof t.x=="number"||typeof t.y=="number")&&t.setPosition(t.x,t.y))},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent},wrapPrimaryEl:function(e){this.el=Ext.get(e,!0)},initFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return;var e=this,t=e.getFrameInfo(),n,r,i,s,o=e.frameElNames,u=o.length,a;if(t){n=t.maxWidth,r=e.getFrameTpl(t.table),e.frameGenId=i=(e.frameGenId||0)+1,i=e.id+"-frame"+i,r.insertFirst(e.el,Ext.apply({$comp:e,fgid:i,ui:e.ui,uiCls:e.uiCls,frameCls:e.frameCls,baseCls:e.baseCls,frameWidth:n,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom},e.getFramePositions(t))),e.frameBody=e.el.down("."+e.frameCls+"-mc"),e.removeChildEls(function(t){return t.id&&e.frameIdRegex.test(t.id)});for(s=0;s<u;s++)a=o[s],e["frame"+a]=e.el.getById(i+a)}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return;var e=this,t=this.frameSize&&this.frameSize.table,n=this.frameTL,r=this.frameBL,i=this.frameML,s=this.frameMC,o;this.initFrame(),s?e.frame&&(o=this.frameMC.dom.className,s.insertAfter(this.frameMC),this.frameMC.remove(),this.frameBody=this.frameMC=s,s.dom.className=o,t?e.el.query("> table")[1].remove():(n&&n.remove(),r&&r.remove(),i&&i.remove())):e.frame&&this.applyRenderSelectors()},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var e=this,t=e.frameInfoCache,n=e.el||e.protoEl,r=n.dom?n.dom.className:n.classList.join(" "),i=t[r],s,o,u,a;return i==null&&(s=Ext.fly(e.getStyleProxy(r),"frame-style-el"),o=s.getStyle("background-position-x"),u=s.getStyle("background-position-y"),!o&&!u&&(a=s.getStyle("background-position").split(" "),o=a[0],u=a[1]),i=e.calculateFrame(o,u),i&&n.setStyle("background-image","none"),t[r]=i),e.frame=!!i,e.frameSize=i,i},calculateFrame:function(e,t){if(parseInt(e,10)>=1e6&&parseInt(t,10)>=1e6){var n=Math.max,r=parseInt(e.substr(3,2),10),i=parseInt(e.substr(5,2),10),s=parseInt(t.substr(3,2),10),o=parseInt(t.substr(5,2),10),u={table:e.substr(0,3)=="110",vertical:t.substr(0,3)=="110",top:n(r,i),right:n(i,s),bottom:n(o,s),left:n(r,o)};return u.maxWidth=n(u.top,u.right,u.bottom,u.left),u.width=u.left+u.right,u.height=u.top+u.bottom,u}return!1},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.resetElement.createChild({style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=e,t},getFramePositions:function(e){var t=this,n=e.maxWidth,r=t.dock,i,s,o,u,a;return e.vertical?(s="0 -"+n*0+"px",o="0 -"+n*1+"px",r&&r=="right"&&(s="right -"+n*0+"px",o="right -"+n*1+"px"),i={tl:"0 -"+n*0+"px",tr:"0 -"+n*1+"px",bl:"0 -"+n*2+"px",br:"0 -"+n*3+"px",ml:"-"+n*1+"px 0",mr:"right 0",tc:s,bc:o}):(u="-"+n*0+"px 0",a="right 0",r&&r=="bottom"&&(u="left bottom",a="right bottom"),i={tl:"0 -"+n*2+"px",tr:"right -"+n*3+"px",bl:"0 -"+n*4+"px",br:"right -"+n*5+"px",ml:u,mr:a,tc:"0 -"+n*0+"px",bc:"0 -"+n*1+"px"}),i},getFrameTpl:function(e){return this.getTpl(e?"frameTableTpl":"frameTpl")},frameInfoCache:{}}),Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(e){e=e||{};var t=this;Ext.apply(t,e),t.addEvents("statechange"),t.state={},t.mixins.observable.constructor.call(t)},get:function(e,t){return typeof this.state[e]=="undefined"?t:this.state[e]},clear:function(e){var t=this;delete t.state[e],t.fireEvent("statechange",t,e,null)},set:function(e,t){var n=this;n.state[e]=t,n.fireEvent("statechange",n,e,t)},decodeValue:function(e){var t=this,n=/^(a|n|d|b|s|o|e)\:(.*)$/,r=n.exec(unescape(e)),i,s,o,u,a,f;if(!r||!r[1])return;s=r[1],e=r[2];switch(s){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return e=="1";case"a":i=[];if(e!=""){u=e.split("^"),a=u.length;for(f=0;f<a;f++)e=u[f],i.push(t.decodeValue(e))}return i;case"o":i={};if(e!=""){u=e.split("^"),a=u.length;for(f=0;f<a;f++)e=u[f],o=e.split("="),i[o[0]]=t.decodeValue(o[1])}return i;default:return e}},encodeValue:function(e){var t="",n=0,r,i,s;if(e==null)return"e:1";if(typeof e=="number")r="n:"+e;else if(typeof e=="boolean")r="b:"+(e?"1":"0");else if(Ext.isDate(e))r="d:"+e.toGMTString();else if(Ext.isArray(e)){for(i=e.length;n<i;n++)t+=this.encodeValue(e[n]),n!=i-1&&(t+="^");r="a:"+t}else if(typeof e=="object"){for(s in e)typeof e[s]!="function"&&e[s]!==undefined&&(t+=s+"="+this.encodeValue(e[s])+"^");r="o:"+t.substring(0,t.length-1)}else r="s:"+e;return escape(r)}}),Ext.define("Ext.state.Manager",{singleton:!0,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.state.Manager"],stateful:!1,saveDelay:100,constructor:function(e){var t=this;e=e||{},e.stateful!==undefined&&(t.stateful=e.stateful),e.saveDelay!==undefined&&(t.saveDelay=e.saveDelay),t.stateId=t.stateId||e.stateId,t.stateEvents||(t.stateEvents=[]),e.stateEvents&&t.stateEvents.concat(e.stateEvents),this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave"),t.mixins.observable.constructor.call(t),t.stateful!==!1&&(t.addStateEvents(t.stateEvents),t.initState())},addStateEvents:function(e){var t=this,n,r,i;if(t.stateful&&t.getStateId()){typeof e=="string"&&(e=Array.prototype.slice.call(arguments,0)),i=t.stateEventsByName||(t.stateEventsByName={});for(n=e.length;n--;)r=e[n],i[r]||(i[r]=1,t.on(r,t.onStateChange,t))}},onStateChange:function(){var e=this,t=e.saveDelay,n,r;if(!e.stateful)return;t?(e.stateTask||(n=Ext.state.Stateful,r=n.runner||(n.runner=new Ext.util.TaskRunner),e.stateTask=r.newTask({run:e.saveState,scope:e,interval:t,repeat:1})),e.stateTask.start()):e.saveState()},saveState:function(){var e=this,t=e.stateful&&e.getStateId(),n=e.hasListeners,r;if(t){r=e.getState()||{};if(!n.beforestatesave||e.fireEvent("beforestatesave",e,r)!==!1)Ext.state.Manager.set(t,r),n.statesave&&e.fireEvent("statesave",e,r)}},getState:function(){return null},applyState:function(e){e&&Ext.apply(this,e)},getStateId:function(){var e=this;return e.stateId||(e.autoGenId?null:e.id)},initState:function(){var e=this,t=e.stateful&&e.getStateId(),n=e.hasListeners,r;if(t){r=Ext.state.Manager.get(t);if(r){r=Ext.apply({},r);if(!n.beforestaterestore||e.fireEvent("beforestaterestore",e,r)!==!1)e.applyState(r),n.staterestore&&e.fireEvent("staterestore",e,r)}}},savePropToState:function(e,t,n){var r=this,i=r[e],s=r.initialConfig;if(r.hasOwnProperty(e))if(!
s||s[e]!==i)return t&&(t[n||e]=i),!0;return!1},savePropsToState:function(e,t){var n=this,r,i;if(typeof e=="string")n.savePropToState(e,t);else for(r=0,i=e.length;r<i;++r)n.savePropToState(e[r],t);return t},destroy:function(){var e=this,t=e.stateTask;t&&(t.destroy(),e.stateTask=null),e.clearListeners()}}),Ext.define("Ext.AbstractComponent",{requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement"],mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate",elementCt:"Ext.util.ElementContainer",renderable:"Ext.util.Renderable",state:"Ext.state.Stateful"},uses:["Ext.PluginManager","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentQuery","Ext.ComponentLoader","Ext.EventManager","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(e,t){var n=this.runningLayoutContext||this.pendingLayouts;n&&n.cancelComponent(e,!1,t)},flushLayouts:function(){var e=this,t=e.pendingLayouts;t&&t.invalidQueue.length&&(e.pendingLayouts=null,e.runningLayoutContext=t,Ext.override(t,{runComplete:function(){return e.runningLayoutContext=null,this.callParent()}}),t.run())},resumeLayouts:function(e){this.layoutSuspendCount&&!--this.layoutSuspendCount&&e&&this.flushLayouts()},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var n=this,r=n.runningLayoutContext,i;r?r.queueInvalidate(e):(i=n.pendingLayouts||(n.pendingLayouts=new Ext.layout.Context),i.queueInvalidate(e),!t&&!n.layoutSuspendCount&&!e.isLayoutSuspended()&&n.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:{left:0,top:0,right:0,bottom:0,width:0,height:0},tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",styleHtmlContent:!1,styleHtmlCls:Ext.baseCSSPrefix+"html",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,constructor:function(e){var t=this,n,r,i;e?(Ext.apply(t,e),i=t.xhooks,i&&(delete t.xhooks,Ext.override(t,i))):e={},t.initialConfig=e,t.mixins.elementCt.constructor.call(t),t.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),t.getId(),t.setupProtoEl(),t.cls&&(t.initialCls=t.cls,t.protoEl.addCls(t.cls)),t.style&&(t.initialStyle=t.style,t.protoEl.setStyle(t.style)),t.mons=[],t.renderData=t.renderData||{},t.renderSelectors=t.renderSelectors||{},t.plugins&&(t.plugins=t.constructPlugins()),t.hasListeners||(t.hasListeners=new t.HasListeners),t.initComponent(),Ext.ComponentManager.register(t),t.mixins.observable.constructor.call(t),t.mixins.state.constructor.call(t,e),this.addStateEvents("resize");if(t.plugins)for(n=0,r=t.plugins.length;n<r;n++)t.plugins[n]=t.initPlugin(t.plugins[n]);t.loader=t.getLoader(),t.renderTo&&t.render(t.renderTo),t.autoShow&&!t.isContained&&t.show()},initComponent:function(){this.plugins=this.constructPlugins(),this.setSize(this.width,this.height)},getState:function(){var e=this,t=null,n=e.getSizeModel();return n.width.configured&&(t=e.addPropertyToState(t,"width")),n.height.configured&&(t=e.addPropertyToState(t,"height")),t},addPropertyToState:function(e,t,n){var r=this,i=arguments.length;if(i==3||r.hasOwnProperty(t))i<3&&(n=r[t]),n!==r.initialConfig[t]&&((e||(e={}))[t]=n);return e},show:Ext.emptyFn,animate:function(e){var t=this,n,r,i,s,o,u,a,f,l,c,h,p;return e=e||{},o=e.to||{},Ext.fx.Manager.hasFxBlock(t.id)?t:(n=Ext.isDefined(o.width),n&&(s=Ext.Number.constrain(o.width,t.minWidth,t.maxWidth)),r=Ext.isDefined(o.height),r&&(i=Ext.Number.constrain(o.height,t.minHeight,t.maxHeight)),!e.dynamic&&(n||r)&&(f=(e.from?e.from.width:undefined)||t.getWidth(),l=f,c=(e.from?e.from.height:undefined)||t.getHeight(),h=c,p=!1,r&&i>c&&(h=i,p=!0),n&&s>f&&(l=s,p=!0),p&&(u=!Ext.isNumber(t.width),a=!Ext.isNumber(t.height),t.setSize(l,h),t.el.setSize(f,c),u&&delete t.width,a&&delete t.height),n&&(o.width=s),r&&(o.height=i)),t.mixins.animate.animate.apply(t,arguments))},onHide:function(){this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(e){return e.ptype&&typeof e.init!="function"?(e.cmp=this,e=Ext.PluginManager.create(e)):typeof e=="string"&&(e=Ext.PluginManager.create({ptype:e,cmp:this})),e},constructPlugins:function(){var e=this,t,n=[],r,i;if(e.plugins){t=Ext.isArray(e.plugins)?e.plugins:[e.plugins];for(r=0,i=t.length;r<i;r++)n[r]=e.constructPlugin(t[r]);return n}},initPlugin:function(e){return e.init(this),e},updateAria:Ext.emptyFn,registerFloatingItem:function(e){var t=this;t.floatingDescendants||(t.floatingDescendants=new Ext.ZIndexManager(t)),t.floatingDescendants.register(e)},unregisterFloatingItem:function(e){var t=this;t.floatingDescendants&&t.floatingDescendants.unregister(e)},layoutSuspendCount:0,suspendLayouts:function(){var e=this;if(!e.rendered)return;++e.layoutSuspendCount==1&&(e.suspendLayout=!0)},resumeLayouts:function(e){var t=this;if(!t.rendered)return;--t.layoutSuspendCount||(t.suspendLayout=!1,e&&!t.isLayoutSuspended()&&t.updateLayout(e))},setupProtoEl:function(){var e=this,t=[e.baseCls,e.getComponentLayout().targetCls];Ext.isDefined(e.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),e.componentCls=e.cmpCls,delete e.cmpCls),e.componentCls?t.push(e.componentCls):e.componentCls=e.baseCls,e.protoEl=new Ext.util.ProtoElement({cls:t.join(" ")})},setUI:function(e){var t=this,n=Ext.Array.clone(t.uiCls),r=[],i=[],s,o;for(o=0;o<n.length;o++)s=n[o],i=i.concat(t.removeClsWithUI(s,!0)),r.push(s);i.length&&t.removeCls(i),t.removeUIFromElement(),t.ui=e,t.addUIToElement(),i=[];for(o=0;o<r.length;o++)s=r[o],i=i.concat(t.addClsWithUI(s,!0));i.length&&t.addCls(i),t.rendered&&t.updateLayout()},addClsWithUI:function(e,t){var n=this,r=[],i,s=0,o;typeof e=="string"&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),i=e.length,n.uiCls=Ext.Array.clone(n.uiCls);for(;s<i;s++)o=e[s],o&&!n.hasUICls(o)&&(n.uiCls.push(o),r=r.concat(n.addUIClsToElement(o)));return t!==!0&&n.addCls(r),r},removeClsWithUI:function(e,t){var n=this,r=[],i=0,s,o;typeof e=="string"&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),s=e.length;for(i=0;i<s;i++)o=e[i],o&&n.hasUICls(o)&&(n.uiCls=Ext.Array.remove(n.uiCls,o),r=r.concat(n.removeUIClsFromElement(o)));return t!==!0&&n.removeCls(r),r},hasUICls:function(e){var t=this,n=t.uiCls||[];return Ext.Array.contains(n,e)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(e){var t=this,n=t.baseCls+"-"+t.ui+"-"+e,r=[Ext.baseCSSPrefix+e,t.baseCls+"-"+e,n],i=t.frameElementCls,s,o,u,a,f,l;if(t.frame&&!Ext.supports.CSS3BorderRadius){s=t.frameElementsArray,o=s.length,u=0;for(;u<o;u++)f=s[u],a=t["frame"+f.toUpperCase()],l=n+"-"+f,a&&a.dom?a.addCls(l):Ext.Array.indexOf(i[f],l)==-1&&i[f].push(l)}return t.frameElementCls=i,r},removeUIClsFromElement:function(e){var t=this,n=t.baseCls+"-"+t.ui+"-"+e,r=[Ext.baseCSSPrefix+e,t.baseCls+"-"+e,n],i=t.frameElementCls,s,o,u,a,f,l;if(t.frame&&!Ext.supports.CSS3BorderRadius){s=t.frameElementsArray,o=s.length,u=0;for(;u<o;u++)f=s[u],a=t["frame"+f.toUpperCase()],l=n+"-"+f,a&&a.dom?a.addCls(l):Ext.Array.remove(i[f],l)}return t.frameElementCls=i,r},addUIToElement:function(){var e=this,t=e.baseCls+"-"+e.ui,n=e.frameElementCls,r,i,s,o,u,a;e.addCls(t);if(e.frame&&!Ext.supports.CSS3BorderRadius){r=e.frameElementsArray,i=r.length,s=0;for(;s<i;s++)u=r[s],o=e["frame"+u.toUpperCase()],a=t+"-"+u,o?o.addCls(a):Ext.Array.contains(n[u],a)||n[u].push(a)}},removeUIFromElement:function(){var e=this,t=e.baseCls+"-"+e.ui,n=e.frameElementCls,r,i,s,o,u,a;e.removeCls(t);if(e.frame&&!Ext.supports.CSS3BorderRadius){r=e.frameElementsArray,i=r.length,s=0;for(;s<i;s++)u=r[s],o=e["frame"+u.toUpperCase()],a=t+"-"+u,o?o.removeCls(a):Ext.Array.remove(n[u],a)}},getTpl:function(e){return Ext.XTemplate.getTpl(this,e)},initStyles:function(e){var t=this,n=Ext.Element,r=t.padding,i=t.margin,s=t.x,o=t.y,u,a;r!==undefined&&e.setStyle("padding",n.unitizeBox(r===!0?5:r)),i!==undefined&&e.setStyle("margin",n.unitizeBox(i===!0?5:i)),t.border!==undefined&&t.setBorder(t.border,e),t.cls&&t.cls!=t.initialCls&&(e.addCls(t.cls),delete t.cls,delete t.initialCls),t.style&&t.style!=t.initialStyle&&(e.setStyle(t.style),delete t.style,delete t.initialStyle),s!==undefined&&e.setStyle("left",typeof s=="number"?s+"px":s),o!==undefined&&e.setStyle("top",typeof o=="number"?o+"px":o),t.getFrameInfo()||(u=t.width,a=t.height,u!==undefined&&(typeof u=="number"?Ext.isBorderBox&&e.setStyle("width",u+"px"):e.setStyle("width",u)),a!==undefined&&(typeof a=="number"?Ext.isBorderBox&&e.setStyle("height",a+"px"):e.setStyle("height",a)))},initEvents:function(){var e=this,t=e.afterRenderEvents,n,r,i=function(t){e.mon(n,t)};if(t)for(r in t)t.hasOwnProperty(r)&&(n=e[r],n&&n.on&&Ext.each(t[r],i));e.addFocusListener()},addFocusListener:function(){var e=this,t=e.getFocusEl(),n;if(t){if(t.isComponent)return t.addFocusListener();n=t.needsTabIndex(),!e.focusListenerAdded&&(!n||Ext.FocusManager.enabled)&&(n&&(t.dom.tabIndex=-1),t.on({focus:e.onFocus,blur:e.onBlur,scope:e}),e.focusListenerAdded=!0)}},getFocusEl:Ext.emptyFn,isFocusable:function(e){var t=this,n;if(t.focusable!==!1&&(n=t.getFocusEl())&&t.rendered&&!t.destroying&&!t.isDestroyed&&!t.disabled&&t.isVisible(!0))return n.isComponent?n.isFocusable():n&&n.dom&&n.isVisible()},preFocus:Ext.emptyFn,onFocus:function(e){var t=this,n=t.focusCls,r=t.getFocusEl();t.disabled||(t.preFocus(e),n&&r&&r.addCls(t.addClsWithUI(n,!0)),t.hasFocus||(t.hasFocus=!0,t.fireEvent("focus",t,e)))},beforeBlur:Ext.emptyFn,onBlur:function(e){var t=this,n=t.focusCls,r=t.getFocusEl();if(t.destroying)return;t.beforeBlur(e),n&&r&&r.removeCls(t.removeClsWithUI(n,!0)),t.validateOnBlur&&t.validate(),t.hasFocus=!1,t.fireEvent("blur",t,e),t.postBlur(e)},postBlur:Ext.emptyFn,is:function(e){return Ext.ComponentQuery.is(this,e)},up:function(e){var t=this.getBubbleTarget();if(e)for(;t;t=t.getBubbleTarget())if(Ext.ComponentQuery.is(t,e))return t;return t},nextSibling:function(e){var t=this.ownerCt,n,r,i,s;if(t){n=t.items,i=n.indexOf(this)+1;if(i)if(e){for(r=n.getCount();i<r;i++)if((s=n.getAt(i)).is(e))return s}else if(i<n.getCount())return n.getAt(i)}return null},previousSibling:function(e){var t=this.ownerCt,n,r,i;if(t){n=t.items,r=n.indexOf(this);if(r!=-1)if(e){for(--r;r>=0;r--)if((i=n.getAt(r)).is(e))return i}else if(r)return n.getAt(--r)}return null},previousNode:function(e,t){var n=this,r=n.ownerCt,i,s,o,u;if(t&&n.is(e))return n;if(r){for(s=r.items.items,o=Ext.Array.indexOf(s,n)-1;o>-1;o--){u=s[o];if(u.query){i=u.query(e),i=i[i.length-1];if(i)return i}if(u.is(e))return u}return r.previousNode(e,!0)}return null},nextNode:function(e,t){var n=this,r=n.ownerCt,i,s,o,u,a;if(t&&n.is(e))return n;if(r){for(s=r.items.items,u=Ext.Array.indexOf(s,n)+1,o=s.length;u<o;u++){a=s[u];if(a.is(e))return a;if(a.down){i=a.down(e);if(i)return i}}return r.nextNode(e)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowStyle:function(){var e=this,t=null;if(typeof e.autoScroll=="boolean")t={overflow:e.autoScroll?"auto":""};else if(e.overflowX!==undefined||e.overflowY!==undefined)t={"overflow-x":e.overflowX||"","overflow-y":e.overflowY||""};return t&&(Ext.isIE6||Ext.isIE7)&&(t.position="relative"),t},isXType:function(e,t){return t?this.xtype===e:this.xtypesMap[e]},getXTypes:function(){var e=this.self,t,n,r;if(!e.xtypes){t=[],n=this;while(n)r=n.xtypes,r!==undefined&&t.unshift.apply(t,r),n=n.superclass;e.xtypeChain=t,e.xtypes=t.join("/")}return e.xtypes},update:function(e,t,n){var r=this;r.tpl&&!Ext.isString(e)?(r.data=e,r.rendered&&r.tpl[r.tplWriteMode](r.getTargetEl(),e||{})):(r.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e,r.rendered&&r.getTargetEl().update(r.html,t,n)),r.rendered&&r.updateLayout()},setVisible:function(e){return this[e?"show":"hide"]()},isVisible:function(e){var t=this,n=t,r=t.rendered&&!t.hidden,i=t.ownerCt;t.hiddenAncestor=!1;if(t.destroyed)return!1;if(e&&r&&i)while(i){if(i.hidden||i.collapsed&&(!i.getDockedItems||!Ext.Array.contains(i.getDockedItems(),n))){t.hiddenAncestor=i,r=!1;break}n=i,i=i.ownerCt}return r},onBoxReady:function(){var e=this;e.disableOnBoxReady?e.onDisable():e.enableOnBoxReady&&e.onEnable(),e.resizable&&e.initResizable(e.resizable),e.draggable&&e.initDraggable()},enable:function(e){var t=this;return delete t.disableOnBoxReady,t.removeCls(t.disabledCls),t.rendered?t.onEnable():t.enableOnBoxReady=!0,t.disabled=!1,delete t.resetDisable,e!==!0&&t.fireEvent("enable",t),t},disable:function(e){var t=this;return delete t.enableOnBoxReady,t.addCls(t.disabledCls),t.rendered?t.onDisable():t.disableOnBoxReady=!0,t.disabled=!0,e!==!0&&(delete t.resetDisable,t.fireEvent("disable",t)),t},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var e=this,t=e.focusCls,n=e.getFocusEl();t&&n&&n.removeCls(e.removeClsWithUI(t,!0)),e.maskOnDisable&&(e.el.dom.disabled=!0,e.mask())},mask:function(){var e=this.lastBox,t=this.getMaskTarget(),n=[];e&&(n[2]=e.height),t.mask.apply(t,n)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(e){return this[e?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.addCls.apply(n,arguments),t},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.hasCls.apply(n,arguments)},removeCls:function(e){var t=this,n=t.rendered?t.el:t.protoEl;return n.removeCls.apply(n,arguments),t},addOverCls:function(){var e=this;e.disabled||e.el.addCls(e.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(e,t,n,r){var i=this,s,o;if(Ext.isString(e)&&(Ext.isObject(t)||r&&r.element)){if(r.element){s=t,t={},t[e]=s,e=r.element,n&&(t.scope=n);for(o in r)r.hasOwnProperty(o)&&i.eventOptionsRe.test(o)&&(t[o]=r[o])}i[e]&&i[e].on?i.mon(i[e],t):(i.afterRenderEvents=i.afterRenderEvents||{},i.afterRenderEvents[e]||(i.afterRenderEvents[e]=[]),i.afterRenderEvents[e].push(t))}return i.mixins.observable.addListener.apply(i,arguments)},removeManagedListenerItem:function(e,t,n,r,i,s){var o=this,u=t.options?t.options.element:null;if(!u)return o.mixins.observable.removeManagedListenerItem.apply(o,arguments);u=o[u],u&&u.un&&(e||t.item===n&&t.ename===r&&(!i||t.fn===i)&&(!s||t.scope===s))&&(u.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(o.managedListeners,t))},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(e,t){var n=this;n.ownerCt=e,n.hasListeners.added&&n.fireEvent("added",n,e,t)},onRemoved:function(e){var t=this;t.hasListeners.removed&&t.fireEvent("removed",t,t.ownerCt),delete t.ownerCt,delete t.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:Ext.emptyFn,setSize:function(e,t){var n=this;return e&&typeof e=="object"&&(t=e.height,e=e.width),typeof e=="number"?n.width=Ext.Number.constrain(e,n.minWidth,n.maxWidth):e===null&&delete n.width,typeof t=="number"?n.height=Ext.Number.constrain(t,n.minHeight,n.maxHeight):t===null&&delete n.height,n.rendered&&n.isVisible()&&n.updateLayout({isRoot:!1}),n},isLayoutRoot:function(){var e=this,t=e.ownerLayout;return!t||e._isLayoutRoot||e.floating?!0:t.isItemLayoutRoot(e)},isLayoutSuspended:function(){var e=this,t;while(e){if(e.layoutSuspendCount||e.suspendLayout)return!0;t=e.ownerLayout;if(!t)break;e=t.owner}return!1},updateLayout:function(e){var t=this,n,r=e&&e.isRoot;if(!t.rendered||t.layoutSuspendCount||t.suspendLayout)return;t.hidden?Ext.AbstractComponent.cancelLayout(t):typeof r!="boolean"&&(r=t.isLayoutRoot());if(r||!t.ownerLayout||!t.ownerLayout.onContentChange(t))t.isLayoutSuspended()||(n=e&&e.hasOwnProperty("defer")?e.defer:t.deferLayouts,Ext.AbstractComponent.updateLayout(t,n))},getSizeModel:function(e){var t=this,n=Ext.layout.SizeModel,r=t.componentLayout.ownerContext,i=t.width,s=t.height,o,u,a,f,l,c,h,p,d,v;r&&(v=r.widthModel,l=r.heightModel);if(!v||!l)a=(o=typeof i)=="number",f=(u=typeof s)=="number",d=t.floating||!(c=t.ownerLayout),d?(h=Ext.layout.Layout.prototype.autoSizePolicy,p=t.floating?3:t.shrinkWrap,a&&(v=n.configured),f&&(l=n.configured)):(h=c.getItemSizePolicy(t,e),p=c.isItemShrinkWrap(t)),p=p===!0?3:p||0,d&&p&&(i&&o=="string"&&(p&=2),s&&u=="string"&&(p&=1)),p!==3&&(e||(e=t.ownerCt&&t.ownerCt.getSizeModel()),e&&(p|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0))),v||(h.setsWidth?h.readsWidth?a?v=n.calculatedFromConfigured:v=p&1?n.calculatedFromShrinkWrap:n.calculatedFromNatural:v=n.calculated:a?v=n.configured:v=p&1?n.shrinkWrap:n.natural),l||(h.setsHeight?h.readsHeight?f?l=n.calculatedFromConfigured:l=p&2?n.calculatedFromShrinkWrap:n.calculatedFromNatural:l=n.calculated:f?l=n.configured:l=p&2?n.shrinkWrap:n.natural);return v.pairsByHeightOrdinal[l.ordinal]},isDescendant:function(e){if(e.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===e)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(e){var t=this.componentLayout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.componentLayout=e,e.setOwner(this)},getComponentLayout:function(){var e=this;return(!e.componentLayout||!e.componentLayout.isLayout)&&e.setComponentLayout(Ext.layout.Layout.create(e.componentLayout,"autocomponent")),e.componentLayout},afterComponentLayout:function(e,t,n,r){var i=this,s,o,u,a;++i.componentLayoutCounter===1&&i.afterFirstLayout(e,t);if(i.floatingItems){s=i.floatingItems.items,o=s.length;for(u=0;u<o;u++)a=s[u],!a.rendered&&a.autoShow&&a.show()}i.hasListeners.resize&&(e!==n||t!==r)&&i.fireEvent("resize",i,e,t,n,r)},beforeComponentLayout:function(e,t){return!0},setPosition:function(e,t,n){var r=this,i=r.beforeSetPosition.apply(r,arguments);if(i&&r.rendered){i=r.convertPosition(i);if(i.left!==r.el.getLeft()||i.top!==r.el.getTop())n?(r.stopAnimation(),r.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(r.afterSetPosition,r,[i.left,i.top])},to:i},n))):(i.left!==undefined&&i.top!==undefined?r.el.setLeftTop(i.left,i.top):i.left!==undefined?r.el.setLeft(i.left):i.top!==undefined&&r.el.setTop(i.top),r.afterSetPosition(i.left,i.top))}return r},beforeSetPosition:function(e,t,n){var r,i;return!e||Ext.isNumber(e)?r={x:e,y:t,anim:n}:Ext.isNumber(i=e[0])?r={x:i,y:e[1],anim:t}:r={x:e.x,y:e.y,anim:t},r.hasX=Ext.isNumber(r.x),r.hasY=Ext.isNumber(r.y),this.x=r.x,this.y=r.y,r.hasX||r.hasY?r:null},afterSetPosition:function(e,t){var n=this;n.onPosition(e,t),n.hasListeners.move&&n.fireEvent("move",n,e,t)},convertPosition:function(e,t){var n={},r=Ext.Element;return e.hasX&&(n.left=t?r.addUnits(e.x):e.x),e.hasY&&(n.top=t?r.addUnits(e.y):e.y),n},onPosition:Ext.emptyFn,setWidth:function(e){return this.setSize(e)},setHeight:function(e){return this.setSize(undefined,e)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var e=this,t=e.autoLoad?Ext.isObject(e.autoLoad)?e.autoLoad:{url:e.autoLoad}:null,n=e.loader||t;return n?(n.isLoader?n.setTarget(e):e.loader=new Ext.ComponentLoader(Ext.apply({target:e,autoLoad:t},n)),e.loader):null},setDocked:function(e,t){var n=this;return n.dock=e,t&&n.ownerCt&&n.rendered&&n.ownerCt.updateLayout(),n},setBorder:function(e,t){var n=this,r=!!t;if(n.rendered||r)r||(t=n.el),e?e=Ext.Element.unitizeBox(e===!0?1:e):e=0,t.setStyle("border-width",e),r||n.updateLayout();n.border=e},onDestroy:function(){var e=this;e.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(e.setSize,e),Ext.destroy(e.componentLayout,e.loadMask,e.floatingDescendants)},destroy:function(){var e=this,t=e.renderSelectors,n,r;if(!e.isDestroyed)if(!e.hasListeners.beforedestroy||e.fireEvent("beforedestroy",e)!==!1){e.destroying=!0,e.beforeDestroy(),e.floating?(delete e.floatParent,e.zIndexManager&&e.zIndexManager.unregister(e)):e.ownerCt&&e.ownerCt.remove&&e.ownerCt.remove(e,!1),e.onDestroy(),Ext.destroy(e.plugins),e.hasListeners.destroy&&e.fireEvent("destroy",e),Ext.ComponentManager.unregister(e),e.mixins.state.destroy.call(e),e.clearListeners();if(e.rendered){e.preserveElOnDestroy||e.el.remove(),e.mixins.elementCt.destroy.call(e);if(t)for(n in t)t.hasOwnProperty(n)&&(r=e[n],r&&(delete e[n],r.remove()));delete e.el,delete e.frameBody,delete e.rendered}e.destroying=!1,e.isDestroyed=!0}},getPlugin:function(e){var t=0,n=this.plugins,r=n.length;for(;t<r;t++)if(n[t].pluginId===e)return n[t]},isDescendantOf:function(e){return!!this.findParentBy(function(t){return t===e})}},function(){var e=this;e.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(t){e.resumeLayouts(t)},Ext.suspendLayouts=function(){e.suspendLayouts()},Ext.batchLayouts=function(t,n){e.suspendLayouts(),t.call(n),e.resumeLayouts(!0)}}),Ext.define("Ext.AbstractPlugin",{disabled:!1,constructor:function(e){this.initialConfig=e,Ext.apply(this,e)},clone:function(){return new this.self(this.initialConfig)},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.Action",{constructor:function(e){this.initialConfig=e,this.itemId=e.itemId=e.itemId||e.id||Ext.id(),this.items=[]},isAction:!0,setText:function(e){this.initialConfig.text=e,this.callEach("setText",[e])},getText:function(){return this.initialConfig.text},setIconCls:function(e){this.initialConfig.iconCls=e,this.callEach("setIconCls",[e])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(e){this.initialConfig.disabled=e,this.callEach("setDisabled",[e])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(e){this.initialConfig.hidden=e,this.callEach("setVisible",[!e])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,t){this.initialConfig.handler=e,this.initialConfig.scope=t,this.callEach("setHandler",[e,t])},each:function(e,t){Ext.each(this.items,e,t)},callEach:function(e,t){var n=this.items,r=0,i=n.length,s;Ext.suspendLayouts();for(;r<i;r++)s=n[r],s[e].apply(s,t);Ext.resumeLayouts(!0)},addComponent:function(e){this.items.push(e),e.on("destroy",this.removeComponent,this)},removeComponent:function(e){Ext.Array.remove(this.items,e)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.util.Observable"},statics:{requestId:0},url:null,async:!0,method:null,username:"",password:"",disableCaching:!0,withCredentials:!1,cors:!1,disableCachingParam:"_dc",timeout:3e4,useDefaultHeader:!0,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest",constructor:function(e){e=e||{},Ext.apply(this,e),this.requests={},this.mixins.observable.constructor.call(this)},request:function(e){e=e||{};var t=this,n=e.scope||window,r=e.username||t.username,i=e.password||t.password||"",s,o,u,a,f;return t.fireEvent("beforerequest",t,e)!==!1?(o=t.setOptions(e,n),t.isFormUpload(e)?(t.upload(e.form,o.url,o.data,e),null):((e.autoAbort||t.autoAbort)&&t.abort(),s=e.async!==!1?e.async||t.async:!1,f=t.openRequest(e,o,s,r,i),a=t.setupHeaders(f,e,o.data,o.params),u={id:++Ext.data.Connection.requestId,xhr:f,headers:a,options:e,async:s,timeout:setTimeout(function(){u.timedout=!0,t.abort(u)},e.timeout||t.timeout)},t.requests[u.id]=u,t.latestId=u.id,s&&(f.onreadystatechange=Ext.Function.bind(t.onStateChange,t,[u])),f.send(o.data),s?u:t.onComplete(u))):(Ext.callback(e.callback,e.scope,[e,undefined,undefined]),null)},upload:function(e,t,n,r){e=Ext.getDom(e),r=r||{};var i=Ext.id(),s=document.createElement("iframe"),o=[],u="multipart/form-data",a={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action},f=function(t,n){l=document.createElement("input"),Ext.fly(l).set({type:"hidden",value:n,name:t}),e.appendChild(l),o.push(l)},l,c,h,p,d,v,m,g;Ext.fly(s).set({id:i,name:i,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL}),document.body.appendChild(s),document.frames&&(document.frames[i].name=i),Ext.fly(e).set({target:i,method:"POST",enctype:u,encoding:u,action:t||a.action});if(n){c=Ext.Object.fromQueryString(n)||{};for(p in c)if(c.hasOwnProperty(p)){h=c[p];if(Ext.isArray(h)){d=h.length;for(v=0;v<d;v++)f(p,h[v])}else f(p,h)}}Ext.fly(s).on("load",Ext.Function.bind(this.onUploadComplete,this,[s,r]),null,{single:!0}),e.submit(),Ext.fly(e).set(a),m=o.length;for(g=0;g<m;g++)Ext.removeNode(o[g])},onUploadComplete:function(e,t){var n=this,r={responseText:"",responseXML:null},i,s;try{i=e.contentWindow.document||e.contentDocument||window.frames[e.id].document,i&&(i.body&&((s=i.body.firstChild)&&/pre/i.test(s.tagName)?r.responseText=s.innerText:(s=i.getElementsByTagName("textarea")[0])?r.responseText=s.value:r.responseText=i.body.textContent||i.body.innerText),r.responseXML=i.XMLDocument||i)}catch(o){}n.fireEvent("requestcomplete",n,r,t),Ext.callback(t.success,t.scope,[r,t]),Ext.callback(t.callback,t.scope,[t,!0,r]),setTimeout(function(){Ext.removeNode(e)},100)},isFormUpload:function(e){var t=this.getForm(e);return t?e.isUpload||/multipart\/form-data/i.test(t.getAttribute("enctype")):!1},getForm:function(e){return Ext.getDom(e.form)||null},setOptions:function(e,t){var n=this,r=e.params||{},i=n.extraParams,s=e.urlParams,o=e.url||n.url,u=e.jsonData,a,f,l;return Ext.isFunction(r)&&(r=r.call(t,e)),Ext.isFunction(o)&&(o=o.call(t,e)),o=this.setupUrl(e,o),l=e.rawData||e.xmlData||u||null,u&&!Ext.isPrimitive(u)&&(l=Ext.encode(l)),Ext.isObject(r)&&(r=Ext.Object.toQueryString(r)),Ext.isObject(i)&&(i=Ext.Object.toQueryString(i)),r+=i?(r?"&":"")+i:"",s=Ext.isObject(s)?Ext.Object.toQueryString(s):s,r=this.setupParams(e,r),a=(e.method||n.method||(r||l?"POST":"GET")).toUpperCase(),this.setupMethod(e,a),f=e.disableCaching!==!1?e.disableCaching||n.disableCaching:!1,a==="GET"&&f&&(o=Ext.urlAppend(o,(e.disableCachingParam||n.disableCachingParam)+"="+(new Date).getTime())),(a=="GET"||l)&&r&&(o=Ext.urlAppend(o,r),r=null),s&&(o=Ext.urlAppend(o,s)),{url:o,method:a,data:l||r||null}},setupUrl:function(e,t){var n=this.getForm(e);return n&&(t=t||n.action),t},setupParams:function(e,t){var n=this.getForm(e),r;return n&&!this.isFormUpload(e)&&(r=Ext.Element.serializeForm(n),t=t?t+"&"+r:r),t},setupMethod:function(e,t){return this.isFormUpload(e)?"POST":t},setupHeaders:function(e,t,n,r){var i=this,s=Ext.apply({},t.headers||{},i.defaultHeaders||{}),o=i.defaultPostHeader,u=t.jsonData,a=t.xmlData,f,l;!s["Content-Type"]&&(n||r)&&(n&&(t.rawData?o="text/plain":a&&Ext.isDefined(a)?o="text/xml":u&&Ext.isDefined(u)&&(o="application/json")),s["Content-Type"]=o),i.useDefaultXhrHeader&&!s["X-Requested-With"]&&(s["X-Requested-With"]=i.defaultXhrHeader);try{for(f in s)s.hasOwnProperty(f)&&(l=s[f],e.setRequestHeader(f,l))}catch(c){i.fireEvent("exception",f,l)}return s},newRequest:function(e){var t;return(e.cors||this.cors)&&Ext.isIE&&Ext.ieVersion>=8?t=new XDomainRequest:t=this.getXhrInstance(),t},openRequest:function(e,t,n,r,i){var s=this.newRequest(e);r?s.open(t.method,t.url,n,r,i):s.open(t.method,t.url,n);if(e.withCredentials||this.withCredentials)s.withCredentials=!0;return s},getXhrInstance:function(){var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=0,n=e.length,r;for(;t<n;++t)try{r=e[t],r();break}catch(i){}return r}(),isLoading:function(e){e||(e=this.getLatest());if(!e||!e.xhr)return!1;var t=e.xhr.readyState;return t!==0&&t!=4},abort:function(e){var t=this,n;e||(e=t.getLatest());if(e&&t.isLoading(e)){n=e.xhr;try{n.onreadystatechange=null}catch(r){n=Ext.emptyFn}n.abort(),t.clearTimeout(e),e.timedout||(e.aborted=!0),t.onComplete(e),t.cleanup(e)}},abortAll:function(){var e=this.requests,t;for(t in e)e.hasOwnProperty(t)&&this.abort(e[t])},getLatest:function(){var e=this.latestId,t;return e&&(t=this.requests[e]),t||null},onStateChange:function(e){e.xhr.readyState==4&&(this.clearTimeout(e),this.onComplete(e),this.cleanup(e))},clearTimeout:function(e){clearTimeout(e.timeout),delete e.timeout},cleanup:function(e){e.xhr=null,delete e.xhr},onComplete:function(e){var t=this,n=e.options,r,i,s;try{r=t.parseStatus(e.xhr.status)}catch(o){r={success:!1,isException:!1}}return i=r.success,i?(s=t.createResponse(e),t.fireEvent("requestcomplete",t,s,n),Ext.callback(n.success,n.scope,[s,n])):(r.isException||e.aborted||e.timedout?s=t.createException(e):s=t.createResponse(e),t.fireEvent("requestexception",t,s,n),Ext.callback(n.failure,n.scope,[s,n])),Ext.callback(n.callback,n.scope,[n,i,s]),delete t.requests[e.id],s},parseStatus:function(e){e=e==1223?204:e;var t=e>=200&&e<300||e==304,n=!1;if(!t)switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=!0}return{success:t,isException:n}},createResponse:function(e){var t=e.xhr,n={},r=t.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),i=r.length,s,o,u,a,f;while(i--)s=r[i],o=s.indexOf(":"),o>=0&&(u=s.substr(0,o).toLowerCase(),s.charAt(o+1)==" "&&++o,n[u]=s.substr(o+1));return e.xhr=null,delete e.xhr,f={request:e,requestId:e.id,status:t.status,statusText:t.statusText,getResponseHeader:function(e){return n[e.toLowerCase()]},getAllResponseHeaders:function(){return n},responseText:t.responseText,responseXML:t.responseXML},t=null,f},createException:function(e){return{request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",aborted:e.aborted,timedout:e.timedout}}}),Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1}),Ext.define("Ext.util.Floating",{uses:["Ext.Layer","Ext.window.Window"],focusOnToFront:!0,shadow:"sides",constructor:function(e){var t=this;t.el=new Ext.Layer(Ext.apply({hideMode:t.hideMode,hidden:t.hidden,shadow:typeof t.shadow!="undefined"?t.shadow:"sides",shadowOffset:t.shadowOffset,constrain:!1,shim:t.shim===!1?!1:undefined},t.floating),e),t.floating=!0,t.registerWithOwnerCt()},registerWithOwnerCt:function(){var e=this;e.zIndexParent&&e.zIndexParent.unregisterFloatingItem(e),e.zIndexParent=e.up("[floating]"),e.setFloatParent(e.ownerCt),delete e.ownerCt,e.zIndexParent?e.zIndexParent.registerFloatingItem(e):Ext.WindowManager.register(e)},setFloatParent:function(e){var t=this;t.floatParent&&t.mun(t.floatParent,{hide:t.onFloatParentHide,show:t.onFloatParentShow,scope:t}),t.floatParent=e,e&&t.mon(t.floatParent,{hide:t.onFloatParentHide,show:t.onFloatParentShow,scope:t}),(t.constrain||t.constrainHeader)&&!t.constrainTo&&(t.constrainTo=e?e.getTargetEl():t.container)},onAfterFloatLayout:function(){this.syncShadow()},onFloatParentHide:function(){var e=this;e.hideOnParentHide!==!1&&e.isVisible()&&(e.hide(),e.showOnParentShow=!0)},onFloatParentShow:function(){this.showOnParentShow&&(delete this.showOnParentShow,this.show())},setZIndex:function(e){var t=this;return t.el.setZIndex(e),e+=10,t.floatingDescendants&&(e=Math.floor(t.floatingDescendants.setBase(e)/100)*100+1e4),e},doConstrain:function(e){var t=this,n=t.getConstrainVector(e),r;n&&(r=t.getPosition(!!t.floatParent),r[0]+=n[0],r[1]+=n[1],t.setPosition(r))},getConstrainVector:function(e){var t=this;if(t.constrain||t.constrainHeader)return e=e||t.floatParent&&t.floatParent.getTargetEl()||t.container||t.el.getScopeParent(),(t.constrainHeader?t.header.el:t.el).getConstrainVector(e)},alignTo:function(e,t,n){return this.setPagePosition(this.el.getAlignToXY(e.el||e,t,n)),this},toFront:function(e){var t=this;return t.zIndexParent&&t.bringParentToFront!==!1&&t.zIndexParent.toFront(!0),Ext.isDefined(e)||
(e=!t.focusOnToFront),e&&(t.preventFocusOnActivate=!0),t.zIndexManager.bringToFront(t)&&(e||t.focus(!1,!0)),delete t.preventFocusOnActivate,t},setActive:function(e,t){var n=this;e?(n.el.shadow&&!n.maximized&&n.el.enableShadow(!0),n.modal&&!n.preventFocusOnActivate&&n.focus(!1,!0),n.fireEvent("activate",n)):(n.isWindow&&t&&t.isWindow&&n.el.disableShadow(),n.fireEvent("deactivate",n))},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var e=this,t;return e.isVisible()?(t=e.el.getAlignToXY(e.container,"c-c"),e.setPagePosition(t)):e.needsCenter=!0,e},onFloatShow:function(){this.needsCenter&&this.center(),delete this.needsCenter},syncShadow:function(){this.floating&&this.el.sync(!0)},fitContainer:function(){var e=this,t=e.floatParent,n=t?t.getTargetEl():e.container;e.setSize(n.getViewSize(!1)),e.setPosition.apply(e,t?[0,0]:n.getXY())}}),Ext.define("Ext.Component",{alias:["widget.component","widget.box"],extend:"Ext.AbstractComponent",requires:["Ext.util.DelayedTask"],uses:["Ext.Layer","Ext.resizer.Resizer","Ext.util.ComponentDragger"],mixins:{floating:"Ext.util.Floating"},statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:!1,toFrontOnShow:!0,hideMode:"display",bubbleEvents:[],monPropRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,defaultComponentLayoutType:"autocomponent",constructor:function(e){var t=this;e=e||{};if(e.initialConfig)e.isAction&&(t.baseAction=e),e=e.initialConfig;else if(e.tagName||e.dom||Ext.isString(e))e={applyTo:e,id:e.id||e};t.callParent([e]),t.baseAction&&t.baseAction.addComponent(t)},initComponent:function(){var e=this;e.callParent(),e.listeners&&(e.on(e.listeners),e.listeners=null),e.enableBubble(e.bubbleEvents),e.mons=[]},afterRender:function(){var e=this;e.callParent(),(!e.x||!e.y)&&(e.pageX||e.pageY)&&e.setPagePosition(e.pageX,e.pageY)},setAutoScroll:function(e){var t=this;return t.autoScroll=!!e,t.rendered&&t.getTargetEl().setStyle(t.getOverflowStyle()),t.updateLayout(),t},setOverflowXY:function(e,t){var n=this,r=arguments.length;return r&&(n.overflowX=e||"",r>1&&(n.overflowY=t||"")),n.rendered&&n.getTargetEl().setStyle(n.getOverflowStyle()),n.updateLayout(),n},beforeRender:function(){var e=this,t=e.floating,n;return t&&(e.addCls(Ext.baseCSSPrefix+"layer"),n=t.cls,n&&e.addCls(n)),e.callParent()},afterComponentLayout:function(){this.callParent(arguments),this.floating&&this.onAfterFloatLayout()},makeFloating:function(e){this.mixins.floating.constructor.call(this,e)},wrapPrimaryEl:function(e){this.floating?this.makeFloating(e):this.callParent(arguments)},initResizable:function(e){var t=this;e=Ext.apply({target:t,dynamic:!1,constrainTo:t.constrainTo||(t.floatParent?t.floatParent.getTargetEl():null),handles:t.resizeHandles},e),e.target=t,t.resizer=new Ext.resizer.Resizer(e)},getDragEl:function(){return this.el},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({el:e.resizer.el,rendered:!0,container:e.container}):e,n=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.el.getScopeParent()):undefined},e.draggable);if(e.constrain||e.constrainDelegate)n.constrain=e.constrain,n.constrainDelegate=e.constrainDelegate;e.dd=new Ext.util.ComponentDragger(t,n)},scrollBy:function(e,t,n){var r;(r=this.getTargetEl())&&r.dom&&r.scrollBy.apply(r,arguments)},setLoading:function(e,t){var n=this,r;return n.rendered&&(Ext.destroy(n.loadMask),n.loadMask=null,e!==!1&&!n.collapsed&&(Ext.isObject(e)?r=Ext.apply({},e):Ext.isString(e)?r={msg:e}:r={},t&&Ext.applyIf(r,{useTargetEl:!0}),n.loadMask=new Ext.LoadMask(n,r),n.loadMask.show())),n.loadMask},beforeSetPosition:function(){var e=this,t=e.callParent(arguments),n;return t&&(n=e.adjustPosition(t.x,t.y),t.x=n.x,t.y=n.y),t||null},afterSetPosition:function(e,t){this.onPosition(e,t),this.fireEvent("move",this,e,t)},showAt:function(e,t,n){var r=this;!r.rendered&&(r.autoRender||r.floating)&&(r.doAutoRender(),r.hidden=!0),r.floating?r.setPosition(e,t,n):r.setPagePosition(e,t,n),r.show()},setPagePosition:function(e,t,n){var r=this,i,s;return Ext.isArray(e)&&(t=e[1],e=e[0]),r.pageX=e,r.pageY=t,r.floating?(r.isContainedFloater()?(s=r.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(e)&&Ext.isNumber(s.left)&&(e-=s.left),Ext.isNumber(t)&&Ext.isNumber(s.top)&&(t-=s.top)):(i=r.el.translatePoints(e,t),e=i.left,t=i.top),r.setPosition(e,t,n)):(i=r.el.translatePoints(e,t),r.setPosition(i.left,i.top,n)),r},isContainedFloater:function(){return this.floating&&this.floatParent},getBox:function(e){var t=e?this.getPosition(e):this.el.getXY(),n=this.getSize();return n.x=t[0],n.y=t[1],n},updateBox:function(e){return this.setSize(e.width,e.height),this.setPagePosition(e.x,e.y),this},getOuterSize:function(){var e=this.el;return{width:e.getWidth()+e.getMargin("lr"),height:e.getHeight()+e.getMargin("tb")}},adjustPosition:function(e,t){var n=this,r;return n.isContainedFloater()&&(r=n.floatParent.getTargetEl().getViewRegion(),e+=r.left,t+=r.top),{x:e,y:t}},getPosition:function(e){var t=this,n=t.el,r,i=t.isContainedFloater(),s;return e===!0&&!i?[n.getLocalX(),n.getLocalY()]:(r=t.el.getXY(),e===!0&&i&&(s=t.floatParent.getTargetEl().getViewRegion(),r[0]-=s.left,r[1]-=s.top),r)},getId:function(){var e=this,t;return e.id||(t=e.getXType(),t?t=t.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):t=Ext.name.toLowerCase()+"-comp",e.id=t+"-"+e.getAutoId()),e.id},show:function(e,t,n){var r=this,i=r.rendered;return i&&r.isVisible()?r.toFrontOnShow&&r.floating&&r.toFront():r.fireEvent("beforeshow",r)!==!1?(r.hidden=!1,!i&&(r.autoRender||r.floating)&&(r.doAutoRender(),i=r.rendered),i&&(r.beforeShow(),r.onShow.apply(r,arguments),r.afterShow.apply(r,arguments))):r.onShowVeto(),r},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var e=this;e.el.show(),e.callParent(arguments),e.floating&&(e.maximized?e.fitContainer():e.constrain&&e.doConstrain())},afterShow:function(e,t,n){var r=this,i,s,o;e=e||r.animateTarget,r.ghost||(e=null),e?(e=e.el?e.el:Ext.get(e),s=r.el.getBox(),i=e.getBox(),r.el.addCls(Ext.baseCSSPrefix+"hide-offsets"),o=r.ghost(),o.el.stopAnimation(),o.el.setX(-1e4),o.el.animate({from:i,to:s,listeners:{afteranimate:function(){delete o.componentLayout.lastComponentSize,r.unghost(),r.el.removeCls(Ext.baseCSSPrefix+"hide-offsets"),r.onShowComplete(t,n)}}})):r.onShowComplete(t,n)},onShowComplete:function(e,t){var n=this;n.floating&&(n.toFront(),n.onFloatShow()),Ext.callback(e,t||n),n.fireEvent("show",n),delete n.hiddenByLayout},hide:function(){var e=this;return e.showOnParentShow=!1,(!e.rendered||!!e.isVisible())&&e.fireEvent("beforehide",e)!==!1&&(e.hidden=!0,e.rendered&&e.onHide.apply(e,arguments)),e},onHide:function(e,t,n){var r=this,i,s;e=e||r.animateTarget,r.ghost||(e=null),e&&(e=e.el?e.el:Ext.get(e),i=r.ghost(),i.el.stopAnimation(),s=e.getBox(),s.width+="px",s.height+="px",i.el.animate({to:s,listeners:{afteranimate:function(){delete i.componentLayout.lastComponentSize,i.el.hide(),r.afterHide(t,n)}}})),r.el.hide(),e||r.afterHide(t,n)},afterHide:function(e,t){var n=this;delete n.hiddenByLayout,Ext.AbstractComponent.prototype.onHide.call(this),Ext.callback(e,t||n),n.fireEvent("hide",n)},onDestroy:function(){var e=this;e.rendered&&Ext.destroy(e.proxy,e.proxyWrap,e.resizer,e.resizerComponent),delete e.focusTask,e.callParent()},deleteMembers:function(){var e=arguments,t=e.length,n=0;for(;n<t;++n)delete this[e[n]]},focus:function(e,t){var n=this,r,i,s;if(t)return n.focusTask||(n.focusTask=new Ext.util.DelayedTask(n.focus)),n.focusTask.delay(Ext.isNumber(t)?t:10,null,n,[e,!1]),n;if(n.rendered&&!n.isDestroyed&&n.isVisible(!0)&&(r=n.getFocusEl())){if(r.isComponent)return r.focus(e,t);if(i=r.dom)r.needsTabIndex()&&(i.tabIndex=-1),n.floating&&(s=n.container.dom.scrollTop),r.focus(),e===!0&&i.select();n.floating&&(n.toFront(!0),s!==undefined&&(n.container.dom.scrollTop=s))}return n},cancelFocus:function(){var e=this.focusTask;e&&e.cancel()},blur:function(){var e;return this.rendered&&(e=this.getFocusEl())&&e.blur(),this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},onResize:Ext.emptyFn,getBubbleTarget:function(){return this.ownerCt||this.floatParent},getContentTarget:function(){return this.el},cloneConfig:function(e){e=e||{};var t=e.id||Ext.id(),n=Ext.applyIf(e,this.initialConfig),r;return n.id=t,r=Ext.getClass(this),new r(n)},getXType:function(){return this.self.xtype},findParentBy:function(e){var t;for(t=this.getBubbleTarget();t&&!e(t,this);t=t.getBubbleTarget());return t||null},findParentByType:function(e){return Ext.isFunction(e)?this.findParentBy(function(t){return t.constructor===e}):this.up(e)},bubble:function(e,t,n){var r=this;while(r){if(e.apply(t||r,n||[r])===!1)break;r=r.getBubbleTarget()}return this},getProxy:function(){var e=this,t;return e.proxy||(t=Ext.getBody(),Ext.scopeResetCSS&&(e.proxyWrap=t=Ext.getBody().createChild({cls:Ext.resetCls})),e.proxy=e.el.createProxy(Ext.baseCSSPrefix+"proxy-el",t,!0)),e.proxy}}),Ext.define("Ext.ElementLoader",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(e,t,n){return e.getTarget().update(t.responseText,n.scripts===!0),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(e){var t=this,n;e=e||{},Ext.apply(t,e),t.setTarget(t.target),t.addEvents("beforeload","exception","load"),t.mixins.observable.constructor.call(t),t.autoLoad&&(n=t.autoLoad,n===!0&&(n={}),t.load(n))},setTarget:function(e){var t=this;e=Ext.get(e),t.target&&t.target!=e&&t.abort(),t.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;e!==undefined&&(Ext.Ajax.abort(e.request),e.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(e===!0?null:e)},load:function(e){e=Ext.apply({},e);var t=this,n=t.target,r=Ext.isDefined(e.loadMask)?e.loadMask:t.loadMask,i=Ext.apply({},e.params),s=Ext.apply({},e.ajaxOptions),o=e.callback||t.callback,u=e.scope||t.scope||t,a;Ext.applyIf(s,t.ajaxOptions),Ext.applyIf(e,s),Ext.applyIf(i,t.params),Ext.apply(i,t.baseParams),Ext.applyIf(e,{url:t.url}),Ext.apply(e,{scope:t,params:i,callback:t.onComplete});if(t.fireEvent("beforeload",t,e)===!1)return;r&&t.addMask(r),a=Ext.Ajax.request(e),t.active={request:a,options:e,mask:r,scope:u,callback:o,success:e.success||t.success,failure:e.failure||t.failure,renderer:e.renderer||t.renderer,scripts:Ext.isDefined(e.scripts)?e.scripts:t.scripts},t.setOptions(t.active,e)},setOptions:Ext.emptyFn,onComplete:function(e,t,n){var r=this,i=r.active,s=i.scope,o=r.getRenderer(i.renderer);t&&(t=o.call(r,r,n,i)!==!1),t?(Ext.callback(i.success,s,[r,n,e]),r.fireEvent("load",r,n,e)):(Ext.callback(i.failure,s,[r,n,e]),r.fireEvent("exception",r,n,e)),Ext.callback(i.callback,s,[r,t,n,e]),i.mask&&r.removeMask(),delete r.active},getRenderer:function(e){return Ext.isFunction(e)?e:this.statics().Renderer.Html},startAutoRefresh:function(e,t){var n=this;n.stopAutoRefresh(),n.autoRefresh=setInterval(function(){n.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var e=this;e.stopAutoRefresh(),delete e.target,e.abort(),e.clearListeners()}}),Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(e,t,n){var r=!0;try{e.getTarget().update(Ext.decode(t.responseText))}catch(i){r=!1}return r},Component:function(e,t,n){var r=!0,i=e.getTarget(),s=[];try{s=Ext.decode(t.responseText)}catch(o){r=!1}return r&&(i.suspendLayouts(),n.removeAll&&i.removeAll(),i.add(s),i.resumeLayouts(!0)),r}}},target:null,loadMask:!1,renderer:"html",setTarget:function(e){var t=this;Ext.isString(e)&&(e=Ext.getCmp(e)),t.target&&t.target!=e&&t.abort(),t.target=e},removeMask:function(){this.target.setLoading(!1)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=Ext.isDefined(t.removeAll)?t.removeAll:this.removeAll},getRenderer:function(e){if(Ext.isFunction(e))return e;var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.Template",{requires:["Ext.dom.Helper","Ext.util.Format"],inheritableStatics:{from:function(e,t){return e=Ext.getDom(e),new this(e.value||e.innerHTML,t||"")}},constructor:function(e){var t=this,n=arguments,r=[],i=0,s=n.length,o;t.initialConfig={},s===1&&Ext.isArray(e)&&(n=e,s=n.length);if(s>1)for(;i<s;i++)o=n[i],typeof o=="object"?(Ext.apply(t.initialConfig,o),Ext.apply(t,o)):r.push(o);else r.push(e);t.html=r.join(""),t.compiled&&t.compile()},isTemplate:!0,disableFormats:!1,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(e){function o(t,s,o,u){return o&&n?(u?u=[e[s]].concat(Ext.functionFactory("return ["+u+"];")()):u=[e[s]],o.substr(0,5)=="this."?i[o.substr(5)].apply(i,u):r[o].apply(r,u)):e[s]!==undefined?e[s]:""}var t=this,n=t.disableFormats!==!0,r=Ext.util.Format,i=t,s;return t.compiled?t.compiled(e).join(""):(s=t.html.replace(t.re,o),s)},applyOut:function(e,t){var n=this;return n.compiled?t.push.apply(t,n.compiled(e)):t.push(n.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){var n=this;return n.html=e,n.compiled=null,t?n.compile():n},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){function fn(e,t,n,r){return n&&useFormat?(r=r?","+r:"",n.substr(0,5)!="this."?n="fm."+n+"(":n="this."+n.substr(5)+"("):(r="",n="(values['"+t+"'] == undefined ? '' : "),"',"+n+"values['"+t+"']"+r+") ,'"}var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==!0,body,bodyReturn;return bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn),body="this.compiled = function(values){ return ['"+bodyReturn+"'];};",eval(body),me},insertFirst:function(e,t,n){return this.doInsert("afterBegin",e,t,n)},insertBefore:function(e,t,n){return this.doInsert("beforeBegin",e,t,n)},insertAfter:function(e,t,n){return this.doInsert("afterEnd",e,t,n)},append:function(e,t,n){return this.doInsert("beforeEnd",e,t,n)},doInsert:function(e,t,n,r){var i=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(n));return r?Ext.get(i):i},overwrite:function(e,t,n){var r=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return n?Ext.get(r):r}}),Ext.define("Ext.XTemplateParser",{constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t=this,n=e.length,r={elseif:"elif"},i=t.topRe,s=t.actionsRe,o,u,a,f,l,c,h,p,d,v,m,g;t.level=0,t.stack=u=[];for(o=0;o<n;o=v){i.lastIndex=o,f=i.exec(e);if(!f){t.doText(e.substring(o,n));break}d=f.index,v=i.lastIndex,o<d&&t.doText(e.substring(o,d));if(f[1])v=e.indexOf("%}",d+2),t.doEval(e.substring(d+2,v)),v+=2;else if(f[2])v=e.indexOf("]}",d+2),t.doExpr(e.substring(d+2,v)),v+=2;else if(f[3])t.doTag(f[3]);else if(f[4]){m=null;while((p=s.exec(f[4]))!==null)a=p[2]||p[3],a&&(a=Ext.String.htmlDecode(a),l=p[1],l=r[l]||l,m=m||{},c=m[l],typeof c=="string"?m[l]=[c,a]:c?m[l].push(a):m[l]=a);if(!m)t.elseRe.test(f[4])?t.doElse():t.defaultRe.test(f[4])?t.doDefault():(t.doTpl(),u.push({type:"tpl"}));else if(m["if"])t.doIf(m["if"],m),u.push({type:"if"});else if(m["switch"])t.doSwitch(m["switch"],m),u.push({type:"switch"});else if(m["case"])t.doCase(m["case"],m);else if(m.elif)t.doElseIf(m.elif,m);else if(m["for"]){++t.level;if(g=t.propRe.exec(f[4]))m.propName=g[1]||g[2];t.doFor(m["for"],m),u.push({type:"for",actions:m})}else m.exec&&(t.doExec(m.exec,m),u.push({type:"exec",actions:m}))}else f[0].length===5?u.push({type:"tpl"}):(h=u.pop(),t.doEnd(h.type,h.actions),h.type=="for"&&--t.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]*)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|exec|switch|case|eval)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.XTemplateCompiler",{extend:"Ext.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE6||Ext.isIE7,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(e){var t=this,n=t.generate(e);return t.useEval?t.evalTpl(n):(new Function("Ext",n))(Ext)},generate:function(e){var t=this,n="var fm=Ext.util.Format,ts=Object.prototype.toString;",r;return t.maxLevel=0,t.body=["var c0=values, a0="+t.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, v;\n"],t.definitions?typeof t.definitions=="string"?t.definitions=[t.definitions,n]:t.definitions.push(n):t.definitions=[n],t.switches=[],t.parse(e),t.definitions.push((t.useEval?"$=":"return")+" function ("+t.fnArgs+") {",t.body.join(""),"}"),r=t.definitions.join("\n"),t.definitions.length=t.body.length=t.switches.length=0,delete t.definitions,delete t.body,delete t.switches,r},doText:function(e){var t=this,n=t.body;e=e.replace(t.aposRe,"\\'").replace(t.newLineRe,"\\n"),t.useIndex?n.push("out[out.length]='",e,"'\n"):n.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+")!==undefined) out"),this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(e){this.doExpr(this.parseTag(e))},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){var n=this;e==="."?n.body.push("if (values) {\n"):n.propNameRe.test(e)?n.body.push("if (",n.parseTag(e),") {\n"):n.body.push("if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doElseIf:function(e,t){var n=this;e==="."?n.body.push("else if (values) {\n"):n.propNameRe.test(e)?n.body.push("} else if (",n.parseTag(e),") {\n"):n.body.push("} else if (",n.addFn(e),n.callFn,") {\n"),t.exec&&n.doExec(t.exec)},doSwitch:function(e){var t=this;e==="."?t.body.push("switch (values) {\n"):t.propNameRe.test(e)?t.body.push("switch (",t.parseTag(e),") {\n"):t.body.push("switch (",t.addFn(e),t.callFn,") {\n"),t.switches.push(0)},doCase:function(e){var t=this,n=Ext.isArray(e)?e:[e],r=t.switches.length-1,i,s;t.switches[r]?t.body.push("break;\n"):t.switches[r]++;for(s=0,r=n.length;s<r;++s)i=t.intRe.exec(n[s]),n[s]=i?i[1]:"'"+n[s].replace(t.aposRe,"\\'")+"'";t.body.push("case ",n.join(": case "),":\n")},doDefault:function(){var e=this,t=e.switches.length-1;e.switches[t]?e.body.push("break;\n"):e.switches[t]++,e.body.push("default:\n")},doEnd:function(e,t){var n=this,r=n.level-1;e=="for"?(t.exec&&n.doExec(t.exec),n.body.push("}\n"),n.body.push("parent=p",r,";values=r",r+1,";xcount=n",r,";xindex=i",r,"\n")):(e=="if"||e=="switch")&&n.body.push("}\n")},doFor:function(e,t){var n=this,r,i=n.level,s=i-1,o="p"+i,u;e==="."?r="values":n.propNameRe.test(e)?r=n.parseTag(e):r=n.addFn(e)+n.callFn,n.maxLevel<i&&(n.maxLevel=i,n.body.push("var ")),e=="."?u="c"+i:u="a"+s+"?c"+s+"[i"+s+"]:p"+i,n.body.push("i",i,"=0,n",i,"=0,c",i,"=",r,",a",i,"=",n.createArrayTest(i),",p",i,"=c",s,",r",i,"=values;\n","parent=",u,"\n","if (c",i,"){if(a",i,"){n",i,"=c",i,".length;}else if (c",i,".isMixedCollection){c",i,"=c",i,".items;n",i,"=c",i,".length;}else if(c",i,".isStore){c",i,"=c",i,".data.items;n",i,"=c",i,".length;}else{c",i,"=[c",i,"];n",i,"=1;}}\n","for (xcount=n",i,";i",i,"<n"+i+";++i",i,"){\n","values=c",i,"[i",i,"]"),t.propName&&n.body.push(".",t.propName),n.body.push("\n","xindex=i",i,"+1\n")},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var n=this,r="f"+n.definitions.length;n.definitions.push("function "+r+"("+n.fnArgs+") {"," try { with(values) {","  "+e," }} catch(e) {","}","}"),n.body.push(r+n.callFn+"\n")},addFn:function(e){var t=this,n="f"+t.definitions.length;return e==="."?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return values","}"):e===".."?t.definitions.push("function "+n+"("+t.fnArgs+") {"," return parent","}"):t.definitions.push("function "+n+"("+t.fnArgs+") {"," try { with(values) {","  return("+e+")"," }} catch(e) {","}","}"),n},parseTag:function(e){var t=this,n=t.tagRe.exec(e),r=n[1],i=n[2],s=n[3],o=n[4],u;return r=="."?(t.validTypes||(t.definitions.push("var validTypes={string:1,number:1,boolean:1};"),t.validTypes=!0),u='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):r=="#"?u="xindex":r.substr(0,7)=="parent."?u=r:isNaN(r)&&r.indexOf("-")==-1&&r.indexOf(".")!=-1?u="values."+r:u="values['"+r+"']",o&&(u="("+u+o+")"),!i||!t.useFormat?u:(s=s?","+s:"",i.substr(0,5)!="this."?i="fm."+i+"(":i+="(",i+u+s+")")},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount",e.callFn=".call(this,"+e.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:"Ext.XTemplateCompiler",emptyObj:{},apply:function(e,t){return this.applyOut(e,[],t).join("")},applyOut:function(e,t,n){var r=this,i;r.fn||(i=new Ext.XTemplateCompiler({useFormat:r.disableFormats!==!0,definitions:r.definitions}),r.fn=i.compile(r.html));try{r.fn.call(r,t,e,n||r.emptyObj,1,1)}catch(s){}return t},compile:function(){return this},statics:{getTpl:function(e,t){var n=e[t],r;if(n&&!n.isTemplate){n=Ext.ClassManager.dynInstantiate("Ext.XTemplate",n);if(e.hasOwnProperty(t))e[t]=n;else for(r=e.self.prototype;r;r=r.superclass)if(r.hasOwnProperty(t)){r[t]=n;break}}return n||null}}}),Ext.define("Ext.layout.Layout",{requires:["Ext.XTemplate"],uses:["Ext.layout.Context"],isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(e,t){var n=Ext.ClassManager,r=this.layoutsByType,i,s,o,u,a,f;if(!e||typeof e=="string")a=e||t,o={};else{if(e.isLayout)return e;o=e,a=e.type||t}if(!(u=r[a])){i="layout."+a,s=n.getNameByAlias(i),s||(f=!0),u=n.get(s);if(f||!u)return n.instantiateByAlias(i,o||{});r[a]=u}return new u(o)}},constructor:function(e){var t=this;t.id=Ext.id(null,t.type+"-"),Ext.apply(t,e),t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t=this,n=t.context,r;t.lastWidthModel!=e.widthModel&&(t.lastWidthModel&&(r=!0),t.lastWidthModel=e.widthModel),t.lastHeightModel!=e.heightModel&&(t.lastWidthModel&&(r=!0),t.lastHeightModel=e.heightModel),r&&((n=e.context).clearTriggers(t,!1),n.clearTriggers(t,!0),t.triggerCount=0)},finishedLayout:function(){this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(e){return this.autoSizePolicy},isItemBoxParent:function(e){return!1},isItemLayoutRoot:function(e){var t=e.getSizeModel(),n=t.width,r=t.height;return!e.componentLayout.lastComponentSize&&(n.calculated||r.calculated)?!1:!n.shrinkWrap&&!r.shrinkWrap},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var n=e.length,r,i,s,o;if(n){o=[];for(r=0;r<n;++r)i=e[r],i.rendered||(t&&t[i.id]!==undefined?s=t[i.id]:(this.configureItem(i),s=i.getRenderTree(),t&&(t[i.id]=s)),s&&o.push(s))}return o},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){var n=t.length,r,i;for(r=0;r<n;r++)i=t[r],i.rendering&&(i.finishRender(r),this.afterRenderItem(i))},renderChildren:function(){var e=this,t=e.getLayoutItems(),n=e.getRenderTarget();e.renderItems(t,n)},renderItems:function(e,t){var n=this,r=e.length,i=0,s;if(r){Ext.suspendLayouts();for(;i<r;i++)s=e[i],s&&!s.rendered?n.renderItem(s,t,i):n.isValidParent(s,t,i)?n.configureItem(s):n.moveItem(s,t,i);Ext.resumeLayouts(!0)}},isValidParent:function(e,t,n){var r=e.el?e.el.dom:Ext.getDom(e),i=t&&t.dom||t;return r.parentNode&&r.parentNode.className.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1&&(r=r.parentNode),r&&i?typeof n=="number"?r===i.childNodes[n]:r.parentNode===i:!1},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,n){var r=this;e.rendered||(r.configureItem(e),e.render(t,n),r.afterRenderItem(e))},moveItem:function(e,t,n){t=t.dom||t,typeof n=="number"&&(n=t.childNodes[n]),t.insertBefore(e.el.dom,n||null),e.container=Ext.get(t),this.configureItem(e)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},afterRenderItem:Ext.emptyFn,onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t=this,n=e.el,r=t.owner,i;e.rendered&&(i=[].concat(t.itemCls||[]),r.itemCls&&(i=Ext.Array.push(i,r.itemCls)),i.length&&n.removeCls(i)),delete e.ownerLayout},destroy:function(){var e=this,t;e.targetCls&&(t=e.getTarget(),t&&t.removeCls(e.targetCls)),e.onDestroy()},sortWeightedItems:function(e,t){for(var n=0,r=e.length;n<r;++n)e[n].$i=n;Ext.Array.sort(e,function(e,n){var r=n.weight-e.weight;return r||(r=e.$i-n.$i,e[t]&&(r=-r)),r});for(n=0;n<r;++n)delete e[n].$i}},function(){var e=this,t={},n=[],r,i,s,o,u;e.prototype.sizeModels=e.sizeModels=t;var a=function(e){var r=this,i=e.name;Ext.apply(Ext.apply(r,f),e),r[i]=!0,a[i]=t[i]=r,r.fixed=!(r.auto=r.natural||r.shrinkWrap),r.ordinal=n.length,n.push(r)};Ext.layout.SizeModel=a;var f={calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null};new a({name:"calculated"}),new a({name:"configured",names:{width:"width",height:"height"}}),new a({name:"natural"}),new a({name:"shrinkWrap"}),new a({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}}),new a({name:"calculatedFromNatural",natural:!0}),new a({name:"calculatedFromShrinkWrap",shrinkWrap:!0}),new a({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new a({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}});for(r=0,s=n.length;r<s;++r){u=n[r],u.pairsByHeightOrdinal=o=[];for(i=0;i<s;++i)o.push({width:u,height:n[i]})}}),Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alternateClassName:"Ext.layout.ContainerLayout",mixins:{elementCt:"Ext.util.ElementContainer"},requires:["Ext.XTemplate"],type:"container",manageOverflow:0,beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,reserveScrollbar:!1,lastOverflowAdjust:{width:0,height:0},constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent(),this.mixins.elementCt.destroy.call(this)},initLayout:function(){var e=this,t=Ext.getScrollbarSize().width;e.callParent(),t&&e.manageOverflow&&!e.hasOwnProperty("lastOverflowAdjust")&&(e.owner.autoScroll||e.reserveScrollbar)&&(e.lastOverflowAdjust={width:t,height:0})},beginLayout:function(e){this.callParent(arguments),e.targetContext=e.getEl("getTarget",this),this.cacheChildItems(e)},beginLayoutCycle:function(e,t){var n=this,r=n.overflowPadderEl;n.callParent(arguments),e.state.overflowAdjust||(e.state.overflowAdjust=n.lastOverflowAdjust),t&&(n.usesContainerHeight&&++e.consumersContainerHeight,n.usesContainerWidth&&++e.consumersContainerWidth),r&&r.setStyle("display","none")},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},cacheChildItems:function(e){var t=e.context,n=[],r=this.getVisibleItems(),i=r.length,s;e.childItems=n,e.visibleItems=r;for(s=0;s<i;++s)n.push(t.getCmp(r[s]))},cacheElements:function(){var e=this.owner;this.applyChildEls(e.el,e.id)},calculateContentSize:function(e,t){var n=this,r=(t||0)|n.manageOverflow|((e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0)),i=r&1||undefined,s=r&2||undefined,o=e.childItems,u=o.length,a=0,f=0,l=0,c=e.props,h,p,d,v,m,g,y,b,w,E,S,x,T,N;i&&(isNaN(c.contentWidth)?++l:i=undefined),s&&(isNaN(c.contentHeight)?++l:s=undefined);if(l){for(S=0;S<u;++S){y=o[S],g=y.target,E=s&&y.getProp("height"),T=i&&y.getProp("width"),x=y.getMarginInfo(),i&&isNaN(g.x)||s&&isNaN(g.y)?(N=g.el.getXY(),h||(h=e.targetContext.el.getXY(),m=e.targetContext.getBorderInfo(),p=h[0]+m.left,d=h[1]+m.top),b=N[0]-p,w=N[1]-d):(b=g.x,w=g.y),E+=x.bottom,T+=x.right,a=Math.max(a,w+E),f=Math.max(f,b+T);if(isNaN(a)&&isNaN(f)){n.done=!1;return}}if(i||s)v=e.targetContext.getPaddingInfo();i&&!e.setContentWidth(f+v.right)&&(n.done=!1),s&&!e.setContentHeight(a+v.bottom)&&(n.done=!1)}},calculateOverflow:function(e,t,n){var r=this,i=r.owner,s=r.manageOverflow,o=e.state,u=o.overflowAdjust,a,f,l,c,h,p,d,v,m,g,y,b,w,E;if(s&&!o.secondPass&&!r.reserveScrollbar){i.autoScroll?w=E=!0:(i.overflowX?w=i.overflowX=="auto":(p=e.targetContext.getStyle("overflow-x"),w=p&&p!="hidden"&&p!="scroll"),i.overflowY?E=i.overflowY=="auto":(p=e.targetContext.getStyle("overflow-y"),E=p&&p!="hidden"&&p!="scroll")),t.gotWidth||(w=!1),t.gotHeight||(E=!1);if(w||E){d=Ext.getScrollbarSize(),v=e.peek("contentWidth"),m=e.peek("contentHeight"),g=t.width,y=t.height,b=r.getScrollbarsNeeded(g,y,v,m),o.overflowState=b,typeof n=="number"&&(b&=~n),u={width:w&&b&2?d.width:0,height:E&&b&1?d.height:0};if(u.width!==r.lastOverflowAdjust.width||u.height!==r.lastOverflowAdjust.height)r.done=!1,e.invalidate({state:{overflowAdjust:u,overflowState:o.overflowState,secondPass:!0}})}}if(!r.done)return;l=e.padElContext||(e.padElContext=e.getEl("overflowPadderEl",r)),l&&(b=o.overflowState,a=t.width,f=0,b?(c=e.targetContext.getPaddingInfo(),h=r.scrollRangeFlags,b&2&&h&1&&(f+=c.bottom),b&1&&h&4&&(a+=c.right),l.setProp("display",""),l.setSize(a,f)):l.setProp("display","none"))},configureItem:function(e){var t=this,n=t.owner.itemCls,r=[].concat(t.itemCls||[]);t.callParent(arguments),n&&(r=Ext.Array.push(r,n)),e.addCls(r)},doRenderBody:function(e,t){this.renderItems(e,t),this.renderContent(e,t)},doRenderContainer:function(e,t){var n=t.$comp.layout,r=n.getRenderTpl(),i=n.getRenderData();r.applyOut(i,e)},doRenderItems:function(e,t){var n=t.$layout,r=n.getRenderTree();r&&Ext.DomHelper.generateMarkup(r,e)},doRenderPadder:function(e,t){var n=t.$layout,r=n.owner,i=n.getScrollRangeFlags();n.manageOverflow==2&&i&5&&(e.push('<div id="',r.id,'-overflowPadderEl" ','style="font-size: 1px; width:1px; height: 1px;'),e.push('"></div>'),n.scrollRangeFlags=i)},finishRender:function(){var e=this,t,n;e.callParent(),e.cacheElements(),t=e.getRenderTarget(),n=e.getLayoutItems(),e.targetCls&&e.getTarget().addCls(e.targetCls),e.finishRenderItems(t,n)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(e,t){var n=e.targetContext,r=n.getFrameInfo(),i=n.getPaddingInfo(),s=0,o=0,u=e.state.overflowAdjust,a,f,l,c;return e.widthModel.shrinkWrap||(++o,l=t?n.getDomProp("width"):n.getProp("width"),a=typeof l=="number",a&&(++s,l-=r.width+i.width,u&&(l-=u.width))),e.heightModel.shrinkWrap||(++o,c=t?n.getDomProp("height"):n.getProp("height"),f=typeof c=="number",f&&(++s,c-=r.height+i.height,u&&(c-=u.height))),{width:l,height:c,needed:o,got:s,gotAll:s==o,gotWidth:a,gotHeight:f}},getLayoutItems:function(){var e=this.owner,t=e&&e.items;return t&&t.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){var e=this,t=e.getRenderTarget(),n=e.getLayoutItems(),r=n.length,i=[],s,o;for(s=0;s<r;s++)o=n[s],o.rendered&&e.isValidParent(o,t,s)&&i.push(o);return i},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=this,t=Ext.XTemplate.getTpl(this,"renderTpl");return t.renderContent||e.owner.setupRenderTpl(t),t},getRenderTree:function(){var e,t=this.owner.items,n,r={};do n=t.generation,e=this.getItemsRenderTree(this.getLayoutItems(),r);while(t.generation!==n);return e},getScrollbarsNeeded:function(e,t,n,r){var i=Ext.getScrollbarSize(),s=typeof e=="number",o=typeof t=="number",u=0,a=0;return i.width?(o&&t<r&&(a=2,e-=i.width),s&&e<n&&(u=1,!a&&o&&(t-=i.height,t<r&&(a=2))),a+u):0},getScrollRangeFlags:function(){var e=-1;return function(){if(e<0){var t=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"border-box",style:{width:"100px",height:"100px",padding:"10px",overflow:"auto"},children:[{style:{border:"1px solid red",width:"150px",height:"150px",margin:"0 5px 5px 0"
}}]}),n=t.dom.scrollHeight,r=t.dom.scrollWidth,i={175:0,165:1,170:2,160:3},s={175:0,165:4,170:8,160:12};e=(i[n]||0)|(s[r]||0),t.remove()}return e}}(),getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var e=this.getRenderTarget(),t=this.getLayoutItems(),n=t.length,r=[],i,s;for(i=0;i<n;i++)s=t[i],s.rendered&&this.isValidParent(s,e,i)&&s.hidden!==!0&&r.push(s);return r},setupRenderTpl:function(e){var t=this;e.renderBody=t.doRenderBody,e.renderContainer=t.doRenderContainer,e.renderItems=t.doRenderItems,e.renderPadder=t.doRenderPadder}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:"Ext.layout.container.Container",autoSizeDefault:{width:"field",height:"field"},getItemSizePolicy:function(e){var t=this,n=t.owner.autoSize;return t.sizePolicy||(t.sizePolicy={setsWidth:n&&n.width==="boundEl"?1:0,setsHeight:n&&n.height==="boundEl"?1:0})},calculate:function(e){var t=this,n=t.owner,r=n.autoSize,i,s;r===!0&&(r=t.autoSizeDefault),r&&(i=t.getDimension(n,r.width,"getWidth",n.width),s=t.getDimension(n,r.height,"getHeight",n.height)),e.childItems[0].setSize(i,s),e.setWidth(i),e.setHeight(s),e.setContentSize(i||n.field.getWidth(),s||n.field.getHeight())},getDimension:function(e,t,n,r){switch(t){case"boundEl":return e.boundEl[n]();case"field":return undefined;default:return r}}}),Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(e,t){var n=this,r=n.owner,i=e.ownerCtContext,s=e.heightModel,o=e.widthModel,u=r.el.dom===document.body,a=r.lastBox||n.nullBox,f=r.el.lastBox||n.nullBox,l=!u,c,h,p,d;n.callParent(arguments),t&&(n.usesContentWidth&&++e.consumersContentWidth,n.usesContentHeight&&++e.consumersContentHeight,n.usesWidth&&++e.consumersWidth,n.usesHeight&&++e.consumersHeight,i&&!i.hasRawContent&&(c=r.ownerLayout,c.usesWidth&&++e.consumersWidth,c.usesHeight&&++e.consumersHeight)),o.configured?(p=o.names.width,u||(l=t?r[p]!==f.width:o.constrained),e.setWidth(r[p],l)):e.isTopLevel&&(o.calculated&&(h=a.width,e.setWidth(h,h!=f.width)),h=a.x,e.setProp("x",h,h!=f.x)),s.configured?(d=s.names.height,u||(l=t?r[d]!==f.height:s.constrained),e.setHeight(r[d],l)):e.isTopLevel&&(s.calculated&&(h=a.height,e.setHeight(h,h!=f.height)),h=a.y,e.setProp("y",h,h!=f.y))},finishedLayout:function(e){var t=this,n=e.children,r=t.owner,i,s,o,u,a,f;if(n){i=n.length;for(s=0;s<i;s++)o=n[s],o.el.lastBox=o.props}e.previousSize=t.lastComponentSize,t.lastComponentSize=r.el.lastBox=a=e.props,r.lastBox=u={},f=a.x,f!==undefined&&(u.x=f),f=a.y,f!==undefined&&(u.y=f),f=a.width,f!==undefined&&(u.width=f),f=a.height,f!==undefined&&(u.height=f),t.callParent(arguments)},notifyOwner:function(e){var t=this,n=t.lastComponentSize,r=e.previousSize,i=[n.width,n.height];r&&i.push(r.width,r.height),t.owner.afterComponentLayout.apply(t.owner,i)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t=this,n=t.targetInfo,r;return n||(r=e.getEl("getTarget",t),t.targetInfo=n={padding:r.getPaddingInfo(),border:r.getBorderInfo()}),n},measureAutoDimensions:function(e,t){var n=this,r=n.owner,i=r.layout,s=e.heightModel,o=e.widthModel,u=e.boxParent,a=e.isBoxParent,f=e.props,l,c={gotWidth:!1,gotHeight:!1,isContainer:l=!e.hasRawContent},h=t||3,p,d,v=0,m=0,g,y,b;return o.shrinkWrap&&e.consumersContentWidth?(++v,p=!(h&1),l?p?(c.contentWidth=0,c.gotWidth=!0,++m):(c.contentWidth=e.getProp("contentWidth"))!==undefined&&(c.gotWidth=!0,++m):(y=f.contentWidth,typeof y=="number"?(c.contentWidth=y,c.gotWidth=!0,++m):(p?g=!0:e.hasDomProp("containerChildrenDone")?a||!u||u.widthModel.shrinkWrap?g=!0:g=u.hasDomProp("width"):g=!1,g&&(p?b=0:i&&i.measureContentWidth?b=i.measureContentWidth(e):b=n.measureContentWidth(e),isNaN(c.contentWidth=b)||(e.setContentWidth(b,!0),c.gotWidth=!0,++m))))):o.natural&&e.consumersWidth&&(++v,y=f.width,typeof y=="number"?(c.width=y,c.gotWidth=!0,++m):(a||!u?g=!0:g=u.hasDomProp("width"),g&&(isNaN(c.width=n.measureOwnerWidth(e))||(e.setWidth(c.width,!1),c.gotWidth=!0,++m)))),s.shrinkWrap&&e.consumersContentHeight?(++v,d=!(h&2),l?d?(c.contentHeight=0,c.gotHeight=!0,++m):(c.contentHeight=e.getProp("contentHeight"))!==undefined&&(c.gotHeight=!0,++m):(y=f.contentHeight,typeof y=="number"?(c.contentHeight=y,c.gotHeight=!0,++m):(d?g=!0:e.hasDomProp("containerChildrenDone")?r.noWrap?g=!0:o.shrinkWrap?a||!u||u.widthModel.shrinkWrap?g=!0:g=u.hasDomProp("width"):g=(e.bodyContext||e).hasDomProp("width"):g=!1,g&&(d?b=0:i&&i.measureContentHeight?b=i.measureContentHeight(e):b=n.measureContentHeight(e),isNaN(c.contentHeight=b)||(e.setContentHeight(b,!0),c.gotHeight=!0,++m))))):s.natural&&e.consumersHeight&&(++v,y=f.height,typeof y=="number"?(c.height=y,c.gotHeight=!0,++m):(a||!u?g=!0:g=u.hasDomProp("width"),g&&(isNaN(c.height=n.measureOwnerHeight(e))||(e.setHeight(c.height,!1),c.gotHeight=!0,++m)))),u&&e.onBoxMeasured(),c.gotAll=m==v,c},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(e,t){var n=this,r=n.lastWidthModel,i=n.lastHeightModel,s=n.owner;n.callParent(arguments),r&&r.fixed&&e.widthModel.shrinkWrap&&s.el.setWidth(null),i&&i.fixed&&e.heightModel.shrinkWrap&&s.el.setHeight(null)},calculate:function(e){var t=this,n=t.measureAutoDimensions(e),r=e.heightModel,i=e.widthModel,s,o;n.gotWidth?i.shrinkWrap?t.publishOwnerWidth(e,n.contentWidth):t.publishInnerWidth&&t.publishInnerWidth(e,n.width):!i.auto&&t.publishInnerWidth&&(s=t.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width"),s===undefined?t.done=!1:t.publishInnerWidth(e,s)),n.gotHeight?r.shrinkWrap?t.publishOwnerHeight(e,n.contentHeight):t.publishInnerHeight&&t.publishInnerHeight(e,n.height):!r.auto&&t.publishInnerHeight&&(o=t.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height"),o===undefined?t.done=!1:t.publishInnerHeight(e,o)),n.gotAll||(t.done=!1)},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var n=this,r=n.owner,i=n.calculateOwnerHeightFromContentHeight(e,t),s,o,u;isNaN(i)?n.done=!1:(s=Ext.Number.constrain(i,r.minHeight,r.maxHeight),s==i?o=n.setHeightInDom:(u=n.sizeModels[s<i?"constrainedMax":"constrainedMin"],i=s,e.heightModel.calculatedFromShrinkWrap?e.heightModel=u:e.invalidate({heightModel:u})),e.setHeight(i,o))},publishOwnerWidth:function(e,t){var n=this,r=n.owner,i=n.calculateOwnerWidthFromContentWidth(e,t),s,o,u;isNaN(i)?n.done=!1:(s=Ext.Number.constrain(i,r.minWidth,r.maxWidth),s==i?o=n.setWidthInDom:(u=n.sizeModels[s<i?"constrainedMax":"constrainedMin"],i=s,e.widthModel.calculatedFromShrinkWrap?e.widthModel=u:e.invalidate({widthModel:u})),e.setWidth(i,o))}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["clearEl"],renderTpl:["{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear" role="presentation"></div>'],calculate:function(e){var t=this,n;e.hasDomProp("containerChildrenDone")?(n=t.getContainerSize(e),n.gotAll||(t.done=!1),t.calculateContentSize(e)):t.done=!1}}),Ext.define("Ext.util.Filter",{anyMatch:!1,exactMatch:!1,caseSensitive:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.filter=t.filter||t.filterFn,t.filter===undefined&&(t.property!==undefined&&t.value!==undefined&&(t.filter=t.createFilterFn()),t.filterFn=t.filter)},createFilterFn:function(){var e=this,t=e.createValueMatcher(),n=e.property;return function(r){var i=e.getRoot.call(e,r)[n];return t===null?i===null:t.test(i)}},getRoot:function(e){var t=this.root;return t===undefined?e:e[t]},createValueMatcher:function(){var e=this,t=e.value,n=e.anyMatch,r=e.exactMatch,i=e.caseSensitive,s=Ext.String.escapeRegex;return t===null?t:(t.exec||(t=String(t),n===!0?t=s(t):(t="^"+s(t),r===!0&&(t+="$")),t=new RegExp(t,i?"":"i")),t)}}),Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:!0,generation:0,constructor:function(e,t){var n=this;n.items=[],n.map={},n.keys=[],n.length=0,n.allowFunctions=e===!0,t&&(n.getKey=t),n.mixins.observable.constructor.call(n)},allowFunctions:!1,add:function(e,t){var n=this,r=t,i=e,s;arguments.length==1&&(r=i,i=n.getKey(r));if(typeof i!="undefined"&&i!==null){s=n.map[i];if(typeof s!="undefined")return n.replace(i,r);n.map[i]=r}return n.generation++,n.length++,n.items.push(r),n.keys.push(i),n.hasListeners.add&&n.fireEvent("add",n.length-1,r,i),r},getKey:function(e){return e.id},replace:function(e,t){var n=this,r,i;return arguments.length==1&&(t=arguments[0],e=n.getKey(t)),r=n.map[e],typeof e=="undefined"||e===null||typeof r=="undefined"?n.add(e,t):(n.generation++,i=n.indexOfKey(e),n.items[i]=t,n.map[e]=t,n.hasListeners.replace&&n.fireEvent("replace",e,r,t),t)},addAll:function(e){var t=this,n=0,r,i,s;if(arguments.length>1||Ext.isArray(e)){r=arguments.length>1?arguments:e;for(i=r.length;n<i;n++)t.add(r[n])}else for(s in e)e.hasOwnProperty(s)&&(t.allowFunctions||typeof e[s]!="function")&&t.add(s,e[s])},each:function(e,t){var n=[].concat(this.items),r=0,i=n.length,s;for(;r<i;r++){s=n[r];if(e.call(t||s,s,r,i)===!1)break}},eachKey:function(e,t){var n=this.keys,r=this.items,i=0,s=n.length;for(;i<s;i++)e.call(t||window,n[i],r[i],i,s)},findBy:function(e,t){var n=this.keys,r=this.items,i=0,s=r.length;for(;i<s;i++)if(e.call(t||window,r[i],n[i]))return r[i];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,n){var r=this,i=t,s=n;return arguments.length==2&&(s=i,i=r.getKey(s)),r.containsKey(i)&&(r.suspendEvents(),r.removeAtKey(i),r.resumeEvents()),e>=r.length?r.add(i,s):(r.generation++,r.length++,Ext.Array.splice(r.items,e,0,s),typeof i!="undefined"&&i!==null&&(r.map[i]=s),Ext.Array.splice(r.keys,e,0,i),r.hasListeners.add&&r.fireEvent("add",e,s,i),s)},remove:function(e){return this.generation++,this.removeAt(this.indexOf(e))},removeAll:function(e){e=[].concat(e);var t,n=e.length;for(t=0;t<n;t++)this.remove(e[t]);return this},removeAt:function(e){var t=this,n,r;return e<t.length&&e>=0?(t.length--,n=t.items[e],Ext.Array.erase(t.items,e,1),r=t.keys[e],typeof r!="undefined"&&delete t.map[r],Ext.Array.erase(t.keys,e,1),t.hasListeners.remove&&t.fireEvent("remove",n,r),t.generation++,n):!1},removeAtKey:function(e){return this.removeAt(this.indexOfKey(e))},getCount:function(){return this.length},indexOf:function(e){return Ext.Array.indexOf(this.items,e)},indexOfKey:function(e){return Ext.Array.indexOf(this.keys,e)},get:function(e){var t=this,n=t.map[e],r=n!==undefined?n:typeof e=="number"?t.items[e]:undefined;return typeof r!="function"||t.allowFunctions?r:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){return typeof this.map[this.getKey(e)]!="undefined"},containsKey:function(e){return typeof this.map[e]!="undefined"},clear:function(){var e=this;e.length=0,e.items=[],e.keys=[],e.map={},e.generation++,e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,n,r){var i=this.extractValues(e,t),s=i.length,o=0,u;n=n||0,r=r||r===0?r:s-1;for(u=n;u<=r;u++)o+=i[u];return o},collect:function(e,t,n){var r=this.extractValues(e,t),i=r.length,s={},o=[],u,a,f;for(f=0;f<i;f++)u=r[f],a=String(u),(n||!Ext.isEmpty(u))&&!s[a]&&(s[a]=!0,o.push(u));return o},extractValues:function(e,t){var n=this.items;return t&&(n=Ext.Array.pluck(n,t)),Ext.Array.pluck(n,e)},getRange:function(e,t){var n=this,r=n.items,i=[],s;if(r.length<1)return i;e=e||0,t=Math.min(typeof t=="undefined"?n.length-1:t,n.length-1);if(e<=t)for(s=e;s<=t;s++)i[i.length]=r[s];else for(s=e;s>=t;s--)i[i.length]=r[s];return i},filter:function(e,t,n,r){var i=[],s;if(Ext.isString(e))i.push(new Ext.util.Filter({property:e,value:t,anyMatch:n,caseSensitive:r}));else if(Ext.isArray(e)||e instanceof Ext.util.Filter)i=i.concat(e);return s=function(e){var t=!0,n=i.length,r,s,o,u;for(r=0;r<n;r++)s=i[r],o=s.filterFn,u=s.scope,t=t&&o.call(u,e);return t},this.filterBy(s)},filterBy:function(e,t){var n=this,r=new this.self,i=n.keys,s=n.items,o=s.length,u;r.getKey=n.getKey;for(u=0;u<o;u++)e.call(t||n,s[u],i[u])&&r.add(i[u],s[u]);return r},findIndex:function(e,t,n,r,i){return Ext.isEmpty(t,!1)?-1:(t=this.createValueMatcher(t,r,i),this.findIndexBy(function(n){return n&&t.test(n[e])},null,n))},findIndexBy:function(e,t,n){var r=this,i=r.keys,s=r.items,o=n||0,u=s.length;for(;o<u;o++)if(e.call(t||r,s[o],i[o]))return o;return-1},createValueMatcher:function(e,t,n,r){if(!e.exec){var i=Ext.String.escapeRegex;e=String(e),t===!0?e=i(e):(e="^"+i(e),r===!0&&(e+="$")),e=new RegExp(e,n?"":"i")}return e},clone:function(){var e=this,t=new this.self,n=e.keys,r=e.items,i=0,s=r.length;for(;i<s;i++)t.add(n[i],r[i]);return t.getKey=e.getKey,t}}),Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(e){var t=this;Ext.apply(t,e),t.updateSortFunction()},createSortFunction:function(e){var t=this,n=t.property,r=t.direction||"ASC",i=r.toUpperCase()=="DESC"?-1:1;return function(n,r){return i*e.call(t,n,r)}},defaultSorterFn:function(e,t){var n=this,r=n.transform,i=n.getRoot(e)[n.property],s=n.getRoot(t)[n.property];return r&&(i=r(i),s=r(s)),i>s?1:i<s?-1:0},getRoot:function(e){return this.root===undefined?e:e[this.root]},setDirection:function(e){var t=this;t.direction=e?e.toUpperCase():e,t.updateSortFunction()},toggle:function(){var e=this;e.direction=Ext.String.toggle(e.direction,"ASC","DESC"),e.updateSortFunction()},updateSortFunction:function(e){var t=this;e=e||t.sorterFn||t.defaultSorterFn,t.sort=t.createSortFunction(e)}}),Ext.define("Ext.util.Sortable",{isSortable:!0,defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],initSortable:function(){var e=this,t=e.sorters;e.sorters=new Ext.util.AbstractMixedCollection(!1,function(e){return e.id||e.property}),t&&e.sorters.addAll(e.decodeSorters(t))},sort:function(e,t,n,r){var i=this,s,o,u;return Ext.isArray(e)?(r=n,n=t,u=e):Ext.isObject(e)?(r=n,n=t,u=[e]):Ext.isString(e)&&(s=i.sorters.get(e),s?t===undefined?s.toggle():s.setDirection(t):(s={property:e,direction:t},u=[s])),u&&u.length&&(u=i.decodeSorters(u),Ext.isString(n)?n==="prepend"?(e=i.sorters.clone().items,i.sorters.clear(),i.sorters.addAll(u),i.sorters.addAll(e)):i.sorters.addAll(u):(i.sorters.clear(),i.sorters.addAll(u))),r!==!1&&(i.onBeforeSort(u),e=i.sorters.items,e.length&&i.doSort(i.generateComparator())),e},generateComparator:function(){var e=this.sorters.getRange();return e.length?this.createComparator(e):this.emptyComparator},createComparator:function(e){return function(t,n){var r=e[0].sort(t,n),i=e.length,s=1;for(;s<i;s++)r=r||e[s].sort.call(this,t,n);return r}},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){Ext.isArray(e)||(e===undefined?e=[]:e=[e]);var t=e.length,n=Ext.util.Sorter,r=this.model?this.model.prototype.fields:null,i,s,o;for(o=0;o<t;o++)s=e[o],s instanceof n||(Ext.isString(s)&&(s={property:s}),Ext.applyIf(s,{root:this.sortRoot,direction:"ASC"}),s.fn&&(s.sorterFn=s.fn),typeof s=="function"&&(s={sorterFn:s}),r&&!s.transform&&(i=r.get(s.property),s.transform=i?i.sortType:undefined),e[o]=new Ext.util.Sorter(s));return e},getSorters:function(){return this.sorters.items},getFirstSorter:function(){var e=this.sorters.items,t=e.length,n=0,r;for(;n<t;++n){r=e[n];if(!r.isGrouper)return r}return null}}),Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){var e=this;e.callParent(arguments),e.addEvents("sort"),e.mixins.sortable.initSortable.call(e)},doSort:function(e){this.sortBy(e)},_sort:function(e,t,n){var r=this,i,s,o=String(t).toUpperCase()=="DESC"?-1:1,u=[],a=r.keys,f=r.items;n=n||function(e,t){return e-t};for(i=0,s=f.length;i<s;i++)u[u.length]={key:a[i],value:f[i],index:i};Ext.Array.sort(u,function(t,r){var i=n(t[e],r[e])*o;return i===0&&(i=t.index<r.index?-1:1),i});for(i=0,s=u.length;i<s;i++)f[i]=u[i].value,a[i]=u[i].key;r.fireEvent("sort",r)},sortBy:function(e){var t=this,n=t.items,r=t.keys,i=n.length,s=[],o;for(o=0;o<i;o++)s[o]={key:r[o],value:n[o],index:o};Ext.Array.sort(s,function(t,n){var r=e(t.value,n.value);return r===0&&(r=t.index<n.index?-1:1),r});for(o=0;o<i;o++)n[o]=s[o].value,r[o]=s[o].key;t.fireEvent("sort",t,n,r)},findInsertionIndex:function(e,t){var n=this,r=n.items,i=0,s=r.length-1,o,u;t||(t=n.generateComparator());while(i<=s)o=i+s>>1,u=t(e,r[o]),u>=0?i=o+1:u<0&&(s=o-1);return i},reorder:function(e){var t=this,n=t.items,r=0,i=n.length,s=[],o=[],u;t.suspendEvents();for(u in e)s[e[u]]=n[u];for(r=0;r<i;r++)e[r]==undefined&&o.push(n[r]);for(r=0;r<i;r++)s[r]==undefined&&(s[r]=o.shift());t.clear(),t.addAll(s),t.resumeEvents(),t.fireEvent("sort",t)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){var n=String(e).toUpperCase(),r=String(t).toUpperCase();return n>r?1:n<r?-1:0})}}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9e3},constructor:function(e){var t=this;t.list={},t.zIndexStack=[],t.front=null,e?e.isContainer?(e.on("resize",t._onContainerResize,t),t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):undefined,t.getNextZSeed()),t.targetEl=e.getTargetEl(),t.container=e):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),t.targetEl=Ext.get(e)):(Ext.EventManager.onWindowResize(t._onContainerResize,t),t.zseed=t.getNextZSeed(),Ext.onDocumentReady(function(){t.targetEl=Ext.getBody()}))},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){this.zseed=e;var t=this.assignZIndices();return this._activateLast(),t},assignZIndices:function(){var e=this.zIndexStack,t=e.length,n=0,r=this.zseed,i;for(;n<t;n++)i=e[n],i&&!i.hidden&&(r=i.setZIndex(r));return this._activateLast(),r},_setActiveChild:function(e,t){var n=this.front;e!==n&&(n&&!n.destroying&&n.setActive(!1,e),this.front=e,e&&e!=t&&(e.setActive(!0),e.modal&&this._showModalMask(e)))},onComponentHide:function(e){e.setActive(!1),this._activateLast()},_activateLast:function(){var e=this,t=e.zIndexStack,n=t.length-1,r=e.front,i;e.front=undefined;for(;n>=0&&t[n].hidden;--n);if(i=t[n]){e._setActiveChild(i,r);if(i.modal)return}for(;n>=0;--n){i=t[n];if(i.isVisible()&&i.modal){e._showModalMask(i);return}}e._hideModalMask()},_showModalMask:function(e){var t=this,n=e.el.getStyle("zIndex")-4,r=e.floatParent?e.floatParent.getTargetEl():e.container,i=r.getBox();r.dom===document.body&&(i.height=Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),i.width=Math.max(document.body.scrollWidth,i.width)),t.mask||(t.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask"}),t.mask.setVisibilityMode(Ext.Element.DISPLAY),t.mask.on("click",t._onMaskClick,t)),t.mask.maskTarget=r,r.addCls(Ext.baseCSSPrefix+"body-masked"),t.mask.setStyle("zIndex",n),t.mask.show(),t.mask.setBox(i)},_hideModalMask:function(){var e=this.mask;e&&e.isVisible()&&(e.maskTarget.removeCls(Ext.baseCSSPrefix+"body-masked"),e.maskTarget=undefined,e.hide())},_onMaskClick:function(){this.front&&this.front.focus()},_onContainerResize:function(){var e=this.mask,t,n;e&&e.isVisible()&&(e.hide(),t=e.maskTarget,t.dom===document.body?n={height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth)}:n=t.getViewSize(!0),e.setSize(n),e.show())},register:function(e){var t=this;e.zIndexManager&&e.zIndexManager.unregister(e),e.zIndexManager=t,t.list[e.id]=e,t.zIndexStack.push(e),e.on("hide",t.onComponentHide,t)},unregister:function(e){var t=this,n=t.list;delete e.zIndexManager,n&&n[e.id]&&(delete n[e.id],e.un("hide",t.onComponentHide),Ext.Array.remove(t.zIndexStack,e),t._activateLast())},get:function(e){return e.isComponent?e:this.list[e]},bringToFront:function(e){var t=this,n=!1,r=t.zIndexStack;return e=t.get(e),e!==t.front&&(Ext.Array.remove(r,e),e.preventBringToFront?r.unshift(e):r.push(e),t.assignZIndices(),n=!0,this.front=e),n&&e.modal&&t._showModalMask(e),n},sendToBack:function(e){var t=this;return e=t.get(e),Ext.Array.remove(t.zIndexStack,e),t.zIndexStack.unshift(e),t.assignZIndices(),this._activateLast(),e},hideAll:function(){var e=this.list,t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n],t.isComponent&&t.isVisible()&&t.hide())},hide:function(){var e=this,t=e.mask,n=0,r=e.zIndexStack,i=r.length,s;e.tempHidden=e.tempHidden||[];for(;n<i;n++)s=r[n],s.isVisible()&&(e.tempHidden.push(s),s.el.hide());t&&t.hide()},show:function(){var e=this,t=e.mask,n=0,r=e.tempHidden,i=r?r.length:0,s;for(;n<i;n++)s=r[n],s.el.show(),s.setPosition(s.x,s.y);e.tempHidden.length=0,t&&(t.show(),t.alignTo(t.maskTarget,"tl-tl"))},getActive:function(){return this.front},getBy:function(e,t){var n=[],r=0,i=this.zIndexStack,s=i.length,o;for(;r<s;r++)o=i[r],e.call(t||o,o)!==!1&&n.push(o);return n},each:function(e,t){var n=this.list,r,i;for(r in n)if(n.hasOwnProperty(r)){i=n[r];if(i.isComponent&&e.call(t||i,i)===!1)return}},eachBottomUp:function(e,t){var n=this.zIndexStack,r=0,i=n.length,s;for(;r<i;r++){s=n[r];if(s.isComponent&&e.call(t||s,s)===!1)return}},eachTopDown:function(e,t){var n=this.zIndexStack,r=n.length,i;for(;r-->0;){i=n[r];if(i.isComponent&&e.call(t||i,i)===!1)return}},destroy:function(){var e=this,t=e.list,n,r;for(r in t)t.hasOwnProperty(r)&&(n=t[r],n.isComponent&&n.destroy());delete e.zIndexStack,delete e.list,delete e.container,delete e.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.container.AbstractContainer",{extend:"Ext.Component",requires:["Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager"],renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:!1,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,isContainer:!0,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",bubbleEvents:["add","remove"],defaultLayoutType:"auto",initComponent:function(){var e=this;e.addEvents("afterlayout","beforeadd","beforeremove","add","remove"),e.callParent(),e.getLayout(),e.initItems()},initItems:function(){var e=this,t=e.items;e.items=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),t&&(Ext.isArray(t)||(t=[t]),e.add(t))},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var e=this.getLayout();e&&e.finishRender()},beforeRender:function(){var e=this,t=e.getLayout();e.callParent(),t.initialized||t.initLayout()},setupRenderTpl:function(e){var t=this.getLayout();this.callParent(arguments),t.setupRenderTpl(e)},setLayout:function(e){var t=this.layout;t&&t.isLayout&&t!=e&&t.setOwner(null),this.layout=e,e.setOwner(this)},getLayout:function(){var e=this;return(!e.layout||!e.layout.isLayout)&&e.setLayout(Ext.layout.Layout.create(e.layout,e.self.prototype.layout||"autocontainer")),e.layout},doLayout:function(){return this.updateLayout(),this},afterLayout:function(e){var t=this;++t.layoutCounter,t.hasListeners.afterlayout&&t.fireEvent("afterlayout",t,e)},prepareItems:function(e,t){Ext.isArray(e)?e=e.slice():e=[e];var n=this,r=0,i=e.length,s;for(;r<i;r++)s=e[r],s==null?(Ext.Array.erase(e,r,1),--r,--i):(t&&(s=this.applyDefaults(s)),s.isContained=n,e[r]=n.lookupComponent(s),delete s.isContained);return e},applyDefaults:function(e){var t=this.defaults;return t&&(Ext.isFunction(t)&&(t=t.call(this,e)),Ext.isString(e)&&(e=Ext.ComponentManager.get(e)),Ext.applyIf(e,t)),e},lookupComponent:function(e){return typeof e=="string"?Ext.ComponentManager.get(e):Ext.ComponentManager.create(e,this.defaultType)},getComponentId:function(e){return e.getItemId()},add:function(){var e=this,t=Ext.Array.slice(arguments),n=typeof t[0]=="number"?t.shift():-1,r=e.getLayout(),i,s,o,u,a,f,l;t.length==1&&Ext.isArray(t[0])?(s=t[0],i=!0):s=t,l=s=e.prepareItems(s,!0),u=s.length,e.rendered&&Ext.suspendLayouts(),!i&&u==1&&(l=s[0]);for(o=0;o<u;o++)a=s[o],f=n<0?e.items.length:n+o,a.floating?(e.floatingItems=e.floatingItems||new Ext.util.MixedCollection,e.floatingItems.add(a),a.onAdded(e,f)):(!e.hasListeners.beforeadd||e.fireEvent("beforeadd",e,a,f)!==!1)&&e.onBeforeAdd(a)!==!1&&(e.items.insert(f,a),a.onAdded(e,f),e.onAdd(a,f),r.onAdd(a,f),e.hasListeners.add&&e.fireEvent("add",e,a,f));return e.updateLayout(),e.rendered&&Ext.resumeLayouts(!0),l},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(e,t){return this.add(e,t)},move:function(e,t){var n=this.items,r;return r=n.removeAt(e),r===!1?!1:(n.insert(t,r),this.doLayout(),r)},onBeforeAdd:function(e){var t=this,n=e.border;e.ownerCt&&e.ownerCt!==t&&e.ownerCt.remove(e,!1);if(t.border===!1||t.border===0)e.border=Ext.isDefined(n)&&n!==!1&&n!==0},remove:function(e,t){var n=this,r=n.getComponent(e);return r&&(!n.hasListeners.beforeremove||n.fireEvent("beforeremove",n,r)!==!1)&&(n.doRemove(r,t),n.hasListeners.remove&&n.fireEvent("remove",n,r),n.destroying||n.doLayout()),r},doRemove:function(e,t){var n=this,r=n.layout,i=r&&n.rendered,s=t===!0||t!==!1&&n.autoDestroy;t=t===!0||t!==!1&&n.autoDestroy,n.items.remove(e),i&&(r.running&&Ext.AbstractComponent.cancelLayout(e,s),r.onRemove(e,s)),e.onRemoved(s),n.onRemove(e,s),s?e.destroy():(i&&r.afterRemove(e),n.detachOnRemove&&e.rendered&&Ext.getDetachedBody().appendChild(e.getEl()))},removeAll:function(e){var t=this,n=t.items.items.slice(),r=[],i=0,s=n.length,o;t.suspendLayouts();for(;i<s;i++)o=n[i],t.remove(o,e),o.ownerCt!==t&&r.push(o);return t.resumeLayouts(!!s),r},getRefItems:function(e){var t=this,n=t.items.items,r=n.length,i=0,s,o=[];for(;i<r;i++)s=n[i],o.push(s),e&&s.getRefItems&&o.push.apply(o,s.getRefItems(!0));return t.floatingItems&&o.push.apply(o,t.floatingItems.items),o},cascade:function(e,t,n){var r=this,i=r.items?r.items.items:[],s=i.length,o=0,u,a=n?n.concat(r):[r],f=a.length-1;if(e.apply(t||r,a)!==!1)for(;o<s;o++)u=i[o],u.cascade?u.cascade(e,t,n):(a[f]=u,e.apply(t||i,a));return this},isAncestor:function(e){while(e){if(e.ownerCt===this)return!0;e=e.ownerCt}},getComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.items.get(e)},query:function(e){return e=e||"*",Ext.ComponentQuery.query(e,this)},queryBy:function(e,t){var n=[],r=this.getRefItems(!0),i=0,s=r.length,o;for(;i<s;++i)o=r[i],e.call(t||o,o)!==!1&&n.push(o);return n},queryById:function(e){return this.down("#"+e)},child:function(e){return e=e||"",this.query("> "+e)[0]||null},nextChild:function(e,t){var n=this,r,i=n.items.indexOf(e);return i!==-1&&(r=t?Ext.ComponentQuery(t,n.items.items.slice(i+1)):n.items.getAt(i+1),!r&&n.ownerCt&&(r=n.ownerCt.nextChild(n,t))),r},prevChild:function(e,t){var n=this,r,i=n.items.indexOf(e);return i!==-1&&(r=t?Ext.ComponentQuery(t,n.items.items.slice(i+1)):n.items.getAt(i+1),!r&&n.ownerCt&&(r=n.ownerCt.nextChild(n,t))),r},down:function(e){return this.query(e)[0]||null},enable:function(){this.callParent(arguments);var e=this.getChildItemsToDisable(),t=e.length,n,r;for(r=0;r<t;r++)n=e[r],n.resetDisable&&n.enable();return this},disable:function(){this.callParent(arguments);var e=this.getChildItemsToDisable(),t=e.length,n,r;for(r=0;r<t;r++)n=e[r],n.resetDisable!==!1&&!n.disabled&&(n.disable(),n.resetDisable=!0);return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeLayout:function(){return!0},beforeDestroy:function(){var e=this,t=e.items,n;if(t)while(n=t.first())e.doRemove(n,!0);Ext.destroy(e.layout),e.callParent()}}),Ext.define("Ext.container.Container",{extend:"Ext.container.AbstractContainer",alias:"widget.container",alternateClassName:"Ext.Container",fireHierarchyEvent:function(e){this.hierarchyEventSource.fireEvent(e,this)},afterHide:function(){this.callParent(arguments),this.fireHierarchyEvent("hide")},afterShow:function(){this.callParent(arguments),this.fireHierarchyEvent("show")},onAdded:function(){this.callParent(arguments),this.hierarchyEventSource.hasListeners.added&&this.fireHierarchyEvent("added")},getChildByElement:function(e,t){var n,r,i=0,s=this.getRefItems(),o=s.length;e=Ext.getDom(e);for(;i<o;i++){n=s[i],r=n.getEl();if(r&&(r.dom===e||r.contains(e)))return t&&n.getChildByElement?n.getChildByElement(e,t):n}return null}},function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:!0,show:!0,collapse:!0,expand:!0,added:!0}})}),Ext.define("Ext.Editor",{extend:"Ext.container.Container",alias:"widget.editor",requires:["Ext.layout.container.Editor"],layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var e=this,t=e.field=Ext.ComponentManager.create(e.field,"textfield");Ext.apply(t,{inEditor:!0,msgTarget:t.msgTarget=="title"?"title":"qtip"}),e.mon(t,{scope:e,blur:{fn:e.onFieldBlur,delay:1},specialkey:e.onSpecialKey}),t.grow&&e.mon(t,"autosize",e.onFieldAutosize,e,{delay:1}),e.floating={constrain:e.constrain},e.items=t,e.callParent(arguments),e.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(e,t){var n=this,r=n.field,i=r.inputEl;n.callParent(arguments),i&&(i.dom.name="",n.swallowKeys&&i.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(e,t){var n=this,r=t.getKey(),i=n.completeOnEnter&&r==t.ENTER,s=n.cancelOnEsc&&r==t.ESC;if(i||s)t.stopEvent(),Ext.defer(function(){i?n.completeEdit():n.cancelEdit(),e.triggerBlur&&e.triggerBlur(t)},10);n.fireEvent("specialkey",n,e,t)},startEdit:function(e,t){var n=this,r=n.field;n.completeEdit(),n.boundEl=Ext.get(e),t=Ext.isDefined(t)?t:Ext.String.trim(n.boundEl.dom.innerText||n.boundEl.dom.innerHTML),n.rendered||n.render(n.parentEl||document.body),n.fireEvent("beforestartedit",n,n.boundEl,t)!==!1&&(n.startValue=t,n.show(),r.suspendEvents(),r.reset(),r.setValue(t),r.resumeEvents(),n.realign(!0),r.focus(!1,10),r.autoSize&&r.autoSize(),n.editing=!0)},realign:function(e){var t=this;e===!0&&t.updateLayout(),t.alignTo(t.boundEl,t.alignment,t.offsets)},completeEdit:function(e){var t=this,n=t.field,r;if(!t.editing)return;n.assertValue&&n.assertValue(),r=t.getValue();if(!n.isValid()){t.revertInvalid!==!1&&t.cancelEdit(e);return}if(String(r)===String(t.startValue)&&t.ignoreNoChange){t.hideEdit(e);return}t.fireEvent("beforecomplete",t,r,t.startValue)!==!1&&(r=t.getValue(),t.updateEl&&t.boundEl&&t.boundEl.update(r),t.hideEdit(e),t.fireEvent("complete",t,r,t.startValue))},onShow:function(){var e=this;e.callParent(arguments),e.hideEl!==!1&&e.boundEl.hide(),e.fireEvent("startedit",e,e.boundEl,e.startValue)},cancelEdit:function(e){var t=this,n=t.startValue,r=t.field,i;t.editing&&(i=t.getValue(),r.suspendEvents(),t.setValue(n),r.resumeEvents(),t.hideEdit(e),t.fireEvent("canceledit",t,i,n))},hideEdit:function(e){e!==!0&&(this.editing=!1,this.hide())},onFieldBlur:function(e,t){var n=this,r;n.allowBlur===!0&&n.editing&&n.selectSameEditor!==!0&&n.completeEdit(),t&&Ext.fly(r=t.getTarget()).focusable()&&r.focus()},onHide:function(){var e=this,t=e.field;if(e.editing){e.completeEdit();return}t.hasFocus&&t.blur(),t.collapse&&t.collapse(),e.hideEl!==!1&&e.boundEl.show(),e.callParent(arguments)},setValue:function(e){this.field.setValue(e)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var e=this;Ext.destroy(e.field),delete e.field,delete e.parentEl,delete e.boundEl,e.callParent(arguments)}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(e){var t=this;if(arguments.length!==1||typeof e=="string"||e.dom||e.tagName||e===document||e.isComponent){t.legacyConstructor.apply(t,arguments);return}Ext.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=Ext.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),t.enable()},legacyConstructor:function(e,t,n){var r=this;Ext.apply(r,{target:Ext.get(e),eventName:n||r.eventName,bindings:[]}),t&&r.addBinding(t),r.enable()},addBinding:function(e){var t=
e.key,n=!1,r,i,s,o,u;if(Ext.isArray(e)){for(o=0,u=e.length;o<u;o++)this.addBinding(e[o]);return}if(Ext.isString(t)){i=[],s=t.toUpperCase();for(o=0,u=s.length;o<u;++o)i.push(s.charCodeAt(o));t=i,n=!0}Ext.isArray(t)||(t=[t]);if(!n)for(o=0,u=t.length;o<u;++o)r=t[o],Ext.isString(r)&&(t[o]=r.toUpperCase().charCodeAt(0));this.bindings.push(Ext.apply({keyCode:t},e))},handleTargetEvent:function(){var e=/input|textarea/i;return function(t){var n=this,r,i,s,o,u;if(this.enabled){r=this.bindings,i=0,s=r.length,t=n.processEvent.apply(n||n.processEventScope,arguments);if(n.ignoreInputFields){o=t.target,u=o.contentEditable;if(e.test(o.tagName)||u===""||u==="true")return}if(!t.getKey)return t;for(;i<s;++i)this.processBinding(r[i],t)}}}(),processEvent:function(e){return e},processBinding:function(e,t){if(this.checkModifiers(e,t)){var n=t.getKey(),r=e.fn||e.handler,i=e.scope||this,s=e.keyCode,o=e.defaultEventAction,u,a,f=new Ext.EventObjectImpl(t);for(u=0,a=s.length;u<a;++u)if(n===s[u]){r.call(i,n,t)!==!0&&o&&f[o]();break}}},checkModifiers:function(e,t){var n=["shift","ctrl","alt"],r=0,i=n.length,s,o;for(;r<i;++r){o=n[r],s=e[o];if(s!==undefined&&s!==t[o+"Key"])return!1}return!0},on:function(e,t,n){var r,i,s,o;Ext.isObject(e)&&!Ext.isArray(e)?(r=e.key,i=e.shift,s=e.ctrl,o=e.alt):r=e,this.addBinding({key:r,shift:i,ctrl:s,alt:o,fn:t,scope:n})},isEnabled:function(){return this.enabled},enable:function(){var e=this;e.enabled||(e.target.on(e.eventName,e.handleTargetEvent,e),e.enabled=!0)},disable:function(){var e=this;e.enabled&&(e.target.removeListener(e.eventName,e.handleTargetEvent,e),e.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this,n=t.target;t.bindings=[],t.disable(),e===!0&&(n.isComponent?n.destroy():n.remove()),delete t.target}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){var t=this;if(arguments.length===2){t.legacyConstructor.apply(t,arguments);return}t.setConfig(e)},legacyConstructor:function(e,t){this.setConfig(Ext.apply({target:e},t))},setConfig:function(e){var t=this,n={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:t.getKeyEvent("forceKeyDown"in e?e.forceKeyDown:t.forceKeyDown,e.eventName)},r,i,s,o,u;t.map&&t.map.destroy(),e.processEvent&&(n.processEvent=e.processEvent,n.processEventScope=e.processEventScope||t),r=t.map=new Ext.util.KeyMap(n),i=Ext.util.KeyNav.keyOptions,s=e.scope||t;for(o in i)i.hasOwnProperty(o)&&(u=e[o])&&(typeof u=="function"&&(u={handler:u,defaultAction:e.defaultEventAction!==undefined?e.defaultEventAction:t.defaultEventAction}),r.addBinding({key:i[o],handler:Ext.Function.bind(t.handleEvent,u.scope||s,u.handler||u.fn,!0),defaultEventAction:u.defaultEventAction!==undefined?u.defaultAction:t.defaultEventAction}));r.disable(),e.disabled||r.enable()},handleEvent:function(e,t,n){return n.call(this,t)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(e){this.map.destroy(e),delete this.map},enable:function(){this.map.enable(),this.disabled=!1},disable:function(){this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},getKeyEvent:function(e,t){return e||Ext.EventManager.useKeyDown&&!t?"keydown":t||this.eventName}}),Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:"Ext.util.Observable"},requires:["Ext.AbstractComponent","Ext.Component","Ext.ComponentManager","Ext.ComponentQuery","Ext.util.HashMap","Ext.util.KeyNav"],enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(e){var t=this,n=Ext.ComponentQuery;t.mixins.observable.constructor.call(t,e),t.addEvents("beforecomponentfocus","componentfocus","disable","enable"),t.focusTask=new Ext.util.DelayedTask(t.handleComponentFocus,t),Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments),t.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentFocus.apply(t,arguments))},onBlur:function(){this.callParent(arguments),t.enabled&&!this.hasFocus&&(Array.prototype.unshift.call(arguments,this),t.onComponentBlur.apply(t,arguments))},onDestroy:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentDestroy.apply(t,arguments))}}),Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments),t.enabled&&(Array.prototype.unshift.call(arguments,this),t.onComponentHide.apply(t,arguments))}}),t.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:t,backspace:t.focusLast,enter:t.navigateIn,esc:t.navigateOut,tab:t.navigateSiblings,space:t.navigateIn,del:t.focusLast,left:t.navigateSiblings,right:t.navigateSiblings,down:t.navigateSiblings,up:t.navigateSiblings}),t.focusData={},t.subscribers=new Ext.util.HashMap,t.focusChain={},Ext.apply(n.pseudos,{focusable:function(e){var t=e.length,n=[],r=0,i;for(;r<t;r++)i=e[r],i.isFocusable()&&n.push(i);return n},nextFocus:function(e,t,n){n=n||1,t=parseInt(t,10);var r=e.length,i=t,s;for(;;){(i+=n)>=r?i=0:i<0&&(i=r-1);if(i===t)return[];if((s=e[i]).isFocusable())return[s]}return[]},prevFocus:function(e,t){return this.nextFocus(e,t,-1)},root:function(e){var t=e.length,n=[],r=0,i;for(;r<t;r++)i=e[r],i.ownerCt||n.push(i);return n}})},addXTypeToWhitelist:function(e){var t=this;if(Ext.isArray(e)){Ext.Array.forEach(e,t.addXTypeToWhitelist,t);return}Ext.Array.contains(t.whitelist,e)||t.whitelist.push(e)},clearComponent:function(e){clearTimeout(this.cmpFocusDelay),e.isDestroyed||e.blur()},disable:function(){var e=this;if(!e.enabled)return;delete e.options,e.enabled=!1,e.removeDOM(),e.keyNav.disable(),e.fireEvent("disable",e)},enable:function(e){var t=this;e===!0&&(e={focusFrame:!0}),t.options=e=e||{};if(t.enabled)return;t.enabled=!0,t.initDOM(e),t.keyNav.enable(),t.focusEl.focus(),delete t.focusedCmp,t.fireEvent("enable",t)},focusLast:function(e){var t=this;if(t.isWhitelisted(t.focusedCmp))return!0;t.previousFocusedCmp&&t.previousFocusedCmp.focus()},getRootComponents:function(){var e=this,t=Ext.ComponentQuery,n=t.query(":focusable:root:not([floating])"),r=t.query(":focusable:root[floating]");return r.sort(function(e,t){return e.el.getZIndex()>t.el.getZIndex()}),r.concat(n)},initDOM:function(e){var t=this,n=t.focusFrameCls,r=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),i=0,s=r.length;if(!Ext.isReady)return Ext.onReady(t.initDOM,t);for(;i<s;i++)r[i].addFocusListener();t.focusEl||(t.focusEl=Ext.getBody(),t.focusEl.dom.tabIndex=-1),!t.focusFrame&&e.focusFrame&&(t.focusFrame=Ext.getBody().createChild({cls:n,children:[{cls:n+"-top"},{cls:n+"-bottom"},{cls:n+"-left"},{cls:n+"-right"}],style:"top: -100px; left: -100px;"}),t.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),t.focusFrame.hide().setLeftTop(0,0))},isWhitelisted:function(e){return e&&Ext.Array.some(this.whitelist,function(t){return e.isXType(t)})},navigateIn:function(e){var t=this,n=t.focusedCmp,r,i;if(t.isWhitelisted(n))return!0;n?(i=n.hasFocus?Ext.ComponentQuery.query(">:focusable",n)[0]:n,i?i.focus():Ext.isFunction(n.onClick)&&(e.button=0,n.onClick(e),n.isVisible(!0)?n.focus():t.navigateOut())):(r=t.getRootComponents()[0],r&&(r.getFocusEl()===t.focusEl&&t.focusEl.blur(),r.focus()))},navigateOut:function(e){var t=this,n;return!t.focusedCmp||!(n=t.focusedCmp.up(":focusable"))?t.focusEl.focus():n.focus(),!0},navigateSiblings:function(e,t,n){var r=this,i=t||r,s=e.getKey(),o=Ext.EventObject,u=e.shiftKey||s==o.LEFT||s==o.UP,a=s==o.LEFT||s==o.RIGHT||s==o.UP||s==o.DOWN,f=u?"prev":"next",l,c,h,p;h=i.focusedCmp&&i.focusedCmp.comp||i.focusedCmp;if(!h&&!n)return!0;if(a&&r.isWhitelisted(h))return!0;!h||h.is(":root")?p=r.getRootComponents():(n=n||h.up(),n&&(p=n.getRefItems()));if(p){l=h?Ext.Array.indexOf(p,h):-1,c=Ext.ComponentQuery.query(":"+f+"Focus("+l+")",p)[0];if(c&&h!==c)return c.focus(),c}},onComponentBlur:function(e,t){var n=this;n.focusedCmp===e&&(n.previousFocusedCmp=e,delete n.focusedCmp),n.focusFrame&&n.focusFrame.hide()},onComponentFocus:function(e,t){var n=this,r=n.focusChain,i;if(!e.isFocusable()){n.clearComponent(e);if(r[e.id])return;i=e.up(),i&&(r[e.id]=!0,i.focus());return}n.focusChain={},n.focusTask.delay(10,null,null,[e,e.getFocusEl()])},handleComponentFocus:function(e,t){var n=this,r,i,s,o,u,a,f,l,c,h,p,d;if(n.fireEvent("beforecomponentfocus",n,e,n.previousFocusedCmp)===!1){n.clearComponent(e);return}n.focusedCmp=e,n.shouldShowFocusFrame(e)&&(r="."+n.focusFrameCls+"-",i=n.focusFrame,o=t.getPageBox(),u=o.top,a=o.left,f=o.width,l=o.height,c=i.child(r+"top"),h=i.child(r+"bottom"),p=i.child(r+"left"),d=i.child(r+"right"),c.setWidth(f).setLeftTop(a,u),h.setWidth(f).setLeftTop(a,u+l-2),p.setHeight(l-2).setLeftTop(a,u+2),d.setHeight(l-2).setLeftTop(a+f-2,u+2),i.show()),n.fireEvent("componentfocus",n,e,n.previousFocusedCmp)},onComponentHide:function(e){var t=this,n=!1,r=t.focusedCmp,i;r&&(n=e.hasFocus||e.isContainer&&e.isAncestor(t.focusedCmp)),t.clearComponent(e),n&&(i=e.up(":focusable"))?i.focus():t.focusEl.focus()},onComponentDestroy:function(){},removeDOM:function(){var e=this;if(e.enabled||e.subscribers.length)return;Ext.destroy(e.focusFrame),delete e.focusEl,delete e.focusFrame},removeXTypeFromWhitelist:function(e){var t=this;if(Ext.isArray(e)){Ext.Array.forEach(e,t.removeXTypeFromWhitelist,t);return}Ext.Array.remove(t.whitelist,e)},setupSubscriberKeys:function(e,t){var n=this,r=e.getFocusEl(),i=t.scope,s={backspace:n.focusLast,enter:n.navigateIn,esc:n.navigateOut,scope:n},o=function(t){return n.focusedCmp===e?n.navigateSiblings(t,n,e):n.navigateSiblings(t)};return Ext.iterate(t,function(t,n){s[t]=function(t){var r=o(t);return Ext.isFunction(n)&&n.call(i||e,t,r)===!0?!0:r}},n),new Ext.util.KeyNav(r,s)},shouldShowFocusFrame:function(e){var t=this,n=t.options||{},r=e.getFocusEl(),i=Ext.getDom(r).tagName;return!t.focusFrame||!e?!1:n.focusFrame?!0:t.focusData[e.id].focusFrame?!0:!1}}),Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],autoEl:"img",src:"",alt:"",imgCls:"",getElConfig:function(){var e=this,t=e.callParent(),n;return e.autoEl=="img"?n=t:t.cn=[n={tag:"img",id:e.id+"-img"}],e.imgCls&&(n.cls=(n.cls?n.cls+" ":"")+e.imgCls),n.src=e.src||Ext.BLANK_IMAGE_URL,e.alt&&(n.alt=e.alt),t},onRender:function(){var e=this,t;e.callParent(arguments),t=e.el,e.imgEl=e.autoEl=="img"?t:t.getById(e.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl),this.imgEl=null,this.callParent()},setSrc:function(e){var t=this,n=t.imgEl;t.src=e,n&&(n.dom.src=e||Ext.BLANK_IMAGE_URL)}}),Ext.define("Ext.Layer",{extend:"Ext.Element",uses:["Ext.Shadow"],statics:{shims:[]},isLayer:!0,constructor:function(e,t){e=e||{};var n=this,r=Ext.DomHelper,i=e.parentEl,s=i?Ext.getDom(i):document.body,o=e.hideMode;t&&(n.dom=Ext.getDom(t)),n.dom?(n.addCls(Ext.baseCSSPrefix+"layer"),n.dom.parentNode||s.appendChild(n.dom)):n.dom=r.append(s,e.dh||{tag:"div",cls:Ext.baseCSSPrefix+"layer"}),e.id?n.id=n.dom.id=e.id:n.id=Ext.id(n.dom),Ext.Element.addToCache(n),e.cls&&n.addCls(e.cls),n.constrain=e.constrain!==!1,o?(n.setVisibilityMode(Ext.Element[o.toUpperCase()]),n.visibilityMode==Ext.Element.ASCLASS&&(n.visibilityCls=e.visibilityCls)):e.useDisplay?n.setVisibilityMode(Ext.Element.DISPLAY):n.setVisibilityMode(Ext.Element.VISIBILITY),e.shadow?(n.shadowOffset=e.shadowOffset||4,n.shadow=new Ext.Shadow({offset:n.shadowOffset,mode:e.shadow}),n.disableShadow()):n.shadowOffset=0,n.useShim=e.shim!==!1&&Ext.useShims,e.hidden===!0?n.hide():n.show()},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var e=this,t,n;return e.useShim?(e.shim||(t=e.self.shims.shift(),t||(t=e.createShim(),t.enableDisplayMode("block"),t.hide()),n=e.dom.parentNode,t.dom.parentNode!=n&&n.insertBefore(t.dom,e.dom),e.shim=t),e.shim):null},hideShim:function(){var e=this;e.shim&&(e.shim.setDisplayed(!1),e.self.shims.push(e.shim),delete e.shim)},disableShadow:function(){var e=this;e.shadow&&!e.shadowDisabled&&(e.shadowDisabled=!0,e.shadow.hide(),e.lastShadowOffset=e.shadowOffset,e.shadowOffset=0)},enableShadow:function(e){var t=this;t.shadow&&t.shadowDisabled&&(t.shadowDisabled=!1,t.shadowOffset=t.lastShadowOffset,delete t.lastShadowOffset,e&&t.sync(!0))},sync:function(e){var t=this,n=t.shadow,r,i,s,o,u,a,f,l,c;return!t.updating&&t.isVisible()&&(n||t.useShim)&&(o=t.getShim(),u=t.getLocalX(),a=t.getLocalY(),f=t.dom.offsetWidth,l=t.dom.offsetHeight,n&&!t.shadowDisabled?(e&&!n.isVisible()?n.show(t):n.realign(u,a,f,l),o&&(c=o.getStyle("z-index"),c>t.zindex&&t.shim.setStyle("z-index",t.zindex-2),o.show(),n.isVisible()?(r=n.el.getXY(),i=o.dom.style,s=n.el.getSize(),Ext.supports.CSS3BoxShadow&&(s.height+=6,s.width+=4,r[0]-=2,r[1]-=4),i.left=r[0]+"px",i.top=r[1]+"px",i.width=s.width+"px",i.height=s.height+"px"):(o.setSize(f,l),o.setLeftTop(u,a)))):o&&(c=o.getStyle("z-index"),c>t.zindex&&t.shim.setStyle("z-index",t.zindex-2),o.show(),o.setSize(f,l),o.setLeftTop(u,a))),t},remove:function(){this.hideUnders(),this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1,this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide(),this.hideShim()},constrainXY:function(){if(this.constrain){var e=Ext.Element.getViewWidth(),t=Ext.Element.getViewHeight(),n=Ext.getDoc().getScroll(),r=this.getXY(),i=r[0],s=r[1],o=this.shadowOffset,u=this.dom.offsetWidth+o,a=this.dom.offsetHeight+o,f=!1;i+u>e+n.left&&(i=e-u-o,f=!0),s+a>t+n.top&&(s=t-a-o,f=!0),i<n.left&&(i=n.left,f=!0),s<n.top&&(s=n.top,f=!0),f&&(Ext.Layer.superclass.setXY.call(this,[i,s]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(e,t,n,r,i){var s=this,o;return o=function(){e&&s.sync(!0),r&&r()},e||s.hideUnders(!0),s.callParent([e,t,n,r,i]),t||o(),s},beforeFx:function(){return this.beforeAction(),this.callParent(arguments)},afterFx:function(){this.callParent(arguments),this.sync(this.isVisible())},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},setLeft:function(e){return this.callParent(arguments),this.sync()},setTop:function(e){return this.callParent(arguments),this.sync()},setLeftTop:function(e,t){return this.callParent(arguments),this.sync()},setXY:function(e,t,n,r,i){var s=this;return r=s.createCB(r),s.fixDisplay(),s.beforeAction(),s.callParent([e,t,n,r,i]),t||r(),s},createCB:function(e){var t=this,n=t.shadow&&t.shadow.isVisible();return function(){t.constrainXY(),t.sync(n),e&&e()}},setX:function(e,t,n,r,i){return this.setXY([e,this.getY()],t,n,r,i),this},setY:function(e,t,n,r,i){return this.setXY([this.getX(),e],t,n,r,i),this},setSize:function(e,t,n,r,i,s){var o=this;return i=o.createCB(i),o.beforeAction(),o.callParent([e,t,n,r,i,s]),n||i(),o},setWidth:function(e,t,n,r,i){var s=this;return r=s.createCB(r),s.beforeAction(),s.callParent([e,t,n,r,i]),t||r(),s},setHeight:function(e,t,n,r,i){var s=this;return r=s.createCB(r),s.beforeAction(),s.callParent([e,t,n,r,i]),t||r(),s},setBounds:function(e,t,n,r,i,s,o,u){var a=this;return o=a.createCB(o),a.beforeAction(),i?a.callParent([e,t,n,r,i,s,o,u]):(Ext.Layer.superclass.setXY.call(a,[e,t]),Ext.Layer.superclass.setSize.call(a,n,r),o()),a},setZIndex:function(e){var t=this;return t.zindex=e,t.getShim()&&t.shim.setStyle("z-index",e++),t.shadow&&t.shadow.setZIndex(e++),t.setStyle("z-index",e)},onOpacitySet:function(e){var t=this.shadow;t&&t.setOpacity(e)}}),Ext.define("Ext.util.Bindable",{bindStore:function(e,t){var n=this,r=n.store;return!t&&n.store&&(n.onUnbindStore(r,t),e!==r&&r.autoDestroy?r.destroyStore():n.unbindStoreListeners(r)),e&&(e=Ext.data.StoreManager.lookup(e),n.bindStoreListeners(e),n.onBindStore(e,t)),n.store=e||null,n},getStore:function(){return this.store},unbindStoreListeners:function(e){var t=this.storeListeners;t&&e.un(t)},bindStoreListeners:function(e){var t=this,n=Ext.apply({},t.getStoreListeners());n.scope||(n.scope=t),t.storeListeners=n,e.on(n)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:{floating:"Ext.util.Floating",bindable:"Ext.util.Bindable"},uses:["Ext.data.StoreManager"],msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:!0,useTargetEl:!1,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl"],renderTpl:'<div id="{id}-msgEl" style="position:relative" class="{[values.$comp.msgCls]}"></div>',floating:{shadow:"frame"},focusOnToFront:!1,bringParentToFront:!1,constructor:function(e,t){var n=this;e.isComponent||(e=Ext.get(e),this.isElement=!0),n.ownerCt=e,this.isElement||n.bindComponent(e),n.callParent([t]),n.store&&n.bindStore(n.store,!0)},bindComponent:function(e){var t=this,n={scope:this,resize:t.sizeMask,added:t.onComponentAdded,removed:t.onComponentRemoved},r=Ext.container.Container.hierarchyEventSource;e.floating?(n.move=t.sizeMask,t.activeOwner=e):e.ownerCt?t.onComponentAdded(e.ownerCt):t.preventBringToFront=!0,t.mon(e,n),t.mon(r,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(e){var t=this;delete t.activeOwner,t.floatParent=e,e.floating||(e=e.up("[floating]")),e&&(t.activeOwner=e,t.mon(e,"move",t.sizeMask,t)),e=t.floatParent.ownerCt,t.rendered&&t.isVisible()&&e&&(t.floatOwner=e,t.mon(e,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(e){var t=this,n=t.activeOwner,r=t.floatOwner;n&&t.mun(n,"move",t.sizeMask,t),r&&t.mun(r,"afterlayout",t.sizeMask,t),delete t.activeOwner,delete t.floatOwner},afterRender:function(){this.callParent(arguments),this.container=this.floatParent.getContentTarget()},onContainerShow:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerHide:function(e){this.isActiveContainer(e)&&this.onComponentHide()},onContainerExpand:function(e){this.isActiveContainer(e)&&this.onComponentShow()},onContainerCollapse:function(e){this.isActiveContainer(e)&&this.onComponentHide()},isActiveContainer:function(e){return this.isDescendantOf(e)},onComponentHide:function(){var e=this;e.rendered&&e.isVisible()&&(e.hide(),e.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var e=this,t;e.rendered&&e.isVisible()&&(e.center(),t=e.getMaskTarget(),e.getMaskEl().show().setSize(t.getSize()).alignTo(t,"tl-tl"))},bindStore:function(e,t){var n=this;n.mixins.bindable.bindStore.apply(n,arguments),e=n.store,e&&e.isLoading()&&n.onBeforeLoad()},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad,cachemiss:this.onBeforeLoad,cachefilled:this.onLoad}},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var e=this.getOwner();return this.useTargetEl?e.getTargetEl():e.getEl()},onBeforeLoad:function(){var e=this,t=e.getOwner(),n;e.disabled||(e.loading=!0,t.componentLayoutCounter?e.maybeShow():(n=t.afterComponentLayout,t.afterComponentLayout=function(){t.afterComponentLayout=n,n.apply(t,arguments),e.maybeShow()}))},maybeShow:function(){var e=this,t=e.getOwner();t.isVisible(!0)?e.loading&&t.rendered&&e.show():e.showNext=!0},getMaskEl:function(){var e=this;return e.maskEl||(e.maskEl=e.el.insertSibling({cls:e.maskCls,style:{zIndex:e.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var e=this,t=e.msgEl;e.callParent(arguments),e.loading=!0,e.useMsg?t.show().update(e.msg):t.parent().hide()},hide:function(){if(this.isElement){this.ownerCt.unmask(),this.fireEvent("hide",this);return}return delete this.showNext,this.callParent(arguments)},onHide:function(){this.callParent(),this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),this.fireEvent("show",this);return}return this.callParent(arguments)},afterShow:function(){this.callParent(arguments),this.sizeMask()},setZIndex:function(e){var t=this,n=t.activeOwner;return n&&(e=parseInt(n.el.getStyle("zIndex"),10)+1),t.getMaskEl().setStyle("zIndex",e-1),t.mixins.floating.setZIndex.apply(t,arguments)},onLoad:function(){this.loading=!1,this.hide()},onDestroy:function(){var e=this;e.isElement&&e.ownerCt.unmask(),Ext.destroy(e.maskEl),e.callParent()}}),Ext.define("Ext.data.association.Association",{alternateClassName:"Ext.data.Association",primaryKey:"id",defaultReaderType:"json",isAssociation:!0,initialConfig:null,statics:{AUTO_ID:1e3,create:function(e){Ext.isString(e)&&(e={type:e});switch(e.type){case"belongsTo":return new Ext.data.association.BelongsTo(e);case"hasMany":return new Ext.data.association.HasMany(e);case"hasOne":return new Ext.data.association.HasOne(e);default:}return e}},constructor:function(e){Ext.apply(this,e);var t=this,n=Ext.ModelManager.types,r=e.ownerModel,i=e.associatedModel,s=n[r],o=n[i];t.initialConfig=e,t.ownerModel=s,t.associatedModel=o,Ext.applyIf(t,{ownerName:r,associatedName:i}),t.associationId="association"+ ++t.statics().AUTO_ID},getReader:function(){var e=this,t=e.reader,n=e.associatedModel;return t&&(Ext.isString(t)&&(t={type:t}),t.isReader?t.setModel(n):Ext.applyIf(t,{model:n,type:e.defaultReaderType}),e.reader=Ext.createByAlias("reader."+t.type,t)),e.reader||null}}),Ext.define("Ext.ModelManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.ModelMgr",requires:["Ext.data.association.Association"],singleton:!0,typeName:"mtype",associationStack:[],registerType:function(e,t){var n=t.prototype,r;return n&&n.isModel?r=t:(t.extend||(t.extend="Ext.data.Model"),r=Ext.define(e,t)),this.types[e]=r,r},onModelDefined:function(e){var t=this.associationStack,n=t.length,r=[],i,s,o;for(s=0;s<n;s++)i=t[s],i.associatedModel==e.modelName&&r.push(i);for(s=0,n=r.length;s<n;s++)o=r[s],this.types[o.ownerModel].prototype.associations.add(Ext.data.association.Association.create(o)),Ext.Array.remove(t,o)},registerDeferredAssociation:function(e){this.associationStack.push(e)},getModel:function(e){var t=e;return typeof t=="string"&&(t=this.types[t]),t},create:function(e,t,n){var r=typeof t=="function"?t:this.types[t||e.name];return new r(e,n)}},function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}}),Ext.define("Ext.PluginManager",{extend:"Ext.AbstractManager",alternateClassName:"Ext.PluginMgr",singleton:!0,typeName:"ptype",create:function(e,t){return e.init?e:Ext.createByAlias("plugin."+(e.ptype||t),e)},findByType:function(e,t){var n=[],r=this.types,i,s;for(i in r){if(!r.hasOwnProperty(i))continue;s=r[i],s.type==e&&(!t||t===!0&&s.isDefault)&&n.push(s)}return n}},function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(e){var t=this,n,r;t.callParent(arguments);if(!e.textEls){r=t.owner.textEl;if(r.isComposite){e.textEls=[],r=r.elements;for(n=r.length;n--;)e.textEls[n]=e.getEl(Ext.get(r[n]))}else e.textEls=[e.getEl("textEl")]}},calculate:function(e){var t=this,n,r,i;t.callParent(arguments);if(Ext.isNumber(i=e.getProp("width"))){i-=e.getBorderInfo().width,r=e.textEls;for(n=r.length;n--;)r[n].setWidth(i)}else t.done=!1}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}},function(){Ext.dom.Element.select=function(e,t,n){var r;return typeof e=="string"?r=Ext.dom.Element.selectorFunction(e,n):e.length!==undefined&&(r=e),t===!0?new Ext.CompositeElement(r):new Ext.CompositeElementLite(r)}}),Ext.select=Ext.Element.select,Ext.define("Ext.ProgressBar",{extend:"Ext.Component",alias:"widget.progressbar",requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent(),this.addEvents("update")},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{internalText:!e.hasOwnProperty("textEl"),text:e.text||"&#160;",percentage:e.value?e.value*100:0})},onRender:function(){var e=this;e.callParent(arguments),e.textEl?(e.textEl=Ext.get(e.textEl),e.updateText(e.text)):e.textEl=e.el.select("."+e.baseCls+"-text")},updateProgress:function(e,t,n){var r=this,i=r.value;return r.value=e||0,t&&r.updateText(t),r.rendered&&!r.isDestroyed&&(n===!0||n!==!1&&r.animate?(r.bar.stopAnimation(),r.bar.animate(Ext.apply({from:{width:i*100+"%"},to:{width:r.value*100+"%"}},r.animate))):r.bar.setStyle("width",r.value*100+"%")),r.fireEvent("update",r,r.value,t),r},updateText:function(e){var t=this;return t.text=e,t.rendered&&t.textEl.update(t.text),t},applyText:function(e){this.updateText(e)},getText:function(){return this.text},wait:function(e){var t=this,n;return t.waitTimer||(n=t,e=e||{},t.updateText(e.text),t.waitTimer=Ext.TaskManager.start({run:function(n){var r=e.increment||10;n-=1,t.updateProgress(((n+r)%r+1)*(100/r)*.01,null,e.animate)},interval:e.interval||1e3,duration:e.duration,onStop:function(){e.fn&&e.fn.apply(e.scope||t),t.reset()},scope:n})),t},isWaiting:function(){return this.waitTimer!==null},reset:function(e){var t=this;return t.updateProgress(0),t.clearTimer(),e===!0&&t.hide(),t},clearTimer:function(){var e=this;e.waitTimer&&(e.waitTimer.onStop=null,Ext.TaskManager.stop(e.waitTimer),e.waitTimer=null)},onDestroy:function(){var e=this;e.clearTimer(),e.rendered&&(e.textEl.isComposite&&e.textEl.clear(),Ext.destroyMembers(e,"textEl","progressBar")),e.callParent()}}),Ext.define("Ext.ShadowPool",{singleton:!0,requires:["Ext.DomHelper"],markup:function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var e=this.shadows.shift();return e||(e=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup)),e.autoBoxAdjust=!1),e},push:function(e){this.shadows.push(e)},reset:function(){var e=[].concat(this.shadows),t,n=e.length;for(t=0;t<n;t++)e[t].remove();this.shadows=[]}}),Ext.define("Ext.Shadow",{requires:["Ext.ShadowPool"],constructor:function(e){var t=this,n,r,i;Ext.apply(t,e),Ext.isString(t.mode)||(t.mode=t.defaultMode),r=t.offset,i=Math.floor(r/2),t.opacity=50;switch(t.mode.toLowerCase()){case"drop":Ext.supports.CSS3BoxShadow?n={t:r,l:r,h:-r,w:-r}:n={t:-i,l:-i,h:-i,w:-i};break;case"sides":Ext.supports.CSS3BoxShadow?n={t:r,l:0,h:-r,w:0}:n={t:-(1+i),l:1+i-2*r,h:-1,w:i-1};break;case"frame":Ext.supports.CSS3BoxShadow?n={t:0,l:0,h:0,w:0}:n={t:1+i-2*r,l:1+i-2*r,h:r-i-1,w:r-i-1}}t.adjusts=n},getShadowSize:function(){var e=this,t=e.el?e.offset:0,n=[t,t,t,t],r=e.mode.toLowerCase();return e.el&&r!=="frame"&&(n[0]=0,r=="drop"&&(n[3]=0)),n},offset:4,defaultMode:"drop",boxShadowProperty:function(){var e="boxShadow",t=document.documentElement.style;return"boxShadow"in t||("WebkitBoxShadow"in t?e="WebkitBoxShadow":"MozBoxShadow"in t&&(e="MozBoxShadow")),e}(),show:function(e){var t=this,n;e=Ext.get(e),t.el||(t.el=Ext.ShadowPool.pull(),t.el.dom.nextSibling!=e.dom&&t.el.insertBefore(e)),n=parseInt(e.getStyle("z-index"),10)-1||0,t.el.setStyle("z-index",t.zIndex||n),Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(t.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+t.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+t.offset+")"),t.realign(e.getLocalX(),e.getLocalY(),e.dom.offsetWidth,e.dom.offsetHeight),t.el.dom.style.display="block"},isVisible:function(){return this.el?!0:!1},realign:function(e,t,n,r){if(!this.el)return;var i=this.adjusts,s=this.el.dom,o=s.style,u,a,f,l;o.left=e+i.l+"px",o.top=t+i.t+"px",u=Math.max(n+i.w,0),a=Math.max(r+i.h,0),f=u+"px",l=a+"px";if(o.width!=f||o.height!=l)o.width=f,o.height=l,Ext.supports.CSS3BoxShadow&&(o[this.boxShadowProperty]="0 0 "+this.offset+"px #888")},hide:function(){var e=this;e.el&&(e.el.dom.style.display="none",Ext.ShadowPool.push(e.el),delete e.el)},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},setOpacity:function(e){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(e=Math.floor(e*100/2)/100),this.opacity=e,this.el.setOpacity(e))}}),Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.util.Observable"},onClassExtended:function(e,t,n){var r=Ext.getClassName(e),i=r.match(/^(.*)\.controller\./),s,o,u,a,f;i!==null&&(s=Ext.Loader.getPrefix(r)||i[1],o=n.onBeforeCreated,u=[],a=["model","view","store"],n.onBeforeCreated=function(e,t){var n,r,i,l,c,h,p;for(n=0,r=a.length;n<r;n++){i=a[n],f=s+"."+i+".",l=Ext.Array.from(t[i+"s"]);for(c=0,h=l.length;c<h;c++)p=l[c],p.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(p)||Ext.Loader.isAClassNameWithAKnownPrefix(p))?u.push(p):u.push(f+p)}Ext.require(u,Ext.Function.pass(o,arguments,this))})},constructor:function(e){this.mixins.observable.constructor.call(this,e),Ext.apply(this,e||{}),this.createGetters("model",this.models),this.createGetters("store",this.stores),this.createGetters("view",this.views),this.refs&&this.ref(this.refs)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,createGetters:function(e,t){e=Ext.String.capitalize(e);var n=0,r=t?t.length:0,i,s,o,u,a;for(;n<r;n++){i="get",s=t[n],o=s.split("."),a=o.length;for(u=0;u<a;u++)i+=Ext.String.capitalize(o[u]);i+=e,this[i]||(this[i]=Ext.Function.pass(this["get"+e],[s],this)),this[i](s)}},ref:function(e){e=Ext.Array.from(e);var t=this,n=0,r=e.length,i,s,o;t.references=t.references||[];for(;n<r;n++)i=e[n],s=i.ref,o="get"+Ext.String.capitalize(s),t[o]||(t[o]=Ext.Function.pass(t.getRef,[s,i],t)),t.references.push(s.toLowerCase())},addRef:function(e){return this.ref([e])},getRef:function(e,t,n){this.refCache=this.refCache||{},t=t||{},n=n||{},Ext.apply(t,n);if(t.forceCreate)return Ext.ComponentManager.create(t,"component");var r=this,i=r.refCache[e];return i||(r.refCache[e]=i=Ext.ComponentQuery.query(t.selector)[0],!i&&t.autoCreate&&(r.refCache[e]=i=Ext.ComponentManager.create(t,"component")),i&&i.on("beforedestroy",function(){r.refCache[e]=null})),i},hasRef:function(e){return this.references&&this.references.indexOf(e.toLowerCase())!==-1},control:function(e,t){this.application.control(e,t,this)},getController:function(e){return this.application.getController(e)},getStore:function(e){return this.application.getStore(e)},getModel:function(e){return this.application.getModel(e)},getView:function(e){return this.application.getView(e)}}),Ext.define("Ext.data.IdGenerator",{isGenerator:!0,constructor:function(e){var t=this;Ext.apply(t,e),t.id&&(Ext.data.IdGenerator.all[t.id]=t)},getRecId:function(e){return e.modelName+"-"+e.internalId},statics:{all:{},get:function(e){var t,n,r;if(typeof e=="string")n=r=e,e=null;else{if(e.isGenerator)return e;n=e.id||e.type,r=e.type}return t=this.all[n],t||(t=Ext.create("idgen."+r,e)),t}}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:function(e){return e},stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return String(e).replace(this.stripTagsRE,"")},asUCText:function(e){return String(e).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(e){return String(e).toUpperCase()},asDate:function(e){return e?Ext.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(e){var t=parseFloat(String(e).replace(/,/g,""));return isNaN(t)?0:t},asInt:function(e){var t=parseInt(String(e).replace(/,/g,""),10);return isNaN(t)?0:t}}),Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"]},function(){var e=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:e.none,type:"auto"},STRING:{convert:function(e){var t=this.useNull?null:"";return e===undefined||e===null?t:String(e)},sortType:e.asUCString,type:"string"},INT:{convert:function(e){return e!==undefined&&e!==null&&e!==""?parseInt(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"int"},FLOAT:{convert:function(e){return e!==undefined&&e!==null&&e!==""?parseFloat(String(e).replace(Ext.data.Types.stripRe,""),10):this.useNull?null:0},sortType:e.none,type:"float"},BOOL:{convert:function(e){
return!this.useNull||e!==undefined&&e!==null&&e!==""?e===!0||e==="true"||e==1:null},sortType:e.none,type:"bool"},DATE:{convert:function(e){var t=this.dateFormat,n;return e?Ext.isDate(e)?e:t?t=="timestamp"?new Date(e*1e3):t=="time"?new Date(parseInt(e,10)):Ext.Date.parse(e,t):(n=Date.parse(e),n?new Date(n):null):null},sortType:e.asDate,type:"date"}}),Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}),Ext.define("Ext.data.Field",{requires:["Ext.data.Types","Ext.data.SortTypes"],alias:"data.field",isField:!0,constructor:function(e){var t=this,n=Ext.data.Types,r;Ext.isString(e)&&(e={name:e}),Ext.apply(t,e),r=t.sortType,t.type?Ext.isString(t.type)&&(t.type=n[t.type.toUpperCase()]||n.AUTO):t.type=n.AUTO,Ext.isString(r)?t.sortType=Ext.data.SortTypes[r]:Ext.isEmpty(r)&&(t.sortType=t.type.sortType),e.hasOwnProperty("convert")?!t.convert&&t.type.convert&&!e.hasOwnProperty("defaultValue")&&(t.defaultValue=t.type.convert(t.defaultValue)):t.convert=t.type.convert,e.convert&&(t.hasCustomConvert=!0)},dateFormat:null,useNull:!1,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:!0,persist:!0}),Ext.define("Ext.data.Errors",{extend:"Ext.util.MixedCollection",isValid:function(){return this.length===0},getByField:function(e){var t=[],n,r,i;for(i=0;i<this.length;i++)n=this.items[i],n.field==e&&t.push(n);return t}}),Ext.define("Ext.data.Operation",{synchronous:!0,action:undefined,filters:undefined,sorters:undefined,groupers:undefined,start:undefined,limit:undefined,batch:undefined,callback:undefined,scope:undefined,started:!1,running:!1,complete:!1,success:undefined,exception:!1,error:undefined,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(e){Ext.apply(this,e||{})},commitRecords:function(e){var t=this,n,r,i,s,o,u,a;if(!t.actionSkipSyncRe.test(t.action)){i=t.records;if(i&&i.length){if(i.length>1)if(t.action=="update"||i[0].clientIdProperty){n=new Ext.util.MixedCollection,n.addAll(e);for(r=i.length;r--;)o=i[r],s=n.findBy(t.matchClientRec,o),o.copyFrom(s)}else for(u=0,a=i.length;u<a;++u)o=i[u],s=e[u],o&&s&&t.updateRecord(o,s);else this.updateRecord(i[0],e[0]);if(t.actionCommitRecordsRe.test(t.action))for(r=i.length;r--;)i[r].commit()}}},updateRecord:function(e,t){t&&(e.phantom||e.getId()===t.getId())&&e.copyFrom(t)},matchClientRec:function(e){var t=this,n=t.getId();return n&&e.getId()===n?!0:e.internalId===t.internalId},setStarted:function(){this.started=!0,this.running=!0},setCompleted:function(){this.complete=!0,this.running=!1},setSuccessful:function(){this.success=!0},setException:function(e){this.exception=!0,this.success=!1,this.running=!1,this.error=e},hasException:function(){return this.exception===!0},getError:function(){return this.error},getRecords:function(){var e=this.getResultSet();return this.records||(e?e.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===!0},isRunning:function(){return this.running===!0},isComplete:function(){return this.complete===!0},wasSuccessful:function(){return this.isComplete()&&this.success===!0},setBatch:function(e){this.batch=e},allowWrite:function(){return this.action!="read"}}),Ext.define("Ext.data.validations",{singleton:!0,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(e,t){return arguments.length===1&&(t=e),!!t||t===0},length:function(e,t){if(t===undefined||t===null)return!1;var n=t.length,r=e.min,i=e.max;return r&&n<r||i&&n>i?!1:!0},email:function(e,t){return Ext.data.validations.emailRe.test(t)},format:function(e,t){return!!e.matcher&&!!e.matcher.test(t)},inclusion:function(e,t){return e.list&&Ext.Array.indexOf(e.list,t)!=-1},exclusion:function(e,t){return e.list&&Ext.Array.indexOf(e.list,t)==-1}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",mixins:{observable:"Ext.util.Observable"},requires:["Ext.ModelManager","Ext.data.IdGenerator","Ext.data.Field","Ext.data.Errors","Ext.data.Operation","Ext.data.validations","Ext.util.MixedCollection"],compareConvertFields:function(e,t){var n=e.convert&&e.type&&e.convert!==e.type.convert,r=t.convert&&t.type&&t.convert!==t.type.convert;return n&&!r?1:!n&&r?-1:0},itemNameFn:function(e){return e.name},onClassExtended:function(e,t,n){var r=n.onBeforeCreated;n.onBeforeCreated=function(e,t){var i=this,s=Ext.getClassName(e),o=e.prototype,u=e.prototype.superclass,a=t.validations||[],f=t.fields||[],l,c=t.associations||[],h=function(e,t){var n=0,r,i;if(e){e=Ext.Array.from(e);for(r=e.length;n<r;++n)i=e[n],Ext.isObject(i)||(i={model:i}),i.type=t,c.push(i)}},p=t.idgen,d=new Ext.util.MixedCollection(!1,o.itemNameFn),v=new Ext.util.MixedCollection(!1,o.itemNameFn),m=u.validations,g=u.fields,y=u.associations,b,w,E,S=[],x=t.idProperty||e.prototype.idProperty,T=function(e,t,n){var r,i;d.events.add.firing?(i=e,r=t):(r=n,i=t.originalIndex),r.originalIndex=i;if(r.mapping===x||r.mapping==null&&r.name===x)r.defaultValue=undefined},N=t.proxy||e.prototype.proxy||e.prototype.defaultProxyType,C=function(){d.sortBy(o.compareConvertFields)};e.modelName=s,o.modelName=s,m&&(a=m.concat(a)),t.validations=a,g&&(f=g.items.concat(f)),d.on({add:T,replace:T});for(w=0,E=f.length;w<E;++w)l=f[w],d.add(l.isField?l:new Ext.data.Field(l));d.get(x)||d.add(new Ext.data.Field(x)),C(),d.on({add:C,replace:C}),t.fields=d,p&&(t.idgen=Ext.data.IdGenerator.get(p)),h(t.belongsTo,"belongsTo"),delete t.belongsTo,h(t.hasMany,"hasMany"),delete t.hasMany,h(t.hasOne,"hasOne"),delete t.hasOne,y&&(c=y.items.concat(c));for(w=0,E=c.length;w<E;++w)S.push("association."+c[w].type.toLowerCase());N&&!N.isProxy&&S.push("proxy."+(typeof N=="string"?N:N.type)),Ext.require(S,function(){Ext.ModelManager.registerType(s,e);for(w=0,E=c.length;w<E;++w)b=c[w],b.isAssociation?b=Ext.applyIf({ownerModel:s,associatedModel:b.model},b.initialConfig):Ext.apply(b,{ownerModel:s,associatedModel:b.model}),Ext.ModelManager.getModel(b.model)===undefined?Ext.ModelManager.registerDeferredAssociation(b):v.add(Ext.data.association.Association.create(b));t.associations=v,r.call(i,e,t,n),e.setProxy(N),Ext.ModelManager.onModelDefined(e)})}},inheritableStatics:{setProxy:function(e){return e.isProxy||(typeof e=="string"&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this),this.proxy=this.prototype.proxy=e,e},getProxy:function(){return this.proxy},setFields:function(e,t,n){var r=this,i=r.prototype,s=i.fields,o=e?e.length:0,u=0;t&&(i.idProperty=t),n&&(i.clientIdProperty=n),s?s.clear():s=r.prototype.fields=new Ext.util.MixedCollection(!1,function(e){return e.name});for(;u<o;u++)s.add(new Ext.data.Field(e[u]));return s.get(i.idProperty)||s.add(new Ext.data.Field(i.idProperty)),r.fields=s,s},getFields:function(){return this.prototype.fields.items},load:function(e,t){t=Ext.apply({},t),t=Ext.applyIf(t,{action:"read",id:e});var n=new Ext.data.Operation(t),r=t.scope||this,i=null,s;s=function(e){e.wasSuccessful()?(i=e.getRecords()[0],Ext.callback(t.success,r,[i,e])):Ext.callback(t.failure,r,[i,e]),Ext.callback(t.callback,r,[i,e])},this.proxy.read(n,s,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(e){var t=[this.PREFIX,"-",this.AUTO_ID++].join("");return e.phantom=!0,e.internalId=t,t}},idgen:{isGenerator:!0,type:"default",generate:function(){return null},getRecId:function(e){return e.modelName+"-"+e.internalId}},editing:!1,dirty:!1,persistenceProperty:"data",evented:!1,isModel:!0,phantom:!1,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",constructor:function(e,t,n,r){e=e||{};var i=this,s,o,u,a,f,l,c,h;i.internalId=t||t===0?t:Ext.data.Model.id(i),i.raw=n||e,i.data||(i.data={}),i.modified={},i.persistanceProperty&&(i.persistenceProperty=i.persistanceProperty),i[i.persistenceProperty]=r||{},i.mixins.observable.constructor.call(i);if(!r){s=i.fields.items,o=s.length,h=0,c=i[i.persistenceProperty];if(Ext.isArray(e))for(;h<o;h++)u=s[h],a=u.name,f=e[u.originalIndex],f===undefined&&(f=u.defaultValue),u.convert&&(f=u.convert(f,i)),f!==undefined&&(c[a]=f);else for(;h<o;h++)u=s[h],a=u.name,f=e[a],f===undefined&&(f=u.defaultValue),u.convert&&(f=u.convert(f,i)),f!==undefined&&(c[a]=f)}i.stores=[],i.getId()?i.phantom=!1:i.phantom&&(l=i.idgen.generate(),l!==null&&i.setId(l)),i.dirty=!1,i.modified={},typeof i.init=="function"&&i.init(),i.id=i.idgen.getRecId(i)},get:function(e){return this[this.persistenceProperty][e]},_singleProp:{},set:function(e,t){var n=this,r=n[n.persistenceProperty],i=n.fields,s=n.modified,o=typeof e=="string",u,a,f,l,c,h,p,d,v,m;o?(m=n._singleProp,m[e]=t):m=e;for(h in m)if(m.hasOwnProperty(h)){v=m[h],i&&(a=i.get(h))&&a.convert&&(v=a.convert(v,n)),u=r[h];if(n.isEqual(u,v))continue;r[h]=v,(c||(c=[])).push(h);if(a&&a.persist)if(s.hasOwnProperty(h)){if(n.isEqual(s[h],v)){delete s[h],n.dirty=!1;for(l in s)if(s.hasOwnProperty(l)){n.dirty=!0;break}}}else n.dirty=!0,s[h]=u;h==n.idProperty&&(f=!0,p=u,d=v)}return o&&delete m[e],f&&n.fireEvent("idchanged",n,p,d),!n.editing&&c&&n.afterEdit(c),c||null},copyFrom:function(e){if(e){var t=this,n=t.fields.items,r=n.length,i,s=0,o=t[t.persistenceProperty],u=e[e.persistenceProperty],a;for(;s<r;s++)i=n[s],a=u[i.name],a!==undefined&&(o[i.name]=a);t.phantom&&!e.phantom&&t.setId(e.getId())}},isEqual:function(e,t){return Ext.isDate(e)&&Ext.isDate(t)?Ext.Date.isEqual(e,t):e===t},beginEdit:function(){var e=this;e.editing||(e.editing=!0,e.dirtySave=e.dirty,e.dataSave=Ext.apply({},e[e.persistenceProperty]),e.modifiedSave=Ext.apply({},e.modified))},cancelEdit:function(){var e=this;e.editing&&(e.editing=!1,e.modified=e.modifiedSave,e[e.persistenceProperty]=e.dataSave,e.dirty=e.dirtySave,delete e.modifiedSave,delete e.dataSave,delete e.dirtySave)},endEdit:function(e,t){var n=this,r;n.editing&&(n.editing=!1,t||(t=n.getModifiedFieldNames()),r=n.dirty||t.length>0,delete n.modifiedSave,delete n.dataSave,delete n.dirtySave,r&&e!==!0&&n.afterEdit(t))},getModifiedFieldNames:function(){var e=this,t=e.dataSave,n=e[e.persistenceProperty],r=[],i;for(i in n)n.hasOwnProperty(i)&&(e.isEqual(n[i],t[i])||r.push(i));return r},getChanges:function(){var e=this.modified,t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=this.get(n));return t},isModified:function(e){return this.modified.hasOwnProperty(e)},setDirty:function(){var e=this,t=e.fields.items,n=t.length,r,i,s;e.dirty=!0;for(s=0;s<n;s++)r=t[s],r.persist&&(i=r.name,e.modified[i]=e.get(i))},reject:function(e){var t=this,n=t.modified,r;for(r in n)n.hasOwnProperty(r)&&typeof n[r]!="function"&&(t[t.persistenceProperty][r]=n[r]);t.dirty=!1,t.editing=!1,t.modified={},e!==!0&&t.afterReject()},commit:function(e){var t=this;t.phantom=t.dirty=t.editing=!1,t.modified={},e!==!0&&t.afterCommit()},copy:function(e){var t=this;return new t.self(t.raw,e,null,Ext.apply({},t[t.persistenceProperty]))},setProxy:function(e){return e.isProxy||(typeof e=="string"&&(e={type:e}),e=Ext.createByAlias("proxy."+e.type,e)),e.setModel(this.self),this.proxy=e,e},getProxy:function(){return this.proxy},validate:function(){var e=new Ext.data.Errors,t=this.validations,n=Ext.data.validations,r,i,s,o,u,a;if(t){r=t.length;for(a=0;a<r;a++)i=t[a],s=i.field||i.name,u=i.type,o=n[u](i,this.get(s)),o||e.add({field:s,message:i.message||n[u+"Message"]})}return e},isValid:function(){return this.validate().isValid()},save:function(e){e=Ext.apply({},e);var t=this,n=t.phantom?"create":"update",r=e.scope||t,i=t.stores,s=0,o,u,a,f,l;return Ext.apply(e,{records:[t],action:n}),f=new Ext.data.Operation(e),l=function(n){a=[t,n];if(n.wasSuccessful()){for(o=i.length;s<o;s++)u=i[s],u.fireEvent("write",u,n),u.fireEvent("datachanged",u);Ext.callback(e.success,r,a)}else Ext.callback(e.failure,r,a);Ext.callback(e.callback,r,a)},t.getProxy()[n](f,l,t),t},destroy:function(e){e=Ext.apply({},e);var t=this,n=e.scope||t,r=t.stores,i=0,s,o,u,a,f;return Ext.apply(e,{records:[t],action:"destroy"}),a=new Ext.data.Operation(e),f=function(a){u=[t,a];if(a.wasSuccessful()){for(s=r.length;i<s;i++)o=r[i],o.fireEvent("write",o,a),o.fireEvent("datachanged",o);t.clearListeners(),Ext.callback(e.success,n,u)}else Ext.callback(e.failure,n,u);Ext.callback(e.callback,n,u)},t.getProxy().destroy(a,f,t),t},getId:function(){return this.get(this.idProperty)},getObservableId:function(){return this.id},setId:function(e){this.set(this.idProperty,e),this.phantom=!e&&e!==0},join:function(e){Ext.Array.include(this.stores,e),this.store=this.stores[0]},unjoin:function(e){Ext.Array.remove(this.stores,e),this.store=this.stores[0]||null},afterEdit:function(e){this.callStore("afterEdit",e)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(){this.callStore("afterCommit")},callStore:function(e){var t=Ext.Array.clone(arguments),n=this.stores,r=0,i=n.length,s,o;t[0]=this;for(;r<i;++r)s=n[r],s&&typeof s[e]=="function"&&s[e].apply(s,t),o=s.treeStore,o&&typeof o[e]=="function"&&o[e].apply(o,t)},getData:function(e){var t=this,n=t.fields.items,r=n.length,i={},s,o;for(o=0;o<r;o++)s=n[o].name,i[s]=t.get(s);return e===!0&&Ext.apply(i,t.getAssociatedData()),i},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(e,t){var n=this,r=n.associations.items,i=r.length,s={},o=[],u=[],a=[],f,l,c,h,p,d,v,m,g,y,b,w,E,S;for(b=0;b<i;b++){y=r[b],m=y.associationId,v=e[m];if(v&&v!==t)continue;e[m]=t,E=y.type,S=y.name;if(E=="hasMany"){f=n[y.storeName],s[S]=[];if(f&&f.getCount()>0){l=f.data.items,g=l.length;for(w=0;w<g;w++)c=l[w],s[S][w]=c.getData(),o.push(c),u.push(S),a.push(w)}}else if(E=="belongsTo"||E=="hasOne")c=n[y.instanceName],c!==undefined&&(s[S]=c.getData(),o.push(c),u.push(S),a.push(-1))}for(b=0,g=o.length;b<g;++b)c=o[b],h=s[u[b]],p=a[b],d=c.prepareAssociatedData(e,t+1),p===-1?Ext.apply(h,d):Ext.apply(h[p],d);return s}}),Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,uses:["Ext.data.ArrayStore"],register:function(){for(var e=0,t;t=arguments[e];e++)this.add(t)},unregister:function(){for(var e=0,t;t=arguments[e];e++)this.remove(this.lookup(t))},lookup:function(e){if(Ext.isArray(e)){var t=["field1"],n=!Ext.isArray(e[0]),r=e,i,s;if(n){r=[];for(i=0,s=e.length;i<s;++i)r.push([e[i]])}else for(i=2,s=e[0].length;i<=s;++i)t.push("field"+i);return new Ext.data.ArrayStore({data:r,fields:t,autoDestroy:!0,autoCreated:!0,expanded:n})}return Ext.isString(e)?this.get(e):Ext.data.AbstractStore.create(e)},getKey:function(e){return e.storeId}},function(){Ext.regStore=function(e,t){var n;return Ext.isObject(e)?t=e:t.storeId=e,t instanceof Ext.data.Store?n=t:n=new Ext.data.Store(t),Ext.data.StoreManager.register(n)},Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)}}),Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var e=this,t,n;e.callParent(),t=e.getRenderTarget(),n=e.getDockedItems(),e.finishRenderItems(t,n)},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},dockOpposites:{top:"bottom",right:"left",bottom:"top",left:"right"},handleItemBorders:function(){var e=this,t=e.owner,n,r,i=e.borders,s=e.dockOpposites,o=t.dockedItems.generation,u,a,f,l,c,h,p=e.collapsed;if(e.initializedBorders==o||t.border&&!t.manageBodyBorders)return;e.initializedBorders=o,e.collapsed=!1,r=e.getLayoutItems(),e.collapsed=p,n={top:[],right:[],bottom:[],left:[]};for(u=0,a=r.length;u<a;u++){f=r[u],l=f.dock;if(f.ignoreBorderManagement)continue;n[l].satisfied||(n[l].push(f),n[l].satisfied=!0),!n.top.satisfied&&s[l]!=="top"&&n.top.push(f),!n.right.satisfied&&s[l]!=="right"&&n.right.push(f),!n.bottom.satisfied&&s[l]!=="bottom"&&n.bottom.push(f),!n.left.satisfied&&s[l]!=="left"&&n.left.push(f)}if(i)for(c in i)if(i.hasOwnProperty(c)){a=i[c].length;if(!t.manageBodyBorders){for(u=0;u<a;u++)h=i[c][u],h.isDestroyed||h.removeCls(Ext.baseCSSPrefix+"docked-noborder-"+c);!i[c].satisfied&&!t.bodyBorder&&t.removeBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+c)}else i[c].satisfied&&t.setBodyStyle("border-"+c+"-width","")}for(c in n)if(n.hasOwnProperty(c)){a=n[c].length;if(!t.manageBodyBorders){for(u=0;u<a;u++)n[c][u].addCls(Ext.baseCSSPrefix+"docked-noborder-"+c);(!n[c].satisfied&&!t.bodyBorder||t.bodyBorder===!1)&&t.addBodyCls(Ext.baseCSSPrefix+"docked-noborder-"+c)}else n[c].satisfied&&t.setBodyStyle("border-"+c+"-width","1px")}e.borders=n},beforeLayoutCycle:function(e){var t=this,n=t.owner,r=t.sizeModels.shrinkWrap,i,s;n.collapsed&&(n.collapsedVertical()?(s=!0,e.measureDimensions=1):(i=!0,e.measureDimensions=2)),e.collapsedVert=s,e.collapsedHorz=i,s?e.heightModel=r:i&&(e.widthModel=r)},beginLayout:function(e){var t=this,n=t.owner,r=t.getLayoutItems(),i=e.context,s=r.length,o,u,a,f,l,c;t.callParent(arguments),t.handleItemBorders(),c=n.getCollapsed(),c!==t.lastCollapsedState&&Ext.isDefined(t.lastCollapsedState)&&(t.owner.collapsed?(e.isCollapsingOrExpanding=1,n.addClsWithUI(n.collapsedCls)):(e.isCollapsingOrExpanding=2,n.removeClsWithUI(n.collapsedCls),e.lastCollapsedState=t.lastCollapsedState)),t.lastCollapsedState=c,e.dockedItems=o=[];for(u=0;u<s;u++)a=r[u],a.rendered&&(f=i.getCmp(a),f.dockedAt={x:0,y:0},f.offsets=l=Ext.Element.parseBox(a.offsets||{}),l.width=l.left+l.right,l.height=l.top+l.bottom,o.push(f));e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t=this,n=e.dockedItems,r=n.length,i=t.owner,s=i.frameBody,o=t.lastHeightModel,u,a,f;t.callParent(arguments),o&&o.shrinkWrap&&!e.heightModel.shrinkWrap&&!t.owner.manageHeight&&(i.body.dom.style.marginBottom=""),e.widthModel.auto&&(e.widthModel.shrinkWrap&&i.el.setWidth(null),i.body.setWidth(null),s&&s.setWidth(null)),e.heightModel.auto&&(i.body.setHeight(null),s&&s.setHeight(null)),e.collapsedVert?e.setContentHeight(0):e.collapsedHorz&&e.setContentWidth(0);for(u=0;u<r;u++){a=n[u].target,f=a.dock;if(f=="right")a.el.setLeft(0);else if(f!="left")continue}},calculate:function(e){var t=this,n=t.measureAutoDimensions(e,e.measureDimensions),r=e.state,i=r.horzDone,s=r.vertDone,o=e.bodyContext,u,a,f,l;e.borderInfo||e.getBorderInfo(),e.paddingInfo||e.getPaddingInfo(),e.framingInfo||e.getFraming(),o.borderInfo||o.getBorderInfo(),o.paddingInfo||o.getPaddingInfo(),u=!i&&t.createAxis(e,n.contentWidth,e.widthModel,"left","right","x","width","Width",e.collapsedHorz),a=!s&&t.createAxis(e,n.contentHeight,e.heightModel,"top","bottom","y","height","Height",e.collapsedVert);for(f=0,l=e.dockedItems.length;l--;++f)u&&t.dockChild(e,u,l,f),a&&t.dockChild(e,a,l,f);u&&t.finishAxis(e,u)&&(r.horzDone=i=u),a&&t.finishAxis(e,a)&&(r.vertDone=s=a),i&&s&&t.finishConstraints(e,i,s)?t.finishPositions(e,i,s):t.done=!1},createAxis:function(e,t,n,r,i,s,o,u,a){var f=0,l=this.owner,c=l["max"+u],h=l["min"+u]||0,p=c!=null,d="set"+u,v,m,g,y,b;return n.shrinkWrap?a?b=0:(m=e.bodyContext,b=t+m.borderInfo[o]):(v=e.borderInfo,g=e.framingInfo,y=e.paddingInfo,b=e.getProp(o),b-=v[i]+y[i]+g[i],f=v[r]+y[r]+g[r]),{shrinkWrap:n.shrinkWrap,sizeModel:n,begin:f,end:b,collapsed:a,horizontal:s=="x",ignoreFrameBegin:!1,ignoreFrameEnd:!1,initialSize:b-f,hasMinMaxConstraints:(h||p)&&n.shrinkWrap,minSize:h,maxSize:p?c:1e9,bodyPosProp:this.owner.manageHeight?s:"margin-"+r,dockBegin:r,dockEnd:i,posProp:s,sizeProp:o,sizePropCap:u,setSize:d,dockedPixelsEnd:0}},dockChild:function(e,t,n,r){var i=this,s=e.dockedItems[t.shrinkWrap?n:r],o=s.target,u=o.dock,a;o.ignoreParentFrame&&e.isCollapsingOrExpanding&&s.clearMarginCache(),u==t.dockBegin?t.shrinkWrap?a=i.dockOutwardBegin(e,s,o,t):a=i.dockInwardBegin(e,s,o,t):u==t.dockEnd?t.shrinkWrap?a=i.dockOutwardEnd(e,s,o,t):a=i.dockInwardEnd(e,s,o,t):a=i.dockStretch(e,s,o,t),s.dockedAt[t.posProp]=a},dockInwardBegin:function(e,t,n,r){var i=r.begin,s=r.sizeProp,o,u;return n.ignoreParentFrame&&(u=n.dock,i-=e.borderInfo[u]+e.paddingInfo[u]+e.framingInfo[u]),n.overlay||(o=t.getProp(s)+t.getMarginInfo()[s],r.begin+=o),i},dockInwardEnd:function(e,t,n,r){var i=r.sizeProp,s=t.getProp(i)+t.getMarginInfo()[i],o=r.end-s;return n.overlay||(r.end=o),n.ignoreParentFrame&&(o+=e.borderInfo[n.dock]+e.paddingInfo[n.dock]+e.framingInfo[n.dock]),o},dockOutwardBegin:function(e,t,n,r){var i=r.begin,s=r.sizeProp,o,u;return r.collapsed?r.ignoreFrameBegin=r.ignoreFrameEnd=!0:n.ignoreParentFrame&&(o=n.dock,i-=e.borderInfo[o]+e.paddingInfo[o]+e.framingInfo[o],r.ignoreFrameBegin=!0),n.overlay||(u=t.getProp(s)+t.getMarginInfo()[s],i-=u,r.begin=i),i},dockOutwardEnd:function(e,t,n,r){var i=r.end,s=r.sizeProp,o,u;return u=t.getProp(s)+t.getMarginInfo()[s],r.collapsed?r.ignoreFrameBegin=r.ignoreFrameEnd=!0:n.ignoreParentFrame&&(o=n.dock,i+=e.borderInfo[o]+e.paddingInfo[o]+e.framingInfo[o],r.ignoreFrameEnd=!0),n.overlay||(r.end=i+u,r.dockedPixelsEnd+=u),i},dockStretch:function(e,t,n,r){var i=n.dock,s=r.sizeProp,o=i=="top"||i=="bottom",u=t.offsets,a=e.borderInfo,f=e.paddingInfo,l=o?"right":"bottom",c=o?"left":"top",h=r.begin+u[c],p,d,v;return n.stretch!==!1&&(d=r.end-h-u[l],n.ignoreParentFrame&&(v=e.framingInfo,h-=a[c]+f[c]+v[c],d+=a[s]+f[s]+v[s]),p=t.getMarginInfo(),d-=p[s],t[r.setSize](d)),h},finishAxis:function(e,t){var n=t.end-t.begin,r=t.setSize,i=t.dockBegin,s=t.dockEnd,o=e.borderInfo,u=e.paddingInfo,a=e.framingInfo,f=u[i]+o[i]+a[i],l=e.bodyContext,c,h,p;return t.shrinkWrap?(t.delta=-t.begin,h=t.initialSize,t.ignoreFrameBegin?(t.delta-=o[i],c=-t.begin-f):(n+=f,t.delta+=u[i]+a[i],c=-t.begin),t.ignoreFrameEnd||(n+=u[s]+o[s]+a[s]),t.size=n,!t.horizontal&&!this.owner.manageHeight&&(p=!1)):(t.delta=-o[t.dockBegin],h=n,c=t.begin-f),l[r](h,p),l.setProp(t.bodyPosProp,c),!isNaN(n)},finishConstraints:function(e,t,n){var r=this.sizeModels,i=t.shrinkWrap,s=n.shrinkWrap,o,u,a,f,l,c;i&&(c=t.size,c<t.minSize?(l=r.constrainedMin,a=t.minSize):c>t.maxSize?(l=r.constrainedMax,a=t.maxSize):a=c),s&&(c=n.size,c<n.minSize?(f=r.constrainedMin,u=n.minSize):c>n.maxSize?(f=r.constrainedMax,u=n.maxSize):(!e.collapsedVert&&!this.owner.manageHeight&&(o=!1,e.bodyContext.setProp("margin-bottom",n.dockedPixelsEnd)),u=c));if(l||f){if(l&&f&&l.constrainedMax&&f.constrainedMin)return e.invalidate({widthModel:l}),!1;if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap)return e.invalidate({widthModel:l,heightModel:f}),!1}return i&&(e.setWidth(a),l&&(e.widthModel=l)),s&&(e.setHeight(u,o),f&&(e.heightModel=f)),!0},finishPositions:function(e,t,n){var r=e.dockedItems,i=r.length,s=t.delta,o=n.delta,u,a;for(u=0;u<i;++u)a=r[u],a.setProp("x",s+a.dockedAt.x),a.setProp("y",o+a.dockedAt.y)},finishedLayout:function(e){var t=this,n=e.target;t.callParent(arguments),e.animatePolicy||(e.isCollapsingOrExpanding===1?n.afterCollapse(!1):e.isCollapsingOrExpanding===2&&n.afterExpand(!1))},getAnimatePolicy:function(e){var t=this,n,r;e.isCollapsingOrExpanding==1?n=t.lastCollapsedState:e.isCollapsingOrExpanding==2&&(n=e.lastCollapsedState);if(n=="left"||n=="right")r=t.horizontalCollapsePolicy;else if(n=="top"||n=="bottom")r=t.verticalCollapsePolicy;return r},getDockedItems:function(e,t){var n=this,r=e==="visual",i=r?Ext.ComponentQuery.query("[rendered]",n.owner.dockedItems.items):n.owner.dockedItems.items,s=i&&i.length&&e!==!1,o,u,a,f,l,c;if(t==null)a=s&&!r?i.slice():i;else{a=[];for(f=0,c=i.length;f<c;++f)u=i[f].dock,l=u=="top"||u=="left",(t?l:!l)&&a.push(i[f]);s=s&&a.length}return s&&(o=(e=e||"render")=="render",Ext.Array.sort(a,function(t,r){var i,s;return o&&(i=n.owner.dockOrder[t.dock])!==(s=n.owner.dockOrder[r.dock])&&!(i+s)?i-s:(i=n.getItemWeight(t,e),s=n.getItemWeight(r,e),i!==undefined&&s!==undefined?i-s:0)})),a||[]},getItemWeight:function(e,t){var n=e.weight||this.owner.defaultDockWeights[e.dock];return n[t]||n},getLayoutItems:function(){var e=this,t,n,r,i,s;if(e.owner.collapsed)s=e.owner.getCollapsedDockedItems();else{t=e.getDockedItems("visual"),n=t.length,s=[];for(i=0;i<n;i++)r=t[i],r.hidden||s.push(r)}return s},measureContentWidth:function(e){var t=e.bodyContext;return t.el.getWidth()-t.getBorderInfo().width},measureContentHeight:function(e){var t=e.bodyContext;return t.el.getHeight()-t.getBorderInfo().height},redoLayout:function(e){var t=this,n=t.owner;e.isCollapsingOrExpanding==1?(n.reExpander&&n.reExpander.el.show(),n.addClsWithUI(n.collapsedCls),e.redo(!0)):e.isCollapsingOrExpanding==2&&(n.removeClsWithUI(n.collapsedCls),e.bodyContext.redo())},renderChildren:function(){var e=this,t=e.getDockedItems(),n=e.getRenderTarget();e.renderItems(t,n)},renderItems:function(e,t){var n=this,r=e.length,i=0,s=0,o=0,u=n.getRenderTarget().dom.childNodes,a=u.length,f,l,c,h;for(f=0,l=0;f<a;f++){c=u[f];if(Ext.fly(c).hasCls("x-resizable-handle"))break;for(l=0;l<r;l++){h=e[l];if(h.rendered&&h.el.dom===c)break}l===r&&o++}for(;i<r;i++,s++)h=e[i],i===s&&(h.dock==="right"||h.dock==="bottom")&&(s+=o),h&&!h.rendered?n.renderItem(h,t,s):n.isValidParent(h,t,s)||n.moveItem(h,t,s)},undoLayout:function(e){var t=this,n=t.owner;e.isCollapsingOrExpanding==1?(n.reExpander&&n.reExpander.el.hide(),n.removeClsWithUI(n.collapsedCls),e.undo(!0)):e.isCollapsingOrExpanding==2&&(n.addClsWithUI(n.collapsedCls),e.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},stretchH:{setsWidth:1,setsHeight:0},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e){var t=this.sizePolicy,n,r;return e.stretch===!1?t.nostretch:(n=e.dock,r=n=="left"||n=="right",r?t.stretchV:t.stretchH)},configureItem:function(e,t){this.callParent(arguments),e.addCls(Ext.baseCSSPrefix+"docked"),e.addClsWithUI("docked-"+e.dock)},afterRemove:function(e){this.callParent(arguments),this.itemCls&&e.el.removeCls(this.itemCls+"-"+e.dock);var t=e.el.dom;!e.destroying&&t&&t.parentNode.removeChild(t),this.childrenChanged=!0}}),Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",isFill:!0,flex:1}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(e,t){this.layout=e,Ext.apply(this,t)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,finishedLayout:Ext.emptyFn,completeLayout:function(e){var t=this,n=e.state.boxPlan,r;n&&n.tooNarrow?(r=t.handleOverflow(e),r&&r.reservedSpace&&t.layout.publishInnerCtSize(e,r.reservedSpace)):t.clearOverflow()},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){var t;return e.isToolbar?t="toolbar":e.isTabBar?t="tabbar":e.isMenu?t="menu":t=e.getXType(),t},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}}),Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:!1,border:!0}),Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Auto",type:"button",cellClsRE:/-btn-(tl|br)\b/,htmlRE:/<.*>/,constructor:function(){this.callParent(arguments),this.hackWidth=Ext.isIE&&(!Ext.isStrict||Ext.isIE6||Ext.isIE7||Ext.isIE8),this.heightIncludesPadding=Ext.isIE6&&Ext.isStrict},beginLayout:function(e){this.callParent(arguments),this.cacheTargetInfo(e)},beginLayoutCycle:function(e){var t=this,n="",r=t.owner,i=r.btnEl,s=r.btnInnerEl,o=r.text,u;t.callParent(arguments),s.setStyle("overflow",n),e.widthModel.natural||r.el.setStyle("width",n),u=e.heightModel.shrinkWrap&&o&&t.htmlRE.test(o),i.setStyle("width",n),i.setStyle("height",u?"auto":n),s.setStyle("width",n),s.setStyle("height",u?"auto":n),s.setStyle("line-height",u?"normal":n),s.setStyle("padding-top",n),r.btnIconEl.setStyle("width",n)},calculateOwnerHeightFromContentHeight:function(e,t){return t},calculateOwnerWidthFromContentWidth:function(e,t){return t},measureContentWidth:function(e){var t=this,n=t.owner,r=n.btnEl,i=n.btnInnerEl,s=n.text,o,u,a,f,l,c;return n.text&&t.hackWidth&&r?(o=t.btnFrameWidth,s.indexOf(">")===-1&&(s=s.replace(/</g,"&lt;")),u=Ext.util.TextMetrics.measure(i,s),f=u.width+o+t.adjWidth,l=e.getEl("btnEl"),c=e.getEl("btnInnerEl"),a=(n.icon||n.iconCls)&&(n.iconAlign=="top"||n.iconAlign=="bottom"),e.setWidth(f),l.setWidth(u.width+o),c.setWidth(u.width+o),a&&n.btnIconEl.setWidth(u.width+o)):f=e.el.getWidth(),f},measureContentHeight:function(e){var t=this,n=t.owner,r=n.btnInnerEl,i=e.getEl("btnEl"),s=e.getEl("btnInnerEl"),o=t.minTextHeight,u=t.adjHeight,a=n.getText(),f,l,c;return n.vertical?(f=Ext.util.TextMetrics.measure(r,n.text).width,f+=t.btnFrameHeight+u,e.setHeight(f,!0,!0)):a&&t.htmlRE.test(a)?(l=r.getHeight(),l<o&&(c=Math.floor((o-l)/2),s.setHeight(o-(t.heightIncludesPadding?c:0)),s.setProp("padding-top",c),l=o),f=l+u):f=e.el.getHeight(),i.setHeight(f-u),f},publishInnerHeight:function(e,t){var n=this,r=n.owner,i=Ext.isNumber,s=e.getEl("btnEl"),o=r.btnInnerEl,u=e.getEl("btnInnerEl"),a=i(t)?t-n.adjHeight:t,f=n.btnFrameHeight,l=r.getText(),c,h;s.setHeight(a),u.setHeight(a),!r.vertical&&a>=0&&u.setProp("line-height",a-f+"px"),l&&n.htmlRE.test(l)&&(u.setProp("line-height","normal"),o.setStyle("line-height","normal"),c=Ext.util.TextMetrics.measure(o,l).height,h=Math.floor(Math.max(a-f-c,0)/2),u.setProp("padding-top",n.btnFrameTop+h),u.setHeight(a-(n.heightIncludesPadding?h:0)))},publishInnerWidth:function(e,t){var n=this,r=Ext.isNumber,i=e.getEl("btnEl"),s=e.getEl("btnInnerEl"),o=r(t)?t-n.adjWidth:t;i.setWidth(o),s.setWidth(o)},clearTargetCache:function(){delete this.adjWidth},cacheTargetInfo:function(e){var t=this,n=t.owner,r=n.scale,i,s,o,u,a;if(!("adjWidth"in t)||t.lastScale!==r)t.lastScale&&n.btnInnerEl.setStyle("line-height",""),t.lastScale=r,i=e.getPaddingInfo(),s=e.getFrameInfo(),o=e.getEl("btnWrap").getPaddingInfo(),u=e.getEl("btnInnerEl"),a=u.getPaddingInfo(),Ext.apply(t,{adjWidth:o.width+s.width+i.width,adjHeight:o.height+s.height+i.height,btnFrameWidth:a.width,btnFrameHeight:a.height,btnFrameTop:a.top,minTextHeight:parseInt(u.getStyle("line-height"),10)});t.callParent(arguments)},finishedLayout:function(){var e=this.owner;this.callParent(arguments),Ext.isWebKit&&e.el.dom.offsetWidth}}),Ext.define("Ext.menu.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.util.KeyMap"],alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],menus:{},groups:{},attached:!1,lastShow:new Date,init:function(){var e=this;e.active=new Ext.util.MixedCollection,Ext.getDoc().addKeyListener(27,function(){e.active.length>0&&e.hideAll()},e)},hideAll:function(){var e=this.active,t,n,r,i;if(e&&e.length>0){t=e.clone(),n=t.items,i=n.length;for(r=0;r<i;r++)n[r].hide();return!0}return!1},onHide:function(e){var t=this,n=t.active;n.remove(e),n.length<1&&(Ext.getDoc().un("mousedown",t.onMouseDown,t),t.attached=!1)},onShow:function(e){var t=this,n=t.active,r=n.last(),i=t.attached,s=e.getEl(),o;t.lastShow=new Date,n.add(e),i||(Ext.getDoc().on("mousedown",t.onMouseDown,t,{buffer:Ext.isIE?10:undefined}),t.attached=!0),e.toFront()},onBeforeHide:function(e){e.activeChild&&e.activeChild.hide(),e.autoHideTimer&&(clearTimeout(e.autoHideTimer),delete e.autoHideTimer)},onBeforeShow:function(e){var t=this.active,n=e.parentMenu;t.remove(e),!n&&!e.allowOtherMenus?this.hideAll():n&&n.activeChild&&e!=n.activeChild&&n.activeChild.hide()},onMouseDown:function(e){var t=this,n=t.active,r=t.lastShow;Ext.Date.getElapsed(r)>50&&n.length>0&&!e.getTarget("."+Ext.baseCSSPrefix+"menu")&&t.hideAll()},register:function(e){var t=this;t.active||t.init(),e.floating&&(t.menus[e.id]=e,e.on({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t}))},get:function(e){var t=this.menus;return typeof e=="string"?t?t[e]:null:e.isMenu?e:Ext.isArray(e)?new Ext.menu.Menu({items:e}):Ext.ComponentManager.create(e,"menu")},unregister:function(e){var t=this,n=t.menus,r=t.active;delete n[e.id],r.remove(e),e.un({beforehide:t.onBeforeHide,hide:t.onHide,beforeshow:t.onBeforeShow,show:t.onShow,scope:t})},registerCheckable:function(e){var t=this.groups,n=e.group;n&&(t[n]||(t[n]=[]),t[n].push(e))},unregisterCheckable:function(e){var t=this.groups,n=e.group;n&&Ext.Array.remove(t[n],e)},onCheckChange:function(e,t){var n=this.groups,r=e.group,i=0,s,o,u;if(r&&t){s=n[r],o=s.length;for(;i<o
;i++)u=s[i],u!=e&&u.setChecked(!1)}}}),Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(e,t){var n=this;n.el=Ext.get(e),n.el.unselectable(),Ext.apply(n,t),n.callParent(),n.addEvents("mousedown","click","mouseup"),n.disabled||(n.disabled=!0,n.enable()),n.handler&&n.on("click",n.handler,n.scope||n)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE&&(!Ext.isStrict||!Ext.isIE9)&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(e){if(e||!this.disabled)clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners();this.disabled=!0},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},destroy:function(){this.disable(!0),Ext.destroy(this.el),this.clearListeners()},handleDblClick:function(e){clearTimeout(this.timer),this.el.blur(),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer),this.el.blur(),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e),this.accelerate&&(this.delay=400),e=new Ext.EventObjectImpl(e),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e])},click:function(e){this.fireEvent("click",this,e),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,n,r){return e==r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click()},handleMouseUp:function(e){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,e)}}),Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(e,t,n){var r=this,i=r.shared;return i||(i=r.shared=new r(e,n)),i.bind(e),i.setFixedWidth(n||"auto"),i.getSize(t)},destroy:function(){var e=this;Ext.destroy(e.shared),e.shared=null}},constructor:function(e,t){var n=this.measure=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});this.el=Ext.get(e),n.position("absolute"),n.setLeftTop(-1e3,-1e3),n.hide(),t&&n.setWidth(t)},getSize:function(e){var t=this.measure,n;return t.update(e),n=t.getSize(),t.update(""),n},bind:function(e){var t=this;t.el=Ext.get(e),t.measure.setStyle(t.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){var e=this;e.measure.remove(),delete e.el,delete e.measure}},function(){Ext.Element.addMethods({getTextWidth:function(e,t,n){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(e,this.dom.innerHTML,!0)).width,t||0,n||1e6)}})}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.menu.Manager","Ext.util.ClickRepeater","Ext.layout.component.Button","Ext.util.TextMetrics","Ext.util.KeyMap"],alternateClassName:"Ext.Button",isButton:!0,componentLayout:"button",hidden:!1,disabled:!1,pressed:!1,enableToggle:!1,menuAlign:"tl-bl?",textAlign:"center",type:"button",clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",border:!0,childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<em id="{id}-btnWrap"<tpl if="splitCls"> class="{splitCls}"</tpl>>','<tpl if="href">','<a id="{id}-btnEl" href="{href}" class="{btnCls}" target="{hrefTarget}"','<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',' role="link">','<span id="{id}-btnInnerEl" class="{baseCls}-inner">',"{text}","</span>",'<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>',"</a>","<tpl else>",'<button id="{id}-btnEl" type="{type}" class="{btnCls}" hidefocus="true"','<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>',' role="button" autocomplete="off">','<span id="{id}-btnInnerEl" class="{baseCls}-inner" style="{innerSpanStyle}">',"{text}","</span>",'<span id="{id}-btnIconEl" class="{baseCls}-icon {iconCls}"<tpl if="iconUrl"> style="background-image:url({iconUrl})"</tpl>></span>',"</button>","</tpl>","</em>",'<tpl if="closable">','<a id="{id}-closeEl" href="#" class="{baseCls}-close-btn" title="{closeText}"></a>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,persistentPadding:undefined,shrinkWrap:3,frame:!0,initComponent:function(){var e=this;e.callParent(arguments),e.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout"),e.menu&&(e.split=!0,e.menu=Ext.menu.Manager.get(e.menu),e.menu.ownerButton=e),e.url&&(e.href=e.url),e.href&&!e.hasOwnProperty("preventDefault")&&(e.preventDefault=!1),Ext.isString(e.toggleGroup)&&e.toggleGroup!==""&&(e.enableToggle=!0),e.html&&!e.text&&(e.text=e.html,delete e.html)},getActionEl:function(){return this.btnEl},getFocusEl:function(){return this.useElForFocus?this.el:this.btnEl},onFocus:function(e){var t=this;t.useElForFocus=!0,t.callParent(arguments),t.useElForFocus=!1},onBlur:function(e){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},onDisable:function(){this.useElForFocus=!0,this.callParent(arguments),this.useElForFocus=!1},setComponentCls:function(){var e=this,t=e.getComponentCls();Ext.isEmpty(e.oldCls)||(e.removeClsWithUI(e.oldCls),e.removeClsWithUI(e.pressedCls)),e.oldCls=t,e.addClsWithUI(t)},getComponentCls:function(){var e=this,t=[];return e.iconCls||e.icon?e.text?t.push("icon-text-"+e.iconAlign):t.push("icon"):e.text&&t.push("noicon"),e.pressed&&t.push(e.pressedCls),t},beforeRender:function(){var e=this;e.callParent(),e.oldCls=e.getComponentCls(),e.addClsWithUI(e.oldCls),Ext.applyIf(e.renderData,e.getTemplateArgs()),e.scale&&e.setScale(e.scale)},onRender:function(){var e=this,t,n,r;e.doc=Ext.getDoc(),e.callParent(arguments),e.split&&e.arrowTooltip&&e.arrowEl.dom.setAttribute(e.getTipAttr(),e.arrowTooltip),n=e.el,e.tooltip&&e.setTooltip(e.tooltip,!0),e.handleMouseEvents?(r={scope:e,mouseover:e.onMouseOver,mouseout:e.onMouseOut,mousedown:e.onMouseDown},e.split&&(r.mousemove=e.onMouseMove)):r={scope:e},e.menu&&(e.mon(e.menu,{scope:e,show:e.onMenuShow,hide:e.onMenuHide}),e.keyMap=new Ext.util.KeyMap({target:e.el,key:Ext.EventObject.DOWN,handler:e.onDownKey,scope:e})),e.repeat?e.mon(new Ext.util.ClickRepeater(n,Ext.isObject(e.repeat)?e.repeat:{}),"click",e.onRepeatClick,e):r[e.clickEvent]?t=!0:r[e.clickEvent]=e.onClick,e.mon(n,r),t&&e.mon(n,e.clickEvent,e.onClick,e),Ext.ButtonToggleManager.register(e)},getTemplateArgs:function(){var e=this,t=e.getPersistentPadding(),n="";return Math.max.apply(Math,t)>0&&(n="margin:"+Ext.Array.map(t,function(e){return-e+"px"}).join(" ")),{href:e.getHref(),disabled:e.disabled,hrefTarget:e.hrefTarget,type:e.type,btnCls:e.getBtnCls(),splitCls:e.getSplitCls(),iconUrl:e.icon,iconCls:e.iconCls,text:e.text||"&#160;",tabIndex:e.tabIndex,innerSpanStyle:n}},getHref:function(){var e=this,t=Ext.apply({},e.baseParams);return t=Ext.apply(t,e.params),e.href?Ext.urlAppend(e.href,Ext.Object.toQueryString(t)):!1},setParams:function(e){this.params=e,this.btnEl.dom.href=this.getHref()},getSplitCls:function(){var e=this;return e.split?e.baseCls+"-"+e.arrowCls+" "+(e.baseCls+"-"+e.arrowCls+"-"+e.arrowAlign):""},getBtnCls:function(){return this.textAlign?this.baseCls+"-"+this.textAlign:""},setIconCls:function(e){var t=this,n=t.btnIconEl,r=t.iconCls;return t.iconCls=e,n&&(n.removeCls(r),n.addCls(e||""),t.setComponentCls(),t.didIconStateChange(r,e)&&t.updateLayout()),t},setTooltip:function(e,t){var n=this;return n.rendered?(t||n.clearTip(),Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.btnEl.id},e)),n.tooltip=e):n.btnEl.dom.setAttribute(n.getTipAttr(),e)):n.tooltip=e,n},setTextAlign:function(e){var t=this,n=t.btnEl;return n&&(n.removeCls(t.baseCls+"-"+t.textAlign),n.addCls(t.baseCls+"-"+e)),t.textAlign=e,t},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(e){var t=this.menu,n;return t&&(n=t.getRefItems(e),n.unshift(t)),n||[]},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.btnEl)},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.menu&&e.destroyMenu!==!1&&Ext.destroy(e.menu),Ext.destroy(e.btnInnerEl,e.repeater),e.callParent()},onDestroy:function(){var e=this;e.rendered&&(e.doc.un("mouseover",e.monitorMouseOver,e),e.doc.un("mouseup",e.onMouseUp,e),delete e.doc,Ext.ButtonToggleManager.unregister(e),Ext.destroy(e.keyMap),delete e.keyMap),e.callParent()},setHandler:function(e,t){return this.handler=e,this.scope=t,this},setText:function(e){var t=this;return t.text=e,t.rendered&&(t.btnInnerEl.update(e||"&#160;"),t.setComponentCls(),Ext.isStrict&&Ext.isIE8&&t.el.repaint(),t.updateLayout()),t},setIcon:function(e){var t=this,n=t.btnIconEl,r=t.icon;return t.icon=e,n&&(n.setStyle("background-image",e?"url("+e+")":""),t.setComponentCls(),t.didIconStateChange(r,e)&&t.updateLayout()),t},didIconStateChange:function(e,t){var n=Ext.isEmpty(t);return Ext.isEmpty(e)?!n:n},getText:function(){return this.text},toggle:function(e,t){var n=this;return e=e===undefined?!n.pressed:!!e,e!==n.pressed&&(n.rendered&&n[e?"addClsWithUI":"removeClsWithUI"](n.pressedCls),n.pressed=e,t||(n.fireEvent("toggle",n,e),Ext.callback(n.toggleHandler,n.scope||n,[n,e]))),n},maybeShowMenu:function(){var e=this;e.menu&&!e.hasVisibleMenu()&&!e.ignoreNextClick&&e.showMenu()},showMenu:function(){var e=this;return e.rendered&&e.menu&&(e.tooltip&&e.getTipAttr()!="title"&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(e.btnEl),e.menu.isVisible()&&e.menu.hide(),e.menu.showBy(e.el,e.menuAlign,!Ext.isStrict&&Ext.isIE||Ext.isIE6?[-2,-2]:undefined)),e},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onClick:function(e){var t=this;(t.preventDefault||t.disabled&&t.getHref()&&e)&&e.preventDefault();if(e.button!==0)return;t.disabled||(t.doToggle(),t.maybeShowMenu(),t.fireHandler(e))},fireHandler:function(e){var t=this,n=t.handler;t.fireEvent("click",t,e)!==!1&&(n&&n.call(t.scope||t,t,e),t.blur())},doToggle:function(){var e=this;e.enableToggle&&(e.allowDepress!==!1||!e.pressed)&&e.toggle()},onMouseOver:function(e){var t=this;!t.disabled&&!e.within(t.el,!0,!0)&&t.onMouseEnter(e)},onMouseOut:function(e){var t=this;e.within(t.el,!0,!0)||(t.overMenuTrigger&&t.onMenuTriggerOut(e),t.onMouseLeave(e))},onMouseMove:function(e){var t=this,n=t.el,r=t.overMenuTrigger,i,s;t.split&&(t.arrowAlign==="right"?(i=e.getX()-n.getX(),s=n.getWidth()):(i=e.getY()-n.getY(),s=n.getHeight()),i>s-t.getTriggerSize()?r||t.onMenuTriggerOver(e):r&&t.onMenuTriggerOut(e))},getTriggerSize:function(){var e=this,t=e.triggerSize,n,r,i;return t===i&&(n=e.arrowAlign,r=n.charAt(0),t=e.triggerSize=e.el.getFrameWidth(r)+e.btnWrap.getFrameWidth(r)+e.frameSize[n]),t},onMouseEnter:function(e){var t=this;t.addClsWithUI(t.overCls),t.fireEvent("mouseover",t,e)},onMouseLeave:function(e){var t=this;t.removeClsWithUI(t.overCls),t.fireEvent("mouseout",t,e)},onMenuTriggerOver:function(e){var t=this;t.overMenuTrigger=!0,t.fireEvent("menutriggerover",t,t.menu,e)},onMenuTriggerOut:function(e){var t=this;delete t.overMenuTrigger,t.fireEvent("menutriggerout",t,t.menu,e)},enable:function(e){var t=this;return t.callParent(arguments),t.btnEl&&(t.btnEl.dom.disabled=!1),t.removeClsWithUI("disabled"),t},disable:function(e){var t=this;return t.callParent(arguments),t.btnEl&&(t.btnEl.dom.disabled=!0),t.addClsWithUI("disabled"),t.removeClsWithUI(t.overCls),t.btnInnerEl&&(Ext.isIE6||Ext.isIE7)&&t.btnInnerEl.repaint(),t},setScale:function(e){var t=this,n=t.ui.replace("-"+t.scale,"");if(!Ext.Array.contains(t.allowedScales,e))throw"#setScale: scale must be an allowed scale ("+t.allowedScales.join(", ")+")";t.scale=e,t.setUI(n)},setUI:function(e){var t=this;t.scale&&!e.match(t.scale)&&(e=e+"-"+t.scale),t.callParent([e])},onMouseDown:function(e){var t=this;!t.disabled&&e.button===0&&(t.addClsWithUI(t.pressedCls),t.doc.on("mouseup",t.onMouseUp,t))},onMouseUp:function(e){var t=this;e.button===0&&(t.pressed||t.removeClsWithUI(t.pressedCls),t.doc.un("mouseup",t.onMouseUp,t))},onMenuShow:function(e){var t=this;t.ignoreNextClick=0,t.addClsWithUI(t.menuActiveCls),t.fireEvent("menushow",t,t.menu)},onMenuHide:function(e){var t=this;t.removeClsWithUI(t.menuActiveCls),t.ignoreNextClick=Ext.defer(t.restoreClick,250,t),t.fireEvent("menuhide",t,t.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(){var e=this;e.disabled||e.menu&&e.showMenu()},getPersistentPadding:function(){var e=this,t=Ext.scopeResetCSS,n=e.persistentPadding,r,i,s,o,u;return n||(n=e.self.prototype.persistentPadding=[0,0,0,0],Ext.isIE||(r=new Ext.button.Button({text:"test",style:"position:absolute;top:-999px;"}),r.el=Ext.DomHelper.append(Ext.resetElement,r.getRenderTree(),!0),r.applyChildEls(r.el),s=r.btnEl,o=r.btnInnerEl,s.setSize(null,null),i=o.getOffsetsTo(s),n[0]=i[1],n[1]=s.getWidth()-o.getWidth()-i[0],n[2]=s.getHeight()-o.getHeight()-i[1],n[3]=i[0],r.destroy(),r.el.remove())),n}},function(){var e={},t=function(t,n){if(n){var r=e[t.toggleGroup],i=r.length,s;for(s=0;s<i;s++)r[s]!==t&&r[s].toggle(!1)}};Ext.ButtonToggleManager={register:function(n){if(!n.toggleGroup)return;var r=e[n.toggleGroup];r||(r=e[n.toggleGroup]=[]),r.push(n),n.on("toggle",t)},unregister:function(n){if(!n.toggleGroup)return;var r=e[n.toggleGroup];r&&(Ext.Array.remove(r,n),n.un("toggle",t))},getPressed:function(t){var n=e[t],r=0,i;if(n)for(i=n.length;r<i;r++)if(n[r].pressed===!0)return n[r];return null}}}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(e){var t=this;t.callParent(arguments),t.triggerButtonCls=t.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-"+e.getNames().right,t.menuItems=[]},beginLayout:function(e){this.callParent(arguments),this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t||(this.clearOverflow(e),this.layout.cacheChildItems(e))},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},getSuffixConfig:function(){var e=this,t=e.layout,n=t.owner.id;return e.menu=new Ext.menu.Menu({listeners:{scope:e,beforeshow:e.beforeMenuShow}}),e.menuTrigger=new Ext.button.Button({id:n+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+e.triggerButtonCls,hidden:!0,ownerCt:t.owner,ownerLayout:t,iconCls:Ext.baseCSSPrefix+e.getOwnerType(t.owner)+"-more-icon",ui:t.owner instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:e.menu,getSplitCls:function(){return""}}),e.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(e){var t=this,n=t.layout,r=n.getNames(),i=e.state.boxPlan,s=[null,null];return t.showTrigger(e),s[r.heightIndex]=(i.maxSize-t.menuTrigger[r.getHeight]())/2,t.menuTrigger.setPosition.apply(t.menuTrigger,s),{reservedSpace:t.menuTrigger[r.getWidth]()}},captureChildElements:function(){var e=this.menuTrigger;e.rendering&&e.finishRender()},_asLayoutRoot:{isRoot:!0},clearOverflow:function(e){var t=this,n=t.menuItems,r,i=0,s=n.length,o=t.layout.owner,u=t._asLayoutRoot;o.suspendLayouts(),t.captureChildElements(),t.hideTrigger(),o.resumeLayouts();for(;i<s;i++)r=n[i],r.suspendLayouts(),r.show(),r.resumeLayouts(u);n.length=0},showTrigger:function(e){var t=this,n=t.layout,r=n.owner,i=n.getNames(),s=i.x,o=i.width,u=e.state.boxPlan,a=u.targetSize[o],f=e.childItems,l=f.length,c=t.menuTrigger,h,p,d,v;c.suspendLayouts(),c.show(),c.resumeLayouts(t._asLayoutRoot),a-=t.menuTrigger.getWidth(),r.suspendLayouts(),t.menuItems.length=0;for(d=0;d<l;d++)h=f[d],v=h.props,v[s]+v[o]>a&&(p=h.target,t.menuItems.push(p),p.hide());r.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;e&&e.hide()},beforeMenuShow:function(e){var t=this,n=t.menuItems,r=0,i=n.length,s,o,u=function(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)};e.suspendLayouts(),t.clearMenu(),e.removeAll();for(;r<i;r++){s=n[r];if(!r&&s instanceof Ext.toolbar.Separator)continue;o&&(u(s,o)||u(o,s))&&e.add("-"),t.addComponentToMenu(e,s),o=s}e.items.length<1&&e.add(t.noItemsMenuText),e.resumeLayouts()},createMenuConfig:function(e,t){var n=Ext.apply({},e.initialConfig),r=e.toggleGroup;return Ext.copyTo(n,e,["iconCls","icon","itemId","disabled","handler","scope","menu"]),Ext.apply(n,{text:e.overflowText||e.text,hideOnClick:t,destroyMenu:!1}),e.isFormField?(n.value=e.getValue(),n.listeners||(n.listeners={}),n.listeners.change=function(t,n,r){e.setValue(n)}):(r||e.enableToggle)&&Ext.apply(n,{iconAlign:"right",hideOnClick:!1,group:r,checked:e.pressed,listeners:{checkchange:function(t,n){e.toggle(n)}}}),delete n.ownerCt,delete n.xtype,delete n.id,n},addComponentToMenu:function(e,t){var n=this,r,i,s;if(t instanceof Ext.toolbar.Separator)e.add("-");else if(t.isComponent)if(t.isXType("splitbutton"))e.add(n.createMenuConfig(t,!0));else if(t.isXType("button"))e.add(n.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup")){i=t.items.items,s=i.length;for(r=0;r<s;r++)n.addComponentToMenu(e,i[r])}else e.add(Ext.create(Ext.getClassName(t),n.createMenuConfig(t)))},clearMenu:function(){var e=this.menu,t,n,r,i;if(e&&e.items){t=e.items.items,r=t.length;for(n=0;n<r;n++)i=t[n],i.setMenu&&i.setMenu(null)}},destroy:function(){var e=this.menuTrigger;e&&!this.layout.owner.items.contains(e)&&delete e.ownerCt,Ext.destroy(this.menu,e)}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",mixins:{observable:"Ext.util.Observable"},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(e,t){var n=this;n.layout=e,Ext.apply(n,t||{}),n.mixins.observable.constructor.call(n),n.addEvents("scroll"),n.scrollPosition=0,n.scrollSize=0},getPrefixConfig:function(){var e=this;return e.initCSSClasses(),{cls:Ext.layout.container.Box.prototype.innerCls+" "+e.beforeCtCls,cn:{id:e.layout.owner.id+"-before-scroller",cls:e.scrollerCls+" "+e.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var e=this;return{cls:Ext.layout.container.Box.prototype.innerCls+" "+e.afterCtCls,cn:{id:e.layout.owner.id+"-after-scroller",cls:e.scrollerCls+" "+e.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var e=this,t=Ext.baseCSSPrefix,n=e.layout,r=n.getNames(),i=r.left,s=r.right,o=e.getOwnerType(n.owner);e.beforeCtCls=e.beforeCtCls||t+"box-scroller-"+i,e.afterCtCls=e.afterCtCls||t+"box-scroller-"+s,e.beforeScrollerCls=e.beforeScrollerCls||t+o+"-scroll-"+i,e.afterScrollerCls=e.afterScrollerCls||t+o+"-scroll-"+s},beginLayout:function(e){var t=this.layout,n=t.getNames();e.innerCtScrollPos=t.innerCt.dom["scroll"+n.leftCap],this.callParent(arguments)},completeLayout:function(e){this.scrollSize=e.props["content"+this.layout.getNames().widthCap],this.callParent(arguments)},finishedLayout:function(e){var t=this,n=t.layout,r=n.getNames(),i=Math.min(t.getMaxScrollPosition(),e.innerCtScrollPos);n.innerCt.dom["scroll"+r.leftCap]=i},handleOverflow:function(e){var t=this,n=t.layout,r=n.getNames(),i="get"+r.widthCap;return t.captureChildElements(),t.showScrollers(),{reservedSpace:t.beforeCt[i]()+t.afterCt[i]()}},captureChildElements:function(){var e=this,t=e.layout.owner.el,n,r;e.beforeCt||(n=e.beforeScroller=t.getById(e.layout.owner.id+"-before-scroller"),r=e.afterScroller=t.getById(e.layout.owner.id+"-after-scroller"),e.beforeCt=n.up(""),e.afterCt=r.up(""),e.createWheelListener(),n.addClsOnOver(e.beforeScrollerCls+"-hover"),r.addClsOnOver(e.afterScrollerCls+"-hover"),n.setVisibilityMode(Ext.Element.DISPLAY),r.setVisibilityMode(Ext.Element.DISPLAY),e.beforeRepeater=new Ext.util.ClickRepeater(n,{interval:e.scrollRepeatInterval,handler:e.scrollLeft,scope:e}),e.afterRepeater=new Ext.util.ClickRepeater(r,{interval:e.scrollRepeatInterval,handler:e.scrollRight,scope:e}))},createWheelListener:function(){this.layout.innerCt.on({mousewheel:function(e){this.scrollBy(e.getWheelDelta()*this.wheelIncrement*-1,!1)},stopEvent:!0,scope:this})},clearOverflow:function(){var e=this.layout;this.hideScrollers()},showScrollers:function(){var e=this;e.captureChildElements(),e.beforeScroller.show(),e.afterScroller.show(),e.updateScrollButtons(),e.layout.owner.addClsWithUI("scroller")},hideScrollers:function(){var e=this;e.beforeScroller!==undefined&&(e.beforeScroller.hide(),e.afterScroller.hide(),e.layout.owner.removeClsWithUI("scroller"))},destroy:function(){var e=this;Ext.destroy(e.beforeRepeater,e.afterRepeater,e.beforeScroller,e.afterScroller,e.beforeCt,e.afterCt)},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e=this,t,n,r,i;if(e.beforeScroller===undefined||e.afterScroller===undefined)return;t=e.atExtremeBefore()?"addCls":"removeCls",n=e.atExtremeAfter()?"addCls":"removeCls",r=e.beforeScrollerCls+"-disabled",i=e.afterScrollerCls+"-disabled",e.beforeScroller[t](r),e.afterScroller[n](i),e.scrolling=!1},atExtremeBefore:function(){return!this.getScrollPosition()},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var e=this,t=e.layout,n;return e.hasOwnProperty("scrollPosition")?n=e.scrollPosition:n=parseInt(t.innerCt.dom["scroll"+t.getNames().leftCap],10)||0,n},getMaxScrollPosition:function(){var e=this,t=e.layout,n=t.getNames(),r=e.scrollSize-t.innerCt["get"+n.widthCap]();return r<0?0:r},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(e,t){var n=this,r=n.layout,i=r.getNames(),s=n.getScrollPosition(),o=Ext.Number.constrain(e,0,n.getMaxScrollPosition());o!=s&&!n.scrolling&&(delete n.scrollPosition,t===undefined&&(t=n.animateScroll),r.innerCt.scrollTo(i.left,o,t?n.getScrollAnim():!1),t?n.scrolling=!0:n.updateScrollButtons(),n.fireEvent("scroll",n,o,t?n.getScrollAnim():!1))},scrollToItem:function(e,t){var n=this,r=n.layout,i=r.getNames(),s,o,u;e=n.getItem(e),e!==undefined&&(s=n.getItemVisibility(e),s.fullyVisible||(o=e.getBox(!0,!0),u=o[i.x],s.hiddenEnd&&(u-=n.layout.innerCt["get"+i.widthCap]()-o[i.width]),n.scrollTo(u,t)))},getItemVisibility:function(e){var t=this,n=t.getItem(e).getBox(!0,!0),r=t.layout,i=r.getNames(),s=n[i.x],o=s+n[i.width],u=t.getScrollPosition(),a=u+r.innerCt["get"+i.widthCap]();return{hiddenStart:s<u,hiddenEnd:o>a,fullyVisible:s>u&&o<a}}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return new this(e.x,e.y)}},constructor:function(e,t){return this.x=e!=null&&!isNaN(e)?e:0,this.y=t!=null&&!isNaN(t)?t:0,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},round:function(e){if(!isNaN(e)){var t=Math.pow(10,e);this.x=Math.round(this.x*t)/t,this.y=Math.round(this.y*t)/t}else this.x=Math.round(this.x),this.y=Math.round(this.y)},isZero:function(){return this.x==0&&this.y==0}}),Ext.define("Ext.util.Region",{requires:["Ext.util.Offset"],statics:{getRegion:function(e){return Ext.fly(e).getPageBox(!0)},from:function(e){return new this(e.top,e.right,e.bottom,e.left)}},constructor:function(e,t,n,r){var i=this;i.y=i.top=i[1]=e,i.right=t,i.bottom=n,i.x=i.left=i[0]=r},contains:function(e){var t=this;return e.x>=t.x&&e.right<=t.right&&e.y>=t.y&&e.bottom<=t.bottom},intersect:function(e){var t=this,n=Math.max(t.y,e.y),r=Math.min(t.right,e.right),i=Math.min(t.bottom,e.bottom),s=Math.max(t.x,e.x);return i>n&&r>s?new this.self(n,r,i,s):!1},union:function(e){var t=this,n=Math.min(t.y,e.y),r=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom),s=Math.min(t.x,e.x);return new this.self(n,r,i,s)},constrainTo:function(e){var t=this,n=Ext.Number.constrain;return t.top=t.y=n(t.top,e.y,e.bottom),t.bottom=n(t.bottom,e.y,e.bottom),t.left=t.x=n(t.left,e.x,e.right),t.right=n(t.right,e.x,e.right),t},adjust:function(e,t,n,r){var i=this;return i.top=i.y+=e,i.left=i.x+=r,i.right+=t,i.bottom+=n,i},getOutOfBoundOffset:function(e,t){if(!Ext.isObject(e))return e=="x"?this.getOutOfBoundOffsetX(t):this.getOutOfBoundOffsetY(t);t=e;var n=new Ext.util.Offset;return n.x=this.getOutOfBoundOffsetX(t.x),n.y=this.getOutOfBoundOffsetY(t.y),n},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return Ext.isObject(e)?(t=e,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):e=="x"?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,n){if(Ext.isObject(e)){var r;return n=t,t=e,t.copy?r=t.copy():r={x:t.x,y:t.y},r.x=this.restrictX(t.x,n),r.y=this.restrictY(t.y,n),r}return e=="x"?this.restrictX(t,n):this.restrictY(t,n)},restrictX:function(e,t){return t||(t=1),e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t||(t=1),e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){var t=this;return t.top=t.y=t[1]=e.y,t.right=e.right,t.bottom=e.bottom,t.left=t.x=t[0]=e.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){arguments.length==1&&(t=e.y,e=e.x);var n=this;return n.top=n.y+=t,n.right+=e,n.bottom+=t,n.left=n.x+=e,n},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top==e.top&&this.right==e.right&&this.bottom==e.bottom&&this.left==e.left}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,_execOnAll:function(e,t){var n,r,i;for(n in this.ids)for(r in this.ids[n]){i=this.ids[n][r];if(!this.isTypeOfDD(i))continue;i[e].apply(i,t)}},_onLoad:function(){this.init();var e=Ext.EventManager;e.on(document,"mouseup",this.handleMouseUp,this,!0),e.on(document,"mousemove",this.handleMouseMove,this,!0),e.on(window,"unload",this._onUnload,this,!0),e.on(window,"resize",this._onResize,this,!0)},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});var n=this.ids[t];n&&n[e.id]&&delete n[e.id]},_remove:function(e){for(var t in e.groups)t&&this.ids[t]&&this.ids[t][e.id]&&delete this.ids[t][e.id];delete this.handleIds[e.id]},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return this.getDDById(e)?!0:!1},getRelated:function(e,t){var n=[],r,i,s;for(r in e.groups)for(i in this.ids[r]){s=this.ids[r][i];if(!this.isTypeOfDD(s))continue;if(!t||s.isTarget)n[n.length]=s}return n},isLegalTarget:function(e,t){var n=this.getRelated(e,!0),r,i;for(r=0,i=n.length;r<i;++r)if(n[r].id==t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e){var t=this,n,r;for(n in this.ids){r=this.ids[n][e];if(r instanceof Ext.dd.DDTarget)return r}return null},handleMouseDown:function(e,t){Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.ddDisable(),this.dragCurrent&&this.handleMouseUp(e),this.currentTarget=e.getTarget(),this.dragCurrent=t;var n=t.getEl();Ext.isIE&&n.setCapture&&n.setCapture(),this.startX=e.getPageX(),this.startY=e.getPageY(),this.deltaX=this.startX-n.offsetLeft,this.deltaY=this.startY-n.offsetTop,this.dragThreshMet=!1,this.clickTimeout=setTimeout(function(){var e=Ext.dd.DragDropManager;e.startDrag(e.startX,e.startY)},this.clickTimeThresh)},startDrag:function(e,t){clearTimeout(this.clickTimeout),this.dragCurrent&&(this.dragCurrent.b4StartDrag(e,t),this.dragCurrent.startDrag(e,t)),this.dragThreshMet=!0},handleMouseUp:function(e){var t=this.dragCurrent;Ext.tip&&Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.ddEnable();if(!t)return;Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(e,!0),this.stopDrag(e),this.stopEvent(e)},stopEvent:function(e){this.stopPropagation&&e.stopPropagation(),this.preventDefault&&e.preventDefault()},stopDrag:function(e){this.dragCurrent&&(this.dragThreshMet&&(this.dragCurrent.b4EndDrag(e),this.dragCurrent.endDrag(e)),this.dragCurrent.onMouseUp(e)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(e){var t=this,n,r;return t.dragCurrent?(t.dragThreshMet||(n=Math.abs(t.startX-e.getPageX()),r=Math.abs(t.startY-e.getPageY()),(n>t.clickPixelThresh||r>t.clickPixelThresh)&&t.startDrag(t.startX,t.startY)),t.dragThreshMet&&(t.dragCurrent.b4Drag(e),t.dragCurrent.onDrag(e),t.dragCurrent.moveOnly||t.fireEvents(e,!1)),t.stopEvent(e),!0):!0},fireEvents:function(e,t){var n=this,r=n.dragCurrent,i=e.getPoint(),s,o,u=[],a=[],f=[],l=[],c=[],h=[],p,d,v,m;if(!r||r.isLocked())return;for(d in n.dragOvers){s=n.dragOvers[d];if(!n.isTypeOfDD(s))continue;this.isOverTarget(i,s,n.mode)||f.push(s),a[d]=!0,delete n.dragOvers[d]}for(m in r.groups){if("string"!=typeof m)continue;for(d in n.ids[m])s=n.ids[m][d],n.isTypeOfDD(s)&&(o=s.getEl())&&s.isTarget&&!s.isLocked()&&Ext.fly(o).isVisible(!0)&&(s!=r||r.ignoreSelf===!1)&&((s.zIndex=n.getZIndex(o))!==-1&&(p=!0),u.push(s))}p&&Ext.Array.sort(u,n.byZIndex);for(d=0,v=u.length;d<v;d++){s=u[d];if(n.isOverTarget(i,s,n.mode)){t?c.push(s):(a[s.id]?l.push(s):h.push(s),n.dragOvers[s.id]=s);if(!n.notifyOccluded)break}}if(n.mode)f.length&&(r.b4DragOut(e,f),r.onDragOut(e,f)),h.length&&r.onDragEnter(e,h),l.length&&(r.b4DragOver(e,l),r.onDragOver(e,l)),c.length&&(r.b4DragDrop(e,c),r.onDragDrop(e,c));else{for(d=0,v=f.length;d<v;++d)r.b4DragOut(e,f[d].id),r.onDragOut(e,f[d].id);for(d=0,v=h.length;d<v;++d)r.onDragEnter(e,h[d].id);for(d=0,v=l.length;d<v;++d)r.b4DragOver(e,l[d].id),r.onDragOver(e,l[d].id);for(d=0,v=c.length;d<v;++d)r.b4DragDrop(e,c[d].id),r.onDragDrop(e,c[d].id
)}t&&!c.length&&r.onInvalidDrop(e)},getZIndex:function(e){var t=document.body,n,r=-1;e=Ext.getDom(e);while(e!==t)isNaN(n=Number(Ext.fly(e).getStyle("zIndex")))||(r=n),e=e.parentNode;return r},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t=null,n=e.length,r,i;if(n==1)t=e[0];else for(r=0;r<n;++r){i=e[r];if(i.cursorIsOver){t=i;break}if(!t||t.overlap.getArea()<i.overlap.getArea())t=i}return t},refreshCache:function(e){var t,n,r,i;for(t in e){if("string"!=typeof t)continue;for(n in this.ids[t])r=this.ids[t][n],this.isTypeOfDD(r)&&(i=this.getLocation(r),i?this.locationCache[r.id]=i:delete this.locationCache[r.id])}},verifyEl:function(e){if(e){var t;if(Ext.isIE)try{t=e.offsetParent}catch(n){}else t=e.offsetParent;if(t)return!0}return!1},getLocation:function(e){if(!this.isTypeOfDD(e))return null;if(e.getRegion)return e.getRegion();var t=e.getEl(),n,r,i,s,o,u,a,f,l;try{n=Ext.Element.getXY(t)}catch(c){}return n?(r=n[0],i=r+t.offsetWidth,s=n[1],o=s+t.offsetHeight,u=s-e.padding[0],a=i+e.padding[1],f=o+e.padding[2],l=r-e.padding[3],new Ext.util.Region(u,a,f,l)):null},isOverTarget:function(e,t,n){var r=this.locationCache[t.id],i,s,o,u,a;if(!r||!this.useCache)r=this.getLocation(t),this.locationCache[t.id]=r;return r?(t.cursorIsOver=r.contains(e),i=this.dragCurrent,!i||!i.getTargetCoord||!n&&!i.constrainX&&!i.constrainY?t.cursorIsOver:(t.overlap=null,s=i.getTargetCoord(e.x,e.y),o=i.getDragEl(),u=new Ext.util.Region(s.y,s.x+o.offsetWidth,s.y+o.offsetHeight,s.x),a=u.intersect(r),a?(t.overlap=a,n?!0:t.cursorIsOver):!1)):!1},_onUnload:function(e,t){Ext.dd.DragDropManager.unregAll()},unregAll:function(){this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null),this._execOnAll("unreg",[]);for(var e in this.elementCache)delete this.elementCache[e];this.elementCache={},this.ids={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];if(!t||!t.el)t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e));return t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){var t=Ext.getDom(e);return t?t.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return Ext.Element.getX(e)},getPosY:function(e){return Ext.Element.getY(e)},swapNode:function(e,t){if(e.swapNode)e.swapNode(t);else{var n=t.parentNode,r=t.nextSibling;r==e?n.insertBefore(e,t):t==e.nextSibling?n.insertBefore(t,e):(e.parentNode.replaceChild(t,e),n.insertBefore(e,r))}},getScroll:function(){var e=window.document,t=e.documentElement,n=e.body,r=0,i=0;return Ext.isGecko4?(r=window.scrollYOffset,i=window.scrollXOffset):t&&(t.scrollTop||t.scrollLeft)?(r=t.scrollTop,i=t.scrollLeft):n&&(r=n.scrollTop,i=n.scrollLeft),{top:r,left:i}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){var n=Ext.Element.getXY(t);Ext.Element.setXY(e,n)},numericSort:function(e,t){return e-t},_timeoutCount:0,_addListeners:function(){document?this._onLoad():this._timeoutCount<=2e3&&(setTimeout(this._addListeners,10),document&&document.body&&(this._timeoutCount+=1))},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;var n=e.parentNode;while(n){if(this.isHandle(t,n.id))return!0;n=n.parentNode}return!1}},function(){this._addListeners()}),Ext.define("Ext.layout.container.Box",{alias:["layout.box"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Menu","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager"],defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:undefined,stretchMaxPartner:undefined,type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" style="position:absolute;',"width:20000px;","left:0px;top:0px;",'height:1px">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var t=this,n;t.callParent(arguments),t.flexSortFn=Ext.Function.bind(t.flexSort,t),t.initOverflowHandler(),n=typeof t.padding;if(n=="string"||n=="number")t.padding=Ext.util.Format.parseBox(t.padding),t.padding.height=t.padding.top+t.padding.bottom,t.padding.width=t.padding.left+t.padding.right},getNames:function(){return this.names},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var n=this,r=n.sizePolicy,i=n.align,s=e.flex,o=i,u=n.names,a=e[u.width],f=e[u.height],l=n._percentageRe,c=l.test(a),h=i=="stretch";(h||s||c)&&!t&&(t=n.owner.getSizeModel()),h?!l.test(f)&&t[u.height].shrinkWrap&&(o="stretchmax"):i!="stretchmax"&&(l.test(f)?o="stretch":o="");if(s||c)t[u.width].shrinkWrap||(r=r.flex);return r[o]},flexSort:function(e,t){var n=this.getNames().maxWidth,r=Infinity;return e=e.target[n]||r,t=t.target[n]||r,!isFinite(e)&&!isFinite(t)?0:e-t},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},minSizeSortFn:function(e,t){return t.available-e.available},roundFlex:function(e){return Math.ceil(e)},beginCollapse:function(e){var t=this;t.direction==="vertical"&&e.collapsedVertical()?(e.collapseMemento.capture(["flex"]),delete e.flex):t.direction==="horizontal"&&e.collapsedHorizontal()&&(e.collapseMemento.capture(["flex"]),delete e.flex)},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this,n=t.owner.stretchMaxPartner,r=t.innerCt.dom.style,i=t.getNames();e.boxNames=i,t.overflowHandler.beginLayout(e),typeof n=="string"&&(n=Ext.getCmp(n)||t.owner.query(n)[0]),e.stretchMaxPartner=n&&e.context.getCmp(n),t.callParent(arguments),e.innerCtContext=e.getEl("innerCt",t),t.scrollParallel=!!t.owner.autoScroll||!!t.owner[i.overflowX],t.scrollPerpendicular=!!t.owner.autoScroll||!!t.owner[i.overflowY],t.scrollParallel&&(t.scrollPos=t.owner.getTargetEl().dom[i.scrollLeft]),r.width="",r.height=""},beginLayoutCycle:function(e,t){var n=this,r=n.align,i=e.boxNames,s=n.pack,o=i.heightModel;n.overflowHandler.beginLayoutCycle(e,t),n.callParent(arguments),e.parallelSizeModel=e[i.widthModel],e.perpendicularSizeModel=e[o],e.boxOptions={align:r={stretch:r=="stretch",stretchmax:r=="stretchmax",center:r==i.center},pack:s={center:s=="center",end:s=="end"}},r.stretch&&e.perpendicularSizeModel.shrinkWrap&&(r.stretchmax=!0,r.stretch=!1),r.nostretch=!r.stretch&&!r.stretchmax,e.parallelSizeModel.shrinkWrap&&(s.center=s.end=!1),n.cacheFlexes(e),Ext.isWebKit&&n.targetEl.setWidth(2e4)},cacheFlexes:function(e){var t=this,n=e.boxNames,r=n.widthModel,i=n.heightModel,s=e.boxOptions.align.nostretch,o=0,u=e.childItems,a=u.length,f=[],l=0,c=n.minWidth,h=t._percentageRe,p=0,d=0,v,m,g,y;while(a--)m=u[a],v=m.target,m[r].calculated&&(m.flex=g=v.flex,g?(o+=g,f.push(m),l+=v[c]||0):(y=h.exec(v[n.width]),m.percentageParallel=parseFloat(y[1])/100,++p)),s&&m[i].calculated&&(y=h.exec(v[n.height]),m.percentagePerpendicular=parseFloat(y[1])/100,++d);e.flexedItems=f,e.flexedMinSize=l,e.totalFlex=o,e.percentageWidths=p,e.percentageHeights=d,Ext.Array.sort(f,t.flexSortFn)},calculate:function(e){var t=this,n=t.getContainerSize(e),r=e.boxNames,i=e.state,s=i.boxPlan||(i.boxPlan={});s.targetSize=n;if(!e.parallelSizeModel.shrinkWrap&&!n[r.gotWidth]){t.done=!1;return}i.parallelDone||(i.parallelDone=t.calculateParallel(e,r,s)),i.perpendicularDone||(i.perpendicularDone=t.calculatePerpendicular(e,r,s)),i.parallelDone&&i.perpendicularDone?(t.owner.dock&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&!t.owner.width&&!t.horizontal&&(s.isIEVerticalDock=!0,s.calculatedWidth=s.maxSize+e.getPaddingInfo().width+e.getFrameInfo().width),t.publishInnerCtSize(e,t.reserveOffset?t.availableSpaceOffset:0),t.done&&e.childItems.length>1&&e.boxOptions.align.stretchmax&&!i.stretchMaxDone&&(t.calculateStretchMax(e,r,s),i.stretchMaxDone=!0)):t.done=!1},calculateParallel:function(e,t,n){var r=this,i=t.width,s=e.childItems,o=t.left,u=t.right,a=t.setWidth,f=s.length,l=e.flexedItems,c=l.length,h=e.boxOptions.pack,p=r.padding,d=n.targetSize[i],v=0,m=p[o],g=m+p[u]+r.scrollOffset+(r.reserveOffset?r.availableSpaceOffset:0),y=Ext.getScrollbarSize()[t.width],b,w,E,S,x,T,N,C,k,L,A;if(y&&r.scrollPerpendicular&&e.parallelSizeModel.shrinkWrap&&!e.boxOptions.align.stretch&&!e.perpendicularSizeModel.shrinkWrap){if(!e.state.perpendicularDone)return!1;k=!0}for(b=0;b<f;++b){x=s[b],w=x.marginInfo||x.getMarginInfo(),v+=w[i];if(!x[t.widthModel].calculated){L=x.getProp(i),g+=L;if(isNaN(g))return!1}}g+=v;if(e.percentageWidths){A=d-v;if(isNaN(A))return!1;for(b=0;b<f;++b)x=s[b],x.percentageParallel&&(L=Math.ceil(A*x.percentageParallel),L=x.setWidth(L),g+=L)}if(e.parallelSizeModel.shrinkWrap)n.availableSpace=0,n.tooNarrow=!1;else{n.availableSpace=d-g,n.tooNarrow=n.availableSpace<e.flexedMinSize;if(n.tooNarrow&&Ext.getScrollbarSize()[t.height]&&r.scrollParallel&&e.state.perpendicularDone){e.state.perpendicularDone=!1;for(b=0;b<f;++b)s[b].invalidate()}}C=g,E=n.availableSpace,S=e.totalFlex;for(b=0;b<c;b++)x=l[b],T=x.flex,N=r.roundFlex(T/S*E),N=x[a](N),C+=N,E=Math.max(0,E-N),S-=T;h.center?(m+=E/2,m<0&&(m=0)):h.end&&(m+=E);for(b=0;b<f;++b)x=s[b],w=x.marginInfo,m+=w[o],x.setProp(t.x,m),m+=w[u]+x.props[i];return C+=e.targetContext.getPaddingInfo()[i],e.state.contentWidth=C,k&&e.peek(t.contentHeight)>n.targetSize[t.height]&&(C+=y,e[t.hasOverflowY]=!0,e.target.componentLayout[t.setWidthInDom]=!0,e[t.invalidateScrollY]=Ext.isStrict&&Ext.isIE8),e[t.setContentWidth](C),!0},calculatePerpendicular:function(e,t,n){var r=this,i=e.perpendicularSizeModel.shrinkWrap,s=n.targetSize,o=e.childItems,u=o.length,a=Math.max,f=t.height,l=t.setHeight,c=t.top,h=t.y,p=r.padding,d=p[c],v=s[f]-d-p[t.bottom],m=e.boxOptions.align,g=m.stretch,y=m.stretchmax,b=m.center,w=0,E=0,S=Ext.getScrollbarSize().height,x,T,N,C,k,L,A,O,M,_,D;if(g||b&&!i)if(isNaN(v))return!1;r.scrollParallel&&n.tooNarrow&&(i?_=!0:(v-=S,n.targetSize[f]-=S));if(g)L=v;else{for(T=0;T<u;T++){A=o[T],C=(A.marginInfo||A.getMarginInfo())[f];if(!(D=A.percentagePerpendicular))N=A.getProp(f);else{++E;if(i)continue;N=D*v-C,N=A[t.setHeight](N)}if(isNaN(w=a(w,N+C,A.target[t.minHeight]||0)))return!1}_&&(w+=S,e[t.hasOverflowX]=!0,e.target.componentLayout[t.setHeightInDom]=!0,e[t.invalidateScrollX]=Ext.isStrict&&Ext.isIE8),O=e.stretchMaxPartner;if(O){e.setProp("maxChildHeight",w),M=O.childItems;if(M&&M.length){w=a(w,O.getProp("maxChildHeight"));if(isNaN(w))return!1}}e[t.setContentHeight](w+r.padding[f]+e.targetContext.getPaddingInfo()[f]),_&&(w-=S),n.maxSize=w;if(y)L=w;else if(b||E)L=i?w:a(v,w),L-=e.innerCtContext.getBorderInfo()[f]}for(T=0;T<u;T++)A=o[T],C=A.marginInfo||A.getMarginInfo(),x=d+C[c],g?A[l](L-C[f]):(D=A.percentagePerpendicular,i&&D&&(C=A.marginInfo||A.getMarginInfo(),N=D*L-C[f],N=A.setHeight(N)),b&&(k=L-A.props[f],k>0&&(x=d+Math.round(k/2)))),A.setProp(h,x);return!0},calculateStretchMax:function(e,t,n){var r=this,i=t.height,s=t.width,o=e.childItems,u=o.length,a=n.maxSize,f=r.onBeforeInvalidateChild,l=r.onAfterInvalidateChild,c,h,p,d;for(p=0;p<u;++p)c=o[p],h=c.props,d=a-c.getMarginInfo()[i],(d!=h[i]||c[t.heightModel].constrained)&&c.invalidate({before:f,after:l,layout:r,childWidth:h[s],childHeight:d,childX:h.x,childY:h.y,names:t})},completeLayout:function(e){var t=this,n=e.boxNames,r=e.invalidateScrollX,i=e.invalidateScrollY,s,o,u,a,f;t.overflowHandler.completeLayout(e);if(r||i){o=t.getTarget(),s=o.dom,f=s.style,r&&(u=o.getStyle("overflowX"),u=="auto"?(u=f.overflowX,f.overflowX="scroll"):r=!1),i&&(a=o.getStyle("overflowY"),a=="auto"?(a=f.overflowY,f.overflowY="scroll"):i=!1);if(r||i)s.scrollWidth,r&&(f.overflowX=u),i&&(f.overflowY=a)}t.scrollParallel&&(t.owner.getTargetEl().dom[n.scrollLeft]=t.scrollPos)},finishedLayout:function(e){this.overflowHandler.finishedLayout(e),this.callParent(arguments),Ext.isWebKit&&this.targetEl.setWidth(e.innerCtContext.props.width)},onBeforeInvalidateChild:function(e,t){var n=t.names.heightModel;e[n].constrainedMax||(e[n]=Ext.layout.SizeModel.calculated)},onAfterInvalidateChild:function(e,t){var n=t.names,r=Ext.getScrollbarSize(),i=t.childHeight,s=t.childWidth;e.setProp("x",t.childX),e.setProp("y",t.childY),e[n.heightModel].calculated&&e[n.setHeight](i),e[n.widthModel].calculated&&e[n.setWidth](s)},publishInnerCtSize:function(e,t){var n=this,r=e.boxNames,i=r.height,s=r.width,o=e.boxOptions.align,u=n.owner.dock,a=n.padding,f=e.state.boxPlan,l=f.targetSize,c=l[i],h=e.innerCtContext,p=(e.parallelSizeModel.shrinkWrap||f.tooNarrow&&n.scrollParallel?e.state.contentWidth:l[s])-(t||0),d;o.stretch?d=c:(d=f.maxSize+a[r.top]+a[r.bottom]+h.getBorderInfo()[i],!e.perpendicularSizeModel.shrinkWrap&&o.center&&(d=Math.max(c,d))),h[r.setWidth](p),h[r.setHeight](d),isNaN(p+d)&&(n.done=!1),f.calculatedWidth&&(u=="left"||u=="right")&&e.setWidth(f.calculatedWidth,!0,!0)},onRemove:function(e){var t=this;t.callParent(arguments),t.overflowHandler&&t.overflowHandler.onRemove(e),e.layoutMarginCap==t.id&&delete e.layoutMarginCap},initOverflowHandler:function(){var e=this,t=e.overflowHandler,n,r;typeof t=="string"&&(t={type:t}),n="None",t&&t.type!==undefined&&(n=t.type),r=Ext.layout.container.boxOverflow[n],r[e.type]&&(r=r[e.type]),e.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+n,e,t)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.callParent(arguments)}}),Ext.define("Ext.layout.container.HBox",{alias:["layout.hbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.HBoxLayout",align:"top",type:"hbox",direction:"horizontal",horizontal:!0,names:{lr:"lr",left:"left",leftCap:"Left",right:"right",position:"left",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",center:"middle",top:"top",topPosition:"top",bottom:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",scrollTop:"scrollTop",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom"},sizePolicy:{flex:{"":{setsWidth:1,setsHeight:0},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:0,setsHeight:1},stretchmax:{readsHeight:1,setsWidth:0,setsHeight:1}}}),Ext.define("Ext.layout.container.VBox",{alias:["layout.vbox"],extend:"Ext.layout.container.Box",alternateClassName:"Ext.layout.VBoxLayout",align:"left",type:"vbox",direction:"vertical",horizontal:!1,names:{lr:"tb",left:"top",leftCap:"Top",right:"bottom",position:"top",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",center:"center",top:"left",topPosition:"left",bottom:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",scrollTop:"scrollLeft",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom"},sizePolicy:{flex:{"":{setsWidth:0,setsHeight:1},stretch:{setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:1}},"":{setsWidth:0,setsHeight:0},stretch:{setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,setsWidth:1,setsHeight:0}}}),Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this,t;!e.layout&&e.enableOverflow&&(e.layout={overflowHandler:"Menu"});if(e.dock==="right"||e.dock==="left")e.vertical=!0;e.layout=Ext.applyIf(Ext.isString(e.layout)?{type:e.layout}:e.layout||{},{type:e.vertical?"vbox":"hbox",align:e.vertical?"stretchmax":"middle"}),e.vertical&&e.addClsWithUI("vertical"),e.ui==="footer"&&(e.ignoreBorderManagement=!0),e.callParent(),e.addEvents("overflowchange")},getRefItems:function(e){var t=this,n=t.callParent(arguments),r=t.layout,i;return e&&t.enableOverflow&&(i=r.overflowHandler,i&&i.menu&&(n=n.concat(i.menu.getRefItems(e)))),n},lookupComponent:function(e){if(typeof e=="string"){var t=Ext.toolbar.Toolbar,n=t.shortcutsHV[this.vertical?1:0][e]||t.shortcuts[e];typeof n=="string"?e={xtype:n}:n?e=Ext.apply({},n):e={xtype:"tbtext",text:e},this.applyDefaults(e)}return this.callParent(arguments)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},trackMenu:function(e,t){if(this.trackMenus&&e.menu){var n=t?"mun":"mon",r=this;r[n](e,"mouseover",r.onButtonOver,r),r[n](e,"menushow",r.onButtonMenuShow,r),r[n](e,"menuhide",r.onButtonMenuHide,r)}},constructButton:function(e){return e.events?e:Ext.widget(e.split?"splitbutton":this.defaultType,e)},onBeforeAdd:function(e){if(e.is("field")||e.is("button")&&this.ui!="footer")e.ui=e.ui+"-toolbar";e instanceof Ext.toolbar.Separator&&e.setUI(this.vertical?"vertical":"horizontal"),this.callParent(arguments)},onAdd:function(e){this.callParent(arguments),this.trackMenu(e)},onRemove:function(e){this.callParent(arguments),this.trackMenu(e,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e){this.activeMenuBtn&&this.activeMenuBtn!=e&&(this.activeMenuBtn.hideMenu(),e.showMenu(),this.activeMenuBtn=e)},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(e){delete this.activeMenuBtn}}),Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},addDocked:function(e,t){var n=this,r=0,i,s;e=n.prepareItems(e),s=e.length;for(;r<s;r++)i=e[r],i.dock=i.dock||"top",t!==undefined?n.dockedItems.insert(t+r,i):n.dockedItems.add(i),i.onAdded!==Ext.emptyFn&&i.onAdded(n,r),n.onDockedAdd!==Ext.emptyFn&&n.onDockedAdd(i);return n.rendered&&!n.suspendLayout&&n.updateLayout(),e},destroyDockedItems:function(){var e=this.dockedItems,t;if(e)while(t=e.first())this.removeDocked(t,!0)},doRenderDockedItems:function(e,t,n){var r=t.$comp,i=r.componentLayout,s,o;i.getDockedItems&&!t.$skipDockedItems&&(s=i.getDockedItems("render",!n),o=s&&i.getItemsRenderTree(s),o&&Ext.DomHelper.generateMarkup(o,e))},getDockedComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.dockedItems.get(e)},getDockedItems:function(e,t){var n=this.getComponentLayout().getDockedItems("render",t);return e&&n.length&&(n=Ext.ComponentQuery.query(e,n)),n},getDockingRefItems:function(e,t){var n=e&&"*,* *",r=this.getDockedItems(n,!0),i;return r.push.apply(r,t),i=this.getDockedItems(n,!1),r.push.apply(r,i),r},initDockingItems:function(){var e=this,t=e.dockedItems;e.dockedItems=new Ext.util.AbstractMixedCollection(!1,e.getComponentId),t&&e.addDocked(t)},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var n=this,r,i;return n.dockedItems.contains(e)?(r=n.componentLayout,i=r&&n.rendered,i&&r.onRemove(e),n.dockedItems.remove(e),e.onRemoved(),n.onDockedRemove(e),t===!0||t!==!1&&n.autoDestroy?e.destroy():i&&r.afterRemove(e),!n.destroying&&!n.suspendLayout&&n.updateLayout(),e):e},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.panel.AbstractPanel",{extend:"Ext.container.Container",mixins:{docking:"Ext.container.DockingContainer"},requires:["Ext.util.MixedCollection","Ext.Element","Ext.toolbar.Toolbar"],baseCls:Ext.baseCSSPrefix+"panel",isPanel:!0,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",Ext.isIE6||Ext.isIE7||Ext.isIEQuirks?"<div></div>":"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:!0,emptyArray:[],initComponent:function(){var e=this;e.frame&&e.border&&e.bodyBorder===undefined&&(e.bodyBorder=!1),e.frame&&e.border&&(e.bodyBorder===!1||e.bodyBorder===0)&&(e.manageBodyBorders=!0),e.callParent()},beforeDestroy:function(){this.destroyDockedItems(),this.callParent()},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var e=this,t=e.callParent();return e.initBodyStyles(),e.protoBody.writeTo(t),delete e.protoBody,t},getComponent:function(e){var t=this.callParent(arguments);return t===undefined&&!Ext.isNumber(e)&&(t=this.getDockedComponent(e)),t},getProtoBody:function(){var e=this,t=e.protoBody;return t||(e.protoBody=t=new Ext.util.ProtoElement({cls:e.bodyCls,style:e.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),t},initBodyStyles:function(){var e=this,t=e.getProtoBody(),n=Ext.Element;e.bodyPadding!==undefined&&t.setStyle("padding",n.unitizeBox(e.bodyPadding===!0?5:e.bodyPadding)),e.frame&&e.bodyBorder&&(Ext.isNumber(e.bodyBorder)||(e.bodyBorder=1),t.setStyle("border-width",n.unitizeBox(e.bodyBorder)))},getCollapsedDockedItems:function(){var e=this;return e.collapseMode=="placeholder"?e.emptyArray:[e.getReExpander()]},setBodyStyle:function(e,t){var n=this,r=n.rendered?n.body:n.getProtoBody();return Ext.isFunction(e)&&(e=e()),arguments.length==1?(Ext.isString(e)&&(e=Ext.Element.parseStyles(e)),r.setStyle(e)):r.setStyle(e,t),n},addBodyCls:function(e){var t=this,n=t.rendered?t.body:t.getProtoBody();return n.addCls(e),t},removeBodyCls:function(e){var t=this,n=t.rendered?t.body:t.getProtoBody();return n.removeCls(e),t},addUIClsToElement:function(e){var t=this,n=t.callParent(arguments);return t.addBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},removeUIClsFromElement:function(e){var t=this,n=t.callParent(arguments);return t.removeBodyCls([Ext.baseCSSPrefix+e,t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e]),n},addUIToElement:function(){var e=this;e.callParent(arguments),e.addBodyCls(e.baseCls+"-body-"+e.ui)},removeUIFromElement:function(){var e=this;e.callParent(arguments),e.removeBodyCls(e.baseCls+"-body-"+e.ui)},getTargetEl:function(){return this.body},getRefItems:function(e){var t=this.callParent(arguments);return this.getDockingRefItems(e,t)},setupRenderTpl:function(e){this.callParent(arguments),this.setupDockingRenderTpl(e)}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(e){this.callParent(arguments),e.bodyContext=e.getEl("body")},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments);return e.targetContext!=e&&(n+=e.getPaddingInfo().height),n},calculateOwnerWidthFromContentWidth:function(e,t){var n=this.callParent(arguments);return e.targetContext!=e&&(n+=e.getPaddingInfo().width),n},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(e,t){var n=t-e.getFrameInfo().height,r=e.targetContext;return r!=e&&(n-=e.getPaddingInfo().height),e.bodyContext.setHeight(n,!e.heightModel.natural)},publishInnerWidth:function(e,t){var n=t-e.getFrameInfo().width,r=e.targetContext;r!=e&&(n-=e.getPaddingInfo().width),e.bodyContext.setWidth(n,!e.widthModel.natural)}}),Ext.define("Ext.panel.Header",{extend:"Ext.container.Container",uses:["Ext.panel.Tool","Ext.draw.Component","Ext.util.CSS","Ext.layout.component.Body","Ext.Img"],alias:"widget.header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,componentLayout:"body",titleAlign:"left",childEls:["body"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:'<span id="{id}-textEl" class="{cls}-text {cls}-text-{ui}">{title}</span>',shrinkWrap:3,initComponent:function(){var e=this,t,n,r,i,s;e.addEvents("click","dblclick"),e.indicateDragCls=e.baseCls+"-draggable",e.title=e.title||"&#160;",e.tools=e.tools||[],e.items=e.items||[],e.orientation=e.orientation||"horizontal",e.dock=e.dock?e.dock:e.orientation=="horizontal"?"top":"left",e.addClsWithUI([e.orientation,e.dock]),e.indicateDrag&&e.addCls(e.indicateDragCls);if(!Ext.isEmpty(e.iconCls)||!Ext.isEmpty(e.icon))e.initIconCmp(),e.items.push(e.iconCmp);e.orientation=="vertical"?(e.layout={type:"vbox",align:"center"},e.textConfig={width:16,cls:e.baseCls+"-text",type:"text",text:e.title,rotate:{degrees:90}},i=e.ui,Ext.isArray(i)&&(i=i[0]),t="."+e.baseCls+"-text-"+i,Ext.scopeResetCSS&&(t="."+Ext.baseCSSPrefix+"reset "+t),n=Ext.util.CSS.getRule(t),n?r=n.style:(r=(s=Ext.resetElement.createChild({style:"position:absolute",cls:e.baseCls+"-text-"+i})).getStyles("fontFamily","fontWeight","fontSize","color"),s.remove()),r&&Ext.apply(e.textConfig,{"font-family":r.fontFamily,"font-weight":r.fontWeight,"font-size":r.fontSize,fill:r.color}),e.titleCmp=new Ext.draw.Component({width:16,ariaRole:"heading",focusable:!1,viewBox:!1,flex:1,id:e.id+"_hd",autoSize:!0,items:e.textConfig,xhooks:{setSize:function(e){this.callParent([e])}},childEls:[{name:"textEl",select:"."+e.baseCls+"-text"}]})):(e.layout={type:"hbox",align:"middle"},e.titleCmp=new Ext.Component({ariaRole:"heading",focusable:!1,noWrap:!0,flex:1,id:e.id+"_hd",style:"text-align:"+e.titleAlign,cls:e.baseCls+"-text-container",renderTpl:e.getTpl("headingTpl"),renderData:{title:e.title,cls:e.baseCls,ui:e.ui},childEls:["textEl"]})),e.items.push(e.titleCmp),e.items=e.items.concat(e.tools),e.callParent(),e.on({dblclick:e.onDblClick,click:e.onClick,element:"el",scope:e})},initIconCmp:function(){var e=this,t={focusable:!1,src:Ext.BLANK_IMAGE_URL,cls:[e.baseCls+"-icon",e.iconCls],id:e.id+"-iconEl",iconCls:e.iconCls};Ext.isEmpty(e.icon)||(delete t.iconCls,t.src=e.icon),e.iconCmp=new Ext.Img(t)},afterRender:function(){this.el.unselectable(),this.callParent()},addUIClsToElement:function(e){var t=this,n=t.callParent(arguments),r=[t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e],i,s;if(t.bodyCls){i=t.bodyCls.split(" ");for(s=0;s<r.length;s++)Ext.Array.contains(i,r[s])||i.push(r[s]);t.bodyCls=i.join(" ")}else t.bodyCls=r.join(" ");return n},removeUIClsFromElement:function(e){var t=this,n=t.callParent(arguments),r=[t.baseCls+"-body-"+e,t.baseCls+"-body-"+t.ui+"-"+e],i,s;if(t.bodyCls){i=t.bodyCls.split(" ");for(s=0;s<r.length;s++)Ext.Array.remove(i,r[s]);t.bodyCls=i.join(" ")}return n},addUIToElement:function(){var e=this,t,n;e.callParent(arguments),n=e.baseCls+"-body-"+e.ui,e.rendered?e.bodyCls?e.body.addCls(e.bodyCls):e.body.addCls(n):e.bodyCls?(t=e.bodyCls.split(" "),Ext.Array.contains(t,n)||t.push(n),e.bodyCls=t.join(" ")):e.bodyCls=n,e.titleCmp&&e.titleCmp.rendered&&e.titleCmp.textEl&&e.titleCmp.textEl.addCls(e.baseCls+"-text-"+e.ui)},removeUIFromElement:function(){var e=this,t,n;e.callParent(arguments),n=e.baseCls+"-body-"+e.ui,e.rendered?e.bodyCls?e.body.removeCls(e.bodyCls):e.body.removeCls(n):e.bodyCls?(t=e.bodyCls.split(" "),Ext.Array.remove(t,n),e.bodyCls=t.join(" ")):e.bodyCls=n,e.titleCmp&&e.titleCmp.rendered&&e.titleCmp.textEl&&e.titleCmp.textEl.removeCls(e.baseCls+"-text-"+e.ui)},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},fireClickEvent:function(e,t){var n="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(n)||this.fireEvent(e,this,t)},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},setTitle:function(e){var t=this,n,r;t.rendered?t.titleCmp.rendered?(t.titleCmp.surface?(t.title=e||"",n=t.titleCmp.surface.items.items[0],r=t.titleCmp.surface,r.remove(n),t.textConfig.type="text",t.textConfig.text=e,n=r.add(t.textConfig),n.setAttributes({rotate:{degrees:90}},!0),t.titleCmp.autoSizeSurface()):(t.title=e,t.titleCmp.textEl.update(t.title||"&#160;")),t.titleCmp.updateLayout()):t.titleCmp.on({render:function(){t.setTitle(e)},single:!0}):t.title=e},getMinWidth:function(){var e=this,t=e.titleCmp.textEl.dom,n,r=e.tools,i,s;t.style.display="inline",n=t.offsetWidth,t.style.display="";if(r&&(i=r.length))for(s=0;s<i;s++)r[s].el&&(n+=r[s].el.dom.offsetWidth);return e.iconCmp&&(n+=e.iconCmp.el.dom.offsetWidth),n+10},setIconCls:function(e){var t=this,n=!e||!e.length,r=t.iconCmp;t.iconCls=e,!t.iconCmp&&!n?(t.initIconCmp(),t.insert(0,t.iconCmp)):r&&(n?(t.iconCmp.destroy(),delete t.iconCmp):(r.removeCls(r.iconCls),r.addCls(e),r.iconCls=e))},setIcon:function(e){var t=this,n=!e||!e.length,r=t.iconCmp;t.icon=e,!t.iconCmp&&!n?(t.initIconCmp(),t.insert(0,t.iconCmp)):r&&(n?(t.iconCmp.destroy(),delete t.iconCmp):r.setSrc(t.icon))},addTool:function(e){this.tools.push(this.add(e))},onAdd:function(e,t){this.callParent(arguments),e instanceof Ext.panel.Tool&&(e.bindTo(this.ownerCt),this.tools[e.type]=e)},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls})}}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(e){this.target=e,this.id=this.getId()},getId:function(){return this.target.id}}),Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(e,t,n){return n==undefined&&(t==="x"?n=e.getX():t==="y"?n=e.getY():t==="scrollTop"?n=e.getScroll().top:t==="scrollLeft"?n=e.getScroll().left:t==="height"?n=e.getHeight():t==="width"?n=e.getWidth():n=e.getStyle(t)),n},getAttr:function(e,t){var n=this.target;return[[n,this.getElVal(n,e,t)]]},setAttr:function(e){var t=this.target,n=e.length,r,i,s,o,u,a,f,l;for(o=0;o<n;o++){r=e[o].attrs;for(i in r)if(r.hasOwnProperty(i)){a=r[i].length;for(u=0;u<a;u++)s=r[i][u],f=s[0],l=s[1],i==="x"?f.setX(l):i==="y"?f.setY(l):i==="scrollTop"?f.scrollTo("top",l):i==="scrollLeft"?f.scrollTo("left",l):i==="width"?f.setWidth(l):i==="height"?f.setHeight(l):f.setStyle(i,l)}}}}),Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(e,t){var n={attrs:[],duration:[],easing:[]},r=e.length,i,s,o,u,a,f,l,c,h;for(l=0;l<r;l++){s=e[l],a=s.duration,u=s.easing,s=s.attrs;for(o in s)Ext.Array.indexOf(n.attrs,o)==-1&&(n.attrs.push(o.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})),n.duration.push(a+"ms"),n.easing.push(u))}i=n.attrs.join(","),a=n.duration.join(","),u=n.easing.join(", ");for(l=0;l<r;l++){s=e[l].attrs;for(o in s){h=s[o].length;for(c=0;c<h;c++)f=s[o][c],f[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":i),f[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":a),f[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":u),f[0].setStyle(o,f[1]),t?f=f[0].dom.offsetWidth:f[0].on(Ext.supports.CSS3TransitionEnd,function(
){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},f[0],{single:!0})}}}}),Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:!0,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-"),this.callParent([e])},getAttr:function(e,t){var n=[],r=this.target.elements,i=r.length,s,o;for(s=0;s<i;s++)o=r[s],o&&(o=this.target.getElement(o),n.push([o,this.getElVal(o,e,t)]));return n}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(e,t){var n;switch(t){case"rotate":case"rotation":return n=e.attr.rotation,{x:n.x||0,y:n.y||0,degrees:n.degrees||0};case"scale":case"scaling":return n=e.attr.scaling,{x:n.x||1,y:n.y||1,cx:n.cx||0,cy:n.cy||0};case"translate":case"translation":return n=e.attr.translation,{x:n.x||0,y:n.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,t!=undefined?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){var t=e.length,n=[],r,i,s,o,u,a,f,l,c,h,p,d;for(l=0;l<t;l++){r=e[l].attrs;for(i in r){s=r[i],d=s.length;for(c=0;c<d;c++)u=s[c][0],o=s[c][1],i==="translate"||i==="translation"?f={x:o.x,y:o.y}:i==="rotate"||i==="rotation"?(h=o.x,isNaN(h)&&(h=null),p=o.y,isNaN(p)&&(p=null),f={degrees:o.degrees,x:h,y:p}):i==="scale"||i==="scaling"?(h=o.x,isNaN(h)&&(h=null),p=o.y,isNaN(p)&&(p=null),f={x:h,y:p,cx:o.cx,cy:o.cy}):i==="width"||i==="height"||i==="x"||i==="y"?f=parseFloat(o):f=o,a=Ext.Array.indexOf(n,u),a==-1&&(n.push([u,{}]),a=n.length-1),n[a][1][i]=f}}t=n.length;for(l=0;l<t;l++)n[l][0].setAttributes(n[l][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(e,t){var n=[],r=[].concat(this.target.items),i=r.length,s,o;for(s=0;s<i;s++)o=r[s],n.push([o,t!=undefined?t:this.getFromPrim(o,e)]);return n}}),Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},compMethod:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,t!==undefined?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,n){var r=this,i=r.target,s=e.length,o,u,a,f,l,c,h,p,d,v,m;for(f=0;f<s;f++){o=e[f].attrs;for(u in o){h=o[u].length,c={setPosition:{},setPagePosition:{},setSize:{},setOpacity:{}};for(l=0;l<h;l++)a=o[u][l],c[r.compMethod[u]].target=a[0],c[r.compMethod[u]][u]=a[1];c.setPosition.target&&(a=c.setPosition,p=a.left===undefined?undefined:parseFloat(a.left),d=a.top===undefined?undefined:parseFloat(a.top),a.target.setPosition(p,d)),c.setPagePosition.target&&(a=c.setPagePosition,a.target.setPagePosition(a.x,a.y)),c.setSize.target&&(a=c.setSize,v=a.width===undefined?a.target.getWidth():parseFloat(a.width),m=a.height===undefined?a.target.getHeight():parseFloat(a.height),n||r.dynamic?a.target.setSize(v,m):a.target.el.setSize(v,m)),c.setOpacity.target&&(a=c.setOpacity,a.target.el.setStyle("opacity",a.opacity))}}}}),Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(e){var t=this.targets.get(e);return t?t.fxDefaults:{}},setFxDefaults:function(e,t){var n=this.targets.get(e);n&&(n.fxDefaults=Ext.apply(n.fxDefaults||{},t))},stopAnimation:function(e){var t=this,n=t.getFxQueue(e),r=n.length;while(r)n[r-1].end(),r--},getActiveAnimation:function(e){var t=this.getFxQueue(e);return t&&!!t.length?t[0]:!1},hasFxBlock:function(e){var t=this.getFxQueue(e);return t&&t[0]&&t[0].block},getFxQueue:function(e){if(!e)return!1;var t=this,n=t.fxQueue[e],r=t.targets.get(e);return r?(n||(t.fxQueue[e]=[],r.type!="element"&&r.target.on("destroy",function(){t.fxQueue[e]=[]})),t.fxQueue[e]):!1},queueFx:function(e){var t=this,n=e.target,r,i;if(!n)return;r=t.getFxQueue(n.getId()),i=r.length,i?e.concurrent?e.paused=!1:r[i-1].on("afteranimate",function(){e.paused=!1}):e.paused=!1,e.on("afteranimate",function(){Ext.Array.remove(r,e);if(e.remove&&n.type=="element"){var t=Ext.get(n.id);t&&t.remove()}},this),r.push(e)}}),Ext.define("Ext.fx.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){this.items=new Ext.util.MixedCollection,this.mixins.queue.constructor.call(this)},interval:16,forceJS:!0,createTarget:function(e){var t=this,n=!t.forceJS&&Ext.supports.Transitions,r;t.useCSS3=n;if(e){if(e.tagName||Ext.isString(e)||e.isFly)e=Ext.get(e),r=new Ext.fx.target["Element"+(n?"CSS":"")](e);else if(e.dom)r=new Ext.fx.target["Element"+(n?"CSS":"")](e);else if(e.isComposite)r=new Ext.fx.target["CompositeElement"+(n?"CSS":"")](e);else if(e.isSprite)r=new Ext.fx.target.Sprite(e);else if(e.isCompositeSprite)r=new Ext.fx.target.CompositeSprite(e);else{if(!e.isComponent)return e.isAnimTarget?e:null;r=new Ext.fx.target.Component(e)}return t.targets.add(r),r}return null},addAnim:function(e){var t=this.items,n=this.task;t.add(e.id,e),!n&&t.length&&(n=this.task={run:this.runner,interval:this.interval,scope:this},Ext.TaskManager.start(n))},removeAnim:function(e){var t=this,n=t.items,r=t.task;n.removeAtKey(e.id),r&&!n.length&&(Ext.TaskManager.stop(r),delete t.task)},runner:function(){var e=this,t=e.items.getRange(),n=0,r=t.length,i;e.targetArr={},e.timestamp=new Date;for(;n<r;n++)i=t[n],i.isReady()&&e.startAnim(i);for(n=0;n<r;n++)i=t[n],i.isRunning()&&e.runAnim(i);e.applyPendingAttrs()},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e){if(!e)return;var t=this,n=e.target.getId(),r=t.useCSS3&&e.target.type=="element",i=t.timestamp-e.startTime,s=i>=e.duration,o,u;o=this.collectTargetData(e,i,r,s),r&&(e.target.setAttr(o.anims[e.id].attributes,!0),t.collectTargetData(e,e.duration,r,s),e.paused=!0,o=e.target.target,e.target.isComposite&&(o=e.target.target.last()),u={},u[Ext.supports.CSS3TransitionEnd]=e.lastFrame,u.scope=e,u.single=!0,o.on(u))},collectTargetData:function(e,t,n,r){var i=e.target.getId(),s=this.targetArr[i];return s||(s=this.targetArr[i]={id:i,el:e.target,anims:{}}),s.anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:r,attributes:[{duration:e.duration,easing:n&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]},s},applyPendingAttrs:function(){var e=this.targetArr,t,n,r,i,s;for(n in e)if(e.hasOwnProperty(n)){t=e[n];for(s in t.anims)t.anims.hasOwnProperty(s)&&(r=t.anims[s],i=r.anim,r.attributes&&i.isRunning()&&(t.el.setAttr(r.attributes,!1,r.isLastFrame),r.isLastFrame&&i.lastFrame()))}}}),Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){var t=this;e=Ext.apply(t,e||{}),t.config=e,t.id=Ext.id(null,"ext-animator-"),t.addEvents("beforeanimate","keyframe","afteranimate"),t.mixins.observable.constructor.call(t,e),t.timeline=[],t.createTimeline(t.keyframes),t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t=this,n=[],r=t.to||{},i=t.duration,s,o,u,a,f,l,c,h;for(f in e)e.hasOwnProperty(f)&&t.animKeyFramesRE.test(f)&&(h={attrs:Ext.apply(e[f],r)},f=="from"?f=0:f=="to"&&(f=100),h.pct=parseInt(f,10),n.push(h));Ext.Array.sort(n,t.sorter),a=n.length;for(u=0;u<a;u++)s=n[u-1]?i*(n[u-1].pct/100):0,o=i*(n[u].pct/100),t.timeline.push({duration:o-s,attrs:n[u].attrs})},applyAnimator:function(e){var t=this,n=[],r=t.timeline,i=t.reverse,s=r.length,o,u,a,f,l,c,h;if(t.fireEvent("beforeanimate",t)!==!1){for(h=0;h<s;h++)o=r[h],l=o.attrs,u=l.easing||t.easing,a=l.damper||t.damper,delete l.easing,delete l.damper,o=new Ext.fx.Anim({target:e,easing:u,damper:a,duration:o.duration,paused:!0,to:l}),n.push(o);t.animations=n,t.target=o.target;for(h=0;h<s-1;h++)o=n[h],o.nextAnim=n[h+1],o.on("afteranimate",function(){this.nextAnim.paused=!1}),o.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},t);n[s-1].on("afteranimate",function(){this.lastFrame()},t)}},start:function(e){var t=this,n=t.delay,r=t.delayStart,i;if(n){if(!r){t.delayStart=e;return}i=e-r;if(i<n)return;e=new Date(r.getTime()+n)}t.fireEvent("beforeanimate",t)!==!1&&(t.startTime=e,t.running=!0,t.animations[t.keyframeStep].paused=!1)},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;n++,n<t?(e.startTime=new Date,e.currentIteration=n,e.keyframeStep=0,e.applyAnimator(e.target),e.animations[e.keyframeStep].paused=!1):(e.currentIteration=0,e.end())},end:function(){var e=this;e.fireEvent("afteranimate",e,e.startTime,new Date-e.startTime)},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(e,t,n,r,i,s){function h(e){return((a*e+u)*e+o)*e}function p(e,t){var n=d(e,t);return((c*n+l)*n+f)*n}function d(e,t){var n,r,i,s,f,l;for(i=e,l=0;l<8;l++){s=h(i)-e;if(Math.abs(s)<t)return i;f=(3*a*i+2*u)*i+o;if(Math.abs(f)<1e-6)break;i-=s/f}n=0,r=1,i=e;if(i<n)return n;if(i>r)return r;while(n<r){s=h(i);if(Math.abs(s-e)<t)return i;e>s?n=i:r=i,i=(r-n)/2+n}return i}var o=3*t,u=3*(r-t)-o,a=1-o-u,f=3*n,l=3*(i-n)-f,c=1-f-l;return p(e,1/(200*s))},cubicBezier:function(e,t,n,r){var i=function(i){return Ext.fx.CubicBezier.cubicBezierAtTime(i,e,t,n,r,1)};return i.toCSS3=function(){return"cubic-bezier("+[e,t,n,r].join(",")+")"},i.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-n,1-r,1-e,1-t)},i}}),Ext.ns("Ext.fx"),Ext.require("Ext.fx.CubicBezier",function(){var e=Math,t=e.PI,n=e.pow,r=e.sin,i=e.sqrt,s=e.abs,o=1.70158;Ext.fx.Easing={},Ext.apply(Ext.fx.Easing,{linear:function(e){return e},ease:function(e){var t=.07813-e/2,r=-0.25,o=i(.0066+t*t),u=o-t,a=n(s(u),1/3)*(u<0?-1:1),f=-o-t,l=n(s(f),1/3)*(f<0?-1:1),c=a+l+.25;return n(1-c,2)*3*c*.1+(1-c)*3*c*c+c*c*c},easeIn:function(e){return n(e,1.7)},easeOut:function(e){return n(e,.48)},easeInOut:function(e){var t=.48-e/1.04,r=i(.1734+t*t),o=r-t,u=n(s(o),1/3)*(o<0?-1:1),a=-r-t,f=n(s(a),1/3)*(a<0?-1:1),l=u+f+.5;return(1-l)*3*l*l+l*l*l},backIn:function(e){return e*e*((o+1)*e-o)},backOut:function(e){return e-=1,e*e*((o+1)*e+o)+1},elasticIn:function(e){if(e===0||e===1)return e;var i=.3,s=i/4;return n(2,-10*e)*r((e-s)*2*t/i)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625,n=2.75,r;return e<1/n?r=t*e*e:e<2/n?(e-=1.5/n,r=t*e*e+.75):e<2.5/n?(e-=2.25/n,r=t*e*e+.9375):(e-=2.625/n,r=t*e*e+.984375),r}}),Ext.apply(Ext.fx.Easing,{"back-in":Ext.fx.Easing.backIn,"back-out":Ext.fx.Easing.backOut,"ease-in":Ext.fx.Easing.easeIn,"ease-out":Ext.fx.Easing.easeOut,"elastic-in":Ext.fx.Easing.elasticIn,"elastic-out":Ext.fx.Easing.elasticIn,"bounce-in":Ext.fx.Easing.bounceIn,"bounce-out":Ext.fx.Easing.bounceOut,"ease-in-out":Ext.fx.Easing.easeInOut})}),Ext.define("Ext.draw.Color",{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:.2,constructor:function(e,t,n){var r=this,i=Ext.Number.constrain;r.r=i(e,0,255),r.g=i(t,0,255),r.b=i(n,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var e=this;return[e.r,e.g,e.b]},getHSL:function(){var e=this,t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s,u,a=0,f=.5*(i+s);return s!=i&&(a=f<.5?o/(i+s):o/(2-i-s),t==i?u=60*(n-r)/o:n==i?u=120+60*(r-t)/o:u=240+60*(t-n)/o,u<0&&(u+=360),u>=360&&(u-=360)),[u,a,f]},getLighter:function(e){var t=this.getHSL();return e=e||this.lightnessFactor,t[2]=Ext.Number.constrain(t[2]+e,0,1),this.fromHSL(t[0],t[1],t[2])},getDarker:function(e){return e=e||this.lightnessFactor,this.getLighter(-e)},toString:function(){var e=this,t=Math.round,n=t(e.r).toString(16),r=t(e.g).toString(16),i=t(e.b).toString(16);return n=n.length==1?"0"+n:n,r=r.length==1?"0"+r:r,i=i.length==1?"0"+i:i,["#",n,r,i].join("")},toHex:function(e){Ext.isArray(e)&&(e=e[0]);if(!Ext.isString(e))return"";if(e.substr(0,1)==="#")return e;var t=this.colorToHexRe.exec(e),n,r,i,s;return Ext.isArray(t)?(n=parseInt(t[2],10),r=parseInt(t[3],10),i=parseInt(t[4],10),s=i|r<<8|n<<16,t[1]+"#"+("000000"+s.toString(16)).slice(-6)):e},fromString:function(e){var t,n,r,i,s=parseInt;return e.length!=4&&e.length!=7||e.substr(0,1)!=="#"?(t=e.match(this.rgbRe),t&&(n=t[1],r=t[2],i=t[3])):(t=e.match(this.hexRe),t&&(n=s(t[1],16)>>0,r=s(t[2],16)>>0,i=s(t[3],16)>>0,e.length==4&&(n+=n*16,r+=r*16,i+=i*16))),typeof n=="undefined"?undefined:new Ext.draw.Color(n,r,i)},getGrayscale:function(){return this.r*.3+this.g*.59+this.b*.11},fromHSL:function(e,t,n){var r,i,s,o,u=[],a=Math.abs,f=Math.floor;if(t==0||e==null)u=[n,n,n];else{e/=60,r=t*(1-a(2*n-1)),i=r*(1-a(e-2*f(e/2)-1)),s=n-r/2;switch(f(e)){case 0:u=[r,i,0];break;case 1:u=[i,r,0];break;case 2:u=[0,r,i];break;case 3:u=[0,i,r];break;case 4:u=[i,0,r];break;case 5:u=[r,0,i]}u=[u[0]+s,u[1]+s,u[2]+s]}return new Ext.draw.Color(u[0]*255,u[1]*255,u[2]*255)}},function(){var e=this.prototype;this.addStatics({fromHSL:function(){return e.fromHSL.apply(e,arguments)},fromString:function(){return e.fromString.apply(e,arguments)},toHex:function(){return e.toHex.apply(e,arguments)}})}),Ext.define("Ext.draw.Draw",{singleton:!0,requires:["Ext.draw.Color"],pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(e,t){return t=String(t).toLowerCase(),t=="object"&&e===Object(e)||t=="undefined"&&typeof e==t||t=="null"&&e===null||t=="array"&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},ellipsePath:function(e){var t=e.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",t.x,t.y-t.ry,t.rx,t.ry,t.y+t.ry)},rectPath:function(e){var t=e.attr;return t.radius?Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t.x+t.radius,t.y,t.width-t.radius*2,t.radius,-t.radius,t.height-t.radius*2,t.radius*2-t.width,t.radius*2-t.height):Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",t.x,t.y,t.width+t.x,t.height+t.y)},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[],r=this;return r.is(e,"array")&&r.is(e[0],"array")&&(n=r.pathClone(e)),n.length||String(e).replace(r.pathCommandRE,function(e,i,s){var o=[],u=i.toLowerCase();s.replace(r.pathValuesRE,function(e,t){t&&o.push(+t)}),u=="m"&&o.length>2&&(n.push([i].concat(Ext.Array.splice(o,0,2))),u="l",i=i=="m"?"l":"L");while(o.length>=t[u]){n.push([i].concat(Ext.Array.splice(o,0,t[u])));if(!t[u])break}}),n.toString=r.path2string,n},mapPath:function(e,t){if(!t)return e;var n,r,i,s,o,u,a;e=this.path2curve(e);for(i=0,s=e.length;i<s;i++){a=e[i];for(o=1,u=a.length;o<u-1;o+=2)n=t.x(a[o],a[o+1]),r=t.y(a[o],a[o+1]),a[o]=n,a[o+1]=r}return e},pathClone:function(e){var t=[],n,r,i,s;if(!this.is(e,"array")||!this.is(e&&e[0],"array"))e=this.parsePathString(e);for(i=0,s=e.length;i<s;i++){t[i]=[];for(n=0,r=e[i].length;n<r;n++)t[i][n]=e[i][n]}return t.toString=this.path2string,t},pathToAbsolute:function(e){if(!this.is(e,"array")||!this.is(e&&e[0],"array"))e=this.parsePathString(e);var t=[],n=0,r=0,i=0,s=0,o=0,u=e.length,a,f,l,c;u&&e[0][0]=="M"&&(n=+e[0][1],r=+e[0][2],i=n,s=r,o++,t[0]=["M",n,r]);for(;o<u;o++){a=t[o]=[],f=e[o];if(f[0]!=f[0].toUpperCase()){a[0]=f[0].toUpperCase();switch(a[0]){case"A":a[1]=f[1],a[2]=f[2],a[3]=f[3],a[4]=f[4],a[5]=f[5],a[6]=+(f[6]+n),a[7]=+(f[7]+r);break;case"V":a[1]=+f[1]+r;break;case"H":a[1]=+f[1]+n;break;case"M":i=+f[1]+n,s=+f[2]+r;default:l=1,c=f.length;for(;l<c;l++)a[l]=+f[l]+(l%2?n:r)}}else{l=0,c=f.length;for(;l<c;l++)t[o][l]=f[l]}switch(a[0]){case"Z":n=i,r=s;break;case"H":n=a[1];break;case"V":r=a[1];break;case"M":f=t[o],c=f.length,i=f[c-2],s=f[c-1];default:f=t[o],c=f.length,n=f[c-2],r=f[c-1]}}return t.toString=this.path2string,t},pathToRelative:function(e){if(!this.is(e,"array")||!this.is(e&&e[0],"array"))e=this.parsePathString(e);var t=[],n=0,r=0,i=0,s=0,o=0,u,a,f,l,c,h,p,d,v;e[0][0]=="M"&&(n=e[0][1],r=e[0][2],i=n,s=r,o++,t.push(["M",n,r]));for(f=o,p=e.length;f<p;f++){u=t[f]=[],a=e[f];if(a[0]!=a[0].toLowerCase()){u[0]=a[0].toLowerCase();switch(u[0]){case"a":u[1]=a[1],u[2]=a[2],u[3]=a[3],u[4]=a[4],u[5]=a[5],u[6]=+(a[6]-n).toFixed(3),u[7]=+(a[7]-r).toFixed(3);break;case"v":u[1]=+(a[1]-r).toFixed(3);break;case"m":i=a[1],s=a[2];default:for(l=1,d=a.length;l<d;l++)u[l]=+(a[l]-(l%2?n:r)).toFixed(3)}}else{u=t[f]=[],a[0]=="m"&&(i=a[1]+n,s=a[2]+r);for(c=0,v=a.length;c<v;c++)t[f][c]=a[c]}h=t[f].length;switch(t[f][0]){case"z":n=i,r=s;break;case"h":n+=+t[f][h-1];break;case"v":r+=+t[f][h-1];break;default:n+=+t[f][h-2],r+=+t[f][h-1]}}return t.toString=this.path2string,t},path2curve:function(e){var t=this,n=t.pathToAbsolute(e),r=n.length,i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s,o,u,a;for(s=0;s<r;s++){n[s]=t.command2curve(n[s],i);if(n[s].length>7){n[s].shift(),a=n[s];while(a.length)Ext.Array.splice(n,s++,0,["C"].concat(Ext.Array.splice(a,0,6)));Ext.Array.erase(n,s,1),r=n.length,s--}o=n[s],u=o.length,i.x=o[u-2],i.y=o[u-1],i.bx=parseFloat(o[u-4])||i.x,i.by=parseFloat(o[u-3])||i.y}return n},interpolatePaths:function(e,t){var n=this,r=n.pathToAbsolute(e),i=n.pathToAbsolute(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(e,t){if(e[t].length>7){e[t].shift();var n=e[t];while(n.length)Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(n,0,6)));Ext.Array.erase(e,t,1),l=Math.max(r.length,i.length||0)}},a=function(e,t,n,s,o){e&&t&&e[o][0]=="M"&&t[o][0]!="M"&&(Ext.Array.splice(t,o,0,["M",s.x,s.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],l=Math.max(r.length,i.length||0))},f,l,c,h,p,d;for(f=0,l=Math.max(r.length,i.length||0);f<l;f++)r[f]=n.command2curve(r[f],s),u(r,f),i[f]=n.command2curve(i[f],o),u(i,f),a(r,i,s,o,f),a(i,r,o,s,f),c=r[f],h=i[f],p=c.length,d=h.length,s.x=c[p-2],s.y=c[p-1],s.bx=parseFloat(c[p-4])||s.x,s.by=parseFloat(c[p-3])||s.y,o.bx=parseFloat(h[d-4])||o.x,o.by=parseFloat(h[d-3])||o.y,o.x=h[d-2],o.y=h[d-1];return[r,i]},command2curve:function(e,t){var n=this;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];e[0]!="T"&&e[0]!="Q"&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(n.arc2curve.apply(n,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(n.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(n.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return e},quadratic2curve:function(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]},rotate:function(e,t,n){var r=Math.cos(n),i=Math.sin(n),s=e*r-t*i,o=e*i+t*r;return{x:s,y:o}},arc2curve:function(e,t,n,r,i,s,o,u,a,f){var l=this,c=Math.PI,h=l.radian,p=c*120/180,d=h*(+i||0),v=[],m=Math,g=m.cos,y=m.sin,b=m.sqrt,w=m.abs,E=m.asin,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y;f?(D=f[0],P=f[1],M=f[2],_=f[3]):(S=l.rotate(e,t,-d),e=S.x,t=S.y,S=l.rotate(u,a,-d),u=S.x,a=S.y,x=g(h*i),T=y(h*i),N=(e-u)/2,C=(t-a)/2,k=N*N/(n*n)+C*C/(r*r),k>1&&(k=b(k),n=k*n,r=k*r),L=n*n,A=r*r,O=(s==o?-1:1)*b(w((L*A-L*C*C-A*N*N)/(L*C*C+A*N*N))),M=O*n*C/r+(e+u)/2,_=O*-r*N/n+(t+a)/2,D=E(((t-_)/r).toFixed(7)),P=E(((a-_)/r).toFixed(7)),D=e<M?c-D:D,P=u<M?c-P:P,D<0&&(D=c*2+D),P<0&&(P=c*2+P),o&&D>P&&(D-=c*2),!o&&P>D&&(P-=c*2)),H=P-D,w(H)>p&&(Q=P,G=u,Y=a,P=D+p*(o&&P>D?1:-1),u=M+n*g(P),a=_+r*y(P),v=l.arc2curve(u,a,n,r,i,0,o,G,Y,[P,Q,M,_])),H=P-D,B=g(D),j=y(D),F=g(P),I=y(P),q=m.tan(H/4),R=4/3*n*q,U=4/3*r*q,z=[e,t],W=[e+R*j,t-U*B],X=[u+R*I,a-U*F],V=[u,a],W[0]=2*z[0]-W[0],W[1]=2*z[1]-W[1];if(f)return[W,X,V].concat(v);v=[W,X,V].concat(v).join().split(","),$=[],K=v.length;for(J=0;J<K;J++)$[J]=J%2?l.rotate(v[J-1],v[J],d).y:l.rotate(v[J],v[J+1],d).x;return $},rotateAndTranslatePath:function(e){var t=e.rotation.degrees,n=e.rotation.x,r=e.rotation.y,i=e.translation.x,s=e.translation.y,o,u,a,f,l,c=[];if(!t&&!i&&!s)return this.pathToAbsolute(e.attr.path);i=i||0,s=s||0,o=this.pathToAbsolute(e.attr.path);for(u=o.length;u--;){a=c[u]=o[u].slice();if(a[0]=="A")f=this.rotatePoint(a[6],a[7],t,n,r),a[6]=f.x+i,a[7]=f.y+s;else{l=1;while(a[l+1]!=null)f=this.rotatePoint(a[l],a[l+1],t,n,r),a[l]=f.x+i,a[l+1]=f.y+s,l+=2}}return c},rotatePoint:function(e,t,n,r,i){if(!n)return{x:e,y:t};r=r||0,i=i||0,e-=r,t-=i,n*=this.radian;var s=Math.cos(n),o=Math.sin(n);return{x:e*s-t*o+r,y:e*o+t*s+i}},pathDimensions:function(e){if(!e||!(e+""))return{x:0,y:0,width:0,height:0};e=this.path2curve(e);var t=0,n=0,r=[],i=[],s=0,o=e.length,u,a,f,l;for(;s<o;s++)u=e[s],u[0]=="M"?(t=u[1],n=u[2],r.push(t),i.push(n)):(l=this.curveDim(t,n,u[1],u[2],u[3],u[4],u[5],u[6]),r=r.concat(l.min.x,l.max.x),i=i.concat(l.min.y,l.max.y),t=u[5],n=u[6]);return a=Math.min.apply(0,r),f=Math.min.apply(0,i),{x:a,y:f,path:e,width:Math.max.apply(0,r)-a,height:Math.max.apply(0,i)-f}},intersectInside:function(e,t,n){return(n[0]-t[0])*(e[1]-t[1])>(n[1]-t[1])*(e[0]-t[0])},intersectIntersection:function(e,t,n,r){var i=[],s=n[0]-r[0],o=n[1]-r[1],u=e[0]-t[0],a=e[1]-t[1],f=n[0]*r[1]-n[1]*r[0],l=e[0]*t[1]-e[1]*t[0],c=1/(s*a-o*u);return i[0]=(f*u-l*s)*c,i[1]=(f*a-l*o)*c,i},intersect:function(e,t){var n=this,r=0,i=t.length,s=t[i-1],o=e,u,a,f,l,c,h,p;for(;r<i;++r){u=t[r],h=o,o=[],a=h[h.length-1],p=0,c=h.length;for(;p<c;p++)f=h[p],n.intersectInside(f,s,u)?(n.intersectInside(a,s,u)||o.push(n.intersectIntersection(a,f,s,u)),o.push(f)):n.intersectInside(a,s,u)&&o.push(n.intersectIntersection(a,f,s,u)),a=f;s=u}return o},bezier:function(e,t,n,r,i){if(i===0)return e;if(i===1)return r;var s=1-i,o=s*s*s,u=i/s;return o*(e+u*(3*t+u*(3*n+r*u)))},bezierDim:function(e,t,n,r){var i=[],s,o,u,a,f,l,c,h,p,d;e+3*n==r+3*t?(s=e-t,s/=2*(e-t-t+n),s<1&&s>0&&i.push(s)):(o=e-3*t+3*n-r,u=2*(e-t-t+n),a=e-t,f=u*u-4*o*a,l=o+o,f===0?(s=u/l,s<1&&s>0&&i.push(s)):f>0&&(c=Math.sqrt(f),s=(c+u)/l,s<1&&s>0&&i.push(s),s=(u-c)/l,s<1&&s>0&&i.push(s))),h=Math.min(e,r),p=Math.max(e,r);for(d=0;d<i.length;d++)h=Math.min(h,this.bezier(e,t,n,r,i[d])),p=Math.max(p,this.bezier(e,t,n,r,i[d]));return[h,p]},curveDim:function(e,t,n,r,i,s,o,u){var a=this.bezierDim(e,n,i,o),f=this.bezierDim(t,r,s,u);return{min:{x:a[0],y:f[0]},max:{x:a[1],y:f[1]}}},getAnchors:function(e,t,n,r,i,s,o){o=o||4;var u=Math,a=u.PI,f=a/2,l=u.abs,c=u.sin,h=u.cos,p=u.atan,d,v,m,g,y,b,w,E,S;d=(n-e)/o,v=(i-n)/o,r>=t&&r>=s||r<=t&&r<=s?m=g=f:(m=p((n-e)/l(r-t)),t<r&&(m=a-m),g=p((i-n)/l(r-s)),s<r&&(g=a-g)),S=f-(m+g)%(a*2)/2,S>f&&(S-=a),m+=S,g+=S,y=n-d*c(m),b=r+d*h(m),w=n+v*c(g),E=r+v*h(g);if(r>t&&b<t||r<t&&b>t)y+=l(t-b)*(y-n)/(b-r),b=t;if(r>s&&E<s||r<s&&E>s)w-=l(s-E)*(w-n)/(E-r),E=s;return{x1:y,y1:b,x2:w,y2:E}},smooth:function(e,t){var n=this.path2curve(e),r=[n[0]],i=n[0][1],s=n[0][2],o,u,a=1,f=n.length,l=1,c=i,h=s,p=0,d=0,v,m,g,y,b,w,E;for(;a<f;a++){v=n[a],m=v.length,g=n[a-1],y=g.length,b=n[a+1],w=b&&b.length;if(v[0]=="M"){c=v[1],h=v[2],o=a+1;while(n[o][0]!="C")o++;p=n[o][5],d=n[o][6],r.push(["M",c,h]),l=r.length,i=c,s=h;continue}v[m-2]!=c||v[m-1]!=h||!!b&&b[0]!="M"?!b||b[0]=="M"?u={x1:v[m-2],y1:v[m-1]}:u=this.getAnchors(g[y-2],g[y-1],v[m-2],v[m-1],b[w-2],b[w-1],t):(E=r[l].length,u=this.getAnchors(g[y-2],g[y-1],c,h,r[l][E-2],r[l][E-1],t),r[l][1]=u.x2,r[l][2]=u.y2),r.push(["C",i,s,u.x1,u.y1,v[m-2],v[m-1]]),i=u.x2,s=u.y2}return r},findDotAtSegment:function(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:Math.pow(f,3)*e+Math.pow(f,2)*3*a*n+f*3*a*a*i+Math.pow(a,3)*o,y:Math.pow(f,3)*t+Math.pow(f,2)*3*a*r+f*3*a*a*s+Math.pow(a,3)*u}},snapEnds:function(e,t,n,r){if(Ext.isDate(e))return this.snapEndsByDate(e,t,n);var i=(t-e)/n,s=Math.floor(Math.log(i)/Math.LN10)+1,o=Math.pow(10,s),u,a=Math.round(i%o*Math.pow(10,2-s)),f=[[0,15],[20,4],[30,2],[40,4],[50,9],[60,4],[70,2],[80,4],[100,15]],l=0,c,h,p,d,v=1e9,m=f.length;u=e=Math.floor(e/o)*o;if(r){for(p=0;p<m;p++)c=f[p][0],h=c-a<0?1e6:(c-a)/f[p][1],h<v&&(d=c,v=h);i=Math.floor(i*Math.pow(10,-s))*Math.pow(10,s)+d*Math.pow(10,s-2);while(u<t)u+=i,l++;t=+u.toFixed(10)}else l=n;return{from:e,to:t,power:s,step:i,steps:l}},snapEndsByDate:function(e,t,n,r){var i=!1,s=[[Ext.Date.MILLI,[1,2,3,5,10,20,30,50,100,200,300,500]],[Ext.Date.SECOND,[1,2,3,5,10,15,30]],[Ext.Date.MINUTE,[1,2,3,5,10,20,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,3,7,14]],[Ext.Date.MONTH,[1,2,3,4,6]]],o=s.length,u=!1,a,f,l,c;for(c=0;c<o;c++){a=s[c];if(!u)for(f=0;f<a[1].length;f++)if(t<Ext.Date.add(e,a[0],a[1][f]*n)){i=[a[0],a[1][f]],u=!0;break}}return i||(l=this.snapEnds(e.getFullYear(),t.getFullYear()+1,n,r),i=[Date.YEAR,Math.round(l.step)]),this.snapEndsByDateAndStep(e,t,i,r)},snapEndsByDateAndStep:function(e,t,n,r){var i=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()],s=0,o,u;if(r)o=e;else switch(n[0]){case Ext.Date.MILLI:o=new Date(i[0],i[1],i[2],i[3],i[4],i[5],Math.floor(i[6]/n[1])*n[1]);break;case Ext.Date.SECOND:o=new Date(i[0],i[1],i[2],i[3],i[4],Math.floor(i[5]/n[1])*n[1],0);break;case Ext.Date.MINUTE:o=new Date(i[0],i[1],i[2],i[3],Math.floor(i[4]/n[1])*n[1],0,0);break;case Ext.Date.HOUR:o=new Date(i[0],i[1],i[2],Math.floor(i[3]/n[1])*n[1],0,0,0);break;case Ext.Date.DAY:o=new Date(i[0],i[1],Math.floor(i[2]-1/n[1])*n[1]+1,0,0,0,0);break;case Ext.Date.MONTH:o=new Date(i[0],Math.floor(i[1]/n[1])*n[1],1,0,0,0,0);break;default:o=new Date(Math.floor(i[0]/n[1])*n[1],0,1,0,0,0,0)}u=o;while(u<t)u=Ext.Date.add(u,n[0],n[1]),s++;return r&&(u=t),{from:+o,to:+u,step:(u-o)/s,steps:s}},sorter:function(e,t){return e.offset-t.offset},rad:function(e){return e%360*Math.PI/180},degrees:function(e){return e*180/Math.PI%360},withinBox:function(e,t,n){return n=n||{},e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},parseGradient:function(e){var t=this,n=e.type||"linear",r=e.angle||0,i=t.radian,s=e.stops,o=[],u,a,f,l;n=="linear"&&(a=[0,0,Math.cos(r*i),Math.sin(r*i)],f=1/(Math.max(Math.abs(a[2]),Math.abs(a[3]))||1),a[2]*=f,a[3]*=f,a[2]<0&&(a[0]=-a[2],a[2]=0),a[3]<0&&(a[1]=-a[3],a[3]=0));for(u in s)s.hasOwnProperty(u)&&t.stopsRE.test(u)&&(l={offset:parseInt(u,10),color:Ext.draw.Color.toHex(s[u].color)||"#ffffff",opacity:s[u].opacity||1},o.push(l));return Ext.Array.sort(o,t.sorter),n=="linear"?{id:e.id,type:n,vector:a,stops:o}:{id:e.id,type:n,centerX:e.centerX,centerY:e.centerY,focalX:e.focalX,focalY:e.focalY,radius:e.radius,vector:a,stops:o}}}),Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.draw.Draw"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,n,r,i){n=typeof n=="number"?n:1;var s=this.unitRE,o=s.exec(e),u,a;return o&&(e=o[1],a=o[2],!this.scrollRE.test(i)&&!a&&this.pixelDefaultsRE.test(i)&&(a="px")),e=+e||0,o=s.exec(t),o&&(t=o[1],a=o[2]||a),t=+t||0,u=r!=null?r:e,{from:e,delta:(t-u)*n,units:a}},get:function(e,t,n,r,i){var s=e.length,o=[],u,a,f,l,c;for(u=0;u<s;u++){r&&(a=r[u][1].from);if(Ext.isArray(e[u][1])&&Ext.isArray(t)){f=[],l=0,c=e[u][1].length;for(;l<c;l++)f.push(this.computeDelta(e[u][1][l],t[l],n,a,i));o.push([e[u][0],f])}else o.push([e[u][0],this.computeDelta(e[u][1],t,n,a,i)])}return o},set:function(e,t){var n=e.length,r=[],i,s,o,u,a;for(i=0;i<n;i++){s=e[i][1];if(Ext.isArray(s)){o=[],a=0,u=s.length;for(;a<u;a++)o.push(s[a].from+s[a].delta*t+(s[a].units||0));r.push([e[i][0],o])}else r.push([e[i][0],s.from+s.delta*t+(s.units||0)])}return r}},stringHandler:{computeDelta:function(e,t,n,r,i){return{from:e,delta:t}},get:function(e,t,n,r,i){var s=e.length,o=[],u,a,f,l,c;for(u=0;u<s;u++)o.push([e[u][0],this.computeDelta(e[u][1],t,n,a,i)]);return o},set:function(e,t){var n=e.length,r=[],i,s,o,u,a;for(i=0;i<n;i++)s=e[i][1],r.push([e[i][0],s.delta]);return r}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){t=typeof t=="number"?t:1;var n=!1,r=[this.hexRE,this.rgbRE,this.hex3RE],i=r.length,s,o,u,a;for(a=0;a<i;a++){u=r[a],o=a%2===0?16:10,s=u.exec(e);if(s&&s.length===4){a===2&&(s[1]+=s[1],s[2]+=s[2],s[3]+=s[3]),n={red:parseInt(s[1],o),green:parseInt(s[2],o),blue:parseInt(s[3],o)};break}}return n||e},computeDelta:function(e,t,n,r){e=this.parseColor(e),t=this.parseColor(t,n);var i=r?r:e,s=typeof i,o=typeof t;return s=="string"||s=="undefined"||o=="string"||o=="undefined"?t||i:{from:e,delta:{red:Math.round((t.red-i.red)*n),green:Math.round((t.green-i.green)*n),blue:Math.round((t.blue-i.blue)*n)}}},get:function(e,t,n,r){var i=e.length,s=[],o,u;for(o=0;o<i;o++)r&&(u=r[o][1].from),s.push([e[o][0],this.computeDelta(e[o][1],t,n,u)]);return s},set:function(e,t){var n=e.length,r=[],i,s,o,u,a;for(i=0;i<n;i++){s=e[i][1];if(s){u=s.from,a=s.delta,s=typeof s=="object"&&"red"in s?"rgb("+s.red+", "+s.green+", "+s.blue+")":s,s=typeof s=="object"&&s.length?s[0]:s;if(typeof s=="undefined")return[];o=typeof s=="string"?s:"rgb("+[(u.red+Math.round(a.red*t))%256,(u.green+Math.round(a.green*t))%256,(u.blue+Math.round(a.blue*t))%256].join(",")+")",r.push([e[i][0],o])}}return r}},object:{interpolate:function(e,t){t=typeof t=="number"?t:1;var n={},r;for(r in e)n[r]=parseFloat(e[r])*t;return n},computeDelta:function(e,t,n,r){e=this.interpolate(e),t=this.interpolate(t,n);var i=r?r:e,s={},o;for(o in t)s[o]=t[o]-i[o];return{from:e,delta:s}},get:function(e,t,n,r){var i=e.length,s=[],o,u;for(o=0;o<i;o++)r&&(u=r[o][1].from),s.push([e[o][0],this.computeDelta(e[o][1],t,n,u)]);return s},set:function(e,t){var n=e.length,r=[],i={},s,o,u,a,f;for(s=0;s<n;s++){a=e[s][1],o=a.from,u=a.delta;for(f in o)i[f]=o[f]+u[f]*t;r.push([e[s][0],i])}return r}},path:{computeDelta:function(e,t,n,r){n=typeof n=="number"?n:1;var i;return e=+e||0,t=+t||0,i=r!=null?r:e,{from:e,delta:(t-i)*n}},forcePath:function(e){return!Ext.isArray(e)&&!Ext.isArray(e[0])&&(e=Ext.draw.Draw.parsePathString(e)),e},get:function(e,t,n,r){var i=this.forcePath(t),s=[],o=e.length,u,a,f,l,c,h,p,d,v;for(f=0;f<o;f++){v=this.forcePath(e[f][1]),l=Ext.draw.Draw.interpolatePaths(v,i),v=l[0],i=l[1],u=v.length,d=[];for(h=0;h<u;h++){l=[v[h][0]],a=v[h].length;for(p=1;p<a;p++)c=r&&r[0][1][h][p].from,l.push(this.computeDelta(v[h][p],i[h][p],n,c));d.push(l)}s.push([e[f][0],d])}return s},set:function(e,t){var n=e.length,r=[],i,s,o,u,a,f,l,c;for(i=0;i<n;i++){f=e[i][1],u=[],l=f.length;for(s=0;s<l;s++){a=[f[s][0]],c=f[s].length;for(o=1;o<c;o++)a.push(f[s][o].from+f[s][o].delta*t);u.push(a.join(","))}r.push([e[i][0],u.join(",")])}return r}}}},function(){var e=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],t=e.length,n=0,r;for(;n<t;n++)r=e[n],this[r]=this.color;e=["cursor"],t=e.length
,n=0;for(;n<t;n++)r=e[n],this[r]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t=this,n;e=e||{};if(e.keyframes)return new Ext.fx.Animator(e);Ext.apply(t,e),t.from===undefined&&(t.from={}),t.propHandlers={},t.config=e,t.target=Ext.fx.Manager.createTarget(t.target),t.easingFn=Ext.fx.Easing[t.easing],t.target.dynamic=t.dynamic,t.easingFn||(t.easingFn=String(t.easing).match(t.bezierRE),t.easingFn&&t.easingFn.length==5&&(n=t.easingFn,t.easingFn=Ext.fx.CubicBezier.cubicBezier(+n[1],+n[2],+n[3],+n[4]))),t.id=Ext.id(null,"ext-anim-"),t.addEvents("beforeanimate","afteranimate","lastframe"),t.mixins.observable.constructor.call(t),Ext.fx.Manager.addAnim(t)},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e=this,t=e.from,n=e.to,r=e.initialFrom||{},i={},s,o,u,a;for(a in n)n.hasOwnProperty(a)&&(s=e.target.getAttr(a,t[a]),o=n[a],Ext.fx.PropertyHandler[a]?u=e.propHandlers[a]=Ext.fx.PropertyHandler[a]:Ext.isObject(o)?u=e.propHandlers[a]=Ext.fx.PropertyHandler.object:u=e.propHandlers[a]=Ext.fx.PropertyHandler.defaultHandler,i[a]=u.get(s,o,e.damper,r[a],a));e.currentAttrs=i},start:function(e){var t=this,n=t.delay,r=t.delayStart,i;if(n){if(!r){t.delayStart=e;return}i=e-r;if(i<n)return;e=new Date(r.getTime()+n)}t.fireEvent("beforeanimate",t)!==!1&&(t.startTime=e,!t.paused&&!t.currentAttrs&&t.initAttrs(),t.running=!0,t.frameCount=0)},runAnim:function(e){var t=this,n=t.currentAttrs,r=t.duration,i=t.easingFn,s=t.propHandlers,o={},u,a,f,l;e>=r&&(e=r,l=!0),t.reverse&&(e=r-e);for(f in n)n.hasOwnProperty(f)&&(a=n[f],u=l?1:i(e/r),o[f]=s[f].set(a,u));return t.frameCount++,o},lastFrame:function(){var e=this,t=e.iterations,n=e.currentIteration;n++,n<t?(e.alternate&&(e.reverse=!e.reverse),e.startTime=new Date,e.currentIteration=n,e.paused=!1):(e.currentIteration=0,e.end(),e.fireEvent("lastframe",e,e.startTime))},endWasCalled:0,end:function(){if(this.endWasCalled++)return;var e=this;e.startTime=0,e.paused=!1,e.running=!1,Ext.fx.Manager.removeAnim(e),e.fireEvent("afteranimate",e,e.startTime),Ext.callback(e.callback,e.scope,[e,e.startTime])},isReady:function(){return this.paused===!1&&this.running===!1&&this.iterations>0},isRunning:function(){return this.paused===!1&&this.running===!0&&this.isAnimator!==!0}}),Ext.enableFx=!0,Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(e,t,n){e&&this.init(e,t,n)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,b4StartDrag:function(e,t){},startDrag:function(e,t){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,t){},b4DragOver:function(e){},onDragOver:function(e,t){},b4DragOut:function(e){},onDragOut:function(e,t){},b4DragDrop:function(e){},onDragDrop:function(e,t){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t,n){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t}),t=t||this.defaultPadding;var r=Ext.get(this.getEl()).getBox(),i=Ext.get(e),s=i.getScroll(),o,u=i.dom,a,f,l;u==document.body?o={x:s.left,y:s.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}:(a=i.getXY(),o={x:a[0],y:a[1],width:u.clientWidth,height:u.clientHeight}),f=r.y-o.y,l=r.x-o.x,this.resetConstraints(),this.setXConstraint(l-(t.left||0),o.width-l-r.width-(t.right||0),this.xTickSize),this.setYConstraint(f-(t.top||0),o.height-f-r.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,n){this.initTarget(e,t,n),Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(e,t,n){this.config=n||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},typeof e!="string"&&(e=Ext.id(e)),this.id=e,this.addToGroup(t?t:"default"),this.handleElId=e,this.setDragElId(e),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=this.config.isTarget!==!1,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=this.config.primaryButtonOnly!==!1},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,n,r){!t&&0!==t?this.padding=[e,e,e,e]:!n&&0!==n?this.padding=[e,t,e,t]:this.padding=[e,t,n,r]},setInitPosition:function(e,t){var n=this.getEl(),r,i,s;if(!this.DDMInstance.verifyEl(n))return;r=e||0,i=t||0,s=Ext.Element.getXY(n),this.initPageX=s[0]-r,this.initPageY=s[1]-i,this.lastPageX=s[0],this.lastPageY=s[1],this.setStartPosition(s)},setStartPosition:function(e){var t=e||Ext.Element.getXY(this.getEl());this.deltaSetXY=null,this.startPageX=t[0],this.startPageY=t[1]},addToGroup:function(e){this.groups[e]=!0,this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){typeof e!="string"&&(e=Ext.id(e)),this.handleElId=e,this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){typeof e!="string"&&(e=Ext.id(e)),Ext.EventManager.on(e,"mousedown",this.handleMouseDown,this),this.setHandleElId(e),this.hasOuterHandles=!0},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,t){if(this.primaryButtonOnly&&e.button!=0)return;if(this.isLocked())return;this.DDMInstance.refreshCache(this.groups),(this.hasOuterHandles||this.DDMInstance.isOverTarget(e.getPoint(),this))&&this.clickValidator(e)&&(this.setStartPosition(),this.b4MouseDown(e),this.onMouseDown(e),this.DDMInstance.handleMouseDown(e,this),this.DDMInstance.stopEvent(e))},clickValidator:function(e){var t=e.getTarget();return this.isValidHandleChild(t)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(t,this.id))},addInvalidHandleType:function(e){var t=e.toUpperCase();this.invalidHandleTypes[t]=t},addInvalidHandleId:function(e){typeof e!="string"&&(e=Ext.id(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){var t=e.toUpperCase();delete this.invalidHandleTypes[t]},removeInvalidHandleId:function(e){typeof e!="string"&&(e=Ext.id(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=0,n=this.invalidHandleClasses.length;t<n;++t)this.invalidHandleClasses[t]==e&&delete this.invalidHandleClasses[t]},isValidHandleChild:function(e){var t=!0,n,r,i;try{n=e.nodeName.toUpperCase()}catch(s){n=e.nodeName}t=t&&!this.invalidHandleTypes[n],t=t&&!this.invalidHandleIds[e.id];for(r=0,i=this.invalidHandleClasses.length;t&&r<i;++r)t=!Ext.fly(e).hasCls(this.invalidHandleClasses[r]);return t},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;var n={},r;for(r=this.initPageX;r>=this.minX;r-=t)n[r]||(this.xTicks[this.xTicks.length]=r,n[r]=!0);for(r=this.initPageX;r<=this.maxX;r+=t)n[r]||(this.xTicks[this.xTicks.length]=r,n[r]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;var n={},r;for(r=this.initPageY;r>=this.minY;r-=t)n[r]||(this.yTicks[this.yTicks.length]=r,n[r]=!0);for(r=this.initPageY;r<=this.maxY;r+=t)n[r]||(this.yTicks[this.yTicks.length]=r,n[r]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,n){this.leftConstraint=e,this.rightConstraint=t,this.minX=this.initPageX-e,this.maxX=this.initPageX+t,n&&this.setXTicks(this.initPageX,n),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,n){this.topConstraint=e,this.bottomConstraint=t,this.minY=this.initPageY-e,this.maxY=this.initPageY+t,n&&this.setYTicks(this.initPageY,n),this.constrainY=!0},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0;this.setInitPosition(e,t)}else this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(!t)return e;if(t[0]>=e)return t[0];var n,r,i,s,o;for(n=0,r=t.length;n<r;++n){i=n+1;if(t[i]&&t[i]>=e)return s=e-t[n],o=t[i]-e,o>s?t[n]:t[i]}return t[t.length-1]},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(e,t,n){e&&this.init(e,t,n)},scroll:!0,autoOffset:function(e,t){var n=e-this.startPageX,r=t-this.startPageY;this.setDelta(n,r)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var n=this.getDragEl();this.alignElWithMouse(n,e,t)},alignElWithMouse:function(e,t,n){var r=this.getTargetCoord(t,n),i=e.dom?e:Ext.fly(e,"_dd"),s=i.getSize(),o=Ext.Element,u,a,f,l;return this.deltaSetXY?(u=this.cachedViewportSize,i.setLeftTop(Math.max(0,Math.min(r.x+this.deltaSetXY[0],u.width-s.width)),Math.max(0,Math.min(r.y+this.deltaSetXY[1],u.height-s.height)))):(u=this.cachedViewportSize={width:o.getDocumentWidth(),height:o.getDocumentHeight()},a=[Math.max(0,Math.min(r.x,u.width-s.width)),Math.max(0,Math.min(r.y,u.height-s.height))],i.setXY(a),f=i.getLocalX(),l=i.getLocalY(),this.deltaSetXY=[f-r.x,l-r.y]),this.cachePosition(r.x,r.y),this.autoScroll(r.x,r.y,e.offsetHeight,e.offsetWidth),r},cachePosition:function(e,t){if(e)this.lastPageX=e,this.lastPageY=t;else{var n=Ext.Element.getXY(this.getEl());this.lastPageX=n[0],this.lastPageY=n[1]}},autoScroll:function(e,t,n,r){if(this.scroll){var i=Ext.Element.getViewHeight(),s=Ext.Element.getViewWidth(),o=this.DDMInstance.getScrollTop(),u=this.DDMInstance.getScrollLeft(),a=n+t,f=r+e,l=i+o-t-this.deltaY,c=s+u-e-this.deltaX,h=40,p=document.all?80:30;a>i&&l<h&&window.scrollTo(u,o+p),t<o&&o>0&&t-o<h&&window.scrollTo(u,o-p),f>s&&c<h&&window.scrollTo(u+p,o),e<u&&u>0&&e-u<h&&window.scrollTo(u-p,o)}},getTargetCoord:function(e,t){var n=e-this.deltaX,r=t-this.deltaY;return this.constrainX&&(n<this.minX&&(n=this.minX),n>this.maxX&&(n=this.maxX)),this.constrainY&&(r<this.minY&&(r=this.minY),r>this.maxY&&(r=this.maxY)),n=this.getTick(n,this.xTicks),r=this.getTick(r,this.yTicks),{x:n,y:r}},applyConfig:function(){this.callParent(),this.scroll=this.config.scroll!==!1},b4MouseDown:function(e){this.autoOffset(e.getPageX(),e.getPageY())},b4Drag:function(e){this.setDragElPos(e.getPageX(),e.getPageY())},toString:function(){return"DD "+this.id}}),Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(e,t,n){e&&(this.init(e,t,n),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var e=this,t=document.body,n,r;if(!t||!t.firstChild){setTimeout(function(){e.createFrame()},50);return}n=this.getDragEl(),n||(n=document.createElement("div"),n.id=this.dragElId,r=n.style,r.position="absolute",r.visibility="hidden",r.cursor="move",r.border="2px solid #aaa",r.zIndex=999,t.insertBefore(n,t.firstChild))},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=this.config.resizeFrame!==!1,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){var n=this.getEl(),r=this.getDragEl(),i=r.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(i.width,10)/2),Math.round(parseInt(i.height,10)/2)),this.setDragElPos(e,t),Ext.fly(r).show()},_resizeProxy:function(){if(this.resizeFrame){var e=this.getEl();Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight)}},b4MouseDown:function(e){var t=e.getPageX(),n=e.getPageY();this.autoOffset(t,n),this.setDragElPos(t,n)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var t=this.getEl(),n=this.getDragEl();n.style.visibility="",this.beforeMove(),t.style.visibility="hidden",Ext.dd.DDM.moveToEl(t,n),n.style.visibility="hidden",t.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div>'+'<div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],constructor:function(e){var t=this;e=e||{},Ext.apply(t,{hideMode:"visibility",hidden:!0,floating:!0,id:t.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||!1,renderTo:Ext.getDetachedBody()}),t.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed,this.dropStatus!=e&&(this.el.replaceCls(this.dropStatus,e),this.dropStatus=e)},reset:function(e){var t=this,n=Ext.baseCSSPrefix+"dd-drag-proxy ";t.el.replaceCls(n+t.dropAllowed,n+t.dropNotAllowed),t.dropStatus=t.dropNotAllowed,e&&t.ghost.update("")},update:function(e){typeof e=="string"?this.ghost.update(e):(this.ghost.update(""),e.style.margin="0",this.ghost.dom.appendChild(e));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(e){this.callParent(),e&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(e,t,n){var r=this;r.callback=t,r.scope=n,e&&r.animRepair!==!1?(r.el.addCls(Ext.baseCSSPrefix+"dd-drag-repair"),r.el.hideUnders(!0),r.anim=r.el.animate({duration:r.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:!0,callback:r.afterRepair,scope:r})):r.afterRepair()},afterRepair:function(){var e=this;e.hide(!0),e.el.removeCls(Ext.baseCSSPrefix+"dd-drag-repair"),typeof e.callback=="function"&&e.callback.call(e.scope||e),delete e.callback,delete e.scope}}),Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e),this.dragData||(this.dragData={}),Ext.apply(this,t),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:this.scroll===!0}]),this.dragging=!1},getDragData:function(e){return this.dragData},onDragEnter:function(e,t){var n=Ext.dd.DragDropManager.getDDById(t),r;this.cachedTarget=n,this.beforeDragEnter(n,e,t)!==!1&&(n.isNotifyTarget?(r=n.notifyEnter(this,e,this.dragData),this.proxy.setStatus(r)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(n,e,t))},beforeDragEnter:function(e,t,n){return!0},onDragOver:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t),r;this.beforeDragOver(n,e,t)!==!1&&(n.isNotifyTarget&&(r=n.notifyOver(this,e,this.dragData),this.proxy.setStatus(r)),this.afterDragOver&&this.afterDragOver(n,e,t))},beforeDragOver:function(e,t,n){return!0},onDragOut:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragOut(n,e,t)!==!1&&(n.isNotifyTarget&&n.notifyOut(this,e,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(n,e,t)),this.cachedTarget=null},beforeDragOut:function(e,t,n){return!0},onDragDrop:function(e,t){var n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);this.beforeDragDrop(n,e,t)!==!1&&(n.isNotifyTarget?n.notifyDrop(this,e,this.dragData)!==!1?this.onValidDrop(n,e,t):this.onInvalidDrop(n,e,t):this.onValidDrop(n,e,t),this.afterDragDrop&&this.afterDragDrop(n,e,t)),delete this.cachedTarget},beforeDragDrop:function(e,t,n){return!0},onValidDrop:function(e,t,n){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(e,t,n)},getRepairXY:function(e,t){return this.el.getXY()},onInvalidDrop:function(e,t,n){t||(t=e,e=null,n=t.getTarget().id),this.beforeInvalidDrop(e,t,n),this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,t,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(t,this.dragData),this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(t,n)},afterRepair:function(){var e=this;Ext.enableFx&&e.el.highlight(e.repairHighlightColor),e.dragging=!1},beforeInvalidDrop:function(e,t,n){return!0},handleMouseDown:function(e){if(this.dragging)return;var t=this.getDragData(e);t&&this.onBeforeDrag(t,e)!==!1&&(this.dragData=t,this.proxy.stop(),this.callParent(arguments))},onBeforeDrag:function(e,t){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(e,t),this.proxy.show()},onInitDrag:function(e,t){var n=this.el.dom.cloneNode(!0);return n.id=Ext.id(),this.proxy.update(n),this.onStartDrag(e,t),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(e,t){},autoOffset:function(e,t){this.setDelta(-12,-20)},destroy:function(){this.callParent(),Ext.destroy(this.proxy)}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(e,t){var n=this;n.panel=e,n.id=n.panel.id+"-ddproxy",Ext.apply(n,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var e=this;e.ghost&&(e.proxy&&(e.proxy.remove(),delete e.proxy),e.panel.unghost(null,e.moveOnDrag),delete e.ghost)},show:function(){var e=this,t;e.ghost||(t=e.panel.getSize(),e.panel.el.setVisibilityMode(Ext.Element.DISPLAY),e.ghost=e.panel.ghost(),e.insertProxy&&(e.proxy=e.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),e.proxy.setSize(t)))},repair:function(e,t,n){this.hide(),Ext.callback(t,n||this)},moveProxy:function(e,t){this.proxy&&e.insertBefore(this.proxy.dom,t)}}),Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(e,t){var n=this;n.panel=e,n.dragData={panel:e},n.panelProxy=new Ext.panel.Proxy(e,t),n.proxy=n.panelProxy.proxy,n.callParent([e.el,t]),n.setupEl(e)},setupEl:function(e){var t=this,n=e.header,r=e.body;n&&(t.setHandleElId(n.id),r=n.el),r?(r.setStyle("cursor","move"),t.scroll=!1):e.on("boxready",t.setupEl,t,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(e,t){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getPageX(),n=e.getPageY();this.autoOffset(t,n)},onInitDrag:function(e,t){return this.onStartDrag(e,t),!0},createFrame:Ext.emptyFn,getDragEl:function(e){return this.panelProxy.ghost.el.dom},endDrag:function(e){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY,this.setDelta(e,t)},onInvalidDrop:function(e,t,n){var r=this;r.beforeInvalidDrop(e,t,n),r.cachedTarget&&(r.cachedTarget.isNotifyTarget&&r.cachedTarget.notifyOut(r,t,r.dragData),r.cacheTarget=null),r.afterInvalidDrop&&r.afterInvalidDrop(t,n)}}),Ext.define("Ext.util.Memento",function(){function e(e,t,n,r){e[r?r+n:n]=t[n]}function t(e,t,n){delete e[n]}function n(e,t,n,i){var s=i?i+n:n,o=e[s];(o||e.hasOwnProperty(s))&&r(t,n,o)}function r(e,t,n){Ext.isDefined(n)?e[t]=n:delete e[t]}function i(e,t,n,r,i){if(t)if(Ext.isArray(r)){var s,o=r.length;for(s=0;s<o;s++)e(t,n,r[s],i)}else e(t,n,r,i)}return{data:null,target:null,constructor:function(e,t){e&&(this.target=e,t&&this.capture(t))},capture:function(t,n,r){var s=this;i(e,s.data||(s.data={}),n||s.target,t,r)},remove:function(e){i(t,this.data,null,e)},restore:function(e,t,r,s){i(n,this.data,r||this.target,e,s),t!==!1&&this.remove(e)},restoreAll:function(e,t){var n=this,i=t||this.target,s=n.data,o;for(o in s)s.hasOwnProperty(o)&&r(i,o,s[o]);e!==!1&&delete n.data}}}()),Ext.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:!1,floatable:!0,collapsible:!1,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:undefined,headerPosition:"top",frame:!1,frameHeader:!0,titleAlign:"left",manageHeight:!0,initComponent:function(){var e=this;e.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange"),e.collapsible&&this.addStateEvents(["expand","collapse"]),e.unstyled&&e.setUI("plain"),e.frame&&e.setUI(e.ui+"-framed"),e.bridgeToolbars(),e.callParent(),e.collapseDirection=e.collapseDirection||e.headerPosition||Ext.Component.DIRECTION_TOP,e.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var e=this;Ext.destroy(e.placeholder,e.ghostPanel,e.dd),e.callParent()},initAria:function(){this.callParent(),this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var e=this,t=e.el,n=e.header;t&&n&&t.dom.setAttribute("aria-labelledby",n.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(e){var t=this,n=t.title,r=t.header,i=t.reExpander,s=t.placeholder;t.title=e,r?r.isHeader?r.setTitle(e):r.title=e:t.updateHeader(),i&&i.setTitle(e),s&&s.setTitle&&s.setTitle(e),t.fireEvent("titlechange",t,e,n)},setIconCls:function(e){var t=this,n=t.iconCls,r=t.header,i=t.placeholder;t.iconCls=e,r?r.isHeader?r.setIconCls(e):r.iconCls=e:t.updateHeader(),i&&i.setIconCls&&i.setIconCls(e),t.fireEvent("iconclschange",t,e,n)},setIcon:function(e){var t=this,n=t.icon,r=t.header,i=t.placeholder;t.icon=e,r?r.isHeader?r.setIcon(e):r.icon=e:t.updateHeader(),i&&i.setIcon&&i.setIcon(e),t.fireEvent("iconchange",t,e,n)},bridgeToolbars:function(){function s(t,n,r){Ext.isArray(t)?t={xtype:"toolbar",items:t}:t.xtype||(t.xtype="toolbar"),t.dock=n;if(n=="left"||n=="right")t.vertical=!0;return r&&(t.layout=Ext.applyIf(t.layout||{},{pack:{left:"start",center:"center"}[e.buttonAlign]||"end"})),t}var e=this,t=[],n,r,i=e.minButtonWidth;e.tbar&&(t.push(s(e.tbar,"top")),e.tbar=null),e.bbar&&(t.push(s(e.bbar,"bottom")),e.bbar=null),e.buttons&&(e.fbar=e.buttons,e.buttons=null),e.fbar&&(n=s(e.fbar,"bottom",!0),n.ui="footer",i&&(r=n.defaults,n.defaults=function(e){var t=r||{};return(!e.xtype||e.xtype==="button"||e.isComponent&&e.isXType("button"))&&!("minWidth"in t)&&(t=Ext.apply({minWidth:i},t)),t}),t.push(n),e.fbar=null),e.lbar&&(t.push(s(e.lbar,"left")),e.lbar=null),e.rbar&&(t.push(s(e.rbar,"right")),e.rbar=null),e.dockedItems?(Ext.isArray(e.dockedItems)||(e.dockedItems=[e.dockedItems]),e.dockedItems=e.dockedItems.concat(t)):e.dockedItems=t},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent(),this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var e=this,t;e.callParent(),e.initTools(),!e.preventHeader&&e.header!==!1&&e.updateHeader(),e.collapsed&&(e.isPlaceHolderCollapse()?(e.hidden=!0,e.placeholderCollapse(),t=e.collapsed,e.collapsed=!1):(e.beginCollapse(),e.addClsWithUI(e.collapsedCls))),t&&(e.collapsed=t)},initTools:function(){var e=this;e.tools=e.tools?Ext.Array.clone(e.tools):[],e.collapsible&&!e.hideCollapseTool&&e.header!==!1&&!e.preventHeader&&(e.collapseDirection=e.collapseDirection||e.headerPosition||"top",e.collapseTool=e.expandTool=Ext.widget({xtype:"tool",type:e.collapsed&&!e.isPlaceHolderCollapse()?"expand-"+e.getOppositeDirection(e.collapseDirection):"collapse-"+e.collapseDirection,handler:e.toggleCollapse,scope:e}),e.collapseFirst&&e.tools.unshift(e.collapseTool)),e.addTools(),e.closable&&(e.addClsWithUI("closable"),e.addTool({type:"close",handler:Ext.Function.bind(e.close,e,[])})),e.collapseTool&&!e.collapseFirst&&e.addTool(e.collapseTool)},addTools:Ext.emptyFn,close:function(){this.fireEvent("beforeclose",this)!==!1&&this.doClose()},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},updateHeader:function(e){var t=this,n=t.header,r=t.title,i=t.tools,s=t.icon||t.iconCls,o=t.headerPosition=="left"||t.headerPosition=="right";n!==!1&&(e||r||s||i&&i.length||t.collapsible&&!t.titleCollapse)?(n&&n.isHeader?n.show():(n=t.header=Ext.widget(Ext.apply({xtype:"header",title:r,titleAlign:t.titleAlign,orientation:o?"vertical":"horizontal",dock:t.headerPosition||"top",textCls:t.headerTextCls,iconCls:t.iconCls,icon:t.icon,baseCls:t.baseCls+"-header",tools:i,ui:t.ui,id:t.id+"_header",indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header)),t.addDocked(n,0),t.tools=n.tools),t.initHeaderAria()):n&&n.hide()},setUI:function(e){var t=this;t.callParent(arguments),t.header&&t.header.rendered&&t.header.setUI(e)},getContentTarget:function(){return this.body},getTargetEl:function(){var e=this;return e.body||e.protoBody||e.frameBody||e.el},isVisible:function(e){var t=this;return t.collapsed&&t.placeholder?t.placeholder.isVisible(e):t.callParent(arguments)},onHide:function(){var e=this;e.collapsed&&e.placeholder?e.placeholder.hide():e.callParent(arguments)},onShow:function(){var e=this;e.collapsed&&e.placeholder?(e.hidden=!0,e.placeholder.show()):e.callParent(arguments)},onRemoved:function(e){var t=this;t.callParent(arguments),t.placeholder&&!e&&t.ownerCt.remove(t.placeholder,!1)},addTool:function(e){e=[].concat(e);var t=this,n=t.header,r,i=e.length,s;for(r=0;r<i;r++)s=e[r],t.tools.push(s),n&&n.isHeader&&n.addTool(s);t.updateHeader()},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var e=this.getCollapsed();return e=="left"||e=="right"},collapsedVertical:function(){var e=this.getCollapsed();return e=="top"||e=="bottom"},restoreDimension:function(){var e=this.collapseDirection;return e==="top"||e==="bottom"?"height":"width"},getCollapsed:function(){var e=this;return e.collapsed===!0?e.collapseDirection:e.collapsed},getState:function(){var e=this,t=e.callParent(),n;return t=e.addPropertyToState(t,"collapsed"),e.collapsed&&(n=e.collapseMemento,n=n&&n.data,e.collapsedVertical()?(t&&delete t.height,n&&(t=e.addPropertyToState(t,"height",n.height))):(t&&delete t.width,n&&(t=e.addPropertyToState(t,"width",n.width)))),t},findReExpander:function(e){var t=this,n=Ext.Component,r=t.dockedItems.items,i=r.length,s,o;if(t.collapseMode=="mini")return;switch(e){case n.DIRECTION_TOP:case n.DIRECTION_BOTTOM:for(o=0;o<i;o++){s=r[o];if(!s.hidden&&s.isHeader&&(!s.dock||s.dock=="top"||s.dock=="bottom"))return s}break;case n.DIRECTION_LEFT:case n.DIRECTION_RIGHT:for(o=0;o<i;o++){s=r[o];if(!s.hidden&&s.isHeader&&(s.dock=="left"||s.dock=="right"))return s}break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},getReExpander:function(e){var t=this,n=e||t.collapseDirection,r=t.reExpander||t.findReExpander(n);return t.expandDirection=t.getOppositeDirection(n),r||(t.reExpander=r=t.createReExpander(n,{dock:n,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",ownerCt:t,ownerLayout:t.componentLayout}),t.dockedItems.insert(0,r)),r},createReExpander:function(e,t){var n=this,r=e=="left",i=e=="right",s=r||i,o,u=Ext.apply({hideMode:"offsets",title:n.title,orientation:s?"vertical":"horizontal",textCls:n.headerTextCls,icon:n.icon,iconCls:n.iconCls,baseCls:n.baseCls+"-header",ui:n.ui,frame:n.frame&&n.frameHeader,ignoreParentFrame:n.frame||n.overlapHeader,indicateDrag:n.draggable},t);return n.collapseMode=="mini"&&(s?u.width=1:u.height=1),n.hideCollapseTool||(o=r||i&&n.isPlaceHolderCollapse(),u[o?"items":"tools"]=[{xtype:"tool",type:"expand-"+n.getOppositeDirection(e),uiCls:["top"],handler:n.toggleCollapse,scope:n}]),u=new Ext.panel.Header(u),u.addClsWithUI(n.getHeaderCollapsedClasses(u)),u},getHeaderCollapsedClasses:function(e){var t=this,n=t.collapsedCls,r;return r=[n,n+"-"+e.dock],t.border&&(!t.frame||t.frame&&Ext.supports.CSS3BorderRadius)&&r.push(n+"-border-"+e.dock),r},beginCollapse:function(){var e=this,t=e.lastBox,n=e.rendered,r=e.collapseMemento||(e.collapseMemento=new Ext.util.Memento(e)),i=e.getSizeModel(),s;r.capture(["height","minHeight","width","minWidth"]),t&&r.capture(e.restoreDimension(),t,"last."),e.collapsedVertical()?(i.width.shrinkWrap&&(e.width=n?e.getWidth():e.width||e.minWidth||100),delete e.height,e.minHeight=0):e.collapsedHorizontal()&&(i.height.shrinkWrap&&(e.height=n?e.getHeight():e.height||e.minHeight||100),delete e.width,e.minWidth=0),e.ownerCt&&e.ownerCt.getLayout().beginCollapse(e),e.isPlaceHolderCollapse()||(e.header===(s=e.getReExpander())?(e.header.addClsWithUI(e.getHeaderCollapsedClasses(e.header)),e.header.rendered&&e.header.updateFrame()):s.el&&(s.el.show(),s.hidden=!1)),e.resizer&&e.resizer.disable()},beginExpand:function(){var e=this,t=e.lastBox,n=e.collapseMemento,r=this.restoreDimension(),i;n.restore(["minHeight","minWidth",r]),t&&n.restore(r,!0,t,"last."),e.ownerCt&&e.ownerCt.getLayout().beginExpand(e),e.isPlaceHolderCollapse()||(e.header===(i=e.getReExpander())?(e.header.removeClsWithUI(e.getHeaderCollapsedClasses(e.header)),e.header.rendered&&e.header.updateFrame()):(i.hidden=!0,i.el.hide())),e.resizer&&e.resizer.enable()},collapse:function(e,t){var n=this,r=e||n.collapseDirection,i=n.ownerCt;return n.isCollapsingOrExpanding?n:(arguments.length<2&&(t=n.animCollapse),n.collapsed||n.fireEvent("beforecollapse",n,e,t)===!1?n:i&&n.isPlaceHolderCollapse()?n.placeholderCollapse(e,t):(n.collapsed=r,n.beginCollapse(),n.fireHierarchyEvent("collapse"),n.doCollapseExpand(1,t)))},doCollapseExpand:function(e,t){var n=this,r=n.animCollapse,i=n.ownerLayout;return n.animCollapse=t,n.isCollapsingOrExpanding=e,i&&!t?i.onContentChange(n):n.updateLayout({isRoot:!0}),n.animCollapse=r,n},afterCollapse:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0,t.collapseTool&&t.collapseTool.setType("expand-"+t.getOppositeDirection(t.collapseDirection)),n&&e&&n.onContentChange(t),t.setHiddenDocked(),t.fireEvent("collapse",t)},setHiddenDocked:function(){var e=this,t=e.hiddenOnCollapse,n=e.getReExpander(),r=e.getDockedItems(),i=r.length,s=0,o;t.add(e.body);for(;s<i;s++)o=r[s],o&&o!==n&&o.el&&t.add(o.el);t.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var e=this.hiddenOnCollapse;e.setStyle("visibility"
,""),e.clear()},getPlaceholder:function(e){var t=this,n=e||t.collapseDirection,r=null,i=t.placeholder;if(!i){if(t.floatable||t.collapsible&&t.titleCollapse)r={click:{fn:t.floatable?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}};t.placeholder=i=Ext.widget(t.createReExpander(n,{id:t.id+"-placeholder",listeners:r}))}return i.placeholderFor||(i.isComponent||(t.placeholder=i=t.lookupComponent(i)),Ext.applyIf(i,{margins:t.margins,placeholderFor:t}),i.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+n+"-placeholder",t.collapsedCls])),i},placeholderCollapse:function(e,t){var n=this,r=n.ownerCt,i=e||n.collapseDirection,s=Ext.baseCSSPrefix+"border-region-slide-in",o=n.getPlaceholder(e);return n.isCollapsingOrExpanding=1,n.hidden=!0,n.collapsed=i,o.rendered?(o.el.dom.parentNode!==n.el.dom.parentNode&&n.el.dom.parentNode.insertBefore(o.el.dom,n.el.dom),o.hidden=!1,o.el.show(),r.updateLayout()):r.insert(r.items.indexOf(n),o),n.rendered?(n.el.setVisibilityMode(n.placeholderCollapseHideMode),t?(n.el.addCls(s),o.el.hide(),n.el.slideOut(i.substr(0,1),{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.el.removeCls(s),o.el.show().setStyle("display","none").slideIn(i.substr(0,1),{easing:"linear",duration:100,listeners:{afteranimate:function(){o.focus(),n.isCollapsingOrExpanding=0,n.fireEvent("collapse",n)}}})}}})):(n.el.hide(),n.isCollapsingOrExpanding=0,n.fireEvent("collapse",n))):(n.isCollapsingOrExpanding=0,n.fireEvent("collapse",n)),n},floatCollapsedPanel:function(){function a(n){if(!e.isDestroyed){var r=e.el.getRegion().union(t.el.getRegion()).adjust(1,-1,-1,1);r.contains(n.getPoint())||e.slideOutFloatedPanel()}}var e=this,t=e.placeholder,n=t.getBox(!0),r,i=Ext.baseCSSPrefix+"border-region-slide-in",s=e.collapsed,o=e.ownerCt||e,u;if(e.el.hasCls(i)){e.slideOutFloatedPanel();return}if(e.isSliding)return;e.isSliding=!0,e.placeholder.el.hide(),e.placeholder.hidden=!0,e.el.show(),e.hidden=!1,e.collapsed=!1,o.updateLayout(),r=e.getBox(!0),e.placeholder.el.show(),e.placeholder.hidden=!1,e.el.hide(),e.hidden=!0,e.collapsed=s,o.updateLayout(),e.placeholderMouseMon=t.el.monitorMouseLeave(500,a),e.panelMouseMon=e.el.monitorMouseLeave(500,a),e.el.addCls(i),e.collapseTool&&e.collapseTool.el.hide();switch(e.collapsed){case"top":e.el.setLeftTop(n.x,n.y+n.height-1),u="t";break;case"right":e.el.setLeftTop(n.x-r.width+1,n.y),u="r";break;case"bottom":e.el.setLeftTop(n.x,n.y-r.height+1),u="b";break;case"left":e.el.setLeftTop(n.x+n.width-1,n.y),u="l"}e.floatedFromCollapse=e.collapsed,e.collapsed=e.hidden=!1,e.el.slideIn(u,{preserveScroll:!0,listeners:{afteranimate:function(){e.isSliding=!1}}})},isLayoutRoot:function(){return this.floatedFromCollapse?!0:this.callParent()},slideOutFloatedPanel:function(){var e=this,t=this.el,n;if(e.isSliding)return;e.isSliding=!0,e.slideOutFloatedPanelBegin(),typeof e.collapsed=="string"&&(n=e.collapsed.charAt(0)),t.slideOut(n,{preserveScroll:!0,listeners:{afteranimate:function(){e.slideOutFloatedPanelEnd(),e.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in"),e.isSliding=!1}}})},slideOutFloatedPanelBegin:function(){var e=this,t=this.el;e.collapsed=e.floatedFromCollapse,e.hidden=!0,e.floatedFromCollapse=null,t.un(e.panelMouseMon),e.placeholder.el.un(e.placeholderMouseMon)},slideOutFloatedPanelEnd:function(){this.collapseTool&&this.collapseTool.el.show()},expand:function(e){var t=this;return t.isCollapsingOrExpanding?t:(arguments.length||(e=t.animCollapse),!t.collapsed&&!t.floatedFromCollapse?t:t.fireEvent("beforeexpand",t,e)===!1?t:t.isPlaceHolderCollapse()?t.placeholderExpand(e):(t.restoreHiddenDocked(),t.beginExpand(),t.collapsed=!1,t.fireHierarchyEvent("expand"),t.doCollapseExpand(2,e)))},placeholderExpand:function(e){var t=this,n=t.collapsed,r=Ext.baseCSSPrefix+"border-region-slide-in",i,s,o;return t.floatedFromCollapse&&(s=t.getPosition(!0),t.slideOutFloatedPanelBegin(),t.slideOutFloatedPanelEnd()),t.isCollapsingOrExpanding=2,t.placeholder.hidden=!0,t.placeholder.el.hide(),t.collapsed=!1,t.show(),e?s?(i=t.el.getXY(),t.el.setLeftTop(s[0],s[1]),t.el.moveTo(i[0],i[1],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.el.removeCls(r),t.isCollapsingOrExpanding=0,t.fireEvent("expand",t)}}})):(t.hidden=!0,t.el.addCls(r),t.el.hide(),t.collapsed=n,t.placeholder.show(),o=n.substr(0,1),t.hidden=!1,t.el.slideIn(o,{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.collapsed=!1,t.el.removeCls(r),t.placeholder.hide(),t.isCollapsingOrExpanding=0,t.fireEvent("expand",t)}}})):(t.isCollapsingOrExpanding=0,t.fireEvent("expand",t)),t},afterExpand:function(e){var t=this,n=t.ownerLayout;t.isCollapsingOrExpanding=0,t.collapseTool&&t.collapseTool.setType("collapse-"+t.collapseDirection),n&&e&&n.onContentChange(t),t.fireEvent("expand",t)},setBorder:function(e,t){if(t)return;var n=this,r=n.header;e?e=Ext.Element.unitizeBox(e===!0?1:e):e=0,r&&(r.isHeader?r.setBorder(e):r.border=e),n.rendered&&n.bodyBorder!==!1&&n.body.setStyle("border-width",e),n.updateLayout(),n.border=e},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},ghostTools:function(){var e=[],t=this.header,n=t?t.query("tool[hidden=false]"):[],r,i,s;if(n.length){r=0,i=n.length;for(;r<i;r++)s=n[r],e.push({type:s.type})}else e=[{type:"placeholder"}];return e},ghost:function(e){var t=this,n=t.ghostPanel,r=t.getBox(),i;return n?n.el.show():(n=new Ext.panel.Panel({renderTo:document.body,floating:{shadow:!1},frame:t.frame&&!t.alwaysFramed,alwaysFramed:t.alwaysFramed,overlapHeader:t.overlapHeader,headerPosition:t.headerPosition,baseCls:t.baseCls,cls:t.baseCls+"-ghost "+(e||"")}),t.ghostPanel=n),n.floatParent=t.floatParent,t.floating?n.setZIndex(Ext.Number.from(t.el.getStyle("zIndex"),0)):n.toFront(),!t.preventHeader&&t.header!==!1&&(i=n.header,i&&(i.suspendLayouts(),Ext.Array.forEach(i.query("tool"),i.remove,i),i.resumeLayouts()),n.addTool(t.ghostTools()),n.setTitle(t.title),n.setIconCls(t.iconCls)),n.setPagePosition(r.x,r.y),n.setSize(r.width,r.height),t.el.hide(),n},unghost:function(e,t){var n=this;if(!n.ghostPanel)return;e!==!1&&(n.el.show(),t!==!1&&(n.setPagePosition(n.ghostPanel.el.getXY()),n.hideMode=="offsets"&&delete n.el.hideModeStyles),Ext.defer(n.focus,10,n)),n.ghostPanel.el.hide()},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(e){this.collapsed&&(e.disabled=!0),this.callParent([e])}},function(){this.prototype.animCollapse=Ext.enableFx}),Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0,constrain:!0},focusOnToFront:!1,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:!0,frameHeader:!1,initComponent:function(){var e=this;e.floating=Ext.apply({},{shadow:e.shadow},e.self.prototype.floating),e.callParent(arguments),e.constrain=e.constrain||e.constrainPosition},showAt:function(e){var t=this;this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0))},showBy:function(e,t){this.showAt(this.el.getAlignToXY(e,t||this.defaultAlign))},initDraggable:function(){var e=this;e.draggable={el:e.getDragEl(),delegate:e.header.el,constrain:e,constrainTo:e.el.getScopeParent()},Ext.Component.prototype.initDraggable.call(e)},ghost:undefined,unghost:undefined}),Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var e=this;e.callParent(arguments),e.lastActive=new Date,e.setTarget(e.target),e.origAnchor=e.anchor},onRender:function(e,t){var n=this;n.callParent(arguments),n.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+n.getAnchorPosition(),n.anchorEl=n.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+n.anchorCls})},setTarget:function(e){var t=this,n=Ext.get(e),r;t.target&&(r=Ext.get(t.target),t.mun(r,"mouseover",t.onTargetOver,t),t.mun(r,"mouseout",t.onTargetOut,t),t.mun(r,"mousemove",t.onMouseMove,t)),t.target=n,n&&t.mon(n,{freezeEvent:!0,mouseover:t.onTargetOver,mouseout:t.onTargetOut,mousemove:t.onMouseMove,scope:t}),t.anchor&&(t.anchorTarget=t.target)},onMouseMove:function(e){var t=this,n=t.delegate?e.getTarget(t.delegate):t.triggerElement=!0,r;n?(t.targetXY=e.getXY(),n===t.triggerElement?!t.hidden&&t.trackMouse&&(r=t.getTargetXY(),t.constrainPosition&&(r=t.el.adjustForConstraints(r,t.el.getScopeParent())),t.setPagePosition(r)):(t.hide(),t.lastActive=new Date(0),t.onTargetOver(e))):!t.closable&&t.isVisible()&&t.autoHide!==!1&&t.hide()},getTargetXY:function(){var e=this,t,n,r,i,s,o,u,a,f,l,c,h;e.delegate&&(e.anchorTarget=e.triggerElement);if(e.anchor){e.targetCounter++,n=e.getOffsets(),r=e.anchorToTarget&&!e.trackMouse?e.el.getAlignToXY(e.anchorTarget,e.getAnchorAlign()):e.targetXY,i=Ext.Element.getViewWidth()-5,s=Ext.Element.getViewHeight()-5,o=document.documentElement,u=document.body,a=(o.scrollLeft||u.scrollLeft||0)+5,f=(o.scrollTop||u.scrollTop||0)+5,l=[r[0]+n[0],r[1]+n[1]],c=e.getSize(),h=e.constrainPosition,e.anchorEl.removeCls(e.anchorCls);if(e.targetCounter<2&&h){if(l[0]<a)return e.anchorToTarget&&(e.defaultAlign="l-r",e.mouseOffset&&(e.mouseOffset[0]*=-1)),e.anchor="left",e.getTargetXY();if(l[0]+c.width>i)return e.anchorToTarget&&(e.defaultAlign="r-l",e.mouseOffset&&(e.mouseOffset[0]*=-1)),e.anchor="right",e.getTargetXY();if(l[1]<f)return e.anchorToTarget&&(e.defaultAlign="t-b",e.mouseOffset&&(e.mouseOffset[1]*=-1)),e.anchor="top",e.getTargetXY();if(l[1]+c.height>s)return e.anchorToTarget&&(e.defaultAlign="b-t",e.mouseOffset&&(e.mouseOffset[1]*=-1)),e.anchor="bottom",e.getTargetXY()}return e.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+e.getAnchorPosition(),e.anchorEl.addCls(e.anchorCls),e.targetCounter=0,l}return t=e.getMouseOffset(),e.targetXY?[e.targetXY[0]+t[0],e.targetXY[1]+t[1]]:t},getMouseOffset:function(){var e=this,t=e.anchor?[0,0]:[15,18];return e.mouseOffset&&(t[0]+=e.mouseOffset[0],t[1]+=e.mouseOffset[1]),t},getAnchorPosition:function(){var e=this,t;e.anchor?e.tipAnchor=e.anchor.charAt(0):(t=e.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/),e.tipAnchor=t[1].charAt(0));switch(e.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var e=this,t,n,r=e.getAnchorPosition().charAt(0);if(e.anchorToTarget&&!e.trackMouse)switch(r){case"t":n=[0,9];break;case"b":n=[0,-13];break;case"r":n=[-13,0];break;default:n=[9,0]}else switch(r){case"t":n=[-15-e.anchorOffset,30];break;case"b":n=[-19-e.anchorOffset,-13-e.el.dom.offsetHeight];break;case"r":n=[-15-e.el.dom.offsetWidth,-13-e.anchorOffset];break;default:n=[25,-13-e.anchorOffset]}return t=e.getMouseOffset(),n[0]+=t[0],n[1]+=t[1],n},onTargetOver:function(e){var t=this,n;if(t.disabled||e.within(t.target.dom,!0))return;n=e.getTarget(t.delegate),n&&(t.triggerElement=n,t.clearTimer("hide"),t.targetXY=e.getXY(),t.delayShow())},delayShow:function(){var e=this;e.hidden&&!e.showTimer?Ext.Date.getElapsed(e.lastActive)<e.quickShowInterval?e.show():e.showTimer=Ext.defer(e.show,e.showDelay,e):!e.hidden&&e.autoHide!==!1&&e.show()},onShowVeto:function(){this.callParent(),this.clearTimer("show")},onTargetOut:function(e){var t=this;if(t.disabled||e.within(t.target.dom,!0))return;t.clearTimer("show"),t.autoHide!==!1&&t.delayHide()},delayHide:function(){var e=this;!e.hidden&&!e.hideTimer&&(e.hideTimer=Ext.defer(e.hide,e.hideDelay,e))},hide:function(){var e=this;e.clearTimer("dismiss"),e.lastActive=new Date,e.anchorEl&&e.anchorEl.hide(),e.callParent(arguments),delete e.triggerElement},show:function(){var e=this;this.callParent(),this.hidden===!1&&(e.setPagePosition(-1e4,-1e4),e.anchor&&(e.anchor=e.origAnchor),e.calledFromShowAt||e.showAt(e.getTargetXY()),e.anchor?(e.syncAnchor(),e.anchorEl.show()):e.anchorEl.hide())},showAt:function(e){var t=this;t.lastActive=new Date,t.clearTimers(),t.calledFromShowAt=!0,t.isVisible()||this.callParent(arguments),t.isVisible()&&(t.setPagePosition(e[0],e[1]),(t.constrainPosition||t.constrain)&&t.doConstrain(),t.toFront(!0),t.el.sync(!0),t.dismissDelay&&t.autoHide!==!1&&(t.dismissTimer=Ext.defer(t.hide,t.dismissDelay,t)),t.anchor?(t.syncAnchor(),t.anchorEl.isVisible()||t.anchorEl.show()):t.anchorEl.hide()),delete t.calledFromShowAt},syncAnchor:function(){var e=this,t,n,r;switch(e.tipAnchor.charAt(0)){case"t":t="b",n="tl",r=[20+e.anchorOffset,1];break;case"r":t="l",n="tr",r=[-1,12+e.anchorOffset];break;case"b":t="t",n="bl",r=[20+e.anchorOffset,-1];break;default:t="r",n="tl",r=[1,12+e.anchorOffset]}e.anchorEl.alignTo(e.el,t+"-"+n,r),e.anchorEl.setStyle("z-index",parseInt(e.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(e,t){var n=this;n.callParent(arguments),n.anchor&&n.syncAnchor()},clearTimer:function(e){e+="Timer",clearTimeout(this[e]),delete this[e]},clearTimers:function(){var e=this;e.clearTimer("show"),e.clearTimer("dismiss"),e.clearTimer("hide")},onShow:function(){var e=this;e.callParent(),e.mon(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onHide:function(){var e=this;e.callParent(),e.mun(Ext.getDoc(),"mousedown",e.onDocMouseDown,e)},onDocMouseDown:function(e){var t=this;!t.closable&&!e.within(t.el.dom)&&(t.disable(),Ext.defer(t.doEnable,100,t))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},beforeDestroy:function(){var e=this;e.clearTimers(),Ext.destroy(e.anchorEl),delete e.anchorEl,delete e.target,delete e.anchorTarget,delete e.triggerElement,e.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this),this.callParent()}}),Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){var e=this;e.target=e.target||Ext.getDoc(),e.targets=e.targets||{},e.callParent()},register:function(e){var t=Ext.isArray(e)?e:arguments,n=0,r=t.length,i,s,o;for(;n<r;n++){e=t[n],i=e.target;if(i)if(Ext.isArray(i))for(s=0,o=i.length;s<o;s++)this.targets[Ext.id(i[s])]=e;else this.targets[Ext.id(i)]=e}},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this,n=t.activeTarget;e=Ext.get(e).dom,t.isVisible()?n&&n.el==e&&t.hide():n&&n.el==e&&t.clearTimer("show")},getTipCfg:function(e){var t=e.getTarget(),n=t.title,r;if(this.interceptTitles&&n&&Ext.isString(n))return t.qtip=n,t.removeAttribute("title"),e.preventDefault(),{text:n};r=this.tagConfig,t=e.getTarget("["+r.namespace+r.attribute+"]");if(t)return{target:t,text:t.getAttribute(r.namespace+r.attribute)}},onTargetOver:function(e){var t=this,n=e.getTarget(t.delegate),r,i,s,o,u,a,f,l,c,h,p;if(t.disabled)return;t.targetXY=e.getXY();if(!n||n.nodeType!==1||n==document.documentElement||n==document.body)return;if(t.activeTarget&&(n==t.activeTarget.el||Ext.fly(t.activeTarget.el).contains(n))){t.clearTimer("hide"),t.show();return}if(n){l=t.targets;for(p in l)if(l.hasOwnProperty(p)){h=l[p],c=Ext.fly(h.target);if(c&&(c.dom===n||c.contains(n))){s=c.dom;break}}if(s){t.activeTarget=t.targets[s.id],t.activeTarget.el=n,t.anchor=t.activeTarget.anchor,t.anchor&&(t.anchorTarget=n),r=Ext.isDefined(t.activeTarget.showDelay),r&&(i=t.showDelay,t.showDelay=t.activeTarget.showDelay),t.delayShow(),r&&(t.showDelay=i);return}}s=Ext.fly(n,"_quicktip-target"),o=t.tagConfig,u=o.namespace,a=t.getTipCfg(e),a&&(a.target&&(n=a.target,s=Ext.fly(n,"_quicktip-target")),f=s.getAttribute(u+o.hide),t.activeTarget={el:n,text:a.text,width:+s.getAttribute(u+o.width)||null,autoHide:f!="user"&&f!=="false",title:s.getAttribute(u+o.title),cls:s.getAttribute(u+o.cls),align:s.getAttribute(u+o.align)},t.anchor=s.getAttribute(u+o.anchor),t.anchor&&(t.anchorTarget=n),r=Ext.isDefined(t.activeTarget.showDelay),r&&(i=t.showDelay,t.showDelay=t.activeTarget.showDelay),t.delayShow(),r&&(t.showDelay=i))},onTargetOut:function(e){var t=this,n=t.activeTarget,r,i;if(n&&e.within(t.activeTarget.el)&&!t.getTipCfg(e))return;t.clearTimer("show"),delete t.activeTarget,t.autoHide!==!1&&(r=n&&Ext.isDefined(n.hideDelay),r&&(i=t.hideDelay,t.hideDelay=n.hideDelay),t.delayHide(),r&&(t.hideDelay=i))},showAt:function(e){var t=this,n=t.activeTarget,r;n&&(t.rendered||(t.render(Ext.getBody()),t.activeTarget=n),t.suspendLayouts(),n.title?(t.setTitle(n.title),t.header.show()):t.header.hide(),t.update(n.text),t.autoHide=n.autoHide,t.dismissDelay=n.dismissDelay||t.dismissDelay,n.mouseOffset&&(e[0]+=n.mouseOffset[0],e[1]+=n.mouseOffset[1]),r=t.lastCls,r&&(t.removeCls(r),delete t.lastCls),r=n.cls,r&&(t.addCls(r),t.lastCls=r),t.setWidth(n.width),t.anchor?t.constrainPosition=!1:n.align?(e=t.el.getAlignToXY(n.el,n.align),t.constrainPosition=!1):t.constrainPosition=!0,t.resumeLayouts(!0)),t.callParent([e])},hide:function(){delete this.activeTarget,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",function(){var e,t=!1;return{requires:["Ext.tip.QuickTip"],singleton:!0,alternateClassName:"Ext.QuickTips",init:function(n,r){if(!e){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(n,r)});return}var i=Ext.apply({disabled:t,id:"ext-quicktips-tip"},r),s=i.className,o=i.xtype;s?delete i.className:o&&(s="widget."+o,delete i.xtype),n!==!1&&(i.renderTo=document.body),e=Ext.create(s||"Ext.tip.QuickTip",i)}},destroy:function(){if(e){var t;e.destroy(),e=t}},ddDisable:function(){e&&!t&&e.disable()},ddEnable:function(){e&&!t&&e.enable()},enable:function(){e&&e.enable(),t=!1},disable:function(){e&&e.disable(),t=!0},isEnabled:function(){return e!==undefined&&!e.disabled},getQuickTip:function(){return e},register:function(){e.register.apply(e,arguments)},unregister:function(){e.unregister.apply(e,arguments)},tips:function(){e.register.apply(e,arguments)}}}()),Ext.define("Ext.app.EventBus",{requires:["Ext.util.Event","Ext.Component"],mixins:{observable:"Ext.util.Observable"},constructor:function(){this.mixins.observable.constructor.call(this),this.bus={};var e=this;Ext.override(Ext.Component,{fireEvent:function(t){return Ext.util.Observable.prototype.fireEvent.apply(this,arguments)!==!1?e.dispatch.call(e,t,this,arguments):!1}})},dispatch:function(e,t,n){var r=this.bus,i=r[e],s,o,u,a,f,l,c;if(i)for(s in i)if(i.hasOwnProperty(s)&&t.is(s)){o=i[s];for(u in o)if(o.hasOwnProperty(u)){a=o[u];for(l=0,c=a.length;l<c;l++){f=a[l];if(f.fire.apply(f,Array.prototype.slice.call(n,1))===!1)return!1}}}return!0},control:function(e,t,n){var r=this.bus,i,s,o,u,a,f,l,c,h,p;if(Ext.isString(e)){u=e,e={},e[u]=t,this.control(e,null,n);return}i=Ext.util.Observable.HasListeners.prototype;for(u in e)if(e.hasOwnProperty(u)){h=e[u]||{};for(p in h)h.hasOwnProperty(p)&&(a={},f=h[p],l=n,c=new Ext.util.Event(n,p),Ext.isObject(f)&&(a=f,f=a.fn,l=a.scope||n,delete a.fn,delete a.scope),c.addListener(f,l,a),i[p]=1,s=r[p]||(r[p]={}),s=s[u]||(s[u]={}),o=s[n.id]||(s[n.id]=[]),o.push(c))}}}),Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.ModelManager","Ext.data.Model","Ext.data.StoreManager","Ext.tip.QuickTipManager","Ext.ComponentManager","Ext.app.EventBus"],scope:undefined,enableQuickTips:!0,appFolder:"app",autoCreateViewport:!1,constructor:function(e){e=e||{},Ext.apply(this,e);var t=this,n=e.requires||[],r,i,s,o,u,a,f;Ext.Loader.setPath(t.name,t.appFolder);if(t.paths){u=t.paths;for(f in u)u.hasOwnProperty(f)&&(a=u[f],Ext.Loader.setPath(f,a))}t.callParent(arguments),t.eventbus=new Ext.app.EventBus,r=Ext.Array.from(t.controllers),i=r&&r.length,t.controllers=new Ext.util.MixedCollection,t.autoCreateViewport&&n.push(t.getModuleClassName("Viewport","view"));for(s=0;s<i;s++)n.push(t.getModuleClassName(r[s],"controller"));Ext.require(n),Ext.onReady(function(){t.init(t);for(s=0;s<i;s++)o=t.getController(r[s]),o.init(t);t.onBeforeLaunch.call(t)},t)},control:function(e,t,n){this.eventbus.control(e,t,n)},launch:Ext.emptyFn,onBeforeLaunch:function(){var e=this,t,n,r,i;e.enableQuickTips&&Ext.tip.QuickTipManager.init(),e.autoCreateViewport&&e.getView("Viewport").create(),e.launch.call(this.scope||this),e.launched=!0,e.fireEvent("launch",this),t=e.controllers.items,r=t.length;for(n=0;n<r;n++)i=t[n],i.onLaunch(this)},getModuleClassName:function(e,t){return e.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(e)||Ext.Loader.isAClassNameWithAKnownPrefix(e))?e:this.name+"."+t+"."+e},getController:function(e){var t=this.controllers.get(e);return t||(t=Ext.create(this.getModuleClassName(e,"controller"),{application:this,id:e}),this.controllers.add(t)),t},getStore:function(e){var t=Ext.StoreManager.get(e);return t||(t=Ext.create(this.getModuleClassName(e,"store"),{storeId:e})),t},getModel:function(e){return e=this.getModuleClassName(e,"model"),Ext.ModelManager.getModel(e)},getView:function(e){return e=this.getModuleClassName(e,"view"),Ext.ClassManager.get(e)}}),Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",arrowCls:"split",split:!0,initComponent:function(){this.callParent(),this.addEvents("arrowclick")},setArrowHandler:function(e,t){this.arrowHandler=e,this.scope=t},onClick:function(e,t){var n=this;e.preventDefault(),n.disabled||(n.overMenuTrigger?(n.maybeShowMenu(),n.fireEvent("arrowclick",n,e),n.arrowHandler&&n.arrowHandler.call(n.scope||n,n,e)):(n.doToggle(),n.fireHandler(e)))}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(e){var t=this,n="";return e&&t.showText===!0?(t.prependText&&(n+=t.prependText),n+=e.text,n):t.text},setActiveItem:function(e,t){var n=this;Ext.isObject(e)||(e=n.menu.getComponent(e)),e&&(n.rendered?(n.setText(n.getButtonText(e)),n.setIconCls(e.iconCls)):(n.text=n.getButtonText(e),n.iconCls=e.iconCls),n.activeItem=e,e.checked||e.setChecked(!0,!1),n.forceIcon&&n.setIconCls(n.forceIcon),t||n.fireEvent("change",n,e))},getActiveItem:function(){return this.activeItem},initComponent:function(){var e=this,t=0,n,r,i,s;e.addEvents("change"),e.changeHandler&&(e.on("change",e.changeHandler,e.scope||e),delete e.changeHandler),n=(e.menu.items||[]).concat(e.items||[]),e.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},e.menu),i=n.length;for(r=0;r<i;r++)s=n[r],s=Ext.applyIf({group:e.id,itemIndex:r,checkHandler:e.checkHandler,scope:e,checked:s.checked||!1},s),e.menu.items.push(s),s.checked&&(t=r);e.itemCount=e.menu.items.length,e.callParent(arguments),e.on("click",e.toggleSelected,e),e.setActiveItem(t,e),e.width&&e.showText&&e.addCls(Ext.baseCSSPrefix+"cycle-fixed-width")},checkHandler:function(e,t){t&&this.setActiveItem(e)},toggleSelected:function(){var e=this,t=e.menu,n;n=e.activeItem.next(":not([disabled])")||t.items.getAt(0),n.setChecked(!0)}}),Ext.define("Ext.chart.Callout",{constructor:function(e){e.callouts&&(e.callouts.styles=Ext.applyIf(e.callouts.styles||{},{color:"#000",font:"11px Helvetica, sans-serif"}),this.callouts=Ext.apply(this.callouts||{},e.callouts),this.calloutsArray=[])},renderCallouts:function(){if(!this.callouts)return;var e=this,t=e.items,n=e.chart.animate,r=e.callouts,i=r.styles,s=e.calloutsArray,o=e.chart.store,u=o.getCount(),a=t.length/u,f=[],l,c,h,p,d,v,m,g;for(l=0,c=0;l<u;l++)for(h=0;h<a;h++){d=t[c],v=s[c],m=o.getAt(l),g=r.filter(m);if(!g&&!v){c++;continue}v||(s[c]=v=e.onCreateCallout(m,d,l,g,h,c));for(p in v)v[p]&&v[p].setAttributes&&v[p].setAttributes(i,!0);if(!g)for(p in v)v[p]&&(v[p].setAttributes?v[p].setAttributes({hidden:!0},!0):v[p].setVisible&&v[p].setVisible(!1));r.renderer(v,m),e.onPlaceCallout(v,m,d,l,g,n,h,c,f),f.push(v),c++}this.hideCallouts(c)},onCreateCallout:function(e,t,n,r){var i=this,s=i.calloutsGroup,o=i.callouts,u=o.styles,a=u.width,f=u.height,l=i.chart,c=l.surface,h={lines:!1};return h.lines=c.add(Ext.apply({},{type:"path",path:"M0,0",stroke:i.getLegendColor()||"#555"},u)),o.items&&(h.panel=new Ext.Panel({style:"position: absolute;",width:a,height:f,items:o.items,renderTo:l.el})),h},hideCallouts:function(e){var t=this.calloutsArray,n=t.length,r,i;while(n-->e){r=t[n];for(i in r)r[i]&&r[i].hide(!0)}}}),Ext.define("Ext.layout.component.Draw",{alias:"layout.draw",extend:"Ext.layout.component.Auto",type:"draw",measureContentWidth:function(e){var t=e.target,n=e.getPaddingInfo(),r=this.getBBox(e);return t.viewBox?e.heightModel.shrinkWrap?n.width:r.width/r.height*(e.getProp("contentHeight")-n.height)+n.width:t.autoSize?r.width+n.width:r.x+r.width+n.width},measureContentHeight:function(e){var t=e.target,n=e.getPaddingInfo(),r=this.getBBox(e);return e.target.viewBox?e.widthModel.shrinkWrap?n.height:r.height/r.width*(e.getProp("contentWidth")-n.width)+n.height:t.autoSize?r.height+n.height:r.y+r.height+n.height},getBBox:function(e){var t=e.surfaceBBox;return t||(t=e.target.surface.items.getBBox(),t.width===-Infinity&&t.height===-Infinity&&(t.width=t.height=t.x=t.y=0),e.surfaceBBox=t),t},publishInnerWidth:function(e,t){e.setContentWidth(t-e.getFrameInfo().width,!0)},publishInnerHeight:function(e,t){e.setContentHeight(t-e.getFrameInfo().height,!0)},finishedLayout:function(e){var t=e.props,n=e.getPaddingInfo();this.owner.setSurfaceSize(t.contentWidth-n.width,t.contentHeight-n.height),this.callParent(arguments)}}),Ext.define("Ext.draw.CompositeSprite",{extend:"Ext.util.MixedCollection",mixins:{animate:"Ext.util.Animate"},autoDestroy:!1,isCompositeSprite:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.addEvents("mousedown","mouseup","mouseover","mouseout","click"),t.id=Ext.id(null,"ext-sprite-group-"),t.callParent()},onClick:function(e){this.fireEvent("click",e)},onMouseUp:function(e){this.fireEvent("mouseup",e)},onMouseDown:function(e){this.fireEvent("mousedown",e)},onMouseOver:function(e){this.fireEvent("mouseover",e)},onMouseOut:function(e){this.fireEvent("mouseout",e)},attachEvents:function(e){var t=this;e.on({scope:t,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseover:t.onMouseOver,mouseout:t.onMouseOut,click:t.onClick})},add:function(e,t){var n=this.callParent(arguments);return this.attachEvents(n),n},insert:function(e,t,n){return this.callParent(arguments)},remove:function(e){var t=this;return e.un({scope:t,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mouseover:t.onMouseOver,mouseout:t.onMouseOut,click:t.onClick}),t.callParent(arguments)},getBBox:function(){var e=0,t,n,r=this.items,i=this.length,s=Infinity,o=s,u=-s,a=s,f=-s,l,c;for(;e<i;e++)t=r[e],t.el&&!t.bboxExcluded&&(n=t.getBBox(),o=Math.min(o,n.x),a=Math.min(a,n.y),u=Math.max(u,n.height+n.y),f=Math.max(f,n.width+n.x));return{x:o,y:a,height:u-a,width:f-o}},setAttributes:function(e,t){var n=0,r=this.items,i=this.length;for(;n<i;n++)r[n].setAttributes(e,t);return this},hide:function(e){var t=0,n=this.items,r=this.length;for(;t<r;t++)n[t].hide(e);return this},show:function(e){var t=0,n=this.items,r=this.length;for(;t<r;t++)n[t].show(e);return this},redraw:function(){var e=this,t=0,n=e.items,r=e.getSurface(),i=e.length;if(r)for(;t<i;t++)r.renderItem(n[t]);return e},setStyle:function(e){var t=0,n=this.items,r=this.length,i,s;for(;t<r;t++)i=n[t],s=i.el,s&&s.setStyle(e)},addCls:function(e){var t=0,n=this.items,r=this.getSurface(),i=this.length;if(r)for(;t<i;t++)r.addCls(n[t],e)},removeCls:function(e){var t=0,n=this.items,r=this.getSurface(),i=this.length;if(r)for(;t<i;t++)r.removeCls(n[t],e)},getSurface:function(){var e=this.first();return e?e.surface:null},destroy:function(){var e=this,t=e.getSurface(),n=e.autoDestroy,r;if(t)while(e.getCount()>0)r=e.first(),e.remove(r),t.remove(r,n);e.clearListeners()}}),Ext.define("Ext.draw.Surface",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.draw.CompositeSprite"],uses:["Ext.draw.engine.Svg","Ext.draw.engine.Vml","Ext.draw.engine.SvgExporter","Ext.draw.engine.ImageExporter"],separatorRe:/[, ]+/,statics:{create:function(e,t){t=t||["Svg","Vml"];var n=0,r=t.length,i;for(;n<r;n++)if(Ext.supports[t[n]]!==!1)return Ext.create("Ext.draw.engine."+t[n],e);return!1},save:function(e,t){t=t||{};var n={"image/png":"Image","image/jpeg":"Image","image/svg+xml":"Svg"},r=n[t.type]||"Svg",i=Ext.draw.engine[r+"Exporter"];return i.generate(e,t)}},availableAttrs:{blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,"dominant-baseline":"auto",fill:"none","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:"",height:0,hidden:!1,href:"http://sencha.com/",opacity:1,path:"M0,0",radius:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"none","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank",text:"","text-anchor":"middle",title:"Ext Draw",width:0,x:0,y:0,zIndex:0},container:undefined,height:352,width:512,x:0,y:0,orderSpritesByZIndex:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.domRef=Ext.getDoc().dom,t.customAttributes={},t.addEvents("mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","click","dblclick"),t.mixins.observable.constructor.call(t),t.getId(),t.initGradients(),t.initItems(),t.renderTo&&(t.render(t.renderTo),delete t.renderTo),t.initBackground(e.background)},initSurface:Ext.emptyFn,renderItem:Ext.emptyFn,renderItems:Ext.emptyFn,setViewBox:function(e,t,n,r){isFinite(e)&&isFinite(t)&&isFinite(n)&&isFinite(r)&&(this.viewBox={x:e,y:t,width:n,height:r},this.applyViewBox())},addCls:Ext.emptyFn,removeCls:Ext.emptyFn,setStyle:Ext.emptyFn,initGradients:function(){if(this.hasOwnProperty("gradients")){var e=this.gradients,t=e.length,n=this.addGradient,r;if(e)for(r=0;r<t;r++)if(n.call(this,e[r],r,t)===!1)break}},initItems:function(){var e=this.items;this.items=new Ext.draw.CompositeSprite,this.items.autoDestroy=!0,this.groups=new Ext.draw.CompositeSprite,e&&this.add(e)},initBackground:function(e){var t=this,n=t.width,r=t.height,i,s,o;Ext.isString(e)&&(e={fill:e}),e&&(e.gradient?(s=e.gradient,i=s.id,t.addGradient(s),t.background=t.add({type:"rect",x:0,y:0,width:n,height:r,fill:"url(#"+i+")",zIndex:-1})):e.fill?t.background=t.add({type:"rect",x:0,y:0,width:n,height:r,fill:e.fill,zIndex:-1}):e.image&&(t.background=t.add({type:"image",x:0,y:0,width:n,height:r,src:e.image,zIndex:-1})),t.background.bboxExcluded=!0)},setSize:function(e,t){this.applyViewBox()},scrubAttrs:function(e){var t,n={},r={},i=e.attr;for(t in i)this.translateAttrs.hasOwnProperty(t)?(n[this.translateAttrs[t]]=i[t],r[this.translateAttrs[t]]=!0):this.availableAttrs.hasOwnProperty(t)&&!r[t]&&(n[t]=i[t]);return n},onClick:function(e){this.processEvent("click",e)},onDblClick:function(e){this.processEvent("dblclick",e)},onMouseUp:function(e){this.processEvent("mouseup",e)},onMouseDown:function(e){this.processEvent("mousedown",e)},onMouseOver:function(e){this.processEvent("mouseover",e)},onMouseOut:function(e){this.processEvent("mouseout",e)},onMouseMove:function(e){this.fireEvent("mousemove",e)},onMouseEnter:Ext.emptyFn,onMouseLeave:Ext.emptyFn,addGradient:Ext.emptyFn,add:function(){var e=Array.prototype.slice.call(arguments),t,n,r=e.length>1,i,s,o,u,a;if(r||Ext.isArray(e[0])){i=r?e:e[0],s=[];for(o=0,u=i.length;o<u;o++)a=i[o],a=this.add(a),s.push(a);return s}return t=this.prepareItems(e[0],!0)[0],this.insertByZIndex(t),this.onAdd(t),t},insertByZIndex:function(e){var t=this,n=t.items.items,r=n.length,i=Math.ceil,s=e.attr.zIndex,o=r,u=o-1,a=0,f;if(t.orderSpritesByZIndex&&r&&s<n[u].attr.zIndex){while(a<=u){o=i((a+u)/2),f=n[o].attr.zIndex;if(f>s)u=o-1;else{if(!(f<s))break;a=o+1}}while(o<r&&n[o].attr.zIndex<=s)o++}return t.items.insert(o,e),o},onAdd:function(e){var t=e.group,n=e.draggable,r,i,s;if(t){r=[].concat(t),i=r.length;for(s=0;s<i;s++)t=r[s],this.getGroup(t).add(e);delete e.group}n&&e.initDraggable()},remove:function(e,t){if(e){this.items.remove(e);var n=[].concat(this.groups.items),r=n.length,i;for(i=0;i<r;i++)n[i].remove(e);e.onRemove(),t===!0&&e.destroy()}},removeAll:function(e){var t=this.items
.items,n=t.length,r;for(r=n-1;r>-1;r--)this.remove(t[r],e)},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,applyViewBox:function(){var e=this,t=e.viewBox,n=e.width||1,r=e.height||1,i,s,o,u,a,f,l;t&&(n||r)?(i=t.x,s=t.y,o=t.width,u=t.height,a=r/u,f=n/o,l=Math.min(f,a),o*l<n&&(i-=(n-o*l)/2/l),u*l<r&&(s-=(r-u*l)/2/l),e.viewBoxShift={dx:-i,dy:-s,scale:l},e.background&&e.background.setAttributes(Ext.apply({},{x:i,y:s,width:n/l,height:r/l},{hidden:!1}),!0)):e.background&&n&&r&&e.background.setAttributes(Ext.apply({x:0,y:0,width:n,height:r},{hidden:!1}),!0)},getBBox:function(e,t){var n=this["getPath"+e.type](e);return t?(e.bbox.plain=e.bbox.plain||Ext.draw.Draw.pathDimensions(n),e.bbox.plain):(e.dirtyTransform&&this.applyTransformations(e,!0),e.bbox.transform=e.bbox.transform||Ext.draw.Draw.pathDimensions(Ext.draw.Draw.mapPath(n,e.matrix)),e.bbox.transform)},transformToViewBox:function(e,t){if(this.viewBoxShift){var n=this,r=n.viewBoxShift;return[e/r.scale-r.dx,t/r.scale-r.dy]}return[e,t]},applyTransformations:function(e,t){e.type=="text"&&(e.bbox.transform=0,this.transform(e,!1)),e.dirtyTransform=!1;var n=this,r=e.attr;(r.translation.x!=null||r.translation.y!=null)&&n.translate(e),(r.scaling.x!=null||r.scaling.y!=null)&&n.scale(e),r.rotation.degrees!=null&&n.rotate(e),e.bbox.transform=0,this.transform(e,t),e.transformations=[]},rotate:function(e){var t,n=e.attr.rotation.degrees,r=e.attr.rotation.x,i=e.attr.rotation.y;if(!Ext.isNumber(r)||!Ext.isNumber(i))t=this.getBBox(e,!0),r=Ext.isNumber(r)?r:t.x+t.width/2,i=Ext.isNumber(i)?i:t.y+t.height/2;e.transformations.push({type:"rotate",degrees:n,x:r,y:i})},translate:function(e){var t=e.attr.translation.x||0,n=e.attr.translation.y||0;e.transformations.push({type:"translate",x:t,y:n})},scale:function(e){var t,n=e.attr.scaling.x||1,r=e.attr.scaling.y||1,i=e.attr.scaling.centerX,s=e.attr.scaling.centerY;if(!Ext.isNumber(i)||!Ext.isNumber(s))t=this.getBBox(e,!0),i=Ext.isNumber(i)?i:t.x+t.width/2,s=Ext.isNumber(s)?s:t.y+t.height/2;e.transformations.push({type:"scale",x:n,y:r,centerX:i,centerY:s})},rectPath:function(e,t,n,r,i){return i?[["M",e+i,t],["l",n-i*2,0],["a",i,i,0,0,1,i,i],["l",0,r-i*2],["a",i,i,0,0,1,-i,i],["l",i*2-n,0],["a",i,i,0,0,1,-i,-i],["l",0,i*2-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",e,t],["l",n,0],["l",0,r],["l",-n,0],["z"]]},ellipsePath:function(e,t,n,r){return r==null&&(r=n),[["M",e,t],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},getPathpath:function(e){return e.attr.path},getPathcircle:function(e){var t=e.attr;return this.ellipsePath(t.x,t.y,t.radius,t.radius)},getPathellipse:function(e){var t=e.attr;return this.ellipsePath(t.x,t.y,t.radiusX||t.width/2||0,t.radiusY||t.height/2||0)},getPathrect:function(e){var t=e.attr;return this.rectPath(t.x||0,t.y||0,t.width||0,t.height||0,t.r||0)},getPathimage:function(e){var t=e.attr;return this.rectPath(t.x||0,t.y||0,t.width,t.height)},getPathtext:function(e){var t=this.getBBoxText(e);return this.rectPath(t.x,t.y,t.width,t.height)},createGroup:function(e){var t=this.groups.get(e);return t||(t=new Ext.draw.CompositeSprite({surface:this}),t.id=e||Ext.id(null,"ext-surface-group-"),this.groups.add(t)),t},getGroup:function(e){var t;return typeof e=="string"?(t=this.groups.get(e),t||(t=this.createGroup(e))):t=e,t},prepareItems:function(e,t){e=[].concat(e);var n,r,i;for(r=0,i=e.length;r<i;r++)n=e[r],n instanceof Ext.draw.Sprite?n.surface=this:(n.surface=this,e[r]=this.createItem(n));return e},setText:Ext.emptyFn,createItem:Ext.emptyFn,getId:function(){return this.id||(this.id=Ext.id(null,"ext-surface-"))},destroy:function(){var e=this;delete e.domRef,e.background&&e.background.destroy(),e.removeAll(!0),Ext.destroy(e.groups.items)}}),Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,initComponent:function(){this.callParent(arguments),this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var e=this,t=e.viewBox,n=e.autoSize,r,i,s,o,u,a;e.callParent(arguments);if(e.createSurface()!==!1){i=e.surface.items;if(t||n)r=i.getBBox(),s=r.width,o=r.height,u=r.x,a=r.y,e.viewBox?e.surface.setViewBox(u,a,s,o):e.autoSizeSurface()}},autoSizeSurface:function(){var e=this.surface.items.getBBox();this.setSurfaceSize(e.width,e.height)},setSurfaceSize:function(e,t){this.surface.setSize(e,t);if(this.autoSize){var n=this.surface.items.getBBox();this.surface.setViewBox(n.x,n.y- +Ext.isOpera,e,t)}},createSurface:function(){function r(t){return function(n){e.fireEvent(t,n)}}var e=this,t=Ext.applyIf({renderTo:e.el,height:e.height,width:e.width,items:e.items},e.initialConfig),n;delete t.listeners,n=Ext.draw.Surface.create(t);if(!n)return!1;e.surface=n,n.on({scope:e,mouseup:r("mouseup"),mousedown:r("mousedown"),mousemove:r("mousemove"),mouseenter:r("mouseenter"),mouseleave:r("mouseleave"),click:r("click"),dblclick:r("dblclick")})},onDestroy:function(){Ext.destroy(this.surface),this.callParent(arguments)}}),Ext.define("Ext.chart.Shape",{singleton:!0,circle:function(e,t){return e.add(Ext.apply({type:"circle",x:t.x,y:t.y,stroke:null,radius:t.radius},t))},line:function(e,t){return e.add(Ext.apply({type:"rect",x:t.x-t.radius,y:t.y-t.radius,height:2*t.radius,width:2*t.radius/5},t))},square:function(e,t){return e.add(Ext.applyIf({type:"rect",x:t.x-t.radius,y:t.y-t.radius,height:2*t.radius,width:2*t.radius,radius:null},t))},triangle:function(e,t){return t.radius*=1.75,e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x,",",t.y,"m0-",t.radius*.58,"l",t.radius*.5,",",t.radius*.87,"-",t.radius,",0z")},t))},diamond:function(e,t){var n=t.radius;return n*=1.5,e.add(Ext.apply({type:"path",stroke:null,path:["M",t.x,t.y-n,"l",n,n,-n,n,-n,-n,n,-n,"z"]},t))},cross:function(e,t){var n=t.radius;return n/=1.7,e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x-n,",",t.y,"l",[-n,-n,n,-n,n,n,n,-n,n,n,-n,n,n,n,-n,n,-n,-n,-n,n,-n,-n,"z"])},t))},plus:function(e,t){var n=t.radius/1.3;return e.add(Ext.apply({type:"path",stroke:null,path:"M".concat(t.x-n/2,",",t.y-n/2,"l",[0,-n,n,0,0,n,n,0,0,n,-n,0,0,n,-n,0,0,-n,-n,0,0,-n,"z"])},t))},arrow:function(e,t){var n=t.radius;return e.add(Ext.apply({type:"path",path:"M".concat(t.x-n*.7,",",t.y-n*.4,"l",[n*.6,0,0,-n*.4,n,n*.8,-n,n*.8,0,-n*.4,-n*.6,0],"z")},t))},drop:function(e,t,n,r,i,s){i=i||30,s=s||0,e.add({type:"path",path:["M",t,n,"l",i,0,"A",i*.4,i*.4,0,1,0,t+i*.7,n-i*.7,"z"],fill:"#000",stroke:"none",rotate:{degrees:22.5-s,x:t,y:n}}),s=(s+90)*Math.PI/180,e.add({type:"text",x:t+i*Math.sin(s)-10,y:n+i*Math.cos(s)+5,text:r,"font-size":i*12/40,stroke:"none",fill:"#fff"})}}),Ext.define("Ext.chart.LegendItem",{extend:"Ext.draw.CompositeSprite",requires:["Ext.chart.Shape"],x:0,y:0,zIndex:500,boldRe:/bold\s\d{1,}.*/i,constructor:function(e){this.callParent(arguments),this.createLegend(e)},createLegend:function(e){function y(e){var t=r[e];return Ext.isArray(t)?t[s]:t}var t=this,n=e.yFieldIndex,r=t.series,i=r.type,s=t.yFieldIndex,o=t.legend,u=t.surface,a=o.x+t.x,f=o.y+t.y,l,c=t.zIndex,h,p,d,v,m=!1,g=Ext.apply(r.seriesStyle,r.style);p=t.add("label",u.add({type:"text",x:20,y:0,zIndex:(c||0)+2,fill:o.labelColor,font:o.labelFont,text:y("title")||y("yField"),style:{cursor:"pointer"}}));if(i==="line"||i==="scatter"){i==="line"&&t.add("line",u.add({type:"path",path:"M0.5,0.5L16.5,0.5",zIndex:(c||0)+2,"stroke-width":r.lineWidth,"stroke-linejoin":"round","stroke-dasharray":r.dash,stroke:g.stroke||r.getLegendColor(n)||"#000",style:{cursor:"pointer"}}));if(r.showMarkers||i==="scatter")h=Ext.apply(r.markerStyle,r.markerConfig||{},{fill:r.getLegendColor(n)}),t.add("marker",Ext.chart.Shape[h.type](u,{fill:h.fill,x:8.5,y:.5,zIndex:(c||0)+2,radius:h.radius||h.size,style:{cursor:"pointer"}}))}else t.add("box",u.add({type:"rect",zIndex:(c||0)+2,x:0,y:0,width:12,height:12,fill:r.getLegendColor(n),style:{cursor:"pointer"}}));t.setAttributes({hidden:!1},!0),l=t.getBBox(),d=t.add("mask",u.add({type:"rect",x:l.x,y:l.y,width:l.width||20,height:l.height||20,zIndex:(c||0)+1,fill:t.legend.boxFill,style:{cursor:"pointer"}})),t.on("mouseover",function(){p.setStyle({"font-weight":"bold"}),d.setStyle({cursor:"pointer"}),r._index=n,r.highlightItem()},t),t.on("mouseout",function(){p.setStyle({"font-weight":o.labelFont&&t.boldRe.test(o.labelFont)?"bold":"normal"}),r._index=n,r.unHighlightItem()},t),r.visibleInLegend(n)||(m=!0,p.setAttributes({opacity:.5},!0)),t.on("mousedown",function(){m?(r.showAll(n),p.setAttributes({opacity:1},!0)):(r.hideAll(n),p.setAttributes({opacity:.5},!0)),m=!m,t.legend.chart.redraw()},t),t.updatePosition({x:0,y:0})},updatePosition:function(e){var t=this,n=t.items,r=n.length,i=0,s;e||(e=t.legend);for(;i<r;i++){s=n[i];switch(s.type){case"text":s.setAttributes({x:20+e.x+t.x,y:e.y+t.y},!0);break;case"rect":s.setAttributes({translate:{x:e.x+t.x,y:e.y+t.y-6}},!0);break;default:s.setAttributes({translate:{x:e.x+t.x,y:e.y+t.y}},!0)}}}}),Ext.define("Ext.chart.Legend",{requires:["Ext.chart.LegendItem"],visible:!0,update:!0,position:"bottom",x:0,y:0,labelColor:"#000",labelFont:"12px Helvetica, sans-serif",boxStroke:"#000",boxStrokeWidth:1,boxFill:"#FFF",itemSpacing:10,padding:5,width:0,height:0,boxZIndex:100,constructor:function(e){var t=this;e&&Ext.apply(t,e),t.items=[],t.isVertical="left|right|float".indexOf(t.position)!==-1,t.origX=t.x,t.origY=t.y},create:function(){var e=this,t=e.chart.series.items,n,r,i;e.createBox(),e.rebuild!==!1&&e.createItems();if(!e.created&&e.isDisplayed()){e.created=!0;for(n=0,r=t.length;n<r;n++)i=t[n],i.on("titlechange",function(){e.create(),e.updatePosition()})}},isDisplayed:function(){return this.visible&&this.chart.series.findIndex("showInLegend",!0)!==-1},createItems:function(){var e=this,t=e.chart,n=t.series.items,r,i,s=t.surface,o=e.items,u=e.padding,a=e.itemSpacing,f=2,l=0,c=0,h=0,p=0,d=e.isVertical,v=Math,m=v.floor,g=v.max,y=0,b=0,w=o?o.length:0,E,S,x,T,N,C,k,L,A,O,M;if(w)for(;b<w;b++)o[b].destroy();o.length=[];for(b=0,r=n.length;b<r;b++){i=n[b];if(i.showInLegend){L=[].concat(i.yField);for(M=0,O=L.length;M<O;M++)A=L[M],T=new Ext.chart.LegendItem({legend:this,series:i,surface:t.surface,yFieldIndex:M}),N=T.getBBox(),k=N.width,C=N.height,b+M===0?x=d?u+C/2:u:x=a/(d?2:1),T.x=m(d?u:h+x),T.y=m(d?p+x:u+C/2),h+=k+x,p+=C+x,l=g(l,k),c=g(c,C),o.push(T)}}e.width=m((d?l:h)+u*2),d&&o.length===1&&(f=1),e.height=m((d?p-f*x:c)+u*2),e.itemHeight=c},getBBox:function(){var e=this;return{x:Math.round(e.x)-e.boxStrokeWidth/2,y:Math.round(e.y)-e.boxStrokeWidth/2,width:e.width,height:e.height}},createBox:function(){var e=this,t,n;e.boxSprite&&e.boxSprite.destroy(),n=e.getBBox();if(isNaN(n.width)||isNaN(n.height)){e.boxSprite=!1;return}t=e.boxSprite=e.chart.surface.add(Ext.apply({type:"rect",stroke:e.boxStroke,"stroke-width":e.boxStrokeWidth,fill:e.boxFill,zIndex:e.boxZIndex},n)),t.redraw()},updatePosition:function(){var e=this,t=e.items,n,r,i,s,o=e.width||0,u=e.height||0,a=e.padding,f=e.chart,l=f.chartBBox,c=f.insetPadding,h=l.width-c*2,p=l.height-c*2,d=l.x+c,v=l.y+c,m=f.surface,g=Math.floor,y;if(e.isDisplayed()){switch(e.position){case"left":i=c,s=g(v+p/2-u/2);break;case"right":i=g(m.width-o)-c,s=g(v+p/2-u/2);break;case"top":i=g(d+h/2-o/2),s=c;break;case"bottom":i=g(d+h/2-o/2),s=g(m.height-u)-c;break;default:i=g(e.origX)+c,s=g(e.origY)+c}e.x=i,e.y=s;for(n=0,r=t.length;n<r;n++)t[n].updatePosition();y=e.getBBox(),isNaN(y.width)||isNaN(y.height)?e.boxSprite&&e.boxSprite.hide(!0):(e.boxSprite||e.createBox(),e.boxSprite.setAttributes(y,!0),e.boxSprite.show(!0))}},toggle:function(e){var t=this,n=0,r=t.items,i=r.length;t.boxSprite&&(e?t.boxSprite.show(!0):t.boxSprite.hide(!0));for(;n<i;++n)e?r[n].show(!0):r[n].hide(!0);t.visible=e}}),Ext.define("Ext.chart.theme.Theme",{requires:["Ext.draw.Color"],theme:"Base",themeAttrs:!1,initTheme:function(e){var t=this,n=Ext.chart.theme,r,i;if(e){e=e.split(":");for(r in n)if(r==e[0]){i=e[1]=="gradients",t.themeAttrs=new n[r]({useGradients:i}),i&&(t.gradients=t.themeAttrs.gradients),t.themeAttrs.background&&(t.background=t.themeAttrs.background);return}}}},function(){(function(){Ext.chart.theme=function(e,t){e=e||{};var n=0,r=+(new Date),i,s,o,u,a,f,l,c,h=[],p,d;e.baseColor&&(p=Ext.draw.Color.fromString(e.baseColor),d=p.getHSL()[2],d<.15?p=p.getLighter(.3):d<.3?p=p.getLighter(.15):d>.85?p=p.getDarker(.3):d>.7&&(p=p.getDarker(.15)),e.colors=[p.getDarker(.3).toString(),p.getDarker(.15).toString(),p.toString(),p.getLighter(.15).toString(),p.getLighter(.3).toString()],delete e.baseColor);if(e.colors){s=e.colors.slice(),a=t.markerThemes,u=t.seriesThemes,i=s.length,t.colors=s;for(;n<i;n++)o=s[n],l=a[n]||{},f=u[n]||{},l.fill=f.fill=l.stroke=f.stroke=o,a[n]=l,u[n]=f;t.markerThemes=a.slice(0,i),t.seriesThemes=u.slice(0,i)}for(c in t)c in e&&(Ext.isObject(e[c])&&Ext.isObject(t[c])?Ext.apply(t[c],e[c]):t[c]=e[c]);if(e.useGradients){s=t.colors||function(){var e=[];for(n=0,u=t.seriesThemes,i=u.length;n<i;n++)e.push(u[n].fill||u[n].stroke);return e}();for(n=0,i=s.length;n<i;n++)p=Ext.draw.Color.fromString(s[n]),p&&(o=p.getDarker(.1).toString(),p=p.toString(),c="theme-"+p.substr(1)+"-"+o.substr(1)+"-"+r,h.push({id:c,angle:45,stops:{0:{color:p.toString()},100:{color:o.toString()}}}),s[n]="url(#"+c+")");t.gradients=h,t.colors=s}Ext.apply(this,t)}})()}),Ext.define("Ext.chart.theme.Base",{requires:["Ext.chart.theme.Theme"],constructor:function(e){Ext.chart.theme.call(this,e,{background:!1,axis:{stroke:"#444","stroke-width":1},axisLabelTop:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(e){return e}},axisLabelRight:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(e){return e}},axisLabelBottom:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(e){return e}},axisLabelLeft:{fill:"#444",font:"12px Arial, Helvetica, sans-serif",spacing:2,padding:5,renderer:function(e){return e}},axisTitleTop:{font:"bold 18px Arial",fill:"#444"},axisTitleRight:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},axisTitleBottom:{font:"bold 18px Arial",fill:"#444"},axisTitleLeft:{font:"bold 18px Arial",fill:"#444",rotate:{x:0,y:0,degrees:270}},series:{"stroke-width":0},seriesLabel:{font:"12px Arial",fill:"#333"},marker:{stroke:"#555",radius:3,size:3},colors:["#94ae0a","#115fa6","#a61120","#ff8809","#ffd13e","#a61187","#24ad9a","#7c7474","#a66111"],seriesThemes:[{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#115fa6"},{fill:"#94ae0a"},{fill:"#a61120"},{fill:"#ff8809"},{fill:"#ffd13e"},{fill:"#a61187"},{fill:"#24ad9a"},{fill:"#7c7474"},{fill:"#a66111"}],markerThemes:[{fill:"#115fa6",type:"circle"},{fill:"#94ae0a",type:"cross"},{fill:"#115fa6",type:"plus"},{fill:"#94ae0a",type:"circle"},{fill:"#a61120",type:"cross"}]})}},function(){var e=["#b1da5a","#4ce0e7","#e84b67","#da5abd","#4d7fe6","#fec935"],t=["Green","Sky","Red","Purple","Blue","Yellow"],n=0,r=0,i=e.length,s=Ext.chart.theme,o=[["#f0a50a","#c20024","#2044ba","#810065","#7eae29"],["#6d9824","#87146e","#2a9196","#d39006","#1e40ac"],["#fbbc29","#ce2e4e","#7e0062","#158b90","#57880e"],["#ef5773","#fcbd2a","#4f770d","#1d3eaa","#9b001f"],["#7eae29","#fdbe2a","#910019","#27b4bc","#d74dbc"],["#44dce1","#0b2592","#996e05","#7fb325","#b821a1"]],u=o.length;for(;n<i;n++)s[t[n]]=function(e){return Ext.extend(s.Base,{constructor:function(t){s.Base.prototype.constructor.call(this,Ext.apply({baseColor:e},t))}})}(e[n]);for(n=0;n<u;n++)s["Category"+(n+1)]=function(e){return Ext.extend(s.Base,{constructor:function(t){s.Base.prototype.constructor.call(this,Ext.apply({colors:e},t))}})}(o[n])}),Ext.define("Ext.chart.MaskLayer",{extend:"Ext.Component",constructor:function(e){e=Ext.apply(e||{},{style:"position:absolute;background-color:#888;cursor:move;opacity:0.6;border:1px solid #222;"}),this.callParent([e])},initComponent:function(){var e=this;e.callParent(arguments),e.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave")},initDraggable:function(){this.callParent(arguments),this.dd.onStart=function(e){var t=this,n=t.comp;this.startPosition=n.getPosition(!0),n.ghost&&!n.liveDrag&&(t.proxy=n.ghost(),t.dragTarget=t.proxy.header.el);if(t.constrain||t.constrainDelegate)t.constrainTo=t.calculateConstrainRegion()}}}),Ext.define("Ext.chart.Mask",{requires:["Ext.chart.MaskLayer"],constructor:function(e){var t=this,n;t.addEvents("select"),e&&Ext.apply(t,e),t.enableMask&&t.on("afterrender",function(){var e=new Ext.chart.MaskLayer({renderTo:t.el,hidden:!0});e.el.on({mousemove:function(e){t.onMouseMove(e)},mouseup:function(e){t.resized(e)}}),n=new Ext.resizer.Resizer({el:e.el,handles:"all",pinned:!0}),n.on({resize:function(e){t.resized(e)}}),e.initDraggable(),t.maskType=t.mask,t.mask=e,t.maskSprite=t.surface.add({type:"path",path:["M",0,0],zIndex:1001,opacity:.7,hidden:!0,stroke:"#444"})},t,{single:!0})},resized:function(e){var t=this,n=t.bbox||t.chartBBox,r=n.x,i=n.y,s=n.width,o=n.height,u=t.mask.getBox(!0),a=Math.max,f=Math.min,l=u.x-r,c=u.y-i;l=a(l,r),c=a(c,i),l=f(l,s),c=f(c,o),u.x=l,u.y=c,t.fireEvent("select",t,u)},onMouseUp:function(e){var t=this,n=t.bbox||t.chartBBox,r=t.maskSelection;t.maskMouseDown=!1,t.mouseDown=!1,t.mouseMoved&&(t.onMouseMove(e),t.mouseMoved=!1,t.fireEvent("select",t,{x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height}))},onMouseDown:function(e){var t=this;t.mouseDown=!0,t.mouseMoved=!1,t.maskMouseDown={x:e.getPageX()-t.el.getX(),y:e.getPageY()-t.el.getY()}},onMouseMove:function(e){var t=this,n=t.maskType,r=t.bbox||t.chartBBox,i=r.x,s=r.y,o=Math,u=o.floor,a=o.abs,f=o.min,l=o.max,c=u(s+r.height),h=u(i+r.width),p=e.getPageX(),d=e.getPageY(),v=p-t.el.getX(),m=d-t.el.getY(),g=t.maskMouseDown,y;t.mouseMoved=t.mouseDown,v=l(v,i),m=l(m,s),v=f(v,h),m=f(m,c),g&&t.mouseDown?(n=="horizontal"?(m=s,g.y=c,d=t.el.getY()+r.height+t.insetPadding):n=="vertical"&&(v=i,g.x=h),h=g.x-v,c=g.y-m,y=["M",v,m,"l",h,0,0,c,-h,0,"z"],t.maskSelection={x:h>0?v:v+h,y:c>0?m:m+c,width:a(h),height:a(c)},t.mask.updateBox(t.maskSelection),t.mask.show(),t.maskSprite.setAttributes({hidden:!0},!0)):(n=="horizontal"?y=["M",v,s,"L",v,c]:n=="vertical"?y=["M",i,m,"L",h,m]:y=["M",v,s,"L",v,c,"M",i,m,"L",h,m],t.maskSprite.setAttributes({path:y,fill:t.maskMouseDown?t.maskSprite.stroke:!1,"stroke-width":n===!0?1:3,hidden:!1},!0))},onMouseLeave:function(e){var t=this;t.mouseMoved=!1,t.mouseDown=!1,t.maskMouseDown=!1,t.mask.hide(),t.maskSprite.hide(!0)}}),Ext.define("Ext.chart.Navigation",{constructor:function(){this.originalStore=this.store},setZoom:function(e){var t=this,n=t.axes,r=n.items,i,s,o,u=t.chartBBox,a=1/u.width,f=1/u.height,l={x:e.x*a,y:e.y*f,width:e.width*a,height:e.height*f},c,h,p;for(i=0,s=r.length;i<s;i++)o=r[i],c=o.calcEnds(),o.position=="bottom"||o.position=="top"?(h=(c.to-c.from)*l.x+c.from,p=(c.to-c.from)*l.width+h,o.minimum=h,o.maximum=p):(p=(c.to-c.from)*(1-l.y)+c.from,h=p-(c.to-c.from)*l.height,o.minimum=h,o.maximum=p);t.redraw(!1)},restoreZoom:function(){this.originalStore&&(this.store=this.substore=this.originalStore,this.redraw(!0))}}),Ext.define("Ext.chart.Chart",{alias:"widget.chart",extend:"Ext.draw.Component",mixins:{themeManager:"Ext.chart.theme.Theme",mask:"Ext.chart.Mask",navigation:"Ext.chart.Navigation",bindable:"Ext.util.Bindable",observable:"Ext.util.Observable"},uses:["Ext.chart.series.Series"],requires:["Ext.util.MixedCollection","Ext.data.StoreManager","Ext.chart.Legend","Ext.chart.theme.Base","Ext.chart.theme.Theme","Ext.util.DelayedTask"],viewBox:!1,animate:!1,legend:!1,insetPadding:10,enginePriority:["Svg","Vml"],background:!1,constructor:function(e){var t=this,n;e=Ext.apply({},e),t.initTheme(e.theme||t.theme),t.gradients&&Ext.apply(e,{gradients:t.gradients}),t.background&&Ext.apply(e,{background:t.background}),e.animate&&(n={easing:"ease",duration:500},Ext.isObject(e.animate)?e.animate=Ext.applyIf(e.animate,n):e.animate=n),t.mixins.observable.constructor.call(t,e),e.enableMask&&t.mixins.mask.constructor.call(t),t.mixins.navigation.constructor.call(t),t.callParent([e])},getChartStore:function(){return this.substore||this.store},initComponent:function(){var e=this,t,n;e.callParent(),e.addEvents("itemmousedown","itemmouseup","itemmouseover","itemmouseout","itemclick","itemdblclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh"),Ext.applyIf(e,{zoom:{width:1,height:1,x:0,y:0}}),e.maxGutter=[0,0],e.store=Ext.data.StoreManager.lookup(e.store),t=e.axes,e.axes=new Ext.util.MixedCollection(!1,function(e){return e.position}),t&&e.axes.addAll(t),n=e.series,e.series=new Ext.util.MixedCollection(!1,function(e){return e.seriesId||(e.seriesId=Ext.id(null,"ext-chart-series-"))}),n&&e.series.addAll(n),e.legend!==!1&&(e.legend=new Ext.chart.Legend(Ext.applyIf({chart:e},e.legend))),e.on({mousemove:e.onMouseMove,mouseleave:e.onMouseLeave,mousedown:e.onMouseDown,mouseup:e.onMouseUp,click:e.onClick,dblclick:e.onDblClick,scope:e})},afterComponentLayout:function(e,t){var n=this;Ext.isNumber(e)&&Ext.isNumber(t)&&(e!==n.curWidth||t!==n.curHeight?(n.curWidth=e,n.curHeight=t,n.redraw(!0)):n.needsRedraw&&(delete n.needsRedraw,n.redraw())),this.callParent(arguments)},redraw:function(e){var t=this,n=t.series.items,r=n.length,i=t.axes.items,s=i.length,o,u=t.chartBBox={x:0,y:0,height:t.curHeight,width:t.curWidth},a=t.legend;t.surface.setSize(u.width,u.height);for(o=0;o<r;o++)t.initializeSeries(n[o],o);for(o=0;o<s;o++)t.initializeAxis(i[o]);for(o=0;o<s;o++)i[o].processView();for(o=0;o<s;o++)i[o].drawAxis(!0);a!==!1&&a.visible&&(a.update||!a.created)&&a.create(),t.alignAxes(),a!==!1&&a.visible&&a.updatePosition(),t.getMaxGutter(),t.resizing=!!e;for(o=0;o<s;o++)i[o].drawAxis();for(o=0;o<r;o++)t.drawCharts(n[o]);t.resizing=!1},afterRender:function(){var e,t=this;this.callParent(),t.categoryNames&&t.setCategoryNames(t.categoryNames),t.tipRenderer&&(e=t.getFunctionRef(t.tipRenderer),t.setTipRenderer(e.fn,e.scope)),t.bindStore(t.store,!0),t.refresh(),t.surface.engine==="Vml"&&(t.on("added",t.onAddedVml,t),t.mon(Ext.container.Container.hierarchyEventSource,"added",t.onContainerAddedVml,t))},onAddedVml:function(){this.needsRedraw=!0},onContainerAddedVml:function(e){this.isDescendantOf(e)&&(this.needsRedraw=!0)},getEventXY:function(e){var t=this,n=this.surface.getRegion(),r=e.getXY(),i=r[0]-n.left,s=r[1]-n.top;return[i,s]},onClick:function(e){this.handleClick("itemclick",e)},onDblClick:function(e){this.handleClick("itemdblclick",e)},handleClick:function(e,t){var n=this,r=n.getEventXY(t),i=n.series.items,s,o,u,a;for(s=0,o=i.length;s<o;s++)u=i[s],Ext.draw.Draw.withinBox(r[0],r[1],u.bbox)&&u.getItemForPoint&&(a=u.getItemForPoint(r[0],r[1]),a&&u.fireEvent(e,a))},onMouseDown:function(e){var t=this,n=t.getEventXY(e),r=t.series.items,i,s,o,u;t.enableMask&&t.mixins.mask.onMouseDown.call(t,e);for(i=0,s=r.length;i<s;i++)o=r[i],Ext.draw.Draw.withinBox(n[0],n[1],o.bbox)&&o.getItemForPoint&&(u=o.getItemForPoint(n[0],n[1]),u&&o.fireEvent("itemmousedown",u))},onMouseUp:function(e){var t=this,n=t.getEventXY(e),r=t.series.items,i,s,o,u;t.enableMask&&t.mixins.mask.onMouseUp.call(t,e);for(i=0,s=r.length;i<s;i++)o=r[i],Ext.draw.Draw.withinBox(n[0],n[1],o.bbox)&&o.getItemForPoint&&(u=o.getItemForPoint(n[0],n[1]),u&&o.fireEvent("itemmouseup",u))},onMouseMove:function(e){var t=this,n=t.getEventXY(e),r=t.series.items,i,s,o,u,a,f,l;t.enableMask&&t.mixins.mask.onMouseMove.call(t,e);for(i=0,s=r.length;i<s;i++){o=r[i];if(Ext.draw.Draw.withinBox(n[0],n[1],o.bbox)){if(o.getItemForPoint){u=o.getItemForPoint(n[0],n[1]),a=o._lastItemForPoint,f=o._lastStoreItem,l=o._lastStoreField;if(u!==a||u&&(u.storeItem!=f||u.storeField!=l))a&&(o.fireEvent("itemmouseout",a),delete o._lastItemForPoint,delete o._lastStoreField,delete o._lastStoreItem),u&&(o.fireEvent("itemmouseover",u),o._lastItemForPoint=u,o._lastStoreItem=u.storeItem,o._lastStoreField=u.storeField)}}else a=o._lastItemForPoint,a&&(o.fireEvent("itemmouseout",a),delete o._lastItemForPoint,delete o._lastStoreField,delete o._lastStoreItem)}},onMouseLeave:function(e){var t=this,n=t.series.items,r,i,s;t.enableMask&&t.mixins.mask.onMouseLeave.call(t,e);for(r=0,i=n.length;r<i;r++)s=n[r],delete s._lastItemForPoint},delayRefresh:function(){var e=this;e.refreshTask||(e.refreshTask=new Ext.util.DelayedTask(e.refresh,e)),e.refreshTask.delay(e.refreshBuffer)},refresh:function(){var e=this;if(e.rendered&&e.curWidth!==undefined&&e.curHeight!==undefined){if(!e.isVisible(!0)&&!e.refreshPending){e.setShowListeners("mon"),e.refreshPending=!0;return}e.fireEvent("beforerefresh",e)!==!1&&(e.redraw(),e.fireEvent("refresh",e))}},onShow:function(){var e=this;e.callParent(arguments),e.refreshPending&&(e.delayRefresh(),e.setShowListeners("mun")),delete e.refreshPending},setShowListeners:function(e){var t=this;t[e](Ext.container.Container.hierarchyEventSource,{scope:t,single:!0,show:t.forceRefresh,expand:t.forceRefresh})},forceRefresh:function(e){var t=this;t.isDescendantOf(e)&&t.refreshPending&&(t.setShowListeners("mun"),t.delayRefresh()),delete t.refreshPending},bindStore:function(e,t){var n=this;n.mixins.bindable.bindStore.apply(n,arguments),n.store&&!t&&n.refresh()},getStoreListeners:function(){var e=this.refresh,t=this.delayRefresh;return{refresh:e,add:t,remove:t,update:t,clear:e}},initializeAxis:function(e){var t=this,n=t.chartBBox,r=n.width,i=n.height,s=n.x,o=n.y,u=t.themeAttrs,a={chart:t};u&&(a.axisStyle=Ext.apply({},u.axis),a.axisLabelLeftStyle=Ext.apply({},u.axisLabelLeft),a.axisLabelRightStyle=Ext.apply({},u.axisLabelRight),a.axisLabelTopStyle=Ext.apply({},u.axisLabelTop),a.axisLabelBottomStyle=Ext.apply({},u.axisLabelBottom),a.axisTitleLeftStyle=Ext.apply({},u.axisTitleLeft),a.axisTitleRightStyle=Ext.apply({},u.axisTitleRight),a.axisTitleTopStyle=Ext.apply({},u.axisTitleTop),a.axisTitleBottomStyle=Ext.apply({},u.axisTitleBottom));switch(e.position){case"top":Ext.apply(a,{length:r,width:i,x:s,y:o});break;case"bottom":Ext.apply(a,{length:r,width:i,x:s,y:i});break;case"left":Ext.apply(a,{length:i,width:r,x:s,y:i});break;case"right":Ext.apply(a,{length:i,width:r,x:r,y:i})}e.chart?Ext.apply(e,a):(Ext.apply(a,e),e=t.axes.replace(Ext.createByAlias("axis."+e.type.toLowerCase(),a)))},alignAxes:function(){function v(e){var n=t.findIndex("position",e);return n<0?null:t.getAt(n)}var e=this,t=e.axes,n=t.items,r,i=e.legend,s=["top","right","bottom","left"],o,u,a,f,l=e.insetPadding,c={top:l,right:l,bottom:l,left:l},h,p,d;for(u=0,a=s.length;u<a;u++)o=s[u],h=o==="left"||o==="right",r=v(o),i!==!1&&i.position===o&&(p=i.getBBox(),c[o]+=(h?p.width:p.height)+c[o]),r&&r.bbox&&(p=r.bbox,c[o]+=h?p.width:p.height);f={x:c.left,y:c.top,width:e.curWidth-c.left-c.right,height:e.curHeight-c.top-c.bottom},e.chartBBox=f;for(u=0,a=n.length;u<a;u++)r=n[u],d=r.position,h=d==="left"||d==="right",r.x=d==="right"?f.x+f.width:f.x,r.y=d==="top"?f.y:f.y+f.height,r.width=h?f.width:f.height,r.length=h?f.height:f.width},initializeSeries:function(e,t){var n=this,r=n.themeAttrs,i,s,o,u,a,f=[],l=0,c,h={chart:n,seriesId:e.seriesId};if(r){o=r.seriesThemes,a=r.markerThemes,i=Ext.apply({},r.series),s=Ext.apply({},r.marker),h.seriesStyle=Ext.apply(i,o[t%o.length]),h.seriesLabelStyle=Ext.apply({},r.seriesLabel),h.markerStyle=Ext.apply(s,a[t%a.length]);if(r.colors)h.colorArrayStyle=r.colors;else{f=[];for(c=o.length;l<c;l++)u=o[l],(u.fill||u.stroke)&&f.push(u.fill||u.stroke);f.length&&(h.colorArrayStyle=f)}h.seriesIdx=t}e instanceof Ext.chart.series.Series?Ext.apply(e,h):(Ext.applyIf(h,e),e=n.series.replace(Ext.createByAlias("series."+e.type.toLowerCase(),h))),e.initialize&&e.initialize()},getMaxGutter:function(){var e=this,t=e.series.items,n,r,i,s=[0,0],o;for(n=0,r=t.length;n<r;n++)i=t[n],o=i.getGutters&&i.getGutters()||[0,0],s[0]=Math.max(s[0],o[0]),s[1]=Math.max(s[1],o[1]);e.maxGutter=s},drawAxis:function(e){e.drawAxis()},drawCharts:function(e){e.triggerafterrender=!1,e.drawSeries(),this.animate||e.fireEvent("afterrender")},save:function(e){return Ext.draw.Surface.save(this.surface,e)},destroy:function(){Ext.destroy(this.surface),this.bindStore(null),this.callParent(arguments)}}),Ext.define("Ext.chart.Highlight",{requires:["Ext.fx.Anim"],highlight:!1,highlightCfg:{fill:"#fdd","stroke-width":5,stroke:"#f55"},constructor:function(e){e.highlight&&e.highlight!==!0&&(this.highlightCfg=Ext.merge(this.highlightCfg,e.highlight))},highlightItem:function(e){if(!e)return;var t=this,n=e.sprite,r=Ext.merge({},t.highlightCfg,t.highlight),i=t.chart.surface,s=t.chart.animate,o,u,a,f;if(!t.highlight||!n||n._highlighted)return;n._anim&&(n._anim.paused=!0),n._highlighted=!0;if(!n._defaults){n._defaults=Ext.apply({},n.attr),u={},a={};for(o in r){o in n._defaults||(n._defaults[o]=i.availableAttrs[o]),u[o]=n._defaults[o],a[o]=r[o];if(Ext.isObject(r[o])){u[o]={},a[o]={},Ext.apply(n._defaults[o],n.attr[o]),Ext.apply(u[o],n._defaults[o]);for(f in n._defaults[o])f in r[o]?a[o][f]=r[o][f]:a[o][f]=u[o][f];for(f in r[o])f in a[o]||(a[o][f]=r[o][f])}}n._from=u,n._to=a,n._endStyle=a}s?n._anim=new Ext.fx.Anim({target:n,from:n._from,to:n._to,duration:150}):n.setAttributes(n._to,!0)},unHighlightItem:function(){if(!this.highlight||!this.items)return;var e=this,t=e.items,n=t.length,r=Ext.merge({},e.highlightCfg,e.highlight),i=e.chart.animate,s=0,o,u,a;for(;s<n;s++){if(!t[s])continue;a=t[s].sprite;if(a&&a._highlighted){a._anim&&(a._anim.paused=!0),o={};for(u in r)Ext.isObject(a._defaults[u])?(o[u]={},Ext.apply(o[u],a._defaults[u])):o[u]=a._defaults[u];i?(a._endStyle=o,a._anim=new Ext.fx.Anim({target:a,to:o,duration:150})):a.setAttributes(o,!0),delete a._highlighted}}},cleanHighlights:function(){if(!this.highlight)return;var e=this.group,t=this.markerGroup,n=0,r;for(r=e.getCount();n<r;n++)delete e.getAt(n)._defaults;if(t)for(r=t.getCount();n<r;n++)delete t.getAt(n)._defaults}}),Ext.define("Ext.chart.Label",{requires:["Ext.draw.Color"],colorStringRe:/url\s*\(\s*#([^\/)]+)\s*\)/,constructor:function(e){var t=this;t.label=Ext.applyIf(t.label||{},{display:"none",color:"#000",field:"name",minMargin:50,font:"11px Helvetica, sans-serif",orientation:"horizontal",renderer:function(e){return e}}),t.label.display!=="none"&&(t.labelsGroup=t.chart.surface.getGroup(t.seriesId+"-labels"))},renderLabels:function(){var e=this,t=e.chart,n=t.gradients,r=e.items,i=t.animate,s=e.label,o=s.display,u=s.color,a=[].concat(s.field),f=e.labelsGroup,l=(f||0)&&f.length,c=e.chart.getChartStore(),h=c.getCount(),p=(r||0)&&r.length,d=p/h,v=(n||0)&&n.length,m=Ext.draw.Color,g=[],y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H;if(o=="none")return;if(p==0)while(l--)g.push(l);else{for(b=0,w=0,E=0;b<h;b++){S=0;for(x=0;x<d;x++){L=r[w],A=f.getAt(E),O=c.getAt(b);while(this.__excludes&&this.__excludes[S])S++;!L&&A&&(A.hide(!0),E++);if(L&&a[x]){A||(A=e.onCreateLabel(O,L,b,o,x,S)),e.onPlaceLabel(A,O,L,b,o,i,x,S),E++;if(s.contrast&&L.sprite){M=L.sprite,M._endStyle?H=M._endStyle.fill:M._to?H=M._to.fill:H=M.attr.fill,H=H||M.attr.fill,_=m.fromString(H);if(H&&!_){H=H.match(e.colorStringRe)[1];for(T=0;T<v;T++){y=n[T];if(y.id==H){k=0,N=0;for(C in y.stops)k++,N+=m.fromString(y.stops[C].color).getGrayscale();D=N/k/255;break}}}else D=_.getGrayscale()/255;A.isOutside&&(D=1),P=m.fromString(A.attr.color||A.attr.fill).getHSL(),P[2]=D>.5?.2:.8,A.setAttributes({fill:String(m.fromHSL.apply({},P))},!0)}}w++,S++}}l=f.length;while(l>E)g.push(E),E++}e.hideLabels(g)},hideLabels:function(e){var t=this.labelsGroup,n=!!e&&e.length;if(!t)return;if(n===!1){n=t.getCount();while(n--)t.getAt(n).hide(!0)}else while(n--)t.getAt(e[n]).hide(!0)}}),Ext.define("Ext.chart.TipSurface",{extend:"Ext.draw.Component",spriteArray:!1,renderFirst:!0,constructor:function(e){this.callParent([e]),e.sprites&&(this.spriteArray=[].concat(e.sprites),delete e.sprites)},onRender:function(){var e=this,t=0,n=0,r,i;this.callParent(arguments),i=e.spriteArray;if(e.renderFirst&&i){e.renderFirst=!1;for(n=i.length;t<n;t++)r=e.surface.add(i[t]),r.setAttributes({hidden:!1},!0)}}}),Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(e){var t=this,n,r,i;e.tips&&(t.tipTimeout=null,t.tipConfig=Ext.apply({},e.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0}),t.tooltip=new Ext.tip.ToolTip(t.tipConfig),t.chart.surface.on("mousemove",t.tooltip.onMouseMove,t.tooltip),t.chart.surface.on("mouseleave",function(){t.hideTip()}),t.tipConfig.surface&&(n=t.tipConfig.surface,r=n.sprites,i=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:r}),n.width&&n.height&&i.setSize(n.width,n.height),t.tooltip.add(i),t.spriteTip=i))},showTip:function(e){var t=this,n,r,i,s,o,u,a,f,l,c;if(!t.tooltip)return;clearTimeout(t.tipTimeout),n=t.tooltip,r=t.spriteTip,i=t.tipConfig,s=n.trackMouse,s||(n.trackMouse=!0
,o=e.sprite,u=o.surface,a=Ext.get(u.getId()),a&&(f=a.getXY(),l=f[0]+(o.attr.x||0)+(o.attr.translation&&o.attr.translation.x||0),c=f[1]+(o.attr.y||0)+(o.attr.translation&&o.attr.translation.y||0),n.targetXY=[l,c])),r?i.renderer.call(n,e.storeItem,e,r.surface):i.renderer.call(n,e.storeItem,e),n.show(),n.trackMouse=s},hideTip:function(e){var t=this.tooltip;if(!t)return;clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout(function(){t.hide()},0)}}),Ext.define("Ext.chart.axis.Abstract",{requires:["Ext.chart.Chart"],constructor:function(e){e=e||{};var t=this,n=e.position||"left";n=n.charAt(0).toUpperCase()+n.substring(1),e.label=Ext.apply(e["axisLabel"+n+"Style"]||{},e.label||{}),e.axisTitleStyle=Ext.apply(e["axisTitle"+n+"Style"]||{},e.labelTitle||{}),Ext.apply(t,e),t.fields=Ext.Array.from(t.fields),this.callParent(),t.labels=[],t.getId(),t.labelGroup=t.chart.surface.getGroup(t.axisId+"-labels")},alignment:null,grid:!1,steps:10,x:0,y:0,minValue:0,maxValue:0,getId:function(){return this.axisId||(this.axisId=Ext.id(null,"ext-axis-"))},processView:Ext.emptyFn,drawAxis:Ext.emptyFn,addDisplayAndLabels:Ext.emptyFn}),Ext.define("Ext.chart.axis.Axis",{extend:"Ext.chart.axis.Abstract",alternateClassName:"Ext.chart.Axis",requires:["Ext.draw.Draw"],forceMinMax:!1,dashSize:3,position:"bottom",skipFirst:!1,length:0,width:0,adjustEnd:!0,majorTickSteps:!1,applyData:Ext.emptyFn,getRange:function(){var e=this,t=e.chart,n=t.getChartStore(),r=n.data.items,i=t.series.items,s=e.position,o,u=Ext.chart.series,a=[],f=Infinity,l=-Infinity,c=e.position==="left"||e.position==="right",h,p,d,v,m,g=r.length,y,b={},w={},E=!0,S,x,T,N,C;S=e.fields;for(v=0,p=S.length;v<p;v++)w[S[v]]=!0;for(h=0,p=i.length;h<p;h++){if(i[h].seriesIsHidden)continue;if(!i[h].getAxesForXAndYFields)continue;o=i[h].getAxesForXAndYFields();if(o.xAxis&&o.xAxis!==s&&o.yAxis&&o.yAxis!==s)continue;u.Bar&&i[h]instanceof u.Bar&&!i[h].column?S=c?Ext.Array.from(i[h].xField):Ext.Array.from(i[h].yField):S=c?Ext.Array.from(i[h].yField):Ext.Array.from(i[h].xField);if(e.fields.length){for(v=0,d=S.length;v<d;v++)if(w[S[v]])break;if(v==d)continue}if(y=i[h].stacked)u.Bar&&i[h]instanceof u.Bar?i[h].column!=c&&(y=!1,E=!1):c||(y=!1,E=!1);if(y){x={};for(v=0;v<S.length;v++){if(E&&i[h].__excludes&&i[h].__excludes[v])continue;w[S[v]]||Ext.Logger.warn("Field `"+S[v]+"` is not included in the "+s+" axis config."),w[S[v]]=x[S[v]]=!0}a.push({fields:x,value:0})}else{if(!S||S.length==0)S=e.fields;for(v=0;v<S.length;v++){if(E&&i[h].__excludes&&i[h].__excludes[v])continue;w[S[v]]=b[S[v]]=!0}}}for(h=0;h<g;h++){T=r[h];for(m=0;m<a.length;m++)a[m].value=0;for(N in w){C=T.get(N);if(isNaN(C))continue;C===undefined&&(C=0),b[N]&&(f>C&&(f=C),l<C&&(l=C));for(m=0;m<a.length;m++)a[m].fields[N]&&(a[m].value+=C,f>0&&(f=0),l<a[m].value&&(l=a[m].value))}}return isFinite(l)||(l=e.prevMax||0),isFinite(f)||(f=e.prevMin||0),f!=l&&l!=Math.floor(l)&&(l=Math.floor(l)+1),isNaN(e.minimum)||(f=e.minimum),isNaN(e.maximum)||(l=e.maximum),f>=l&&(l=f+1),{min:f,max:l}},calcEnds:function(){var e=this,t=e.getRange(),n=t.min,r=t.max,i,s,o,u;return i=Ext.isNumber(e.majorTickSteps)?e.majorTickSteps+1:e.steps,s=!(Ext.isNumber(e.maximum)&&Ext.isNumber(e.minimum)&&Ext.isNumber(e.majorTickSteps)&&e.majorTickSteps>0),o=Ext.draw.Draw.snapEnds(n,r,i,s),Ext.isNumber(e.maximum)&&(o.to=e.maximum,u=!0),Ext.isNumber(e.minimum)&&(o.from=e.minimum,u=!0),e.adjustMaximumByMajorUnit&&(o.to=Math.ceil(o.to/o.step)*o.step,u=!0),e.adjustMinimumByMajorUnit&&(o.from=Math.floor(o.from/o.step)*o.step,u=!0),u&&(o.steps=Math.ceil((o.to-o.from)/o.step)),e.prevMin=n==r?0:n,e.prevMax=r,o},drawAxis:function(e){var t=this,n,r=t.x,i=t.y,s=t.chart.maxGutter[0],o=t.chart.maxGutter[1],u=t.dashSize,a=t.minorTickSteps||0,f=t.minorTickSteps||0,l=t.length,c=t.position,h=[],p=!1,d=t.applyData(),v=d.step,m=d.steps,g=d.from,y=d.to,b,w,E,S,x,T,N;if(t.hidden||isNaN(v)||g>y)return;t.from=d.from,t.to=d.to,c=="left"||c=="right"?(w=Math.floor(r)+.5,S=["M",w,i,"l",0,-l],b=l-o*2):(E=Math.floor(i)+.5,S=["M",r,E,"l",l,0],b=l-s*2),N=m&&b/m,x=Math.max(a+1,0),T=Math.max(f+1,0);if(t.type=="Numeric"||t.type=="Time")p=!0,t.labels=[d.from];if(c=="right"||c=="left"){E=i-o,w=r-(c=="left")*u*2;while(E>=i-o-b){S.push("M",w,Math.floor(E)+.5,"l",u*2+1,0);if(E!=i-o)for(n=1;n<T;n++)S.push("M",w+u,Math.floor(E+N*n/T)+.5,"l",u+1,0);h.push([Math.floor(r),Math.floor(E)]),E-=N,p&&t.labels.push(t.labels[t.labels.length-1]+v);if(N===0)break}if(Math.round(E+N-(i-o-b))){S.push("M",w,Math.floor(i-l+o)+.5,"l",u*2+1,0);for(n=1;n<T;n++)S.push("M",w+u,Math.floor(i-l+o+N*n/T)+.5,"l",u+1,0);h.push([Math.floor(r),Math.floor(E)]),p&&t.labels.push(t.labels[t.labels.length-1]+v)}}else{w=r+s,E=i-(c=="top")*u*2;while(w<=r+s+b){S.push("M",Math.floor(w)+.5,E,"l",0,u*2+1);if(w!=r+s)for(n=1;n<x;n++)S.push("M",Math.floor(w-N*n/x)+.5,E,"l",0,u+1);h.push([Math.floor(w),Math.floor(i)]),w+=N,p&&t.labels.push(t.labels[t.labels.length-1]+v);if(N===0)break}if(Math.round(w-N-(r+s+b))){S.push("M",Math.floor(r+l-s)+.5,E,"l",0,u*2+1);for(n=1;n<x;n++)S.push("M",Math.floor(r+l-s-N*n/x)+.5,E,"l",0,u+1);h.push([Math.floor(w),Math.floor(i)]),p&&t.labels.push(t.labels[t.labels.length-1]+v)}}p&&(t.labels[h.length-1]=+t.labels[h.length-1].toFixed(10)),t.axis||(t.axis=t.chart.surface.add(Ext.apply({type:"path",path:S},t.axisStyle))),t.axis.setAttributes({path:S},!0),t.inflections=h,!e&&t.grid&&t.drawGrid(),t.axisBBox=t.axis.getBBox(),t.drawLabel()},drawGrid:function(){var e=this,t=e.chart.surface,n=e.grid,r=n.odd,i=n.even,s=e.inflections,o=s.length-(r||i?0:1),u=e.position,a=e.chart.maxGutter,f=e.width-2,l,c,h=1,p=[],d,v,m,g=[],y=[];if(a[1]!==0&&(u=="left"||u=="right")||a[0]!==0&&(u=="top"||u=="bottom"))h=0,o++;for(;h<o;h++)l=s[h],c=s[h-1],r||i?(p=h%2?g:y,d=(h%2?r:i)||{},v=(d.lineWidth||d["stroke-width"]||0)/2,m=2*v,u=="left"?p.push("M",c[0]+1+v,c[1]+.5-v,"L",c[0]+1+f-v,c[1]+.5-v,"L",l[0]+1+f-v,l[1]+.5+v,"L",l[0]+1+v,l[1]+.5+v,"Z"):u=="right"?p.push("M",c[0]-v,c[1]+.5-v,"L",c[0]-f+v,c[1]+.5-v,"L",l[0]-f+v,l[1]+.5+v,"L",l[0]-v,l[1]+.5+v,"Z"):u=="top"?p.push("M",c[0]+.5+v,c[1]+1+v,"L",c[0]+.5+v,c[1]+1+f-v,"L",l[0]+.5-v,l[1]+1+f-v,"L",l[0]+.5-v,l[1]+1+v,"Z"):p.push("M",c[0]+.5+v,c[1]-v,"L",c[0]+.5+v,c[1]-f+v,"L",l[0]+.5-v,l[1]-f+v,"L",l[0]+.5-v,l[1]-v,"Z")):u=="left"?p=p.concat(["M",l[0]+.5,l[1]+.5,"l",f,0]):u=="right"?p=p.concat(["M",l[0]-.5,l[1]+.5,"l",-f,0]):u=="top"?p=p.concat(["M",l[0]+.5,l[1]+.5,"l",0,f]):p=p.concat(["M",l[0]+.5,l[1]-.5,"l",0,-f]);r||i?(g.length&&(!e.gridOdd&&g.length&&(e.gridOdd=t.add({type:"path",path:g})),e.gridOdd.setAttributes(Ext.apply({path:g,hidden:!1},r||{}),!0)),y.length&&(e.gridEven||(e.gridEven=t.add({type:"path",path:y})),e.gridEven.setAttributes(Ext.apply({path:y,hidden:!1},i||{}),!0))):p.length?(e.gridLines||(e.gridLines=e.chart.surface.add({type:"path",path:p,"stroke-width":e.lineWidth||1,stroke:e.gridColor||"#ccc"})),e.gridLines.setAttributes({hidden:!1,path:p},!0)):e.gridLines&&e.gridLines.hide(!0)},getOrCreateLabel:function(e,t){var n=this,r=n.labelGroup,i=r.getAt(e),s=n.chart.surface;return i?t!=i.attr.text&&(i.setAttributes(Ext.apply({text:t},n.label),!0),i._bbox=i.getBBox()):(i=s.add(Ext.apply({group:r,type:"text",x:0,y:0,text:t},n.label)),s.renderItem(i),i._bbox=i.getBBox()),n.label.rotation?(i.setAttributes({rotation:{degrees:0}},!0),i._ubbox=i.getBBox(),i.setAttributes(n.label,!0)):i._ubbox=i._bbox,i},rect2pointArray:function(e){var t=this.chart.surface,n=t.getBBox(e,!0),r=[n.x,n.y],i=r.slice(),s=[n.x+n.width,n.y],o=s.slice(),u=[n.x+n.width,n.y+n.height],a=u.slice(),f=[n.x,n.y+n.height],l=f.slice(),c=e.matrix;return r[0]=c.x.apply(c,i),r[1]=c.y.apply(c,i),s[0]=c.x.apply(c,o),s[1]=c.y.apply(c,o),u[0]=c.x.apply(c,a),u[1]=c.y.apply(c,a),f[0]=c.x.apply(c,l),f[1]=c.y.apply(c,l),[r,s,u,f]},intersect:function(e,t){var n=this.rect2pointArray(e),r=this.rect2pointArray(t);return!!Ext.draw.Draw.intersect(n,r).length},drawHorizontalLabels:function(){var e=this,t=e.label,n=Math.floor,r=Math.max,i=e.chart.axes,s=e.chart.insetPadding,o=e.position,u=e.inflections,a=u.length,f=e.labels,l=0,c,h,p,d,v,m=e.adjustEnd,g=i.findIndex("position","left")!=-1,y=i.findIndex("position","right")!=-1,b,w,E,S,x,T,N;E=a-1,p=u[0],N=e.getOrCreateLabel(0,e.label.renderer(f[0])),c=Math.floor(Math.abs(Math.sin(t.rotate&&t.rotate.degrees*Math.PI/180||0)));for(T=0;T<a;T++){p=u[T],w=e.label.renderer(f[T]),b=e.getOrCreateLabel(T,w),h=b._bbox,l=r(l,h.height+e.dashSize+e.label.padding),S=n(p[0]-(c?h.height:h.width)/2),m&&e.chart.maxGutter[0]==0&&(T==0&&!g?S=p[0]:T==E&&!y&&(S=Math.min(S,p[0]-h.width+s))),o=="top"?x=p[1]-e.dashSize*2-e.label.padding-h.height/2:x=p[1]+e.dashSize*2+e.label.padding+h.height/2,b.setAttributes({hidden:!1,x:S,y:x},!0);if(T!=0&&(e.intersect(b,d)||e.intersect(b,N))){if(T!==E||v===0){b.hide(!0);continue}d.hide(!0)}d=b,v=T}return l},drawVerticalLabels:function(){var e=this,t=e.inflections,n=e.position,r=t.length,i=e.chart,s=i.insetPadding,o=e.labels,u=0,a=Math.max,f=Math.floor,l=Math.ceil,c=e.chart.axes,h=e.chart.maxGutter[1],p,d,v,m,g=c.findIndex("position","top")!=-1,y=c.findIndex("position","bottom")!=-1,b=e.adjustEnd,w,E,S=r-1,x,T,N;for(N=0;N<r;N++){d=t[N],E=e.label.renderer(o[N]),w=e.getOrCreateLabel(N,E),p=w._bbox,u=a(u,p.width+e.dashSize+e.label.padding),T=d[1],b&&h<p.height/2&&(N==S&&!g?T=Math.max(T,e.y-e.length+l(p.height/2)-s):N==0&&!y&&(T=e.y+h-f(p.height/2))),n=="left"?x=d[0]-p.width-e.dashSize-e.label.padding-2:x=d[0]+e.dashSize+e.label.padding+2,w.setAttributes(Ext.apply({hidden:!1,x:x,y:T},e.label),!0);if(N!=0&&e.intersect(w,v)){if(N!==S||m===0){w.hide(!0);continue}v.hide(!0)}v=w,m=N}return u},drawLabel:function(){var e=this,t=e.position,n=e.labelGroup,r=e.inflections,i=0,s=0,o,u;t=="left"||t=="right"?i=e.drawVerticalLabels():s=e.drawHorizontalLabels(),o=n.getCount(),u=r.length;for(;u<o;u++)n.getAt(u).hide(!0);e.bbox={},Ext.apply(e.bbox,e.axisBBox),e.bbox.height=s,e.bbox.width=i,Ext.isString(e.title)&&e.drawTitle(i,s)},setTitle:function(e){this.title=e,this.drawLabel()},drawTitle:function(e,t){var n=this,r=n.position,i=n.chart.surface,s=n.displaySprite,o=n.title,u=r=="left"||r=="right",a=n.x,f=n.y,l,c,h;s?s.setAttributes({text:o},!0):(l={type:"text",x:0,y:0,text:o},s=n.displaySprite=i.add(Ext.apply(l,n.axisTitleStyle,n.labelTitle)),i.renderItem(s)),c=s.getBBox(),h=n.dashSize+n.label.padding,u?(f-=n.length/2-c.height/2,r=="left"?a-=e+h+c.width/2:a+=e+h+c.width-c.width/2,n.bbox.width+=c.width+10):(a+=n.length/2-c.width*.5,r=="top"?f-=t+h+c.height*.3:f+=t+h+c.height*.8,n.bbox.height+=c.height+10),s.setAttributes({translate:{x:a,y:f}},!0)}}),Ext.define("Ext.chart.axis.Category",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.CategoryAxis",alias:"axis.category",categoryNames:null,calculateCategoryCount:!1,setLabels:function(){var e=this.chart.getChartStore(),t=e.data.items,n,r,i,s=this.fields,o=s.length,u;this.labels=[];for(n=0,r=t.length;n<r;n++){i=t[n];for(u=0;u<o;u++)this.labels.push(i.get(s[u]))}},applyData:function(){this.callParent(),this.setLabels();var e=this.chart.getChartStore().getCount();return{from:0,to:e-1,power:1,step:1,steps:e-1}}}),Ext.define("Ext.chart.axis.Gauge",{extend:"Ext.chart.axis.Abstract",position:"gauge",alias:"axis.gauge",drawAxis:function(e){var t=this.chart,n=t.surface,r=t.chartBBox,i=r.x+r.width/2,s=r.y+r.height,o=this.margin||10,u=Math.min(r.width,2*r.height)/2+o,a=[],f,l=this.steps,c,h=Math.PI,p=Math.cos,d=Math.sin;if(this.sprites&&!t.resizing){this.drawLabel();return}if(this.margin>=0)if(!this.sprites)for(c=0;c<=l;c++)f=n.add({type:"path",path:["M",i+(u-o)*p(c/l*h-h),s+(u-o)*d(c/l*h-h),"L",i+u*p(c/l*h-h),s+u*d(c/l*h-h),"Z"],stroke:"#ccc"}),f.setAttributes({hidden:!1},!0),a.push(f);else{a=this.sprites;for(c=0;c<=l;c++)a[c].setAttributes({path:["M",i+(u-o)*p(c/l*h-h),s+(u-o)*d(c/l*h-h),"L",i+u*p(c/l*h-h),s+u*d(c/l*h-h),"Z"],stroke:"#ccc"},!0)}this.sprites=a,this.drawLabel(),this.title&&this.drawTitle()},drawTitle:function(){var e=this,t=e.chart,n=t.surface,r=t.chartBBox,i=e.titleSprite,s;i||(e.titleSprite=i=n.add({type:"text",zIndex:2})),i.setAttributes(Ext.apply({text:e.title},e.label||{}),!0),s=i.getBBox(),i.setAttributes({x:r.x+r.width/2-s.width/2,y:r.y+r.height-s.height/2-4},!0)},setTitle:function(e){this.title=e,this.drawTitle()},drawLabel:function(){var e=this.chart,t=e.surface,n=e.chartBBox,r=n.x+n.width/2,i=n.y+n.height,s=this.margin||10,o=Math.min(n.width,2*n.height)/2+2*s,u=Math.round,a=[],f,l=this.maximum||0,c=this.minimum||0,h=this.steps,p=0,d,v=Math.PI,m=Math.cos,g=Math.sin,y=this.label,b=y.renderer||function(e){return e};if(!this.labelArray)for(p=0;p<=h;p++)d=p===0||p===h?7:0,f=t.add({type:"text",text:b(u(c+p/h*(l-c))),x:r+o*m(p/h*v-v),y:i+o*g(p/h*v-v)-d,"text-anchor":"middle","stroke-width":.2,zIndex:10,stroke:"#333"}),f.setAttributes({hidden:!1},!0),a.push(f);else{a=this.labelArray;for(p=0;p<=h;p++)d=p===0||p===h?7:0,a[p].setAttributes({text:b(u(c+p/h*(l-c))),x:r+o*m(p/h*v-v),y:i+o*g(p/h*v-v)-d},!0)}this.labelArray=a}}),Ext.define("Ext.chart.axis.Numeric",{extend:"Ext.chart.axis.Axis",alternateClassName:"Ext.chart.NumericAxis",type:"numeric",alias:"axis.numeric",uses:["Ext.data.Store"],constructor:function(e){var t=this,n=!!e.label&&!!e.label.renderer,r;t.callParent([e]),r=t.label,e.constrain==null&&(t.constrain=e.minimum!=null&&e.maximum!=null),n||(r.renderer=function(e){return t.roundToDecimal(e,t.decimals)})},roundToDecimal:function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n},minimum:NaN,maximum:NaN,constrain:!0,decimals:2,scale:"linear",doConstrain:function(){var e=this,t=e.chart.store,n=t.data.items,r,i,s,o=e.chart.series.items,u=e.fields,a=u.length,f=e.calcEnds(),l=f.from,c=f.to,h,p,d=!1,v,m=[],g;for(h=0,p=o.length;h<p;h++)if(o[h].type==="bar"&&o[h].stacked)return;for(r=0,i=n.length;r<i;r++){g=!0,s=n[r];for(h=0;h<a;h++){v=s.get(u[h]);if(+v<+l){g=!1;break}if(+v>+c){g=!1;break}}g&&m.push(s)}e.chart.substore=Ext.create("Ext.data.Store",{model:t.model}),e.chart.substore.loadData(m)},position:"left",adjustMaximumByMajorUnit:!1,adjustMinimumByMajorUnit:!1,processView:function(){var e=this,t=e.constrain;t&&e.doConstrain()},applyData:function(){return this.callParent(),this.calcEnds()}}),Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Abstract",position:"radial",alias:"axis.radial",drawAxis:function(e){var t=this.chart,n=t.surface,r=t.chartBBox,i=t.store,s=i.getCount(),o=r.x+r.width/2,u=r.y+r.height/2,a=Math.min(r.width,r.height)/2,f=[],l,c=this.steps,h,p,d=Math.PI*2,v=Math.cos,m=Math.sin;if(this.sprites&&!t.resizing){this.drawLabel();return}if(!this.sprites){for(h=1;h<=c;h++)l=n.add({type:"circle",x:o,y:u,radius:Math.max(a*h/c,0),stroke:"#ccc"}),l.setAttributes({hidden:!1},!0),f.push(l);for(h=0;h<s;h++)l=n.add({type:"path",path:["M",o,u,"L",o+a*v(h/s*d),u+a*m(h/s*d),"Z"],stroke:"#ccc"}),l.setAttributes({hidden:!1},!0),f.push(l)}else{f=this.sprites;for(h=0;h<c;h++)f[h].setAttributes({x:o,y:u,radius:Math.max(a*(h+1)/c,0),stroke:"#ccc"},!0);for(p=0;p<s;p++)f[h+p].setAttributes({path:["M",o,u,"L",o+a*v(p/s*d),u+a*m(p/s*d),"Z"],stroke:"#ccc"},!0)}this.sprites=f,this.drawLabel()},drawLabel:function(){var e=this.chart,t=e.series.items,n,r=e.surface,i=e.chartBBox,s=e.store,o=s.data.items,u,a,f=i.x+i.width/2,l=i.y+i.height/2,c=Math.min(i.width,i.height)/2,h=Math.max,p=Math.round,d=[],v,m=[],g,y=[],b,w=!this.maximum,E=this.maximum||0,S=this.steps,x=0,T,N,C,k=Math.PI*2,L=Math.cos,A=Math.sin,O=this.label.display,M=O!=="none",_=10;if(!M)return;for(x=0,u=t.length;x<u;x++)n=t[x],m.push(n.yField),b=n.xField;for(T=0,u=o.length;T<u;T++){a=o[T];if(w)for(x=0,g=m.length;x<g;x++)E=h(+a.get(m[x]),E);y.push(a.get(b))}if(!this.labelArray){if(O!="categories")for(x=1;x<=S;x++)v=r.add({type:"text",text:p(x/S*E),x:f,y:l-c*x/S,"text-anchor":"middle","stroke-width":.1,stroke:"#333"}),v.setAttributes({hidden:!1},!0),d.push(v);if(O!="scale")for(T=0,S=y.length;T<S;T++)N=L(T/S*k)*(c+_),C=A(T/S*k)*(c+_),v=r.add({type:"text",text:y[T],x:f+N,y:l+C,"text-anchor":N*N<=.001?"middle":N<0?"end":"start"}),v.setAttributes({hidden:!1},!0),d.push(v)}else{d=this.labelArray;if(O!="categories")for(x=0;x<S;x++)d[x].setAttributes({text:p((x+1)/S*E),x:f,y:l-c*(x+1)/S,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if(O!="scale")for(T=0,S=y.length;T<S;T++)N=L(T/S*k)*(c+_),C=A(T/S*k)*(c+_),d[x+T]&&d[x+T].setAttributes({type:"text",text:y[T],x:f+N,y:l+C,"text-anchor":N*N<=.001?"middle":N<0?"end":"start"},!0)}this.labelArray=d}}),Ext.define("Ext.chart.axis.Time",{extend:"Ext.chart.axis.Numeric",alternateClassName:"Ext.chart.TimeAxis",alias:"axis.time",uses:["Ext.data.Store"],dateFormat:!1,fromDate:!1,toDate:!1,step:[Ext.Date.DAY,1],constrain:!1,constructor:function(e){var t=this,n,r,i;t.callParent([e]),n=t.label||{},i=this.dateFormat,i&&(n.renderer?(r=n.renderer,n.renderer=function(e){return e=r(e),Ext.Date.format(new Date(r(e)),i)}):n.renderer=function(e){return Ext.Date.format(new Date(e>>0),i)})},processView:function(){var e=this;e.fromDate&&(e.minimum=+e.fromDate),e.toDate&&(e.maximum=+e.toDate),e.constrain&&e.doConstrain()},calcEnds:function(){var e=this,t,n=e.step;return n?(t=e.getRange(),t=Ext.draw.Draw.snapEndsByDateAndStep(new Date(t.min),new Date(t.max),Ext.isNumber(n)?[Date.MILLI,n]:n),e.minimum&&(t.from=e.minimum),e.maximum&&(t.to=e.maximum),t.step=(t.to-t.from)/t.steps,t):e.callParent(arguments)}}),Ext.define("Ext.chart.series.Series",{mixins:{observable:"Ext.util.Observable",labels:"Ext.chart.Label",highlights:"Ext.chart.Highlight",tips:"Ext.chart.Tip",callouts:"Ext.chart.Callout"},type:null,title:null,showInLegend:!0,renderer:function(e,t,n,r,i){return n},shadowAttributes:null,animating:!1,constructor:function(e){var t=this;e&&Ext.apply(t,e),t.shadowGroups=[],t.mixins.labels.constructor.call(t,e),t.mixins.highlights.constructor.call(t,e),t.mixins.tips.constructor.call(t,e),t.mixins.callouts.constructor.call(t,e),t.addEvents({scope:t,itemmouseover:!0,itemmouseout:!0,itemmousedown:!0,itemmouseup:!0,mouseleave:!0,afterdraw:!0,titlechange:!0}),t.mixins.observable.constructor.call(t,e),t.on({scope:t,itemmouseover:t.onItemMouseOver,itemmouseout:t.onItemMouseOut,mouseleave:t.onMouseLeave}),t.style&&Ext.apply(t.seriesStyle,t.style)},eachRecord:function(e,t){var n=this.chart;(n.substore||n.store).each(e,t)},getRecordCount:function(){var e=this.chart,t=e.substore||e.store;return t?t.getCount():0},isExcluded:function(e){var t=this.__excludes;return!!t&&!!t[e]},setBBox:function(e){var t=this,n=t.chart,r=n.chartBBox,i=e?0:n.maxGutter[0],s=e?0:n.maxGutter[1],o,u;o={x:r.x,y:r.y,width:r.width,height:r.height},t.clipBox=o,u={x:o.x+i-n.zoom.x*n.zoom.width,y:o.y+s-n.zoom.y*n.zoom.height,width:(o.width-i*2)*n.zoom.width,height:(o.height-s*2)*n.zoom.height},t.bbox=u},onAnimate:function(e,t){var n=this;return e.stopAnimation(),n.animating?e.animate(Ext.applyIf(t,n.chart.animate)):(n.animating=!0,e.animate(Ext.apply(Ext.applyIf(t,n.chart.animate),{listeners:{afteranimate:function(){n.animating=!1,n.fireEvent("afterrender")}}})))},getGutters:function(){return[0,0]},onItemMouseOver:function(e){var t=this;e.series===t&&(t.highlight&&t.highlightItem(e),t.tooltip&&t.showTip(e))},onItemMouseOut:function(e){var t=this;e.series===t&&(t.unHighlightItem(),t.tooltip&&t.hideTip(e))},onMouseLeave:function(){var e=this;e.unHighlightItem(),e.tooltip&&e.hideTip()},getItemForPoint:function(e,t){if(!this.items||!this.items.length||this.seriesIsHidden)return null;var n=this,r=n.items,i=n.bbox,s,o,u;if(!Ext.draw.Draw.withinBox(e,t,i))return null;for(o=0,u=r.length;o<u;o++)if(r[o]&&this.isItemInPoint(e,t,r[o],o))return r[o];return null},isItemInPoint:function(e,t,n,r){return!1},hideAll:function(){var e=this,t=e.items,n,r,i,s,o,u,a;e.seriesIsHidden=!0,e._prevShowMarkers=e.showMarkers,e.showMarkers=!1,e.hideLabels(0);for(i=0,r=t.length;i<r;i++){n=t[i],u=n.sprite,u&&u.setAttributes({hidden:!0},!0);if(u&&u.shadows){a=u.shadows;for(s=0,o=a.length;s<o;++s)a[s].setAttributes({hidden:!0},!0)}}},showAll:function(){var e=this,t=e.chart.animate;e.chart.animate=!1,e.seriesIsHidden=!1,e.showMarkers=e._prevShowMarkers,e.drawSeries(),e.chart.animate=t},hide:function(){if(this.items){var e=this,t=e.items,n,r,i,s,o;if(t&&t.length){for(n=0,s=t.length;n<s;++n)if(t[n].sprite){t[n].sprite.hide(!0),o=t[n].shadows||t[n].sprite.shadows;if(o)for(r=0,i=o.length;r<i;++r)o[r].hide(!0)}e.hideLabels()}}},getLegendColor:function(e){var t=this,n,r;if(t.seriesStyle){n=t.seriesStyle.fill,r=t.seriesStyle.stroke;if(n&&n!="none")return n;if(r)return r}return t.colorArrayStyle?t.colorArrayStyle[t.seriesIdx%t.colorArrayStyle.length]:"#000"},visibleInLegend:function(e){var t=this.__excludes;return t?!t[e]:!this.seriesIsHidden},setTitle:function(e,t){var n=this,r=n.title;Ext.isString(e)&&(t=e,e=0),Ext.isArray(r)?r[e]=t:n.title=t,n.fireEvent("titlechange",t,e)}}),Ext.define("Ext.chart.series.Cartesian",{extend:"Ext.chart.series.Series",alternateClassName:["Ext.chart.CartesianSeries","Ext.chart.CartesianChart"],xField:null,yField:null,axis:"left",getLegendLabels:function(){var e=this,t=[],n,r,i,s=e.combinations,o,u,a,f;n=[].concat(e.yField);for(r=0,i=n.length;r<i;r++)o=e.title,t.push((Ext.isArray(o)?o[r]:o)||n[r]);if(s){s=Ext.Array.from(s);for(r=0,i=s.length;r<i;r++)u=s[r],a=t[u[0]],f=t[u[1]],t[u[1]]=a+" & "+f,t.splice(u[0],1)}return t},eachYValue:function(e,t,n){var r=this,i=r.getYValueAccessors(),s,o,u;for(s=0,o=i.length;s<o;s++)u=i[s],t.call(n,u(e),s)},getYValueCount:function(){return this.getYValueAccessors().length},combine:function(e,t){var n=this,r=n.getYValueAccessors(),i=r[e],s=r[t];r[t]=function(e){return i(e)+s(e)},r.splice(e,1),n.callParent([e,t])},clearCombinations:function(){delete this.yValueAccessors,this.callParent()},getYValueAccessors:function(){var e=this,t=e.yValueAccessors,n,r,i,s;if(!t){t=e.yValueAccessors=[],n=[].concat(e.yField);for(i=0,s=n.length;i<s;i++)r=n[i],t.push(function(e){return e.get(r)})}return t},getMinMaxXValues:function(){var e=this,t=e.chart,n=t.getChartStore(),r=n.data.items,i,s,o,u,a,f=e.xField,l;if(e.getRecordCount()>0){u=Infinity,a=-u;for(i=0,s=r.length;i<s;i++)o=r[i],l=o.get(f),l>a&&(a=l),l<u&&(u=l)}else u=a=0;return[u,a]},getMinMaxYValues:function(){function h(t,n){e.isExcluded(n)||(t<0?c+=t:l+=t)}function p(t,n){e.isExcluded(n)||(t>f&&(f=t),t<a&&(a=t))}var e=this,t=e.chart,n=t.getChartStore(),r=n.data.items,i,s,o,u=e.stacked,a,f,l,c;if(e.getRecordCount()>0){a=Infinity,f=-a;for(i=0,s=r.length;i<s;i++)o=r[i],u?(l=0,c=0,e.eachYValue(o,h),l>f&&(f=l),c<a&&(a=c)):e.eachYValue(o,p)}else a=f=0;return[a,f]},getAxesForXAndYFields:function(){var e=this,t=e.chart.axes,n=[].concat(e.axis),r={},i=[].concat(e.yField),s={},o=[].concat(e.xField),u,a,f,l,c,h;h=e.type==="bar"&&e.column===!1,h&&(u=i,i=o,o=u);if(Ext.Array.indexOf(n,"top")>-1)a="top";else if(Ext.Array.indexOf(n,"bottom")>-1)a="bottom";else if(t.get("top")&&t.get("bottom")){for(l=0,c=o.length;l<c;l++)s[o[l]]=!0;u=[].concat(t.get("bottom").fields);for(l=0,c=u.length;l<c;l++)if(s[u[l]]){a="bottom";break}u=[].concat(t.get("top").fields);for(l=0,c=u.length;l<c;l++)if(s[u[l]]){a="top";break}}else t.get("top")?a="top":t.get("bottom")&&(a="bottom");if(Ext.Array.indexOf(n,"left")>-1)f="left";else if(Ext.Array.indexOf(n,"right")>-1)f="right";else if(t.get("left")&&t.get("right")){for(l=0,c=i.length;l<c;l++)r[i[l]]=!0;u=[].concat(t.get("right").fields);for(l=0,c=u.length;l<c;l++)if(r[u[l]])break;u=[].concat(t.get("left").fields);for(l=0,c=u.length;l<c;l++)if(r[u[l]]){f="left";break}}else t.get("left")?f="left":t.get("right")&&(f="right");return h?{xAxis:f,yAxis:a}:{xAxis:a,yAxis:f}}}),Ext.define("Ext.chart.series.Area",{extend:"Ext.chart.series.Cartesian",alias:"series.area",requires:["Ext.chart.axis.Axis","Ext.draw.Color","Ext.fx.Anim"],type:"area",stacked:!0,style:{},constructor:function(e){this.callParent(arguments);var t=this,n=t.chart.surface,r,i;e.highlightCfg=Ext.Object.merge({},{lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},e.highlightCfg),Ext.apply(t,e,{__excludes:[]}),t.highlight&&(t.highlightSprite=n.add({type:"path",path:["M",0,0],zIndex:1e3,opacity:.3,lineWidth:5,hidden:!0,stroke:"#444"})),t.group=n.getGroup(t.seriesId)},shrink:function(e,t,n){var r=e.length,i=Math.floor(r/n),s,o,u=0,a=this.areas.length,f=[],l=[],c=[];for(o=0;o<a;++o)f[o]=0;for(s=0;s<r;++s){u+=+e[s];for(o=0;o<a;++o)f[o]+=+t[s][o];if(s%i==0){l.push(u/i);for(o=0;o<a;++o)f[o]/=i;c.push(f),u=0;for(o=0,f=[];o<a;++o)f[o]=0}}return{x:l,y:c}},getBounds:function(){var e=this,t=e.chart,n=t.getChartStore(),r=n.data.items,i,s,o,u=[].concat(e.yField),a=u.length,f=[],l=[],c=Infinity,h=c,p=c,d=-c,v=-c,m=Math,g=m.min,y=m.max,b=e.getAxesForXAndYFields(),w=b.xAxis,E=b.yAxis,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B;e.setBBox(),T=e.bbox;if(H=t.axes.get(w))H.type==="Time"&&(x=!0),S=H.applyData(),h=S.from,d=S.to;if(H=t.axes.get(E))S=H.applyData(),p=S.from,v=S.to;e.xField&&!Ext.isNumber(h)&&(H=e.getMinMaxXValues(),x=!0,h=H[0],d=H[1]),e.yField&&!Ext.isNumber(p)&&(H=e.getMinMaxYValues(),p=H[0],v=H[1]),Ext.isNumber(p)||(p=0),Ext.isNumber(v)||(v=0);for(i=0,s=r.length;i<s;i++){o=r[i],k=o.get(e.xField),L=[],typeof k!="number"&&(x?k=+k:k=i),f.push(k),O=0;for(A=0;A<a;A++){if(e.__excludes[A])continue;P=o.get(u[A]),typeof P=="number"&&L.push(P)}l.push(L)}return N=T.width/(d-h||1),C=T.height/(v-p||1),M=f.length,M>T.width&&e.areas&&(_=e.shrink(f,l,T.width),f=_.x,l=_.y),{bbox:T,minX:h,minY:p,xValues:f,yValues:l,xScale:N,yScale:C,areasLen:a}},getPaths:function(){var e=this,t=e.chart,n=t.getChartStore(),r=!0,i=e.getBounds(),s=i.bbox,o=e.items=[],u=[],a,f=0,l=[],c,h,p,d,v,m,g,y,b,w,E;h=i.xValues.length;for(c=0;c<h;c++){v=i.xValues[c],m=i.yValues[c],p=s.x+(v-i.minX)*i.xScale,g=0,f=0;for(y=0;y<i.areasLen;y++){if(e.__excludes[y])continue;u[y]||(u[y]=[]),w=m[f],g+=w,d=s.y+s.height-(g-i.minY)*i.yScale,l[y]?(l[y].push("L",p,d),u[y].push(["L",p,d])):(l[y]=["M",p,d],u[y].push(["L",p,d])),o[y]||(o[y]={pointsUp:[],pointsDown:[],series:e}),o[y].pointsUp.push([p,d]),f++}}for(y=0;y<i.areasLen;y++){if(e.__excludes[y])continue;E=l[y];if(y==0||r)r=!1,E.push("L",p,s.y+s.height,"L",s.x,s.y+s.height,"Z");else{a=u[b],a.reverse(),E.push("L",p,a[0][2]);for(c=0;c<h;c++)E.push(a[c][0],a[c][1],a[c][2]),o[y].pointsDown[h-c-1]=[a[c][1],a[c][2]];E.push("L",s.x,E[2],"Z")}b=y}return{paths:l,areasLen:i.areasLen}},drawSeries:function(){var e=this,t=e.chart,n=t.getChartStore(),r=t.surface,i=t.animate,s=e.group,o=Ext.apply(e.seriesStyle,e.style),u=e.colorArrayStyle,a=u&&u.length||0,f,l,c,h,p;e.unHighlightItem(),e.cleanHighlights();if(!n||!n.getCount()||e.seriesIsHidden){e.hide(),e.items=[];return}c=e.getPaths(),e.areas||(e.areas=[]);for(f=0;f<c.areasLen;f++){if(e.__excludes[f])continue;e.areas[f]||(e.items[f].sprite=e.areas[f]=r.add(Ext.apply({},{type:"path",group:s,path:c.paths[f],stroke:o.stroke||u[f%a],fill:u[f%a]},o||{}))),l=e.areas[f],h=c.paths[f],i?(p=e.renderer(l,!1,{path:h,fill:u[f%a],stroke:o.stroke||u[f%a]},f,n),e.animation=e.onAnimate(l,{to:p})):(p=e.renderer(l,!1,{path:h,hidden:!1,fill:u[f%a],stroke:o.stroke||u[f%a]},f,n),e.areas[f].setAttributes(p,!0))}e.renderLabels(),e.renderCallouts()},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},onCreateLabel:function(e,t,n,r){var i=this,s=i.labelsGroup,o=i.label,u=i.bbox,a=Ext.apply(o,i.seriesLabelStyle);return i.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:s,x:t.point[0],y:u.y+u.height/2},a||{}))},onPlaceLabel:function(e,t,n,r,i,s,o){var u=this,a=u.chart,f=a.resizing,l=u.label,c=l.renderer,h=l.field,p=u.bbox,d=n.point[0],v=n.point[1],m,g,y;e.setAttributes({text:c(t.get(h[o])),hidden:!0},!0),m=e.getBBox(),g=m.width/2,y=m.height/2,d=d-g<p.x?p.x+g:d,d=d+g>p.x+p.width?d-(d+g-p.x-p.width):d,v=v-y<p.y?p.y+y:v,v=v+y>p.y+p.height?v-(v+y-p.y-p.height):v,u.chart.animate&&!u.chart.resizing?(e.show(!0),u.onAnimate(e,{to:{x:d,y:v}})):(e.setAttributes({x:d,y:v},!0),f?u.animation.on("afteranimate",function(){e.show(!0)}):e.show(!0))},onPlaceCallout:function(e,t,n,r,i,s,o){var u=this,a=u.chart,f=a.surface,l=a.resizing,c=u.callouts,h=u.items,p=r==0?!1:h[r-1].point,d=r==h.length-1?!1:h[r+1].point,v=n.point,m,g,y,b,w,E,S=e.label.getBBox(),x=30,T=10,N=3,C,k,L,A,O,M=u.clipRect,_,D;p||(p=v),d||(d=v),b=(d[1]-p[1])/(d[0]-p[0]),w=(v[1]-p[1])/(v[0]-p[0]),E=(d[1]-v[1])/(d[0]-v[0]),g=Math.sqrt(1+b*b),m=[1/g,b/g],y=[-m[1],m[0]];if(w>0&&E<0&&y[1]<0||w<0&&E>0&&y[1]>0)y[0]*=-1,y[1]*=-1;else if(Math.abs(w)<Math.abs(E)&&y[0]<0||Math.abs(w)>Math.abs(E)&&y[0]>0)y[0]*=-1,y[1]*=-1;_=v[0]+y[0]*x,D=v[1]+y[1]*x,C=_+(y[0]>0?0:-(S.width+2*N)),k=D-S.height/2-N,L=S.width+2*N,A=S.height+2*N;if(C<M[0]||C+L>M[0]+M[2])y[0]*=-1;if(k<M[1]||k+A>M[1]+M[3])y[1]*=-1;_=v[0]+y[0]*x,D=v[1]+y[1]*x,C=_+(y[0]>0?0:-(S.width+2*N)),k=D-S.height/2-N,L=S.width+2*N,A=S.height+2*N,e.lines.setAttributes({path:["M",v[0],v[1],"L",_,D,"Z"]},!0),e.box.setAttributes({x:C,y:k,width:L,height:A},!0),e.label.setAttributes({x:_+(y[0]>0?N:-(S.width+N)),y:D},!0);for(O in e)e[O].show(!0)},isItemInPoint:function(e,t,n,r){var i=this,s=n.pointsUp,o=n.pointsDown,u=Math.abs,a=!1,f=!1,l=Infinity,c,h,p;for(c=0,h=s.length;c<h;c++){p=[s[c][0],s[c][1]],a=!1,f=c==h-1,l>u(e-p[0])&&(l=u(e-p[0]),a=!0,f&&++c);if(!a||a&&f){p=s[c-1];if(t>=p[1]&&(!o.length||t<=o[c-1][1]))return n.storeIndex=c-1,n.storeField=i.yField[r],n.storeItem=i.chart.store.getAt(c-1),n._points=o.length?[p,o[c-1]]:[p],!0;break}}return!1},highlightSeries:function(){var e,t,n;this._index!==undefined&&(e=this.areas[this._index],e.__highlightAnim&&(e.__highlightAnim.paused=!0),e.__highlighted=!0,e.__prevOpacity=e.__prevOpacity||e.attr.opacity||1,e.__prevFill=e.__prevFill||e.attr.fill,e.__prevLineWidth=e.__prevLineWidth||e.attr.lineWidth,n=Ext.draw.Color.fromString(e.__prevFill),t={lineWidth:(e.__prevLineWidth||0)+2},n?t.fill=n.getLighter(.2).toString():t.opacity=Math.max(e.__prevOpacity-.3,0),this.chart.animate?e.__highlightAnim=new Ext.fx.Anim(Ext.apply({target:e,to:t},this.chart.animate)):e.setAttributes(t,!0))},unHighlightSeries:function(){var e;this._index!==undefined&&(e=this.areas[this._index],e.__highlightAnim&&(e.__highlightAnim.paused=!0),e.__highlighted&&(e.__highlighted=!1,e.__highlightAnim=new Ext.fx.Anim({target:e,to:{fill:e.__prevFill,opacity:e.__prevOpacity,lineWidth:e.__prevLineWidth}})))},highlightItem:function(e){var t=this,n,r;if(!e){this.highlightSeries();return}n=e._points,r=n.length==2?["M",n[0][0],n[0][1],"L",n[1][0],n[1][1]]:["M",n[0][0],n[0][1],"L",n[0][0],t.bbox.y+t.bbox.height],t.highlightSprite.setAttributes({path:r,hidden:!1},!0)},unHighlightItem:function(e){e||this.unHighlightSeries(),this.highlightSprite&&this.highlightSprite.hide(!0)},hideAll:function(e){var t=this;e=(isNaN(t._index)?e:t._index)||0,t.__excludes[e]=!0,t.areas[e].hide(!0),t.redraw()},showAll:function(e){var t=this;e=(isNaN(t._index)?e:t._index)||0,t.__excludes[e]=!1,t.areas[e].show(!0),t.redraw()},redraw:function(){var e=this,t;t=e.chart.legend.rebuild,e.chart.legend.rebuild=!1,e.chart.redraw(),e.chart.legend.rebuild=t},hide:function(){if(this.areas){var e=this,t=e.areas,n,r,i,s,o;if(t&&t.length){for(n=0,s=t.length;n<s;++n)t[n]&&t[n].hide(!0);e.hideLabels()}}},getLegendColor:function(e){var t=this;return t.colorArrayStyle[e%t.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Bar",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.BarSeries","Ext.chart.BarChart","Ext.chart.StackedBarChart"],requires:["Ext.chart.axis.Axis","Ext.fx.Anim"],type:"bar",alias:"series.bar",column:!1,style:{},gutter:38.2,groupGutter:38.2,xPadding:0,yPadding:10,constructor:function(e){this.callParent(arguments);var t=this,n=t.chart.surface,r=t.chart.shadow,i,s;e.highlightCfg=Ext.Object.merge({lineWidth:3,stroke:"#55c",opacity:.8,color:"#f00"},e.highlightCfg),Ext.apply(t,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:1.2}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:.9}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:.6}}]}),t.group=n.getGroup(t.seriesId+"-bars");if(r)for(i=0,s=t.shadowAttributes.length;i<s;i++)t.shadowGroups.push(n.getGroup(t.seriesId+"-shadows"+i))},getBarGirth:function(){var e=this,t=e.chart.getChartStore(),n=e.column,r=t.getCount(),i=e.gutter/100;return(e.chart.chartBBox[n?"width":"height"]-e[n?"xPadding":"yPadding"]*2)/(r*(i+1)-i)},getGutters:function(){var e=this,t=e.column,n=Math.ceil(e[t?"xPadding":"yPadding"]+e.getBarGirth()/2);return e.column?[n,0]:[0,n]},getBounds:function(){var e=this,t=e.chart,n=t.getChartStore(),r=n.data.items,i,s,o,u=[].concat(e.yField),a=u.length,f=a,l=e.groupGutter/100,c=e.column,h=e.xPadding,p=e.yPadding,d=e.stacked,v=e.getBarGirth(),m=c?"width":"height",g=Math,y=g.min,b=g.max,w=g.abs,E=e.getAxesForXAndYFields(),S=E.yAxis,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j;e.setBBox(!0),C=e.bbox;if(e.__excludes)for(H=0,D=e.__excludes.length;H<D;H++)e.__excludes[H]&&f--
;A=t.axes.get(S),A&&(x=A.applyData(),k=x.from,L=x.to),e.yField&&!Ext.isNumber(k)&&(O=e.getMinMaxYValues(),k=O[0],L=O[1]),Ext.isNumber(k)||(k=0),Ext.isNumber(L)||(L=0),M=(c?C.height-p*2:C.width-h*2)/(L-k),T=v,N=v/((d?1:f)*(l+1)-l),m in e.style&&(N=y(N,e.style[m]),T=N*((d?1:f)*(l+1)-l)),_=c?C.y+C.height-p:C.x+h;if(d){D=[[],[]];for(i=0,s=r.length;i<s;i++){o=r[i],D[0][i]=D[0][i]||0,D[1][i]=D[1][i]||0;for(H=0;H<a;H++){if(e.__excludes&&e.__excludes[H])continue;P=o.get(u[H]),D[+(P>0)][i]+=w(P)}}D[+(L>0)].push(w(L)),D[+(k>0)].push(w(k)),j=b.apply(g,D[0]),B=b.apply(g,D[1]),M=(c?C.height-p*2:C.width-h*2)/(B+j),_+=j*M*(c?-1:1)}else k/L<0&&(_-=k*M*(c?-1:1));return{bars:u,bbox:C,shrunkBarWidth:T,barsLen:a,groupBarsLen:f,barWidth:v,groupBarWidth:N,scale:M,zero:_,xPadding:h,yPadding:p,signed:k/L<0,minY:k,maxY:L}},getPaths:function(){var e=this,t=e.chart,n=t.getChartStore(),r=n.data.items,i,s,o,u=e.bounds=e.getBounds(),a=e.items=[],f=e.yField,l=e.gutter/100,c=e.groupGutter/100,h=t.animate,p=e.column,d=e.group,v=t.shadow,m=e.shadowGroups,g=e.shadowAttributes,y=m.length,b=u.bbox,w=u.barWidth,E=u.shrunkBarWidth,S=e.xPadding,x=e.yPadding,T=e.stacked,N=u.barsLen,C=e.colorArrayStyle,k=C&&C.length||0,L=Math,A=L.max,O=L.min,M=L.abs,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$;for(i=0,s=r.length;i<s;i++){o=r[i],j=u.zero,F=u.zero,H=0,B=0,I=!1;for(_=0,U=0;_<N;_++){if(e.__excludes&&e.__excludes[_])continue;D=o.get(u.bars[_]),P=Math.round((D-A(u.minY,0))*u.scale),q={fill:C[(N>1?_:0)%k]},p?Ext.apply(q,{height:P,width:A(u.groupBarWidth,0),x:b.x+S+(w-E)*.5+i*w*(1+l)+U*u.groupBarWidth*(1+c)*!T,y:j-P}):(V=s-1-i,Ext.apply(q,{height:A(u.groupBarWidth,0),width:P+(j==u.zero),x:j+(j!=u.zero),y:b.y+x+(w-E)*.5+V*w*(1+l)+U*u.groupBarWidth*(1+c)*!T+1})),P<0&&(p?(q.y=F,q.height=M(P)):(q.x=F+P,q.width=M(P))),T&&(P<0?F+=P*(p?-1:1):j+=P*(p?-1:1),H+=M(P),P<0&&(B+=M(P))),q.x=Math.floor(q.x)+1,$=Math.floor(q.y),!Ext.isIE9&&q.y>$&&$--,q.y=$,q.width=Math.floor(q.width),q.height=Math.floor(q.height),a.push({series:e,yField:f[_],storeItem:o,value:[o.get(e.xField),D],attr:q,point:p?[q.x+q.width/2,D>=0?q.y:q.y+q.height]:[D>=0?q.x+q.width:q.x,q.y+q.height/2]});if(h&&t.resizing){R=p?{x:q.x,y:u.zero,width:q.width,height:0}:{x:u.zero,y:q.y,width:0,height:q.height};if(v&&(T&&!I||!T)){I=!0;for(z=0;z<y;z++)W=m[z].getAt(T?i:i*N+_),W&&W.setAttributes(R,!0)}X=d.getAt(i*N+_),X&&X.setAttributes(R,!0)}U++}T&&a.length&&(a[i*U].totalDim=H,a[i*U].totalNegDim=B)}if(T&&U==0)for(i=0,s=r.length;i<s;i++)for(z=0;z<y;z++)W=m[z].getAt(i),W&&W.hide(!0)},renderShadows:function(e,t,n,r){var i=this,s=i.chart,o=s.surface,u=s.animate,a=i.stacked,f=i.shadowGroups,l=i.shadowAttributes,c=f.length,h=s.getChartStore(),p=i.column,d=i.items,v=[],m=r.zero,g,y,b,w,E,S,x;if(a&&e%r.groupBarsLen===0||!a){S=e/r.groupBarsLen;for(g=0;g<c;g++)y=Ext.apply({},l[g]),b=f[g].getAt(a?S:e),Ext.copyTo(y,t,"x,y,width,height"),b||(b=o.add(Ext.apply({type:"rect",group:f[g]},Ext.apply({},n,y)))),a&&(w=d[e].totalDim,E=d[e].totalNegDim,p?(y.y=m+E-w-1,y.height=w):(y.x=m-E,y.width=w)),x=i.renderer(b,h.getAt(S),y,e,h),x.hidden=!!t.hidden,u?i.onAnimate(b,{to:x}):b.setAttributes(x,!0),v.push(b)}return v},drawSeries:function(){var e=this,t=e.chart,n=t.getChartStore(),r=t.surface,i=t.animate,s=e.stacked,o=e.column,u=t.shadow,a=e.shadowGroups,f=a.length,l=e.group,c=e.seriesStyle,h,p,d,v,m,g,y,b,w,E,S,x,T,N;if(!n||!n.getCount()||e.seriesIsHidden){e.hide(),e.items=[];return}S=Ext.apply({},this.style,c),delete S.fill,delete S.x,delete S.y,delete S.width,delete S.height,e.unHighlightItem(),e.cleanHighlights(),e.getPaths(),E=e.bounds,h=e.items,m=o?{y:E.zero,height:0}:{x:E.zero,width:0},p=h.length;for(d=0;d<p;d++){g=l.getAt(d),x=h[d].attr,u&&(h[d].shadows=e.renderShadows(d,x,m,E)),g||(T=Ext.apply({},m,x),T=Ext.apply(T,S||{}),g=r.add(Ext.apply({},{type:"rect",group:l},T)));if(i){y=e.renderer(g,n.getAt(d),x,d,n),g._to=y,N=e.onAnimate(g,{to:Ext.apply(y,S)});if(u&&s&&d%E.barsLen===0){v=d/E.barsLen;for(b=0;b<f;b++)N.on("afteranimate",function(){this.show(!0)},a[b].getAt(v))}}else y=e.renderer(g,n.getAt(d),Ext.apply(x,{hidden:!1}),d,n),g.setAttributes(Ext.apply(y,S),!0);h[d].sprite=g}p=l.getCount();for(v=d;v<p;v++)l.getAt(v).hide(!0);e.stacked&&(d=n.getCount());if(u)for(b=0;b<f;b++){w=a[b],p=w.getCount();for(v=d;v<p;v++)w.getAt(v).hide(!0)}e.renderLabels()},onCreateLabel:function(e,t,n,r){var i=this,s=i.chart.surface,o=i.labelsGroup,u=i.label,a=Ext.apply({},u,i.seriesLabelStyle||{}),f;return s.add(Ext.apply({type:"text",group:o},a||{}))},onPlaceLabel:function(e,t,n,r,i,s,o,u){var a=this,f=a.bounds,l=f.groupBarWidth,c=a.column,h=a.chart,p=h.chartBBox,d=h.resizing,v=n.value[0],m=n.value[1],g=n.attr,y=a.label,b=y.orientation=="vertical",w=[].concat(y.field),E=y.renderer,S=E(t.get(w[u])),x=a.getLabelSize(S),T=x.width,N=x.height,C=f.zero,k="outside",L="insideStart",A="insideEnd",O=10,M=6,_=f.signed,D,P,H;e.setAttributes({text:S}),e.isOutside=!1,c?(i==k?N+M+g.height>(m>=0?C-p.y:p.y+p.height-C)&&(i=A):N+M>g.height&&(i=k,e.isOutside=!0),D=g.x+l/2,P=i==L?C+(N/2+3)*(m>=0?-1:1):m>=0?g.y+(N/2+3)*(i==k?-1:1):g.y+g.height+(N/2+3)*(i===k?1:-1)):(i==k?T+O+g.width>(m>=0?p.x+p.width-C:C-p.x)&&(i=A):T+O>g.width&&(i=k,e.isOutside=!0),D=i==L?C+(T/2+5)*(m>=0?1:-1):m>=0?g.x+g.width+(T/2+5)*(i===k?1:-1):g.x+(T/2+5)*(i===k?-1:1),P=g.y+l/2),H={x:D,y:P},b&&(H.rotate={x:D,y:P,degrees:270}),s&&d&&(c?(D=g.x+g.width/2,P=C):(D=C,P=g.y+g.height/2),e.setAttributes({x:D,y:P},!0),b&&e.setAttributes({rotate:{x:D,y:P,degrees:270}},!0)),s?a.onAnimate(e,{to:H}):e.setAttributes(Ext.apply(H,{hidden:!1}),!0)},getLabelSize:function(e){var t=this.testerLabel,n=this.label,r=Ext.apply({},n,this.seriesLabelStyle||{}),i=n.orientation==="vertical",s,o,u,a;return t||(t=this.testerLabel=this.chart.surface.add(Ext.apply({type:"text",opacity:0},r))),t.setAttributes({text:e},!0),s=t.getBBox(),o=s.width,u=s.height,{width:i?u:o,height:i?o:u}},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,n){var r=n.sprite.getBBox();return r.x<=e&&r.y<=t&&r.x+r.width>=e&&r.y+r.height>=t},hideAll:function(e){var t=this.chart.axes,n=t.items,r=n.length,i=0;e=(isNaN(this._index)?e:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[e]=!0,this.drawSeries();for(i;i<r;i++)n[i].drawAxis()},showAll:function(e){var t=this.chart.axes,n=t.items,r=n.length,i=0;e=(isNaN(this._index)?e:this._index)||0,this.__excludes||(this.__excludes=[]),this.__excludes[e]=!1,this.drawSeries();for(i;i<r;i++)n[i].drawAxis()},getLegendColor:function(e){var t=this,n=t.colorArrayStyle.length;return t.style&&t.style.fill?t.style.fill:t.colorArrayStyle[e%n]},highlightItem:function(e){this.callParent(arguments),this.renderLabels()},unHighlightItem:function(){this.callParent(arguments),this.renderLabels()},cleanHighlights:function(){this.callParent(arguments),this.renderLabels()}}),Ext.define("Ext.chart.series.Column",{alternateClassName:["Ext.chart.ColumnSeries","Ext.chart.ColumnChart","Ext.chart.StackedColumnChart"],extend:"Ext.chart.series.Bar",type:"column",alias:"series.column",column:!0,xPadding:10,yPadding:0}),Ext.define("Ext.chart.series.Gauge",{extend:"Ext.chart.series.Series",type:"gauge",alias:"series.gauge",rad:Math.PI/180,highlightDuration:150,angleField:!1,needle:!1,donut:!1,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t=this,n=t.chart,r=n.surface,i=n.store,s=n.shadow,o,u,a;Ext.apply(t,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),t.group=r.getGroup(t.seriesId);if(s)for(o=0,u=t.shadowAttributes.length;o<u;o++)t.shadowGroups.push(r.getGroup(t.seriesId+"-shadows"+o));r.customAttributes.segment=function(e){return t.getSegment(e)}},initialize:function(){var e=this,t=e.chart.getChartStore(),n=t.data.items,r,i,s;e.yField=[];if(e.label.field)for(r=0,i=n.length;r<i;r++)s=n[r],e.yField.push(s.get(e.label.field))},getSegment:function(e){var t=this,n=t.rad,r=Math.cos,i=Math.sin,s=Math.abs,o=t.centerX,u=t.centerY,a=0,f=0,l=0,c=0,h=0,p=0,d=0,v=0,m=.01,g=e.endRho-e.startRho,y=e.startAngle,b=e.endAngle,w=(y+b)/2*n,E=e.margin||0,S=s(b-y)>180,x=Math.min(y,b)*n,T=Math.max(y,b)*n,N=!1;return o+=E*r(w),u+=E*i(w),a=o+e.startRho*r(x),h=u+e.startRho*i(x),f=o+e.endRho*r(x),p=u+e.endRho*i(x),l=o+e.startRho*r(T),d=u+e.startRho*i(T),c=o+e.endRho*r(T),v=u+e.endRho*i(T),s(a-l)<=m&&s(h-d)<=m&&(N=!0),N?{path:[["M",a,h],["L",f,p],["A",e.endRho,e.endRho,0,+S,1,c,v],["Z"]]}:{path:[["M",a,h],["L",f,p],["A",e.endRho,e.endRho,0,+S,1,c,v],["L",l,d],["A",e.startRho,e.startRho,0,+S,0,a,h],["Z"]]}},calcMiddle:function(e){var t=this,n=t.rad,r=e.slice,i=t.centerX,s=t.centerY,o=r.startAngle,u=r.endAngle,a=Math.max("rho"in r?r.rho:t.radius,t.label.minMargin),f=+t.donut,l=Math.min(o,u)*n,c=Math.max(o,u)*n,h=-(l+(c-l)/2),p=i+(e.endRho+e.startRho)/2*Math.cos(h),d=s-(e.endRho+e.startRho)/2*Math.sin(h);e.middle={x:p,y:d}},drawSeries:function(){var e=this,t=e.chart,n=t.getChartStore(),r=e.group,i=e.chart.animate,s=e.chart.axes.get(0),o=s&&s.minimum||e.minimum||0,u=s&&s.maximum||e.maximum||0,a=e.angleField||e.field||e.xField,f=t.surface,l=t.chartBBox,c=e.rad,h=+e.donut,p={},d=[],v=e.seriesStyle,m=e.seriesLabelStyle,g=e.colorArrayStyle,y=g&&g.length||0,b=t.maxGutter[0],w=t.maxGutter[1],E=Math.cos,S=Math.sin,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X;Ext.apply(v,e.style||{}),e.setBBox(),U=e.bbox,e.colorSet&&(g=e.colorSet,y=g.length);if(!n||!n.getCount()||e.seriesIsHidden){e.hide(),e.items=[];return}T=e.centerX=l.x+l.width/2,N=e.centerY=l.y+l.height,e.radius=Math.min(T-l.x,N-l.y),e.slices=k=[],e.items=d=[],e.value||(_=n.getAt(0),e.value=_.get(a)),A=e.value,e.needle?(W={series:e,value:A,startAngle:-180,endAngle:0,rho:e.radius},z=-180*(1-(A-o)/(u-o)),k.push(W)):(z=-180*(1-(A-o)/(u-o)),W={series:e,value:A,startAngle:-180,endAngle:z,rho:e.radius},X={series:e,value:e.maximum-A,startAngle:z,endAngle:0,rho:e.radius},k.push(W,X));for(D=0,M=k.length;D<M;D++)C=k[D],L=r.getAt(D),x=Ext.apply({segment:{startAngle:C.startAngle,endAngle:C.endAngle,margin:0,rho:C.rho,startRho:C.rho*+h/100,endRho:C.rho}},Ext.apply(v,g&&{fill:g[D%y]}||{})),O=Ext.apply({},x.segment,{slice:C,series:e,storeItem:_,index:D}),d[D]=O,L||(R=Ext.apply({type:"path",group:r},Ext.apply(v,g&&{fill:g[D%y]}||{})),L=f.add(Ext.apply(R,x))),C.sprite=C.sprite||[],O.sprite=L,C.sprite.push(L),i?(x=e.renderer(L,_,x,D,n),L._to=x,e.onAnimate(L,{to:x})):(x=e.renderer(L,_,Ext.apply(x,{hidden:!1}),D,n),L.setAttributes(x,!0));e.needle&&(z=z*Math.PI/180,e.needleSprite?i?e.onAnimate(e.needleSprite,{to:{path:["M",T+e.radius*+h/100*E(z),N+ -Math.abs(e.radius*+h/100*S(z)),"L",T+e.radius*E(z),N+ -Math.abs(e.radius*S(z))]}}):e.needleSprite.setAttributes({type:"path",path:["M",T+e.radius*+h/100*E(z),N+ -Math.abs(e.radius*+h/100*S(z)),"L",T+e.radius*E(z),N+ -Math.abs(e.radius*S(z))]}):e.needleSprite=e.chart.surface.add({type:"path",path:["M",T+e.radius*+h/100*E(z),N+ -Math.abs(e.radius*+h/100*S(z)),"L",T+e.radius*E(z),N+ -Math.abs(e.radius*S(z))],"stroke-width":4,stroke:"#222"}),e.needleSprite.setAttributes({hidden:!1},!0)),delete e.value},setValue:function(e){this.value=e,this.drawSeries()},onCreateLabel:function(e,t,n,r){},onPlaceLabel:function(e,t,n,r,i,s,o){},onPlaceCallout:function(){},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,n,r){var i=this,s=i.centerX,o=i.centerY,u=Math.abs,a=u(e-s),f=u(t-o),l=n.startAngle,c=n.endAngle,h=Math.sqrt(a*a+f*f),p=Math.atan2(t-o,e-s)/i.rad;return r===0&&p>=l&&p<c&&h>=n.startRho&&h<=n.endRho},showAll:function(){isNaN(this._index)||(this.__excludes[this._index]=!1,this.drawSeries())},getLegendColor:function(e){var t=this;return t.colorArrayStyle[e%t.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Line",{extend:"Ext.chart.series.Cartesian",alternateClassName:["Ext.chart.LineSeries","Ext.chart.LineChart"],requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.draw.Draw","Ext.fx.Anim"],type:"line",alias:"series.line",selectionTolerance:20,showMarkers:!0,markerConfig:{},style:{},smooth:!1,defaultSmoothness:3,fill:!1,constructor:function(e){this.callParent(arguments);var t=this,n=t.chart.surface,r=t.chart.shadow,i,s;e.highlightCfg=Ext.Object.merge({"stroke-width":3},e.highlightCfg),Ext.apply(t,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)",translate:{x:1,y:1}}]}),t.group=n.getGroup(t.seriesId),t.showMarkers&&(t.markerGroup=n.getGroup(t.seriesId+"-markers"));if(r)for(i=0,s=t.shadowAttributes.length;i<s;i++)t.shadowGroups.push(n.getGroup(t.seriesId+"-shadows"+i))},shrink:function(e,t,n){var r=e.length,i=Math.floor(r/n),s=1,o=0,u=0,a=[+e[0]],f=[+t[0]];for(;s<r;++s)o+=+e[s]||0,u+=+t[s]||0,s%i==0&&(a.push(o/i),f.push(u/i),o=0,u=0);return{x:a,y:f}},drawSeries:function(){var e=this,t=e.chart,n=t.axes,r=t.getChartStore(),i=r.data.items,s,o=r.getCount(),u=e.chart.surface,a={},f=e.group,l=e.showMarkers,c=e.markerGroup,h=t.shadow,p=e.shadowGroups,d=e.shadowAttributes,v=e.smooth,m=p.length,g=["M"],y=["M"],b=["M"],w=["M"],E=t.markerIndex,S=[].concat(e.axis),x,T=[],N={},C=[],k={},L=!1,A=[],O=e.markerStyle,M=e.seriesStyle,_=e.colorArrayStyle,D=_&&_.length||0,P=Ext.isNumber,H=e.seriesIdx,B=e.getAxesForXAndYFields(),j=B.xAxis,F=B.yAxis,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt;if(e.fireEvent("beforedraw",e)===!1)return;if(!o||e.seriesIsHidden){e.hide(),e.items=[];if(e.line){e.line.hide(!0);if(e.line.shadows){I=e.line.shadows;for(et=0,m=I.length;et<m;et++)q=I[et],q.hide(!0)}e.fillPath&&e.fillPath.hide(!0)}e.line=null,e.fillPath=null;return}yt=Ext.apply(O||{},e.markerConfig,{fill:e.seriesStyle.fill||_[H%_.length]}),wt=yt.type,delete yt.type,bt=M,bt["stroke-width"]||(bt["stroke-width"]=.5),St="opacity"in bt?bt.opacity:1,Nt="opacity"in bt?bt.opacity:.3,xt="lineOpacity"in bt?bt.lineOpacity:St,Tt="fillOpacity"in bt?bt.fillOpacity:Nt;if(E&&c&&c.getCount())for(Z=0;Z<E;Z++)it=c.getAt(Z),c.remove(it),c.add(it),st=c.getAt(c.getCount()-2),it.setAttributes({x:0,y:0,translate:{x:st.attr.translation.x,y:st.attr.translation.y}},!0);e.unHighlightItem(),e.cleanHighlights(),e.setBBox(),a=e.bbox,e.clipRect=[a.x,a.y,a.width,a.height];if(nt=n.get(j))rt=nt.applyData(),ht=rt.from,pt=rt.to;if(nt=n.get(F))rt=nt.applyData(),dt=rt.from,vt=rt.to;e.xField&&!Ext.isNumber(ht)&&(nt=e.getMinMaxXValues(),ht=nt[0],pt=nt[1]),e.yField&&!Ext.isNumber(dt)&&(nt=e.getMinMaxYValues(),dt=nt[0],vt=nt[1]),isNaN(ht)?(ht=0,lt=a.width/(o-1||1)):lt=a.width/(pt-ht||o-1||1),isNaN(dt)?(dt=0,ct=a.height/(o-1||1)):ct=a.height/(vt-dt||o-1||1);for(Z=0,tt=i.length;Z<tt;Z++){s=i[Z],ut=s.get(e.xField);if(typeof ut=="string"||typeof ut=="object"&&!Ext.isDate(ut)||j&&n.get(j)&&n.get(j).type=="Category")ut in N?ut=N[ut]:ut=N[ut]=Z;at=s.get(e.yField);if(typeof at=="undefined"||typeof at=="string"&&!at)continue;if(typeof at=="string"||typeof at=="object"&&!Ext.isDate(at)||F&&n.get(F)&&n.get(F).type=="Category")at=Z;A.push(Z),T.push(ut),C.push(at)}tt=T.length,tt>a.width&&(ft=e.shrink(T,C,a.width),T=ft.x,C=ft.y),e.items=[],Et=0,tt=T.length;for(Z=0;Z<tt;Z++){ut=T[Z],at=C[Z];if(at===!1){y.length==1&&(y=[]),L=!0,e.items.push(!1);continue}V=(a.x+(ut-ht)*lt).toFixed(2),$=(a.y+a.height-(at-dt)*ct).toFixed(2),L&&(L=!1,y.push("M")),y=y.concat([V,$]),typeof G=="undefined"&&typeof $!="undefined"&&(G=$,Q=V);if(!e.line||t.resizing)g=g.concat([V,a.y+a.height/2]);if(t.animate&&t.resizing&&e.line){e.line.setAttributes({path:g,opacity:xt},!0),e.fillPath&&e.fillPath.setAttributes({path:g,opacity:Tt},!0);if(e.line.shadows){I=e.line.shadows;for(et=0,m=I.length;et<m;et++)q=I[et],q.setAttributes({path:g},!0)}}l&&(it=c.getAt(Et++),it?(it.setAttributes({value:'"'+ut+", "+at+'"',x:0,y:0,hidden:!1},!0),it._to={translate:{x:+V,y:+$}}):(it=Ext.chart.Shape[wt](u,Ext.apply({group:[f,c],x:0,y:0,translate:{x:+(J||V),y:K||a.y+a.height/2},value:'"'+ut+", "+at+'"',zIndex:4e3},yt)),it._to={translate:{x:+V,y:+$}})),e.items.push({series:e,value:[ut,at],point:[V,$],sprite:it,storeItem:r.getAt(A[Z])}),J=V,K=$}if(y.length<=1)return;e.smooth&&(w=Ext.draw.Draw.smooth(y,P(v)?v:e.defaultSmoothness)),b=v?w:y,t.markerIndex&&e.previousPath?(U=e.previousPath,v||Ext.Array.erase(U,1,2)):U=y;if(!e.line){e.line=u.add(Ext.apply({type:"path",group:f,path:g,stroke:bt.stroke||bt.fill},bt||{})),e.line.setAttributes({opacity:xt},!0),h&&e.line.setAttributes(Ext.apply({},e.shadowOptions),!0),e.line.setAttributes({fill:"none",zIndex:3e3}),!bt.stroke&&D&&e.line.setAttributes({stroke:_[H%D]},!0);if(h){I=e.line.shadows=[];for(R=0;R<m;R++)x=d[R],x=Ext.apply({},x,{path:g}),q=u.add(Ext.apply({},{type:"path",group:p[R]},x)),I.push(q)}}e.fill&&(W=b.concat([["L",V,a.y+a.height],["L",Q,a.y+a.height],["L",Q,G]]),e.fillPath||(e.fillPath=u.add({group:f,type:"path",fill:bt.fill||_[H%D],path:g}))),Y=l&&c.getCount();if(t.animate){z=e.fill,mt=e.line,X=e.renderer(mt,!1,{path:b},Z,r),Ext.apply(X,bt||{},{stroke:bt.stroke||bt.fill}),delete X.fill,mt.show(!0),t.markerIndex&&e.previousPath?e.animation=gt=e.onAnimate(mt,{to:X,from:{path:U}}):e.animation=gt=e.onAnimate(mt,{to:X});if(h){I=mt.shadows;for(et=0;et<m;et++)I[et].show(!0),t.markerIndex&&e.previousPath?e.onAnimate(I[et],{to:{path:b},from:{path:U}}):e.onAnimate(I[et],{to:{path:b}})}z&&(e.fillPath.show(!0),e.onAnimate(e.fillPath,{to:Ext.apply({},{path:W,fill:bt.fill||_[H%D],"stroke-width":0,opacity:Tt},bt||{})}));if(l){Et=0;for(Z=0;Z<tt;Z++)e.items[Z]&&(ot=c.getAt(Et++),ot&&(X=e.renderer(ot,r.getAt(Z),ot._to,Z,r),e.onAnimate(ot,{to:Ext.apply(X,yt||{})}),ot.show(!0)));for(;Et<Y;Et++)ot=c.getAt(Et),ot.hide(!0)}}else{X=e.renderer(e.line,!1,{path:b,hidden:!1},Z,r),Ext.apply(X,bt||{},{stroke:bt.stroke||bt.fill}),delete X.fill,e.line.setAttributes(X,!0),e.line.setAttributes({opacity:xt},!0);if(h){I=e.line.shadows;for(et=0;et<m;et++)I[et].setAttributes({path:b,hidden:!1},!0)}e.fill&&e.fillPath.setAttributes({path:W,hidden:!1,opacity:Tt},!0);if(l){Et=0;for(Z=0;Z<tt;Z++)e.items[Z]&&(ot=c.getAt(Et++),ot&&(X=e.renderer(ot,r.getAt(Z),ot._to,Z,r),ot.setAttributes(Ext.apply(yt||{},X||{}),!0),ot.attr.hidden||ot.show(!0)));for(;Et<Y;Et++)ot=c.getAt(Et),ot.hide(!0)}}t.markerIndex&&(e.smooth?Ext.Array.erase(y,1,2):Ext.Array.splice(y,1,0,y[1],y[2]),e.previousPath=y),e.renderLabels(),e.renderCallouts(),e.fireEvent("draw",e)},onCreateLabel:function(e,t,n,r){var i=this,s=i.labelsGroup,o=i.label,u=i.bbox,a=Ext.apply(o,i.seriesLabelStyle);return i.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:s,x:t.point[0],y:u.y+u.height/2},a||{}))},onPlaceLabel:function(e,t,n,r,i,s){var o=this,u=o.chart,a=u.resizing,f=o.label,l=f.renderer,c=f.field,h=o.bbox,p=n.point[0],d=n.point[1],v=n.sprite.attr.radius,m,g,y;e.setAttributes({text:l(t.get(c)),hidden:!0},!0);if(i=="rotate")e.setAttributes({"text-anchor":"start",rotation:{x:p,y:d,degrees:-45}},!0),m=e.getBBox(),g=m.width,y=m.height,p=p<h.x?h.x:p,p=p+g>h.x+h.width?p-(p+g-h.x-h.width):p,d=d-y<h.y?h.y+y:d;else if(i=="under"||i=="over")m=n.sprite.getBBox(),m.width=m.width||v*2,m.height=m.height||v*2,d+=i=="over"?-m.height:m.height,m=e.getBBox(),g=m.width/2,y=m.height/2,p=p-g<h.x?h.x+g:p,p=p+g>h.x+h.width?p-(p+g-h.x-h.width):p,d=d-y<h.y?h.y+y:d,d=d+y>h.y+h.height?d-(d+y-h.y-h.height):d;o.chart.animate&&!o.chart.resizing?(e.show(!0),o.onAnimate(e,{to:{x:p,y:d}})):(e.setAttributes({x:p,y:d},!0),a&&o.animation?o.animation.on("afteranimate",function(){e.show(!0)}):e.show(!0))},highlightItem:function(){var e=this;e.callParent(arguments),e.line&&!e.highlighted&&("__strokeWidth"in e.line||(e.line.__strokeWidth=parseFloat(e.line.attr["stroke-width"])||0),e.line.__anim&&(e.line.__anim.paused=!0),e.line.__anim=Ext.create("Ext.fx.Anim",{target:e.line,to:{"stroke-width":e.line.__strokeWidth+3}}),e.highlighted=!0)},unHighlightItem:function(){var e=this;e.callParent(arguments),e.line&&e.highlighted&&(e.line.__anim=Ext.create("Ext.fx.Anim",{target:e.line,to:{"stroke-width":e.line.__strokeWidth}}),e.highlighted=!1)},onPlaceCallout:function(e,t,n,r,i,s,o){if(!i)return;var u=this,a=u.chart,f=a.surface,l=a.resizing,c=u.callouts,h=u.items,p=r==0?!1:h[r-1].point,d=r==h.length-1?!1:h[r+1].point,v=[+n.point[0],+n.point[1]],m,g,y,b,w,E,S=c.offsetFromViz||30,x=c.offsetToSide||10,T=c.offsetBox||3,N,C,k,L,A,O=u.clipRect,M={width:c.styles.width||10,height:c.styles.height||10},_,D;p||(p=v),d||(d=v),b=(d[1]-p[1])/(d[0]-p[0]),w=(v[1]-p[1])/(v[0]-p[0]),E=(d[1]-v[1])/(d[0]-v[0]),g=Math.sqrt(1+b*b),m=[1/g,b/g],y=[-m[1],m[0]];if(w>0&&E<0&&y[1]<0||w<0&&E>0&&y[1]>0)y[0]*=-1,y[1]*=-1;else if(Math.abs(w)<Math.abs(E)&&y[0]<0||Math.abs(w)>Math.abs(E)&&y[0]>0)y[0]*=-1,y[1]*=-1;_=v[0]+y[0]*S,D=v[1]+y[1]*S,N=_+(y[0]>0?0:-(M.width+2*T)),C=D-M.height/2-T,k=M.width+2*T,L=M.height+2*T;if(N<O[0]||N+k>O[0]+O[2])y[0]*=-1;if(C<O[1]||C+L>O[1]+O[3])y[1]*=-1;_=v[0]+y[0]*S,D=v[1]+y[1]*S,N=_+(y[0]>0?0:-(M.width+2*T)),C=D-M.height/2-T,k=M.width+2*T,L=M.height+2*T,a.animate?(u.onAnimate(e.lines,{to:{path:["M",v[0],v[1],"L",_,D,"Z"]}}),e.panel&&e.panel.setPosition(N,C,!0)):(e.lines.setAttributes({path:["M",v[0],v[1],"L",_,D,"Z"]},!0),e.panel&&e.panel.setPosition(N,C));for(A in e)e[A].show(!0)},isItemInPoint:function(e,t,n,r){var i=this,s=i.items,o=i.selectionTolerance,u=null,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T=Math.sqrt,N=Math.abs;return f=s[r],a=r&&s[r-1],r>=h&&(a=s[h-1]),l=a&&a.point,c=f&&f.point,p=a?l[0]:c[0]-o,d=a?l[1]:c[1],v=f?c[0]:l[0]+o,m=f?c[1]:l[1],b=T((e-p)*(e-p)+(t-d)*(t-d)),w=T((e-v)*(e-v)+(t-m)*(t-m)),E=Math.min(b,w),E<=o?E==b?a:f:!1},toggleAll:function(e){var t=this,n,r,i,s;e?Ext.chart.series.Cartesian.prototype.showAll.call(t):Ext.chart.series.Cartesian.prototype.hideAll.call(t);if(t.line){t.line.setAttributes({hidden:!e},!0);if(t.line.shadows)for(n=0,s=t.line.shadows,r=s.length;n<r;n++)i=s[n],i.setAttributes({hidden:!e},!0)}t.fillPath&&t.fillPath.setAttributes({hidden:!e},!0)},hideAll:function(){this.toggleAll(!1)},showAll:function(){this.toggleAll(!0)}}),Ext.define("Ext.chart.series.Pie",{alternateClassName:["Ext.chart.PieSeries","Ext.chart.PieChart"],extend:"Ext.chart.series.Series",type:"pie",alias:"series.pie",accuracy:1e5,rad:Math.PI*2/1e5,highlightDuration:150,angleField:!1,lengthField:!1,donut:!1,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t=this,n=t.chart,r=n.surface,i=n.store,s=n.shadow,o,u,a;e.highlightCfg=Ext.merge({segment:{margin:20}},e.highlightCfg),Ext.apply(t,e,{shadowAttributes:[{"stroke-width":6,"stroke-opacity":1,stroke:"rgb(200, 200, 200)",translate:{x:1.2,y:2}},{"stroke-width":4,"stroke-opacity":1,stroke:"rgb(150, 150, 150)",translate:{x:.9,y:1.5}},{"stroke-width":2,"stroke-opacity":1,stroke:"rgb(100, 100, 100)",translate:{x:.6,y:1}}]}),t.group=r.getGroup(t.seriesId);if(s)for(o=0,u=t.shadowAttributes.length;o<u;o++)t.shadowGroups.push(r.getGroup(t.seriesId+"-shadows"+o));r.customAttributes.segment=function(e){var n=t.getSegment(e);if(!n.path||n.path.length===0)n.path=["M",0,0];return n},t.__excludes=t.__excludes||[]},initialize:function(){var e=this,t=e.chart.getChartStore(),n=t.data.items,r,i,s;e.yField=[];if(e.label.field)for(r=0,i=n.length;r<i;r++)s=n[r],e.yField.push(s.get(e.label.field))},getSegment:function(e){var t=this,n=t.rad,r=Math.cos,i=Math.sin,s=t.centerX,o=t.centerY,u=0,a=0,f=0,l=0,c=0,h=0,p=0,d=0,v=0,m=0,g=0,y=0,b=.01,w=e.startAngle,E=e.endAngle,S=(w+E)/2*n,x=e.margin||0,T=Math.min(w,E)*n,N=Math.max(w,E)*n,C=r(T),k=i(T),L=r(N),A=i(N),O=r(S),M=i(S),_=0,D=.7071067811865476;return N-T<b?{path:""}:(x!==0&&(s+=x*O,o+=x*M),a=s+e.endRho*C,h=o+e.endRho*k,l=s+e.endRho*L,d=o+e.endRho*A,g=s+e.endRho*O,y=o+e.endRho*M,e.startRho!==0?(u=s+e.startRho*C,c=o+e.startRho*k,f=s+e.startRho*L,p=o+e.startRho*A,v=s+e.startRho*O,m=o+e.startRho*M,{path:[["M",a,h],["A",e.endRho,e.endRho,0,0,1,g,y],["L",g,y],["A",e.endRho,e.endRho,0,_,1,l,d],["L",l,d],["L",f,p],["A",e.startRho,e.startRho,0,_,0,v,m],["L",v,m],["A",e.startRho,e.startRho,0,0,0,u,c],["L",u,c],["Z"]]}):{path:[["M",s,o],["L",a,h],["A",e.endRho,e.endRho,0,0,1,g,y],["L",g,y],["A",e.endRho,e.endRho,0,_,1,l,d],["L",l,d],["L",s,o],["Z"]]})},calcMiddle:function(e){var t=this,n=t.rad,r=e.slice,i=t.centerX,s=t.centerY,o=r.startAngle,u=r.endAngle,a=+t.donut,f=-(o+u)*n/2,l=(e.endRho+e.startRho)/2,c=i+l*Math.cos(f),h=s-l*Math.sin(f);e.middle={x:c,y:h}},drawSeries:function(){var e=this,t=e.chart.getChartStore(),n=t.data.items,r,i=e.group,s=e.chart.animate,o=e.angleField||e.field||e.xField,u=[].concat(e.lengthField),a=0,f=e.chart,l=f.surface,c=f.chartBBox,h=f.shadow,p=e.shadowGroups,d=e.shadowAttributes,v=p.length,m=u.length,g=0,y=+e.donut,b=[],w=[],E=0,S=0,x=0,T=e.seriesStyle,N=e.colorArrayStyle,C=N&&N.length||0,k,L,A,O,M,_,D,P,H=0,B,j,F,I,q,R,U,z,W,X,V,$,J,K;Ext.apply(T,e.style||{}),e.setBBox(),K=e.bbox,e.colorSet&&(N=e.colorSet,C=N.length);if(!t||!t.getCount()||e.seriesIsHidden){e.hide(),e.items=[];return}e.unHighlightItem(),e.cleanHighlights(),_=e.centerX=c.x+c.width/2,D=e.centerY=c.y+c.height/2,e.radius=Math.min(_-c.x,D-c.y),e.slices=j=[],e.items=w=[];for(z=0,U=n.length;z<U;z++){r=n[z];if(this.__excludes&&this.__excludes[z])continue;E+=+r.get(o);if(u[0]){for(W=0,a=0;W<m;W++)a+=+r.get(u[W]);b[z]=a,S=Math.max(S,a)}}E=E||1;for(z=0,U=n.length;z<U;z++){r=n[z],this.__excludes&&this.__excludes[z]?I=0:(I=r.get(o),H==0&&(H=1));if(H==1){H=2,e.firstAngle=x=e.accuracy*I/E/2;for(W=0;W<z;W++)j[W].startAngle=j[W].endAngle=e.firstAngle}X=x-e.accuracy*I/E,B={series:e,value:I,startAngle:x,endAngle:X,storeItem:r},u[0]?(R=+b[z],B.rho=Math.floor(e.radius/S*R)):B.rho=e.radius,j[z]=B,function(){x=X}()}if(h)for(z=0,U=j.length;z<U;z++){B=j[z],B.shadowAttrs=[];for(W=0,g=0,A=[];W<m;W++){F=i.getAt(z*m+W),P=u[W]?t.getAt(z).get(u[W])/b[z]*B.rho:B.rho,k={segment:{startAngle:B.startAngle,endAngle:B.endAngle,margin:0,rho:B.rho,startRho:g+P*y/100,endRho:g+P},hidden:!B.value&&B.startAngle%e.accuracy==B.endAngle%e.accuracy};for(M=0,A=[];M<v;M++)L=d[M],O=p[M].getAt(z),O||(O=f.surface.add(Ext.apply({},{type:"path",group:p[M],strokeLinejoin:"round"},k,L))),L=e.renderer(O,t.getAt(z),Ext.apply({},k,L),z,t),s?e.onAnimate(O,{to:L}):O.setAttributes(L,!0),A.push(O);B.shadowAttrs[W]=A}}for(z=0,U=j.length;z<U;z++){B=j[z];for(W=0,g=0;W<m;W++)F=i.getAt(z*m+W),P=u[W]?t.getAt(z).get(u[W])/b[z]*B.rho:B.rho,k=Ext.apply({segment:{startAngle:B.startAngle,endAngle:B.endAngle,margin:0,rho:B.rho,startRho:g+P*y/100,endRho:g+P},hidden:!B.value&&B.startAngle%e.accuracy==B.endAngle%e.accuracy},Ext.apply(T,N&&{fill:N[(m>1?W:z)%C]}||{})),q=Ext.apply({},k.segment,{slice:B,series:e,storeItem:B.storeItem,index:z}),e.calcMiddle(q),h&&(q.shadows=B.shadowAttrs[W]),w[z]=q,F||(J=Ext.apply({type:"path",group:i,middle:q.middle},Ext.apply(T,N&&{fill:N[(m>1?W:z)%C]}||{})),F=l.add(Ext.apply(J,k))),B.sprite=B.sprite||[],q.sprite=F,B.sprite.push(F),B.point=[q.middle.x,q.middle.y],s?(k=e.renderer(F,t.getAt(z),k,z,t),F._to=k,F._animating=!0,e.onAnimate(F,{to:k,listeners:{afteranimate:{fn:function(){this._animating=!1},scope:F}}})):(k=e.renderer(F,t.getAt(z),Ext.apply(k,{hidden:!1}),z,t),F.setAttributes(k,!0)),g+=P}U=i.getCount();for(z=0;z<U;z++)!j[z/m>>0]&&i.getAt(z)&&i.getAt(z).hide(!0);if(h){v=p.length;for(M=0;M<U;M++)if(!j[M/m>>0])for(W=0;W<v;W++)p[W].getAt(M)&&p[W].getAt(M).hide(!0)}e.renderLabels(),e.renderCallouts()},onCreateLabel:function(e,t,n,r){var i=this,s=i.labelsGroup,o=i.label,u=i.centerX,a=i.centerY,f=t.middle,l=Ext.apply(i.seriesLabelStyle||{},o||{});return i.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:s,x:f.x,y:f.y},l))},onPlaceLabel:function(e,t,n,r,i,s,o){function T(e){return e<0&&(e+=360),e%360}var u=this,a=u.chart,f=a.resizing,l=u.label,c=l.renderer,h=[].concat(l.field),p=u.centerX,d=u.centerY,v=n.middle,m={x:v.x,y:v.y},g=v.x-p,y=v.y-d,b={},w=1,E=Math.atan2(y,g||1),S=E*180/Math.PI,x;m.hidden=!1,this.__excludes&&this.__excludes[r]&&(m.hidden=!0),e.setAttributes({text:c(t.get(h[o]))},!0);switch(i){case"outside":w=Math.sqrt(g*g+y*y)*2,m.x=w*Math.cos(E)+p,m.y=w*Math.sin(E)+d;break;case"rotate":S=T(S),S=S>90&&S<270?S+180:S,x=e.attr.rotation.degrees,x!=null&&Math.abs(x-S)>90?(S>x?S-=360:S+=360,S%=360):S=T(S),m.rotate={degrees:S,x:m.x,y:m.y};break;default:}m.translate={x:0,y:0},s&&!f&&(i!="rotate"||x!=null)?u.onAnimate(e,{to:m}):e.setAttributes(m,!0),e._from=b},onPlaceCallout:function(e,t,n,r,i,s,o){var u=this,a=u.chart,f=u.centerX,l=u.centerY,c=n.middle,h={x:c.x,y:c.y},p=c.x-f,d=c.y-l,v=1,m,g=Math.atan2(d,p||1),y=e.label.getBBox(),b=20,w=10,E=10,S;v=n.endRho+b,m=(n.endRho+n.startRho)/2+(n.endRho-n.startRho)/3,h.x=v*Math.cos(g)+f,h.y=v*Math.sin(g)+l,p=m*Math.cos(g),d=m*Math.sin(g),a.animate?(u.onAnimate(e.lines,{to:{path:["M",p+f,d+l,"L",h.x,h.y,"Z","M",h.x,h.y,"l",p>0?w:-w,0,"z"]}}),u.onAnimate(e.box,{to:{x:h.x+(p>0?w:-(w+y.width+2*E)),y:h.y+(d>0?-y.height-E/2:-y.height-E/2),width:y.width+2*E,height:y.height+2*E}}),u.onAnimate(e.label,{to:{x:h.x+(p>0?w+E:-(w+y.width+E)),y:h.y+(d>0?-y.height/4:-y.height/4)}})):(e.lines.setAttributes({path:["M",p+f,d+l,"L",h.x,h.y,"Z","M",h.x,h.y,"l",p>0?w:-w,0,"z"]},!0),e.box.setAttributes({x:h.x+(p>0?w:-(w+y.width+2*E)),y:h.y+(d>0?-y.height-E/2:-y.height-E/2),width:y.width+2*E,height:y.height+2*E},!0),e.label.setAttributes({x:h.x+(p>0?w+E:-(w+y.width+E)),y:h.y+(d>0?-y.height/4:-y.height/4)},!0));for(S in e)e[S].show(!0)},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,n,r){var i=this,s=i.centerX,o=i.centerY,u=Math.abs,a=u(e-s),f=u(t-o),l=n.startAngle,c=n.endAngle,h=Math.sqrt(a*a+f*f),p=Math.atan2(t-o,e-s)/i.rad;return p>i.firstAngle&&(p-=i.accuracy),p<=l&&p>c&&h>=n.startRho&&h<=n.endRho},hideAll:function(e){var t,n,r,i,s,o,u;e=(isNaN(this._index)?e:this._index)||0,this.__excludes=this.__excludes||[],this.__excludes[e]=!0,u=this.slices[e].sprite;for(s=0,o=u.length;s<o;s++)u[s].setAttributes({hidden:!0},!0);if(this.slices[e].shadowAttrs)for(t=0,i=this.slices[e].shadowAttrs,n=i.length;t<n;t++){r=i[t];for(s=0,o=r.length;s<o;s++)r[s].setAttributes({hidden:!0},!0)}this.drawSeries()},showAll:function(e){e=(isNaN(this._index)?e:this._index)||0,this.__excludes[e]=!1,this.drawSeries()},highlightItem:function(e){var t=this,n=t.rad,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;e=e||this.items[this._index],this.unHighlightItem();if(!e||t.animating||e.sprite&&e.sprite._animating)return;t.callParent([e]);if(!t.highlight)return;if("segment"in t.highlightCfg){r=t.highlightCfg.segment,i=t.chart.animate,t.labelsGroup&&(p=t.labelsGroup,d=t.label.display,v=p.getAt(e.index),m=(e.startAngle+e.endAngle)/2*n,g=r.margin||0,y=g*Math.cos(m),b=g*Math.sin(m),Math.abs(y)<1e-10&&(y=0),Math.abs(b)<1e-10&&(b=0),i?(v.stopAnimation(),v.animate({to:{translate:{x:y,y:b}},duration:t.highlightDuration})):v.setAttributes({translate:{x:y,y:b}},!0));if(t.chart.shadow&&e.shadows){o=0,u=e.shadows,f=u.length;for(;o<f;o++){a=u[o],l={},c=e.sprite._from.segment;for(h in c)h in r||(l[h]=c[h]);s={segment:Ext.applyIf(l,t.highlightCfg.segment)},i?(a.stopAnimation(),a.animate({to:s,duration:t.highlightDuration})):a.setAttributes(s,!0)}}}},unHighlightItem:function(){var e=this,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;if(!e.highlight)return;if("segment"in e.highlightCfg&&e.items){t=e.items,n=e.chart.animate,r=!!e.chart.shadow,i=e.labelsGroup,s=t.length,o=0,u=0,a=e.label.display;for(;o<s;o++){g=t[o];if(!g)continue;d=g.sprite;if(d&&d._highlighted){i&&(y=i.getAt(g.index),b=Ext.apply({translate:{x:0,y:0}},a=="rotate"?{rotate:{x:y.attr.x,y:y.attr.y,degrees:y.attr.rotation.degrees}}:{}),n?(y.stopAnimation(),y.animate({to:b,duration:e.highlightDuration})):y.setAttributes(b,!0));if(r){v=g.shadows,f=v.length;for(;u<f;u++){c={},h=g.sprite._to.segment,p=g.sprite._from.segment,Ext.apply(c,p);for(l in h)l in p||(c[l]=h[l]);m=v[u],n?(m.stopAnimation(),m.animate({to:{segment:c},duration:e.highlightDuration})):m.setAttributes({segment:c},!0)}}}}}e.callParent(arguments)},getLegendColor:function(e){var t=this;return t.colorSet&&t.colorSet[e%t.colorSet.length]||t.colorArrayStyle[e%t.colorArrayStyle.length]}}),Ext.define("Ext.chart.series.Radar",{extend:"Ext.chart.series.Series",requires:["Ext.chart.Shape","Ext.fx.Anim"],type:"radar",alias:"series.radar",rad:Math.PI/180,showInLegend:!1,style:{},constructor:function(e){this.callParent(arguments);var t=this,n=t.chart.surface,r,i;t.group=n.getGroup(t.seriesId),t.showMarkers&&(t.markerGroup=n.getGroup(t.seriesId+"-markers"))},drawSeries:function(){var e=this,t=e.chart.getChartStore(),n=t.data.items,r,i,s=e.group,o,u=e.chart,a=u.series.items,f,l,c,h=u.animate,p=e.field||e.yField,d=u.surface,v=u.chartBBox,m=e.seriesIdx,g=e.colorArrayStyle,y,b,w,E
,S=0,x=[],T=Math.max,N=Math.cos,C=Math.sin,k=Math.PI*2,L=t.getCount(),A,O,M,_,D,P,H,B=e.seriesStyle,j=e.seriesLabelStyle,F=u.resizing||!e.radar,I=u.axes&&u.axes.get(0),q=!I||!I.maximum;e.setBBox(),S=q?0:I.maximum||0,Ext.apply(B,e.style||{});if(!t||!t.getCount()||e.seriesIsHidden){e.hide(),e.items=[],e.radar&&e.radar.hide(!0),e.radar=null;return}B.stroke||(B.stroke=g[m%g.length]),e.unHighlightItem(),e.cleanHighlights(),y=e.centerX=v.x+v.width/2,b=e.centerY=v.y+v.height/2,e.radius=E=Math.min(v.width,v.height)/2,e.items=w=[];if(q){for(f=0,l=a.length;f<l;f++)c=a[f],x.push(c.yField);for(r=0;r<L;r++){i=n[r];for(P=0,H=x.length;P<H;P++)S=T(+i.get(x[P]),S)}}S=S||1,A=[],O=[];for(P=0;P<L;P++)i=n[P],D=E*i.get(p)/S,M=D*N(P/L*k),_=D*C(P/L*k),P==0?(O.push("M",M+y,_+b),A.push("M",.01*M+y,.01*_+b)):(O.push("L",M+y,_+b),A.push("L",.01*M+y,.01*_+b)),w.push({sprite:!1,point:[y+M,b+_],storeItem:i,series:e});O.push("Z"),e.radar||(e.radar=d.add(Ext.apply({type:"path",group:s,path:A},B||{}))),u.resizing&&e.radar.setAttributes({path:A},!0),u.animate?e.onAnimate(e.radar,{to:Ext.apply({path:O},B||{})}):e.radar.setAttributes(Ext.apply({path:O},B||{}),!0),e.showMarkers&&e.drawMarkers(),e.renderLabels(),e.renderCallouts()},drawMarkers:function(){var e=this,t=e.chart,n=t.surface,r=Ext.apply({},e.markerStyle||{}),i=Ext.apply(r,e.markerConfig,{fill:e.colorArrayStyle[e.seriesIdx%e.colorArrayStyle.length]}),s=e.items,o=i.type,u=e.markerGroup,a=e.centerX,f=e.centerY,l,c,h,p;delete i.type;for(c=0,h=s.length;c<h;c++)l=s[c],p=u.getAt(c),p?p.show():p=Ext.chart.Shape[o](n,Ext.apply({group:u,x:0,y:0,translate:{x:a,y:f}},i)),l.sprite=p,t.resizing&&p.setAttributes({x:0,y:0,translate:{x:a,y:f}},!0),p._to={translate:{x:l.point[0],y:l.point[1]}},t.animate?e.onAnimate(p,{to:p._to}):p.setAttributes(Ext.apply(p._to,i||{}),!0)},isItemInPoint:function(e,t,n){var r,i=10,s=Math.abs;return r=n.point,s(r[0]-e)<=i&&s(r[1]-t)<=i},onCreateLabel:function(e,t,n,r){var i=this,s=i.labelsGroup,o=i.label,u=i.centerX,a=i.centerY,f=t.point,l=Ext.apply(i.seriesLabelStyle||{},o);return i.chart.surface.add(Ext.apply({type:"text","text-anchor":"middle",group:s,x:u,y:a},o||{}))},onPlaceLabel:function(e,t,n,r,i,s){var o=this,u=o.chart,a=u.resizing,f=o.label,l=f.renderer,c=f.field,h=o.centerX,p=o.centerY,d={x:n.point[0],y:n.point[1]},v=d.x-h,m=d.y-p;e.setAttributes({text:l(t.get(c)),hidden:!0},!0),a&&e.setAttributes({x:h,y:p},!0),s?(e.show(!0),o.onAnimate(e,{to:d})):(e.setAttributes(d,!0),e.show(!0))},toggleAll:function(e){var t=this,n,r,i,s;e?Ext.chart.series.Radar.superclass.showAll.call(t):Ext.chart.series.Radar.superclass.hideAll.call(t);if(t.radar){t.radar.setAttributes({hidden:!e},!0);if(t.radar.shadows)for(n=0,s=t.radar.shadows,r=s.length;n<r;n++)i=s[n],i.setAttributes({hidden:!e},!0)}},hideAll:function(){this.toggleAll(!1),this.hideMarkers(0)},showAll:function(){this.toggleAll(!0)},hideMarkers:function(e){var t=this,n=t.markerGroup&&t.markerGroup.getCount()||0,r=e||0;for(;r<n;r++)t.markerGroup.getAt(r).hide(!0)}}),Ext.define("Ext.chart.series.Scatter",{extend:"Ext.chart.series.Cartesian",requires:["Ext.chart.axis.Axis","Ext.chart.Shape","Ext.fx.Anim"],type:"scatter",alias:"series.scatter",constructor:function(e){this.callParent(arguments);var t=this,n=t.chart.shadow,r=t.chart.surface,i,s;Ext.apply(t,e,{style:{},markerConfig:{},shadowAttributes:[{"stroke-width":6,"stroke-opacity":.05,stroke:"rgb(0, 0, 0)"},{"stroke-width":4,"stroke-opacity":.1,stroke:"rgb(0, 0, 0)"},{"stroke-width":2,"stroke-opacity":.15,stroke:"rgb(0, 0, 0)"}]}),t.group=r.getGroup(t.seriesId);if(n)for(i=0,s=t.shadowAttributes.length;i<s;i++)t.shadowGroups.push(r.getGroup(t.seriesId+"-shadows"+i))},getBounds:function(){var e=this,t=e.chart,n=t.getChartStore(),r=t.axes,i=e.getAxesForXAndYFields(),s=i.xAxis,o=i.yAxis,u,a,f,l,c,h,p,d,v,m,g;e.setBBox(),u=e.bbox;if(m=r.get(s))g=m.applyData(),c=g.from,p=g.to;if(m=r.get(o))g=m.applyData(),h=g.from,d=g.to;return e.xField&&!Ext.isNumber(c)&&(m=e.getMinMaxXValues(),c=m[0],p=m[1]),e.yField&&!Ext.isNumber(h)&&(m=e.getMinMaxYValues(),h=m[0],d=m[1]),isNaN(c)?(c=0,p=n.getCount()-1,a=u.width/(n.getCount()-1)):a=u.width/(p-c),isNaN(h)?(h=0,d=n.getCount()-1,f=u.height/(n.getCount()-1)):f=u.height/(d-h),{bbox:u,minX:c,minY:h,xScale:a,yScale:f}},getPaths:function(){var e=this,t=e.chart,n=t.shadow,r=t.getChartStore(),i=r.data.items,s,o,u,a=e.group,f=e.bounds=e.getBounds(),l=e.bbox,c=f.xScale,h=f.yScale,p=f.minX,d=f.minY,v=l.x,m=l.y,g=l.height,y=e.items=[],b=[],w,E,S,x,T;for(s=0,o=i.length;s<o;s++){u=i[s],S=u.get(e.xField),x=u.get(e.yField);if(typeof x=="undefined"||typeof x=="string"&&!x||S==null||x==null)continue;if(typeof S=="string"||typeof S=="object"&&!Ext.isDate(S))S=s;if(typeof x=="string"||typeof x=="object"&&!Ext.isDate(x))x=s;w=v+(S-p)*c,E=m+g-(x-d)*h,b.push({x:w,y:E}),e.items.push({series:e,value:[S,x],point:[w,E],storeItem:u}),t.animate&&t.resizing&&(T=a.getAt(s),T&&(e.resetPoint(T),n&&e.resetShadow(T)))}return b},resetPoint:function(e){var t=this.bbox;e.setAttributes({translate:{x:(t.x+t.width)/2,y:(t.y+t.height)/2}},!0)},resetShadow:function(e){var t=this,n=e.shadows,r=t.shadowAttributes,i=t.shadowGroups.length,s=t.bbox,o,u;for(o=0;o<i;o++)u=Ext.apply({},r[o]),u.translate?(u.translate.x+=(s.x+s.width)/2,u.translate.y+=(s.y+s.height)/2):u.translate={x:(s.x+s.width)/2,y:(s.y+s.height)/2},n[o].setAttributes(u,!0)},createPoint:function(e,t){var n=this,r=n.chart,i=n.group,s=n.bbox;return Ext.chart.Shape[t](r.surface,Ext.apply({},{x:0,y:0,group:i,translate:{x:(s.x+s.width)/2,y:(s.y+s.height)/2}},e))},createShadow:function(e,t,n){var r=this,i=r.chart,s=r.shadowGroups,o=r.shadowAttributes,u=s.length,a=r.bbox,f,l,c,h;e.shadows=c=[];for(f=0;f<u;f++)h=Ext.apply({},o[f]),h.translate?(h.translate.x+=(a.x+a.width)/2,h.translate.y+=(a.y+a.height)/2):Ext.apply(h,{translate:{x:(a.x+a.width)/2,y:(a.y+a.height)/2}}),Ext.apply(h,t),l=Ext.chart.Shape[n](i.surface,Ext.apply({},{x:0,y:0,group:s[f]},h)),c.push(l)},drawSeries:function(){var e=this,t=e.chart,n=t.getChartStore(),r=e.group,i=t.shadow,s=e.shadowGroups,o=e.shadowAttributes,u=s.length,a,f,l,c,h,p,d,v,m,g,y;p=Ext.apply(e.markerStyle,e.markerConfig),v=p.type,delete p.type;if(!n||!n.getCount()){e.hide(),e.items=[];return}e.unHighlightItem(),e.cleanHighlights(),f=e.getPaths(),c=f.length;for(h=0;h<c;h++){l=f[h],a=r.getAt(h),Ext.apply(l,p),a||(a=e.createPoint(l,v),i&&e.createShadow(a,p,v)),m=a.shadows;if(t.animate){g=e.renderer(a,n.getAt(h),{translate:l},h,n),a._to=g,e.onAnimate(a,{to:g});for(d=0;d<u;d++)y=Ext.apply({},o[d]),g=e.renderer(m[d],n.getAt(h),Ext.apply({},{hidden:!1,translate:{x:l.x+(y.translate?y.translate.x:0),y:l.y+(y.translate?y.translate.y:0)}},y),h,n),e.onAnimate(m[d],{to:g})}else{g=e.renderer(a,n.getAt(h),{translate:l},h,n),a._to=g,a.setAttributes(g,!0);for(d=0;d<u;d++)y=Ext.apply({},o[d]),g=e.renderer(m[d],n.getAt(h),Ext.apply({},{hidden:!1,translate:{x:l.x+(y.translate?y.translate.x:0),y:l.y+(y.translate?y.translate.y:0)}},y),h,n),m[d].setAttributes(g,!0)}e.items[h].sprite=a}c=r.getCount();for(h=f.length;h<c;h++)r.getAt(h).hide(!0);e.renderLabels(),e.renderCallouts()},onCreateLabel:function(e,t,n,r){var i=this,s=i.labelsGroup,o=i.label,u=Ext.apply({},o,i.seriesLabelStyle),a=i.bbox;return i.chart.surface.add(Ext.apply({type:"text",group:s,x:t.point[0],y:a.y+a.height/2},u))},onPlaceLabel:function(e,t,n,r,i,s){var o=this,u=o.chart,a=u.resizing,f=o.label,l=f.renderer,c=f.field,h=o.bbox,p=n.point[0],d=n.point[1],v=n.sprite.attr.radius,m,g,y,b;e.setAttributes({text:l(t.get(c)),hidden:!0},!0);if(i=="rotate")e.setAttributes({"text-anchor":"start",rotation:{x:p,y:d,degrees:-45}},!0),m=e.getBBox(),g=m.width,y=m.height,p=p<h.x?h.x:p,p=p+g>h.x+h.width?p-(p+g-h.x-h.width):p,d=d-y<h.y?h.y+y:d;else if(i=="under"||i=="over")m=n.sprite.getBBox(),m.width=m.width||v*2,m.height=m.height||v*2,d+=i=="over"?-m.height:m.height,m=e.getBBox(),g=m.width/2,y=m.height/2,p=p-g<h.x?h.x+g:p,p=p+g>h.x+h.width?p-(p+g-h.x-h.width):p,d=d-y<h.y?h.y+y:d,d=d+y>h.y+h.height?d-(d+y-h.y-h.height):d;u.animate?a?(b=n.sprite.getActiveAnimation(),b?b.on("afteranimate",function(){e.setAttributes({x:p,y:d},!0),e.show(!0)}):e.show(!0)):o.onAnimate(e,{to:{x:p,y:d}}):(e.setAttributes({x:p,y:d},!0),e.show(!0))},onPlaceCallout:function(e,t,n,r,i,s,o){var u=this,a=u.chart,f=a.surface,l=a.resizing,c=u.callouts,h=u.items,p=n.point,d,v=e.label.getBBox(),m=30,g=10,y=3,b,w,E,S,x,T=u.bbox,N,C;d=[Math.cos(Math.PI/4),-Math.sin(Math.PI/4)],N=p[0]+d[0]*m,C=p[1]+d[1]*m,b=N+(d[0]>0?0:-(v.width+2*y)),w=C-v.height/2-y,E=v.width+2*y,S=v.height+2*y;if(b<T[0]||b+E>T[0]+T[2])d[0]*=-1;if(w<T[1]||w+S>T[1]+T[3])d[1]*=-1;N=p[0]+d[0]*m,C=p[1]+d[1]*m,b=N+(d[0]>0?0:-(v.width+2*y)),w=C-v.height/2-y,E=v.width+2*y,S=v.height+2*y,a.animate?(u.onAnimate(e.lines,{to:{path:["M",p[0],p[1],"L",N,C,"Z"]}},!0),u.onAnimate(e.box,{to:{x:b,y:w,width:E,height:S}},!0),u.onAnimate(e.label,{to:{x:N+(d[0]>0?y:-(v.width+y)),y:C}},!0)):(e.lines.setAttributes({path:["M",p[0],p[1],"L",N,C,"Z"]},!0),e.box.setAttributes({x:b,y:w,width:E,height:S},!0),e.label.setAttributes({x:N+(d[0]>0?y:-(v.width+y)),y:C},!0));for(x in e)e[x].show(!0)},onAnimate:function(e,t){return e.show(),this.callParent(arguments)},isItemInPoint:function(e,t,n){function o(n){var r=s(n[0]-e),i=s(n[1]-t);return Math.sqrt(r*r+i*i)}var r,i=10,s=Math.abs;return r=n.point,r[0]-i<=e&&r[0]+i>=e&&r[1]-i<=t&&r[1]+i>=t}}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.TableLayout",monitorResize:!1,type:"table",clearEl:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,itemSizePolicy:{setsWidth:0,setsHeight:0},getItemSizePolicy:function(e){return this.itemSizePolicy},getLayoutItems:function(){var e=this,t=[],n=e.callParent(),r,i=n.length,s;for(s=0;s<i;s++)r=n[s],r.hidden||t.push(r);return t},renderChildren:function(){var e=this,t=e.getLayoutItems(),n=e.owner.getTargetEl().child("table",!0).tBodies[0],r=n.rows,i=0,s=t.length,o,u,a,f,l,c,h,p;o=e.calculateCells(t);for(;i<s;i++){u=o[i],a=u.rowIdx,f=u.cellIdx,l=t[i],c=r[a],c||(c=n.insertRow(a),e.trAttrs&&c.set(e.trAttrs)),p=h=Ext.get(c.cells[f]||c.insertCell(f)),e.needsDivWrap()&&(p=h.first()||h.createChild({tag:"div"}),p.setWidth(null)),l.rendered?e.isValidParent(l,p,a,f,n)||e.moveItem(l,p,0):e.renderItem(l,p,0),e.tdAttrs&&h.set(e.tdAttrs),l.tdAttrs&&h.set(l.tdAttrs),h.set({colSpan:l.colspan||1,rowSpan:l.rowspan||1,id:l.cellId||"",cls:e.cellCls+" "+(l.cellCls||"")});if(!o[i+1]||o[i+1].rowIdx!==a){f++;while(c.cells[f])c.deleteCell(f)}}a++;while(n.rows[a])n.deleteRow(a)},calculate:function(e){if(!e.hasDomProp("containerChildrenDone"))this.done=!1;else{var t=e.targetContext,n=e.widthModel.shrinkWrap,r=e.heightModel.shrinkWrap,i=r||n,s=i&&t.el.child("table",!0),o=i&&t.getPaddingInfo();n&&e.setContentWidth(s.offsetWidth+o.width,!0),r&&e.setContentHeight(s.offsetHeight+o.height,!0)}},finalizeLayout:function(){if(this.needsDivWrap()){var e=this.getLayoutItems(),t,n=e.length,r;for(t=0;t<n;t++)r=e[t],Ext.fly(r.el.dom.parentNode).setWidth(r.getWidth())}(Ext.isIE6||Ext.isIEQuirks)&&this.owner.getTargetEl().child("table").repaint()},calculateCells:function(e){var t=[],n=0,r=0,i=0,s=this.columns||Infinity,o=[],u=0,a,f=e.length,l;for(;u<f;u++){l=e[u];while(r>=s||o[r]>0)if(r>=s){r=0,i=0,n++;for(a=0;a<s;a++)o[a]>0&&o[a]--}else r++;t.push({rowIdx:n,cellIdx:i});for(a=l.colspan||1;a;--a)o[r]=l.rowspan||1,++r;++i}return t},getRenderTree:function(){var e=this,t=e.getLayoutItems(),n,r=[],i=Ext.apply({tag:"table",role:"presentation",cls:e.tableCls,cellspacing:0,cn:{tag:"tbody",cn:r}},e.tableAttrs),s=e.tdAttrs,o=e.needsDivWrap(),u,a=t.length,f,l,c,h,p,d;n=e.calculateCells(t);for(u=0;u<a;u++)f=t[u],l=n[u],h=l.rowIdx,p=l.cellIdx,c=r[h],c||(c=r[h]={tag:"tr",cn:[]},e.trAttrs&&Ext.apply(c,e.trAttrs)),d=c.cn[p]={tag:"td"},s&&Ext.apply(d,s),Ext.apply(d,{colSpan:f.colspan||1,rowSpan:f.rowspan||1,id:f.cellId||"",cls:e.cellCls+" "+(f.cellCls||"")}),o&&(d=d.cn={tag:"div"}),e.configureItem(f),d.cn=f.getRenderTree();return i},isValidParent:function(e,t,n,r){var i,s,o;return arguments.length===3?(o=e.el.up("table"),o&&o.dom.parentNode===t.dom):(i=this.owner.getTargetEl().child("table",!0).tBodies[0],s=i.rows[n].cells[r],e.el.dom.parentNode===s)},needsDivWrap:function(){return Ext.isOpera10_5}}),Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",requires:["Ext.layout.container.Table"],baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",initComponent:function(){var e=this,t=e.columns;e.noTitleCls=e.baseCls+"-notitle",t&&(e.layout=Ext.apply({},{columns:t},e.layout)),e.title||e.addCls(e.noTitleCls),e.callParent(arguments)},onBeforeAdd:function(e){e.isButton&&(e.ui=e.ui+"-toolbar"),this.callParent(arguments)},applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e}}),Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",alias:"widget.viewport",requires:["Ext.EventManager"],alternateClassName:"Ext.Viewport",isViewport:!0,ariaRole:"application",preserveElOnDestroy:!0,initComponent:function(){var e=this,t=document.body.parentNode,n;Ext.getScrollbarSize(),e.width=e.height=undefined,e.callParent(arguments),Ext.fly(t).addCls(Ext.baseCSSPrefix+"viewport"),e.autoScroll&&(delete e.autoScroll,Ext.fly(t).setStyle("overflow","auto")),e.el=n=Ext.getBody(),n.setHeight=Ext.emptyFn,n.setWidth=Ext.emptyFn,n.setSize=Ext.emptyFn,n.dom.scroll="no",e.allowDomMove=!1,e.renderTo=e.el},onRender:function(){var e=this;e.callParent(arguments),e.width=Ext.Element.getViewportWidth(),e.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var e=this;e.callParent(arguments),setTimeout(function(){Ext.EventManager.onWindowResize(e.fireResize,e)},1)},fireResize:function(e,t){(e!=this.width||t!=this.height)&&this.setSize(e,t)}}),Ext.define("Ext.data.proxy.Proxy",{alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],uses:["Ext.data.Batch","Ext.data.Operation","Ext.data.Model"],mixins:{observable:"Ext.util.Observable"},batchOrder:"create,update,destroy",batchActions:!0,defaultReaderType:"json",defaultWriterType:"json",isProxy:!0,constructor:function(e){e=e||{},e.model===undefined&&delete e.model,this.mixins.observable.constructor.call(this,e),this.model!==undefined&&!(this.model instanceof Ext.data.Model)&&this.setModel(this.model)},setModel:function(e,t){this.model=Ext.ModelManager.getModel(e);var n=this.reader,r=this.writer;this.setReader(n),this.setWriter(r),t&&this.store&&this.store.setModel(this.model)},getModel:function(){return this.model},setReader:function(e){var t=this,n=!0;if(e===undefined||typeof e=="string")e={type:e},n=!1;return e.isReader?e.setModel(t.model):(n&&(e=Ext.apply({},e)),Ext.applyIf(e,{proxy:t,model:t.model,type:t.defaultReaderType}),e=Ext.createByAlias("reader."+e.type,e)),e.onMetaChange&&(e.onMetaChange=Ext.Function.createSequence(e.onMetaChange,this.onMetaChange,this)),t.reader=e,t.reader},getReader:function(){return this.reader},onMetaChange:function(e){this.fireEvent("metachange",this,e)},setWriter:function(e){var t=this,n=!0;if(e===undefined||typeof e=="string")e={type:e},n=!1;return e.isWriter||(n&&(e=Ext.apply({},e)),Ext.applyIf(e,{model:t.model,type:t.defaultWriterType}),e=Ext.createByAlias("writer."+e.type,e)),t.writer=e,t.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(e,t){var n=this,r=n.batchActions,i,s,o,u,a,f,l,c,h;e.operations===undefined&&(e={operations:e,listeners:t}),e.batch?Ext.isDefined(e.batch.runOperation)&&(i=Ext.applyIf(e.batch,{proxy:n,listeners:{}})):e.batch={proxy:n,listeners:e.listeners||{}},i||(i=new Ext.data.Batch(e.batch)),i.on("complete",Ext.bind(n.onBatchComplete,n,[e],0)),o=n.batchOrder.split(","),u=o.length;for(f=0;f<u;f++){a=o[f],s=e.operations[a];if(s)if(r)i.add(new Ext.data.Operation({action:a,records:s}));else{c=s.length;for(l=0;l<c;l++)h=s[l],i.add(new Ext.data.Operation({action:a,records:[h]}))}}return i.start(),i},onBatchComplete:function(e,t){var n=e.scope||this;t.hasException?Ext.isFunction(e.failure)&&Ext.callback(e.failure,n,[t,e]):Ext.isFunction(e.success)&&Ext.callback(e.success,n,[t,e]),Ext.isFunction(e.callback)&&Ext.callback(e.callback,n,[t,e])}},function(){Ext.data.DataProxy=this}),Ext.define("Ext.data.AbstractStore",{requires:["Ext.util.MixedCollection","Ext.data.proxy.Proxy","Ext.data.Operation","Ext.util.Filter"],mixins:{observable:"Ext.util.Observable",sortable:"Ext.util.Sortable"},statics:{create:function(e){return e.isStore||(e.type||(e.type="store"),e=Ext.createByAlias("store."+e.type,e)),e}},remoteSort:!1,remoteFilter:!1,autoLoad:undefined,autoSync:!1,batchUpdateMode:"operation",filterOnLoad:!0,sortOnLoad:!0,implicitModel:!1,defaultProxyType:"memory",isDestroyed:!1,isStore:!0,sortRoot:"data",constructor:function(e){var t=this,n;Ext.apply(t,e),t.removed=[],t.mixins.observable.constructor.apply(t,arguments),t.model=Ext.ModelManager.getModel(t.model),Ext.applyIf(t,{modelDefaults:{}}),!t.model&&t.fields&&(t.model=Ext.define("Ext.data.Store.ImplicitModel-"+(t.storeId||Ext.id()),{extend:"Ext.data.Model",fields:t.fields,proxy:t.proxy||t.defaultProxyType}),delete t.fields,t.implicitModel=!0),t.setProxy(t.proxy||t.model.getProxy()),t.proxy.on("metachange",t.onMetaChange,t),t.id&&!t.storeId&&(t.storeId=t.id,delete t.id),t.storeId&&Ext.data.StoreManager.register(t),t.mixins.sortable.initSortable.call(t),n=t.decodeFilters(t.filters),t.filters=new Ext.util.MixedCollection,t.filters.addAll(n)},setProxy:function(e){var t=this;return e instanceof Ext.data.proxy.Proxy?e.setModel(t.model):(Ext.isString(e)&&(e={type:e}),Ext.applyIf(e,{model:t.model}),e=Ext.createByAlias("proxy."+e.type,e)),t.proxy=e,t.proxy},getProxy:function(){return this.proxy},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){var n=this,r=Ext.ModelManager.create(Ext.applyIf(e,n.modelDefaults),n.model.modelName),i;return t=t||{},Ext.applyIf(t,{action:"create",records:[r]}),i=new Ext.data.Operation(t),n.proxy.create(i,n.onProxyWrite,n),r},read:function(){return this.load.apply(this,arguments)},update:function(e){var t=this,n;return e=e||{},Ext.applyIf(e,{action:"update",records:t.getUpdatedRecords()}),n=new Ext.data.Operation(e),t.proxy.update(n,t.onProxyWrite,t)},onProxyWrite:function(e){var t=this,n=e.wasSuccessful(),r=e.getRecords();switch(e.action){case"create":t.onCreateRecords(r,e,n);break;case"update":t.onUpdateRecords(r,e,n);break;case"destroy":t.onDestroyRecords(r,e,n)}n&&(t.fireEvent("write",t,e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),Ext.callback(e.callback,e.scope||t,[r,e,n])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,n){n&&(this.removed=[])},destroy:function(e){var t=this,n;return e=e||{},Ext.applyIf(e,{action:"destroy",records:t.getRemovedRecords()}),n=new Ext.data.Operation(e),t.proxy.destroy(n,t.onProxyWrite,t)},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var n=this,r=e.operations,i=r.length,s;n.suspendEvents();for(s=0;s<i;s++)n.onProxyWrite(r[s]);n.resumeEvents(),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)},onBatchException:function(e,t){},filterNew:function(e){return e.phantom===!0&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return e.dirty===!0&&e.phantom!==!0&&e.isValid()},getRemovedRecords:function(){return this.removed},filter:function(e,t){},decodeFilters:function(e){Ext.isArray(e)||(e===undefined?e=[]:e=[e]);var t=e.length,n=Ext.util.Filter,r,i;for(i=0;i<t;i++)r=e[i],r instanceof n||(Ext.apply(r,{root:"data"}),r.fn&&(r.filterFn=r.fn),typeof r=="function"&&(r={filterFn:r}),e[i]=new n(r));return e},clearFilter:function(e){},isFiltered:function(){},filterBy:function(e,t){},sync:function(e){var t=this,n={},r=t.getNewRecords(),i=t.getUpdatedRecords(),s=t.getRemovedRecords(),o=!1;return r.length>0&&(n.create=r,o=!0),i.length>0&&(n.update=i,o=!0),s.length>0&&(n.destroy=s,o=!0),o&&t.fireEvent("beforesync",n)!==!1&&(e=e||{},t.proxy.batch(Ext.apply(e,{operations:n,listeners:t.getBatchListeners()}))),t},getBatchListeners:function(){var e=this,t={scope:e,exception:e.onBatchException};return e.batchUpdateMode=="operation"?t.operationcomplete=e.onBatchOperationComplete:t.complete=e.onBatchComplete,t},save:function(){return this.sync.apply(this,arguments)},load:function(e){var t=this,n;return e=Ext.apply({action:"read",filters:t.filters.items,sorters:t.getSorters()},e),t.lastOptions=e,n=new Ext.data.Operation(e),t.fireEvent("beforeload",t,n)!==!1&&(t.loading=!0,t.proxy.read(n,t.onProxyLoad,t)),t},reload:function(e){return this.load(Ext.apply(this.lastOptions,e))},afterEdit:function(e,t){var n=this,r,i;if(n.autoSync&&!n.autoSyncSuspended){for(r=t.length;r--;)if(e.fields.get(t[r]).persist){i=!0;break}i&&n.sync()}n.fireEvent("update",n,e,Ext.data.Model.EDIT,t)},afterReject:function(e){this.fireEvent("update",this,e,Ext.data.Model.REJECT,null)},afterCommit:function(e){this.fireEvent("update",this,e,Ext.data.Model.COMMIT,null)},destroyStore:function(){var e=this;e.isDestroyed||(e.storeId&&Ext.data.StoreManager.unregister(e),e.clearData(),e.data=e.tree=e.sorters=e.filters=e.groupers=null,e.reader&&e.reader.destroyReader(),e.proxy=e.reader=e.writer=null,e.clearListeners(),e.isDestroyed=!0,e.implicitModel?Ext.destroy(e.model):e.model=null)},doSort:function(e){var t=this;t.remoteSort?t.load():(t.data.sortBy(e),t.fireEvent("datachanged",t),t.fireEvent("refresh",t))},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return!!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=!0},resumeAutoSync:function(){this.autoSyncSuspended=!1}}),Ext.define("Ext.data.ResultSet",{loaded:!0,count:0,total:0,success:!1,constructor:function(e){Ext.apply(this,e),this.totalRecords=this.total,e.count===undefined&&(this.count=this.records.length)}}),Ext.define("Ext.data.reader.Reader",{requires:["Ext.data.ResultSet","Ext.XTemplate"],alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:{observable:"Ext.util.Observable"},totalProperty:"total",successProperty:"success",root:"",implicitIncludes:!0,readRecordsOnFailure:!0,isReader:!0,applyDefaults:!0,lastFieldGeneration:null,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.fieldCount=0,t.model=Ext.ModelManager.getModel(t.model),t.accessExpressionFn=Ext.Function.bind(t.createFieldAccessExpression,t),t.model&&t.model.prototype.fields&&t.buildExtractors(),this.addEvents("exception")},setModel:function(e,t){var n=this;n.model=Ext.ModelManager.getModel(e),n.buildExtractors(!0),t&&n.proxy&&n.proxy.setModel(n.model,!0)},read:function(e){var t;return e&&(t=e.responseText?this.getResponseData(e):this.readRecords(e)),t||this.nullResultSet},readRecords:function(e){var t=this,n,r,i,s,o,u,a;t.lastFieldGeneration!==t.model.prototype.fields.generation&&t.buildExtractors(!0),t.rawData=e,e=t.getData(e),n=!0,r=0,i=[];if(t.successProperty){u=t.getSuccess(e);if(u===!1||u==="false")n=!1}t.messageProperty&&(a=t.getMessage(e));if(t.readRecordsOnFailure||n)s=Ext.isArray(e)?e:t.getRoot(e),s&&(o=s.length),t.totalProperty&&(u=parseInt(t.getTotal(e),10),isNaN(u)||(o=u)),s&&(i=t.extractData(s),r=i.length);return new Ext.data.ResultSet({total:o||r,count:r,records:i,success:n,message:a})},extractData:function(e){var t=this,n=[],r=t.model,i=e.length,s,o,u,a;!e.length&&Ext.isObject(e)&&(e=[e],i=1);for(a=0;a<i;a++)o=e[a],o.isModel?n.push(o):(u=new r(undefined,t.getId(o),o,s={}),u.phantom=!1,t.convertRecordData(s,o,u),n.push(u),t.implicitIncludes&&t.readAssociated(u,o));return n},readAssociated:function(e,t){var n=e.associations.items,r=0,i=n.length,s,o,u,a;for(;r<i;r++)s=n[r],o=this.getAssociatedDataRoot(t,s.associationKey||s.name),o&&(a=s.getReader(),a||(u=s.associatedModel.proxy,u?a=u.getReader():a=new this.constructor({model:s.associatedName})),s.read(e,a,o))},getAssociatedDataRoot:function(e,t){return e[t]},getFields:function(){return this.model.prototype.fields.items},getData:function(e){return e},getRoot:function(e){return e},getResponseData:function(e){},onMetaChange:function(e){var t=this,n=e.fields||t.getFields(),r,i;t.metaData=e,t.root=e.root||t.root,t.idProperty=e.idProperty||t.idProperty,t.totalProperty=e.totalProperty||t.totalProperty,t.successProperty=e.successProperty||t.successProperty,t.messageProperty=e.messageProperty||t.messageProperty,i=e.clientIdProperty,t.model?(t.model.setFields(n,t.idProperty,i),t.setModel(t.model,!0)):(r=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:n,clientIdProperty:i}),t.idProperty&&(r.idProperty=t.idProperty),t.setModel(r,!0))},getIdProperty:function(){return this.idProperty||this.model.prototype.idProperty},buildExtractors:function(e){var t=this,n=t.getIdProperty(),r=t.totalProperty,i=t.successProperty,s=t.messageProperty,o,u,a;e===!0&&delete t.convertRecordData;if(t.convertRecordData)return;r&&(t.getTotal=t.createAccessor(r)),i&&(t.getSuccess=t.createAccessor(i)),s&&(t.getMessage=t.createAccessor(s)),n?(u=t.model.prototype.fields.get(n),u&&(a=u.mapping,n=a!==undefined&&a!==null?a:n),o=t.createAccessor(n),t.getId=function(e){var n=o.call(t,e);return n===undefined||n===""?null:n}):t.getId=function(){return null},t.convertRecordData=t.buildRecordDataExtractor(),t.lastFieldGeneration=t.model.prototype.fields.generation},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.get("{name}")\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var e=this,t=e.model.prototype,n={clientIdProp:t.clientIdProperty,fields:t.fields.items};return e.recordDataExtractorTemplate.createFieldAccessExpression=e.accessExpressionFn,Ext.functionFactory(e.recordDataExtractorTemplate.apply(n)).call(e)},destroyReader:function(){var e=this;delete e.proxy,delete e.model,delete e.convertRecordData,delete e.getId,delete e.getTotal,delete e.getSuccess,delete e.getMessage}},function(){var e=this.prototype;Ext.apply(e,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0}),recordDataExtractorTemplate:new Ext.XTemplate(e.recordDataExtractorTemplate)})}),Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.JsonReader",alias:"reader.json",root:"",useSimpleAccessors:!1,readRecords:function(e){return e.metaData&&this.onMetaChange(e.metaData),this.jsonData=e,this.callParent([e])},getResponseData:function(e){var t,n;try{return t=Ext.decode(e.responseText),this.readRecords(t)}catch(r){return n=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:r.message}),this.fireEvent("exception",this,e,n),Ext.Logger.warn("Unable to parse the JSON returned by the server"),n}},buildExtractors:function(){var e=this;e.callParent(arguments),e.root?e.getRoot=e.createAccessor(e.root):e.getRoot=function(e){return e}},extractData:function(e){var t=this.record,n=[],r,i;if(t){r=e.length,!r&&Ext.isObject(e)&&(r=1,e=[e]);for(i=0;i<r;i++)n[i]=e[i][t]}else n=e;return this.callParent([n])},createAccessor:function(){var e=/[\[\.]/;return function(t){if(Ext.isEmpty(t))return Ext.emptyFn;if(Ext.isFunction(t))return t;if(this.useSimpleAccessors!==!0){var n=String(t).search(e);if(n>=0)return Ext.functionFactory("obj","return obj"+(n>0?".":"")+t)}return function(e){return e[t]}}}(),createFieldAccessExpression:function(){var e=/[\[\.]/;return function(t,n,r){var i=this,s=t.mapping!==null,o=s?t.mapping:t.name,u,a;if(typeof o=="function")u=n+".mapping("+r+", this)";else if(this.useSimpleAccessors===!0||(a=String(o).search(e))<0){if(!s||isNaN(o))o='"'+o+'"';u=r+"["+o+"]"}else u=r+(a>0?".":"")+o;return u}}()}),Ext.define("Ext.data.writer.Writer",{alias:"writer.base",alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:!0,nameProperty:"name",isWriter:!0,constructor:function(e){Ext.apply(this,e)},write:function(e){var t=e.operation,n=t.records||[],r=n.length,i=0,s=[];for(;i<r;i++)s.push(this.getRecordData(n[i],t));return this.writeRecords(e,s)},getRecordData:function(e,t){var n=e.phantom===!0,r=this.writeAllFields||n,i=this.nameProperty,s=e.fields,o=s.items,u={},a=e.clientIdProperty,f,l,c,h,p,d,v;if(r){v=o.length;for(d=0;d<v;d++)c=o[d],c.persist&&(l=c[i]||c.name,p=e.get(c.name),c.serialize?u[l]=c.serialize(p,e):c.type===Ext.data.Types.DATE&&c.dateFormat?u[l]=Ext.Date.format(p,c.dateFormat):u[l]=p)}else{f=e.getChanges();for(h in f)f.hasOwnProperty(h)&&(c=s.get(h),c.persist&&(l=c[i]||c.name,p=e.get(c.name),c.serialize?u[l]=c.serialize(p,e):c.type===Ext.data.Types.DATE&&c.dateFormat?u[l]=Ext.Date.format(p,c.dateFormat):u[l]=p))}return n?a&&t&&t.records.length>1&&(u[a]=e.internalId):u[e.idProperty]=e.getId(),u}}),Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",root:undefined,encode:!1,allowSingle:!0,writeRecords:function(e,t){var n=this.root;return this.allowSingle&&t.length==1&&(t=t[0]),this.encode?n&&(e.params[n]=Ext.encode(t)):(e.jsonData=e.jsonData||{},n?e.jsonData[n]=t:e.jsonData=t),e}}),Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,constructor:function(e){var t=this;e=e||{},t.callParent([e]),t.extraParams=e.extraParams||{},t.api=Ext.apply({},e.api||t.api),t.nocache=t.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){this.extraParams[e]=t},buildRequest:function(e){var t=this,n=Ext.applyIf(e.params||{},t.extraParams||{}),r;return n=Ext.applyIf(n,t.getParams(e)),e.id!==undefined&&n.id===undefined&&(n.id=e.id),r=new Ext.data.Request({params:n,action:e.action,records:e.records,operation:e,url:e.url,proxy:t}),r.url=t.buildUrl(r),e.request=r,r},processResponse:function(e,t,n,r,i,s){var o=this,u,a;e===!0?(u=o.getReader(),u.applyDefaults=t.action==="read",a=u.read(o.extractResponseData(r)),a.success!==!1?(Ext.apply(t,{response:r,resultSet:a}),t.commitRecords(a.records),t.setCompleted(),t.setSuccessful()):(t.setException(a.message),o.fireEvent("exception",this,r,t))):(o.setException(t,r),o.fireEvent("exception",this,r,t)),typeof i=="function"&&i.call(s||o,t),o.afterRequest(n,e)},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText})},extractResponseData:function(e){return e},applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e){var t=[],n=e.length,r=0;for(;r<n;r++)t[r]={property:e[r].property,direction:e[r].direction};return this.applyEncoding(t)},encodeFilters:function(e){var t=[],n=e.length,r=0;for(;r<n;r++)t
[r]={property:e[r].property,value:e[r].value};return this.applyEncoding(t)},getParams:function(e){var t=this,n={},r=Ext.isDefined,i=e.groupers,s=e.sorters,o=e.filters,u=e.page,a=e.start,f=e.limit,l=t.simpleSortMode,c=t.simpleGroupMode,h=t.pageParam,p=t.startParam,d=t.limitParam,v=t.groupParam,m=t.groupDirectionParam,g=t.sortParam,y=t.filterParam,b=t.directionParam;return h&&r(u)&&(n[h]=u),p&&r(a)&&(n[p]=a),d&&r(f)&&(n[d]=f),v&&i&&i.length>0&&(c?(n[v]=i[0].property,n[m]=i[0].direction||"ASC"):n[v]=t.encodeSorters(i)),g&&s&&s.length>0&&(l?(n[g]=s[0].property,n[b]=s[0].direction):n[g]=t.encodeSorters(s)),y&&o&&o.length>0&&(n[y]=t.encodeFilters(o)),n},buildUrl:function(e){var t=this,n=t.getUrl(e);return t.noCache&&(n=Ext.urlAppend(n,Ext.String.format("{0}={1}",t.cacheString,Ext.Date.now()))),n},getUrl:function(e){return e.url||this.api[e.action]||this.url},doRequest:function(e,t,n){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}}),Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.util.MixedCollection","Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},doRequest:function(e,t,n){var r=this.getWriter(),i=this.buildRequest(e,t,n);return e.allowWrite()&&(i=r.write(i)),Ext.apply(i,{headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(i,e,t,n),method:this.getMethod(i),disableCaching:!1}),Ext.Ajax.request(i),i},getMethod:function(e){return this.actionMethods[e.action]},createRequestCallback:function(e,t,n,r){var i=this;return function(s,o,u){i.processResponse(o,t,e,u,n,r)}}},function(){Ext.data.HttpProxy=this}),Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){}}),Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",constructor:function(e){this.callParent([e]),this.setReader(this.reader)},updateOperation:function(e,t,n){var r=0,i=e.getRecords(),s=i.length;for(r;r<s;r++)i[r].commit();e.setCompleted(),e.setSuccessful(),Ext.callback(t,n||this,[e])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(e,t,n){var r=this;e.resultSet=r.getReader().read(r.data),e.setCompleted(),e.setSuccessful(),Ext.callback(t,n||r,[e])},clear:Ext.emptyFn}),Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",constructor:function(e){Ext.apply(this,e),this.callParent([e])},add:function(e,t){var n=this,r=n.findKey(t),i;return r?(n.unlinkEntry(i=n.map[r]),i.prev=n.last,i.next=null):i={prev:n.last,next:null,key:e,value:t},n.last?n.last.next=i:n.first=i,n.last=i,n.callParent([e,i]),n.prune(),t},insertBefore:function(e,t,n){var r=this,i,s;return(n=this.map[this.findKey(n)])?(i=r.findKey(t),i?r.unlinkEntry(s=r.map[i]):s={prev:n.prev,next:n,key:e,value:t},n.prev?s.prev.next=s:r.first=s,s.next=n,n.prev=s,r.prune(),t):r.add(e,t)},get:function(e){var t=this.map[e];if(t)return t.next&&this.moveToEnd(t),t.value},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent(arguments)},clear:function(e){return this.first=this.last=null,this.callParent(arguments)},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){var t=[],n=this.first;while(n)t.push(e?n.key:n.value),n=n.next;return t},each:function(e,t,n){var r=this,i=n?r.last:r.first,s=r.length;t=t||r;while(i){if(e.call(t,i.key,i.value,s)===!1)break;i=n?i.prev:i.next}return r},findKey:function(e){var t,n=this.map;for(t in n)if(n.hasOwnProperty(t)&&n[t].value===e)return t;return undefined},prune:function(){var e=this,t=e.maxSize?e.length-e.maxSize:0;if(t>0)for(;e.first&&t;t--)e.removeAtKey(e.first.key)}}),Ext.define("Ext.data.Store",{extend:"Ext.data.AbstractStore",alias:"store.store",requires:["Ext.data.StoreManager","Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.proxy.Memory","Ext.data.reader.Json","Ext.data.writer.Json","Ext.util.LruCache"],uses:["Ext.ModelManager","Ext.util.Grouper"],remoteSort:!1,remoteFilter:!1,remoteGroup:!1,groupField:undefined,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:undefined,currentPage:1,clearOnPageLoad:!0,loading:!1,sortOnFilter:!0,buffered:!1,purgePageCount:5,clearRemovedOnLoad:!0,defaultPageSize:25,addRecordsOptions:{addRecords:!0},statics:{recordIdFn:function(e){return e.internalId},recordIndexFn:function(e){return e.index}},onClassExtended:function(e,t,n){var r=t.model,i;typeof r=="string"&&(i=n.onBeforeCreated,n.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){i.apply(e,t)})})},constructor:function(e){e=Ext.Object.merge({},e);var t=this,n=e.groupers||t.groupers,r=e.groupField||t.groupField,i,s;s=e.data||t.data,t.data=new Ext.util.MixedCollection(!1,Ext.data.Store.recordIdFn),s&&(t.inlineData=s,delete e.data),!n&&r&&(n=[{property:r,direction:e.groupDir||t.groupDir}]),delete e.groupers,t.groupers=new Ext.util.MixedCollection,t.groupers.addAll(t.decodeGroupers(n)),this.callParent([e]),t.buffered&&(t.pageMap=new t.PageMap({pageSize:t.pageSize,maxSize:t.purgePageCount,listeners:{clear:t.cancelAllPrefetches,scope:t}}),t.pageRequests={},t.sortOnLoad=!1,t.filterOnLoad=!1),t.remoteGroup&&(t.remoteSort=!0),t.groupers.items.length&&!t.remoteGroup&&t.sort(t.groupers.items,"prepend",!1),i=t.proxy,s=t.inlineData,!t.buffered&&!t.pageSize&&(t.pageSize=t.defaultPageSize),s?(i instanceof Ext.data.proxy.Memory?(i.data=s,t.read()):t.add.apply(t,[s]),t.sort(),delete t.inlineData):t.autoLoad&&Ext.defer(t.load,10,t,[typeof t.autoLoad=="object"?t.autoLoad:undefined])},destroyStore:function(){this.callParent(arguments),this.pageMap&&this.pageMap.clear()},onBeforeSort:function(){var e=this.groupers;e.getCount()>0&&this.sort(e.items,"prepend",!1)},decodeGroupers:function(e){Ext.isArray(e)||(e===undefined?e=[]:e=[e]);var t=e.length,n=Ext.util.Grouper,r,i,s=[];for(i=0;i<t;i++)r=e[i],r instanceof n?s.push(r):(Ext.isString(r)&&(r={property:r}),r=Ext.apply({root:"data",direction:"ASC"},r),r.fn&&(r.sorterFn=r.fn),typeof r=="function"&&(r={sorterFn:r}),s.push(new n(r)));return s},group:function(e,t){var n=this,r=!1,i,s;Ext.isArray(e)?s=e:Ext.isObject(e)?s=[e]:Ext.isString(e)&&(i=n.groupers.get(e),i?t===undefined?i.toggle():i.setDirection(t):(i={property:e,direction:t},s=[i])),s&&s.length&&(r=!0,s=n.decodeGroupers(s),n.groupers.clear(),n.groupers.addAll(s)),n.remoteGroup?n.buffered?(n.pageMap.clear(),n.loadPage(1,{groupChange:!0})):n.load({scope:n,callback:n.fireGroupChange}):(n.sort(null,null,null,r),n.fireGroupChange())},clearGrouping:function(){var e=this,t=e.groupers.items,n=t.length,r,i;for(i=0;i<n;i++)r=t[i],e.sorters.remove(r);e.groupers.clear(),e.remoteGroup?e.buffered?(e.pageMap.clear(),e.loadPage(1,{groupChange:!0})):e.load({scope:e,callback:e.fireGroupChange}):(e.sort(),e.fireGroupChange())},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(e){var t=this.data.items,n=t.length,r=[],i={},s,o,u,a;for(a=0;a<n;a++)s=t[a],o=this.getGroupString(s),u=i[o],u===undefined&&(u={name:o,children:[]},r.push(u),i[o]=u),u.children.push(s);return e?i[e]:r},getGroupsForGrouper:function(e,t){var n=e.length,r=[],i,s,o,u,a;for(a=0;a<n;a++)o=e[a],s=t.getGroupString(o),s!==i&&(u={name:s,grouper:t,records:[]},r.push(u)),u.records.push(o),i=s;return r},getGroupsForGrouperIndex:function(e,t){var n=this,r=n.groupers,i=r.getAt(t),s=n.getGroupsForGrouper(e,i),o=s.length,u;if(t+1<r.length)for(u=0;u<o;u++)s[u].children=n.getGroupsForGrouperIndex(s[u].records,t+1);for(u=0;u<o;u++)s[u].depth=t;return s},getGroupData:function(e){var t=this;return e!==!1&&t.sort(),t.getGroupsForGrouperIndex(t.data.items,0)},getGroupString:function(e){var t=this.groupers.first();return t?e.get(t.property):""},insert:function(e,t){var n=this,r=!1,i,s,o;t=[].concat(t);for(i=0,o=t.length;i<o;i++)s=n.createModel(t[i]),s.set(n.modelDefaults),t[i]=s,n.data.insert(e+i,s),s.join(n),r=r||s.phantom===!0;n.snapshot&&n.snapshot.addAll(t),n.requireSort&&(n.suspendEvents(),n.sort(),n.resumeEvents()),n.fireEvent("add",n,t,e),n.fireEvent("datachanged",n),n.autoSync&&r&&!n.autoSyncSuspended&&n.sync()},add:function(e){Ext.isArray(e)?e=e.slice(0):e=Array.prototype.slice.apply(arguments);var t=this,n=0,r=e.length,i,s=!t.remoteSort&&t.sorters&&t.sorters.items.length;if(s&&r===1)return[t.addSorted(t.createModel(e[0]))];for(;n<r;n++)i=t.createModel(e[n]),e[n]=i;return s&&(t.requireSort=!0),t.insert(t.data.length,e),delete t.requireSort,e},addSorted:function(e){var t=this,n=t.data.findInsertionIndex(e,t.generateComparator());return t.insert(n,e),e},createModel:function(e){return e.isModel||(e=Ext.ModelManager.create(e,this.model)),e},each:function(e,t){var n=this.data.items,r=n.length,i,s;for(s=0;s<r;s++){i=n[s];if(e.call(t||i,i,s,r)===!1)break}},remove:function(e,t){Ext.isArray(e)||(e=[e]),t=t===!0;var n=this,r=!1,i=0,s=e.length,o,u,a;for(;i<s;i++)a=e[i],u=n.data.indexOf(a),n.snapshot&&n.snapshot.remove(a),u>-1&&(o=a.phantom!==!0,!t&&o&&(a.removedFrom=u,n.removed.push(a)),a.unjoin(n),n.data.remove(a),r=r||o,n.fireEvent("remove",n,a,u));n.fireEvent("datachanged",n),!t&&n.autoSync&&r&&!n.autoSyncSuspended&&n.sync()},removeAt:function(e){var t=this.getAt(e);t&&this.remove(t)},load:function(e){var t=this;return e=e||{},typeof e=="function"&&(e={callback:e}),e.groupers=e.groupers||t.groupers.items,e.page=e.page||t.currentPage,e.start=e.start!==undefined?e.start:(e.page-1)*t.pageSize,e.limit=e.limit||t.pageSize,e.addRecords=e.addRecords||!1,t.buffered?t.loadToPrefetch(e):t.callParent([e])},reload:function(e){var t=this,n,r,i,s,o,u,a,f;e||(e={});if(!t.buffered)return t.callParent(arguments);delete t.totalCount,u=function(){t.rangeCached(n,r)&&(t.loading=!1,t.pageMap.un("pageAdded",u),f=t.pageMap.getRange(n,r),t.loadRecords(f,{start:n}),t.fireEvent("load",t,f,!0))},a=Math.ceil((t.leadingBufferZone+t.trailingBufferZone)/2),n=e.start||t.getAt(0).index,r=n+(e.count||t.getCount())-1,i=t.getPageFromRecordIndex(Math.max(n-a,0)),s=t.getPageFromRecordIndex(r+a),t.pageMap.clear(!0);if(t.fireEvent("beforeload",t,e)!==!1){t.loading=!0;for(o=i;o<=s;o++)t.prefetchPage(o,e);t.pageMap.on("pageAdded",u)}},onProxyLoad:function(e){var t=this,n=e.getResultSet(),r=e.getRecords(),i=e.wasSuccessful();n&&(t.totalCount=n.total),i&&t.loadRecords(r,e),t.loading=!1,t.hasListeners.load&&t.fireEvent("load",t,r,i),t.hasListeners.read&&t.fireEvent("read",t,r,i),Ext.callback(e.callback,e.scope||t,[r,e,i])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(e,t){Ext.isString(e)&&(e={property:e,value:t});var n=this,r=n.decodeFilters(e),i=0,s=n.sorters.length&&n.sortOnFilter&&!n.remoteSort,o=r.length;for(;i<o;i++)n.filters.replace(r[i]);n.remoteFilter?(delete n.totalCount,n.buffered?(n.pageMap.clear(),n.loadPage(1)):(n.currentPage=1,n.load())):n.filters.getCount()&&(n.snapshot=n.snapshot||n.data.clone(),n.data=n.data.filter(n.filters.items),s?n.sort():(n.fireEvent("datachanged",n),n.fireEvent("refresh",n)))},clearFilter:function(e){var t=this;t.filters.clear();if(t.remoteFilter){if(e)return;delete t.totalCount,t.buffered?(t.pageMap.clear(),t.loadPage(1)):(t.currentPage=1,t.load())}else t.isFiltered()&&(t.data=t.snapshot.clone(),delete t.snapshot,e!==!0&&(t.fireEvent("datachanged",t),t.fireEvent("refresh",t)))},isFiltered:function(){var e=this.snapshot;return!!e&&e!==this.data},filterBy:function(e,t){var n=this;n.snapshot=n.snapshot||n.data.clone(),n.data=n.queryBy(e,t||n),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)},queryBy:function(e,t){var n=this,r=n.snapshot||n.data;return r.filterBy(e,t||n)},query:function(e,t,n,r,i){var s=this,o=s.createFilterFn(e,t,n,r,i),u=s.queryBy(o);return u||(u=new Ext.util.MixedCollection),u},loadData:function(e,t){var n=this,r=n.model,i=e.length,s=[],o,u;for(o=0;o<i;o++)u=e[o],u.isModel||(u=Ext.ModelManager.create(u,r)),s.push(u);n.loadRecords(s,t?n.addRecordsOptions:undefined)},loadRawData:function(e,t){var n=this,r=n.proxy.reader.read(e),i=r.records;r.success&&(n.totalCount=r.total,n.loadRecords(i,t?n.addRecordsOptions:undefined),n.fireEvent("load",n,i,!0))},loadRecords:function(e,t){var n=this,r=0,i=e.length,s,o,u=n.snapshot;t&&(s=t.start,o=t.addRecords),o?u&&u.addAll(e):(delete n.snapshot,n.clearData(!0)),n.data.addAll(e);if(s!==undefined)for(;r<i;r++)e[r].index=s+r,e[r].join(n);else for(;r<i;r++)e[r].join(n);n.suspendEvents(),n.filterOnLoad&&!n.remoteFilter&&n.filter(),n.sortOnLoad&&!n.remoteSort&&n.sort(undefined,undefined,undefined,!0),n.resumeEvents(),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)},loadPage:function(e,t){var n=this;n.currentPage=e,t=Ext.apply({page:e,start:(e-1)*n.pageSize,limit:n.pageSize,addRecords:!n.clearOnPageLoad},t);if(n.buffered)return n.loadToPrefetch(t);n.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){var t=this,n=t.data.items,r=n.length;while(r--)n[r].unjoin(t);t.data.clear();if(e!==!0||t.clearRemovedOnLoad)t.removed.length=0},loadToPrefetch:function(e){var t=this,n,r,i=e.start,s=e.start+e.limit-1,o=e.start+(t.viewSize||e.limit)-1,u=t.getPageFromRecordIndex(Math.max(i-t.trailingBufferZone,0)),a=t.getPageFromRecordIndex(s+t.leadingBufferZone),f=function(){t.rangeCached(i,o)&&(t.loading=!1,r=t.pageMap.getRange(i,o),t.pageMap.un("pageAdded",f),t.hasListeners.guaranteedrange?t.guaranteeRange(i,o,e.callback,e.scope):t.loadRecords(r,{start:i}),t.fireEvent("load",t,r,!0),e.groupChange&&t.fireGroupChange())};t.fireEvent("beforeload",t,e)!==!1&&(delete t.totalCount,t.loading=!0,t.pageMap.on("pageAdded",f),t.on("prefetch",function(){for(n=u+1;n<=a;++n)t.prefetchPage(n,e)},null,{single:!0}),t.prefetchPage(u,e))},prefetch:function(e){var t=this,n=t.pageSize,r,i;return n?(t.lastPageSize&&n!=t.lastPageSize&&Ext.error.raise("pageSize cannot be dynamically altered"),t.pageMap.pageSize||(t.pageMap.pageSize=n)):t.pageSize=t.pageMap.pageSize=n=e.limit,t.lastPageSize=n,e.page||(e.page=t.getPageFromRecordIndex(e.start),e.start=(e.page-1)*n,e.limit=Math.ceil(e.limit/n)*n),t.pageRequests[e.page]||(e=Ext.apply({action:"read",filters:t.filters.items,sorters:t.sorters.items,groupers:t.groupers.items,generation:t.pageMap.generation},e),i=new Ext.data.Operation(e),t.fireEvent("beforeprefetch",t,i)!==!1&&(t.loading=!0,r=t.proxy,t.pageRequests[e.page]=r.read(i,t.onProxyPrefetch,t),r.isSynchronous&&delete t.pageRequests[e.page])),t},cancelAllPrefetches:function(){var e=this,t=e.pageRequests,n,r;e.pageMap.events.pageadded&&e.pageMap.events.pageadded.clearListeners();for(r in t)t.hasOwnProperty(r)&&(n=t[r],delete t[r],delete n.callback)},prefetchPage:function(e,t){var n=this,r=n.pageSize||n.defaultPageSize,i=(e-1)*n.pageSize,s=n.totalCount;if(s!==undefined&&n.getCount()===s)return;n.prefetch(Ext.applyIf({page:e,start:i,limit:r},t))},onProxyPrefetch:function(e){var t=this,n=e.getResultSet(),r=e.getRecords(),i=e.wasSuccessful(),s=e.page;e.generation===t.pageMap.generation&&(n&&(t.totalCount=n.total,t.fireEvent("totalcountchange",t.totalCount)),s!==undefined&&delete t.pageRequests[s],i&&t.cachePage(r,e.page),t.loading=!1,t.fireEvent("prefetch",t,r,i,e),Ext.callback(e.callback,e.scope||t,[r,e,i]))},cachePage:function(e,t){var n=this;Ext.isDefined(n.totalCount)||(n.totalCount=e.length,n.fireEvent("totalcountchange",n.totalCount)),n.pageMap.addPage(t,e)},rangeCached:function(e,t){return this.pageMap&&this.pageMap.hasRange(e,t)},pageCached:function(e){return this.pageMap&&this.pageMap.hasPage(e)},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},getPageFromRecordIndex:function(e){return Math.floor(e/this.pageSize)+1},onGuaranteedRange:function(e){var t=this,n=t.getTotalCount(),r=e.prefetchStart,i=n-1<e.prefetchEnd?n-1:e.prefetchEnd,s;i=Math.max(0,i),s=t.pageMap.getRange(r,i),t.fireEvent("guaranteedrange",s,r,i),e.cb&&e.cb.call(e.scope||t,s,r,i)},prefetchRange:function(e,t){var n=this,r,i,s;if(!n.rangeCached(e,t)){r=n.getPageFromRecordIndex(e),i=n.getPageFromRecordIndex(t),n.pageMap.maxSize=n.purgePageCount?i-r+1+n.purgePageCount:0;for(s=r;s<=i;s++)n.pageCached(s)||n.prefetchPage(s)}},guaranteeRange:function(e,t,n,r){t=t>this.totalCount?this.totalCount-1:t;var i=this,s=i.lastRequestStart,o={prefetchStart:e,prefetchEnd:t,cb:n,scope:r},u;i.lastRequestStart=e,i.rangeCached(e,t)?(e<s?(e=Math.max(e-i.leadingBufferZone,0),t=Math.min(t+i.trailingBufferZone,i.totalCount-1)):(e=Math.max(Math.min(e-i.trailingBufferZone,i.totalCount-i.pageSize),0),t=Math.min(t+i.leadingBufferZone,i.totalCount-1)),i.rangeCached(e,t)||i.prefetchRange(e,t),i.onGuaranteedRange(o)):(i.fireEvent("cachemiss",i,e,t),e=Math.min(Math.max(Math.floor(e-(i.leadingBufferZone+i.trailingBufferZone)/2),0),i.totalCount-i.pageSize),t=Math.min(Math.max(Math.ceil(t+(i.leadingBufferZone+i.trailingBufferZone)/2),0),i.totalCount-1),u=function(n,r){i.rangeCached(o.prefetchStart,o.prefetchEnd)&&(i.fireEvent("cachefilled",i,e,t),i.pageMap.un("pageAdded",u),i.onGuaranteedRange(o))},i.pageMap.on("pageAdded",u),i.prefetchRange(o.prefetchStart,o.prefetchEnd),i.prefetchRange(e,t))},sort:function(){var e=this,t=e.pageMap;e.buffered?e.remoteSort?(t.clear(),e.callParent(arguments)):e.callParent(arguments):e.callParent(arguments)},doSort:function(e){var t=this,n,r,i;if(t.remoteSort)t.buffered?(t.pageMap.clear(),t.loadPage(1)):t.load();else{t.data.sortBy(e);if(!t.buffered){n=t.getRange(),r=n.length;for(i=0;i<r;i++)n[i].index=i}t.fireEvent("datachanged",t),t.fireEvent("refresh",t)}},find:function(e,t,n,r,i,s){var o=this.createFilterFn(e,t,r,i,s);return o?this.data.findIndexBy(o,null,n):-1},findRecord:function(){var e=this,t=e.find.apply(e,arguments);return t!==-1?e.getAt(t):null},createFilterFn:function(e,t,n,r,i){return Ext.isEmpty(t)?!1:(t=this.data.createValueMatcher(t,n,r,i),function(n){return t.test(n.data[e])})},findExact:function(e,t,n){return this.data.findIndexBy(function(n){return n.isEqual(n.get(e),t)},this,n)},findBy:function(e,t,n){return this.data.findIndexBy(e,t,n)},collect:function(e,t,n){var r=this,i=n===!0&&r.snapshot?r.snapshot:r.data;return i.collect(e,"data",t)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalCount||0},getAt:function(e){return this.data.getAt(e)},getRange:function(e,t){return this.data.getRange(e,t)},getById:function(e){return(this.snapshot||this.data).findBy(function(t){return t.getId()===e})},indexOf:function(e){return this.data.indexOf(e)},indexOfTotal:function(e){var t=e.index;return t||t===0?t:this.indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},removeAll:function(e){var t=this;t.clearData(),t.snapshot&&t.snapshot.clear(),t.pageMap&&t.pageMap.clear(),e!==!0&&t.fireEvent("clear",t)},first:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){return e.length?e[0]:undefined},t,!0):t.data.first()},last:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){var t=e.length;return t?e[t-1]:undefined},t,!0):t.data.last()},sum:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getSum,n,!0,[e]):n.getSum(n.data.items,e)},getSum:function(e,t){var n=0,r=0,i=e.length;for(;r<i;++r)n+=e[r].get(t);return n},count:function(e){var t=this;return e&&t.isGrouped()?t.aggregate(function(e){return e.length},t,!0):t.getCount()},min:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getMin,n,!0,[e]):n.getMin(n.data.items,e)},getMin:function(e,t){var n=1,r=e.length,i,s;r>0&&(s=e[0].get(t));for(;n<r;++n)i=e[n].get(t),i<s&&(s=i);return s},max:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getMax,n,!0,[e]):n.getMax(n.data.items,e)},getMax:function(e,t){var n=1,r=e.length,i,s;r>0&&(s=e[0].get(t));for(;n<r;++n)i=e[n].get(t),i>s&&(s=i);return s},average:function(e,t){var n=this;return t&&n.isGrouped()?n.aggregate(n.getAverage,n,!0,[e]):n.getAverage(n.data.items,e)},getAverage:function(e,t){var n=0,r=e.length,i=0;if(e.length>0){for(;n<r;++n)i+=e[n].get(t);return i/r}return 0},aggregate:function(e,t,n,r){r=r||[];if(n&&this.isGrouped()){var i=this.getGroups(),s=0,o=i.length,u={},a;for(;s<o;++s)a=i[s],u[a.name]=e.apply(t||this,[a.children].concat(r));return u}return e.apply(t||this,[this.data.items].concat(r))},commitChanges:function(){var e=this,t=e.getModifiedRecords(),n=t.length,r=0;for(;r<n;r++)t[r].commit();e.removed.length=0},filterNewOnly:function(e){return e.phantom===!0},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){var e=this,t=e.getRejectRecords(),n=t.length,r=0,i;for(;r<n;r++)i=t[r],i.reject(),i.phantom&&e.remove(i);t=e.removed,n=t.length;for(r=0;r<n;r++)i=t[r],e.insert(i.removedFrom||0,i),i.reject();e.removed.length=0}},function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"}),this.prototype.PageMap=new Ext.Class({extend:"Ext.util.LruCache",clear:function(e){this.generation=(this.generation||0)+1,this.callParent(arguments)},getPageFromRecordIndex:this.prototype.getPageFromRecordIndex,addPage:function(e,t){this.add(e,t),this.fireEvent("pageAdded",e,t)},getPage:function(e){return this.get(e)},hasRange:function(e,t){var n=this.getPageFromRecordIndex(e),r=this.getPageFromRecordIndex(t);for(;n<=r;n++)if(!this.hasPage(n))return!1;return!0},hasPage:function(e){return!!this.get(e)},getRange:function(e,t){this.hasRange(e,t)||Ext.Error.raise("PageMap asked for range which it does not have");var n=this,r=n.getPageFromRecordIndex(e),i=n.getPageFromRecordIndex(t),s=(r-1)*n.pageSize,o=i*n.pageSize-1,u=r,a=[],f,l,c,h=0,p;for(;u<=i;u++)u==r?(f=e-s,c=!0):(f=0,c=!1),u==i&&(l=n.pageSize-(o-t),c=!0),c?Ext.Array.push(a,Ext.Array.slice(n.getPage(u),f,l)):Ext.Array.push(a,n.getPage(u));for(p=a.length;h<p;h++)a[h].index=e++;return a}})}),Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",totalProperty:undefined,successProperty:undefined,createFieldAccessExpression:function(e,t,n){var r=e.mapping==null?e.originalIndex:e.mapping,i;return typeof r=="function"?i=t+".mapping("+n+", this)":(isNaN(r)&&(r='"'+r+'"'),i=n+"["+r+"]"),i}}),Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],constructor:function(e){e=Ext.apply({proxy:{type:"memory",reader:"array"}},e),this.callParent([e])},loadData:function(e,t){if(this.expandData===!0){var n=[],r=0,i=e.length;for(;r<i;r++)n[n.length]=[e[r]];e=n}this.callParent([e,t])}},function(){Ext.data.SimpleStore=Ext.data.ArrayStore}),Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.util.Observable"},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.operations=[],t.exceptions=[]},add:function(e){return this.total++,e.setBatch(this),this.operations.push(e),this},start:function(e){var t=this;return t.isRunning?t:(t.exceptions.length=0,t.hasException=!1,t.isRunning=!0,t.runOperation(Ext.isDefined(e)?e:t.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(e){var t=this,n=t.operations,r=n[e],i;return r===undefined?(t.isRunning=!1,t.isComplete=!0,t.fireEvent("complete",t,n[n.length-1])):(t.current=e,i=function(e){var n=e.hasException();n&&(t.hasException=!0,t.exceptions.push(e),t.fireEvent("exception",t,e)),n&&t.pauseOnException?t.pause():(e.setCompleted(),t.fireEvent("operationcomplete",t,e),t.runNextOperation())},r.setStarted(),t.proxy[r.action](r,i,t)),t}}),Ext.define("Ext.data.BufferStore",{extend:"Ext.data.Store",alias:"store.buffer",sortOnLoad:!1,filterOnLoad:!1,constructor:function(){Ext.Error.raise("The BufferStore class has been deprecated. Instead, specify the buffered config option on Ext.data.Store")}}),Ext.define("Ext.direct.Manager",{singleton:!0,mixins:{observable:"Ext.util.Observable"},requires:["Ext.util.MixedCollection"],exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){var e=this;e.addEvents("event","exception"),e.transactions=new Ext.util.MixedCollection,e.providers=new Ext.util.MixedCollection,e.mixins.observable.constructor.call(e)},addProvider:function(e){var t=this,n=arguments,r=0,i;if(n.length>1){for(i=n.length;r<i;++r)t.addProvider(n[r]);return}return e.isProvider||(e=Ext.create("direct."+e.type+"provider",e)),t.providers.add(e),e.on("data",t.onProviderData,t),e.isConnected()||e.connect(),e},getProvider:function(e){return e.isProvider?e:this.providers.get(e)},removeProvider:function(e){var t=this,n=t.providers;return e=e.isProvider?e:n.get(e),e?(e.un("data",t.onProviderData,t),n.remove(e),e):null},addTransaction:function(e){return this.transactions.add(e),e},removeTransaction:function(e){return e=this.getTransaction(e),this.transactions.remove(e),e},getTransaction:function(e){return Ext.isObject(e)?e:this.transactions.get(e)},onProviderData:function(e,t){var n=this,r=0,i;if(Ext.isArray(t)){for(i=t.length;r<i;++r)n.onProviderData(e,t[r]);return}t.name&&t.name!="event"&&t.name!="exception"?n.fireEvent(t.name,t):t.status===!1&&n.fireEvent("exception",t),n.fireEvent("event",t,e)},parseMethod:function(e){if(Ext.isString(e)){var t=e.split("."),n=0,r=t.length,i=window;while(i&&n<r)i=i[t[n]],++n;e=Ext.isFunction(i)?i:null}return e||null}},function(){Ext.Direct=Ext.direct.Manager}),Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],paramOrder:undefined,paramsAsHash:!0,directFn:undefined,paramOrderRe:/[\s,|]/,constructor:function(e){var t=this,n,r,i;t.callParent(arguments),n=t.paramOrder,Ext.isString(n)&&(t.paramOrder=n.split(t.paramOrderRe)),r=t.directFn,r&&(t.directFn=Ext.direct.Manager.parseMethod(r)),i=t.api;for(r in i)i.hasOwnProperty(r)&&(i[r]=Ext.direct.Manager.parseMethod(i[r]))},doRequest:function(e,t,n){var r=this,i=r.getWriter(),s=r.buildRequest(e,t,n),o=r.api[s.action]||r.directFn,u=s.params,a=[],f;e.allowWrite()&&(s=i.write(s)),e.action=="read"?(f=o.directCfg.method,a=f.getArgs(u,r.paramOrder,r.paramsAsHash)):a.push(s.jsonData),Ext.apply(s,{args:a,directFn:o}),a.push(r.createRequestCallback(s,e,t,n),r),o.apply(window,a)},applyEncoding:function(e){return e},createRequestCallback:function(e,t,n,r){var i=this;return function(s,o){i.processResponse(o.status,t,e,o,n,r)}},extractResponseData:function(e){return Ext.isDefined(e.result)?e.result:e.data},setException:function(e,t){e.setException(t.message)},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(e){e=Ext.apply({},e);if(!e.proxy){var t={type:"direct",reader:{type:"json"}};Ext.copyTo(t,e,"paramOrder,paramsAsHash,directFn,api,simpleSortMode"),Ext.copyTo(t.reader,e,"totalProperty,root,idProperty"),e.proxy=t}this.callParent([e])}}),Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(e){e=Ext.apply({},e);var t=this,n=Ext.isDefined(e.disableCaching)?e.disableCaching:t.disableCaching,r=e.disableCachingParam||t.disableCachingParam,i=++t.requestCount,s=e.callbackName||"callback"+i,o=e.callbackKey||t.callbackKey,u=Ext.isDefined(e.timeout)?e.timeout:t.timeout,a=Ext.apply({},e.params),f=e.url,l=Ext.name,c,h;return a[o]=l+".data.JsonP."+s,n&&(a[r]=(new Date).getTime()),h=t.createScript(f,a,e),t.requests[i]=c={url:f,params:a,script:h,id:i,scope:e.scope,success:e.success,failure:e.failure,callback:e.callback,callbackKey:o,callbackName:s},u>0&&(c.timeout=setTimeout(Ext.bind(t.handleTimeout,t,[c]),u)),t.setupErrorHandling(c),t[s]=Ext.bind(t.handleResponse,t,[c],!0),t.loadScript(c),c},abort:function(e){var t=this,n=t.requests,r;if(e)e.id||(e=n[e]),t.handleAbort(e);else for(r in n)n.hasOwnProperty(r)&&t.abort(n[r])},setupErrorHandling:function(e){e.script.onerror=Ext.bind(this.handleError,this,[e])},handleAbort:function(e){e.errorType="abort",this.handleResponse(null,e)},handleError:function(e){e.errorType="error",this.handleResponse(null,e)},cleanupErrorHandling:function(e){e.script.onerror=null},handleTimeout:function(e){e.errorType="timeout",this.handleResponse(null,e)},handleResponse:function(e,t){var n=!0;t.timeout&&clearTimeout(t.timeout),delete this[t.callbackName],delete this.requests[t.id],this.cleanupErrorHandling(t),Ext.fly(t.script).remove(),t.errorType?(n=!1,Ext.callback(t.failure,t.scope,[t.errorType])):Ext.callback(t.success,t.scope,[e]),Ext.callback(t.callback,t.scope,[n,e,t.errorType])},createScript:function(e,t,n){var r=document.createElement("script");return r.setAttribute("src",Ext.urlAppend(e,Ext.Object.toQueryString(t))),r.setAttribute("async",!0),r.setAttribute("type","text/javascript"),r},loadScript:function(e){Ext.getHead().appendChild(e.script)}}),Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],defaultWriterType:"base",callbackKey:"callback",recordParam:"records",autoAppendParams:!0,constructor:function(){this.addEvents("exception"),this.callParent(arguments)},doRequest:function(e,t,n){var r=this,i=r.getWriter(),s=r.buildRequest(e),o=s.params;return e.allowWrite()&&(s=i.write(s)),Ext.apply(s,{callbackKey:r.callbackKey,timeout:r.timeout,scope:r,disableCaching:!1,callback:r.createRequestCallback(s,e,t,n)}),r.autoAppendParams&&(s.params={}),s.jsonp=Ext.data.JsonP.request(s),s.params=o,e.setStarted(),r.lastRequest=s,s},createRequestCallback:function(e,t,n,r){var i=this;return function(s,o,u){delete i.lastRequest,i.processResponse(s,t,e,o,n,r)}},setException:function(e,t){e.setException(e.request.jsonp.errorType)},buildUrl:function(e){var t=this,n=t.callParent(arguments),r=Ext.apply({},e.params),i=r.filters,s,o,u;delete r.filters,t.autoAppendParams&&(n=Ext.urlAppend(n,Ext.Object.toQueryString(r)));if(i&&i.length)for(u=0;u<i.length;u++)o=i[u],o.value&&(n=Ext.urlAppend(n,o.property+"="+o.value));return s=e.records,Ext.isArray(s)&&s.length>0&&(n=Ext.urlAppend(n,Ext.String.format("{0}={1}",t.recordParam,t.encodeRecords(s)))),n},destroy:function(){this.abort(),this.callParent(arguments)},abort:function(){var e=this.lastRequest;e&&Ext.data.JsonP.abort(e.jsonp)},encodeRecords:function(e){var t="",n=0,r=e.length;for(;n<r;n++)t+=Ext.Object.toQueryString(e[n].getData());return t}}),Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",requires:["Ext.data.proxy.JsonP","Ext.data.reader.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"jsonp",reader:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.Field"],statics:{decorate:function(e){var t,n;typeof e=="string"?e=Ext.ModelManager.getModel(e):e.isModel&&(e=Ext.ModelManager.getModel(e.modelName));if(e.prototype.isNode)return;t=e.prototype.idProperty,idField=e.prototype.fields.get(t),n=e.prototype.fields.get(t).type.type,e.override(this.getPrototypeBody()),this.applyFields(e,[{name:"parentId",type:n,defaultValue:null,useNull:idField.useNull},{name:"index",type:"int",defaultValue:null,persist:!1},{name:"depth",type:"int",defaultValue:0,persist:!1},{name:"expanded",type:"bool",defaultValue:!1,persist:!1},{name:"expandable",type:"bool",defaultValue:!0,persist:!1},{name:"checked",type:"auto",defaultValue:null,persist:!1},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:null,persist:!1},{name:"iconCls",type:"string",defaultValue:null,persist:!1},{name:"icon",type:"string",defaultValue:null,persist:!1},{name:"root",type:"boolean",defaultValue:!1,persist:!1},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1},{name:"isFirst",type:"boolean",defaultValue
:!1,persist:!1},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1},{name:"loading",type:"boolean",defaultValue:!1,persist:!1},{name:"href",type:"string",defaultValue:null,persist:!1},{name:"hrefTarget",type:"string",defaultValue:null,persist:!1},{name:"qtip",type:"string",defaultValue:null,persist:!1},{name:"qtitle",type:"string",defaultValue:null,persist:!1},{name:"children",type:"auto",defaultValue:null,persist:!1}])},applyFields:function(e,t){var n=e.prototype,r=n.fields,i=r.keys,s=t.length,o,u;for(u=0;u<s;u++)o=t[u],Ext.Array.contains(i,o.name)||r.add(new Ext.data.Field(o))},getPrototypeBody:function(){return{isNode:!0,constructor:function(){var e=this;return this.callParent(arguments),Ext.applyIf(e,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]}),e.enableBubble(["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort"]),e},createNode:function(e){return Ext.isObject(e)&&!e.isModel&&(e=Ext.ModelManager.create(e,this.modelName)),e.childNodes||Ext.applyIf(e,{firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,childNodes:[]}),e},isLeaf:function(){return this.get("leaf")===!0},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e){var t=this,n=t.isRoot(),r=t.parentNode,i=!r||n?!0:r.firstChild===t,s=!r||n?!0:r.lastChild===t,o=0,u=t,a=t.childNodes,f=a.length,l=0,c=t.phantom;while(u.parentNode)++o,u=u.parentNode;t.beginEdit(),t.set({isFirst:i,isLast:s,depth:o,index:r?r.indexOf(t):0,parentId:r?r.getId():null}),t.endEdit(!0),e&&(t.commit(),t.phantom=c);for(l=0;l<f;l++)a[l].updateInfo(e)},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){var e=this;return e.get("expandable")?!(e.isLeaf()||e.isLoaded()&&!e.hasChildNodes()):!1},triggerUIUpdate:function(){this.afterEdit([])},appendChild:function(e,t,n){var r=this,i,s,o,u,a;if(!Ext.isArray(e)){e=r.createNode(e);if(t===!0||!!r.hasListeners.beforeappend&&r.fireEvent("beforeappend",r,e)!==!1){o=r.childNodes.length,u=e.parentNode;if(u){if(t!==!0&&(!r.hasListeners.beforeremove||e.fireEvent("beforemove",e,u,r,o)===!1))return!1;u.removeChild(e,!1,!1,!0)}return o=r.childNodes.length,o===0&&r.setFirstChild(e),r.childNodes.push(e),e.parentNode=r,e.nextSibling=null,r.setLastChild(e),a=r.childNodes[o-1],a?(e.previousSibling=a,a.nextSibling=e,a.updateInfo(n)):e.previousSibling=null,e.updateInfo(n),r.isLoaded()?r.childNodes.length===1&&r.triggerUIUpdate():r.set("loaded",!0),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),t!==!0&&(r.fireEvent("append",r,e,o),u&&e.fireEvent("move",e,u,r,o)),e}return!1}r.callStore("suspendAutoSync");for(i=0,s=e.length-1;i<s;i++)r.appendChild(e[i]);r.callStore("resumeAutoSync"),r.appendChild(e[s])},getBubbleTarget:function(){return this.parentNode},removeChild:function(e,t,n,r){var i=this,s=i.indexOf(e),o,u;if(s==-1||n!==!0&&(!i.hasListeners.beforeremove||i.fireEvent("beforeremove",i,e,!!r)===!1))return!1;Ext.Array.erase(i.childNodes,s,1),i.firstChild==e&&i.setFirstChild(e.nextSibling),i.lastChild==e&&i.setLastChild(e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling);for(o=s>0?s-1:0,u=i.childNodes.length;o<u;o++)i.childNodes[o].updateInfo();return i.childNodes.length||i.triggerUIUpdate(),n!==!0&&i.hasListeners.remove&&i.fireEvent("remove",i,e,!!r),t?e.destroy(!0):e.clear(),e},copy:function(e,t){var n=this,r=n.callOverridden(arguments),i=n.childNodes?n.childNodes.length:0,s;if(t)for(s=0;s<i;s++)r.appendChild(n.childNodes[s].copy(!0));return r},clear:function(e){var t=this;t.parentNode=t.previousSibling=t.nextSibling=null,e&&(t.firstChild=t.lastChild=null)},destroy:function(e){var t=this,n=t.destroyOptions,r=t.childNodes,i=r.length,s;if(e===!0){t.clear(!0);for(s=0;s<i;s++)r[s].destroy(!0);t.childNodes=null,delete t.destroyOptions,t.callOverridden([n])}else t.destroyOptions=e,t.remove(!0)},insertBefore:function(e,t,n){var r=this,i=r.indexOf(t),s=e.parentNode,o=i,u,a,f;if(!t)return r.appendChild(e);if(e==t)return!1;e=r.createNode(e);if(n===!0||!!r.hasListeners.beforeinsert&&r.fireEvent("beforeinsert",r,e,t)!==!1){s==r&&r.indexOf(e)<i&&o--;if(s){if(n!==!0&&(!r.hasListeners.beforeremove||e.fireEvent("beforemove",e,s,r,i,t)===!1))return!1;s.removeChild(e,!1,!1,!0)}o===0&&r.setFirstChild(e),Ext.Array.splice(r.childNodes,o,0,e),e.parentNode=r,e.nextSibling=t,t.previousSibling=e,a=r.childNodes[o-1],a?(e.previousSibling=a,a.nextSibling=e):e.previousSibling=null;for(f=o>0?o-1:0,u=r.childNodes.length;f<u;f++)r.childNodes[f].updateInfo();return r.isLoaded()?r.childNodes.length===1&&r.triggerUIUpdate():r.set("loaded",!0),!e.isLeaf()&&e.phantom&&e.set("loaded",!0),n!==!0&&(r.hasListeners.insert&&r.fireEvent("insert",r,e,t),s&&r.hasListeners.move&&e.fireEvent("move",e,s,r,o,t)),e}return!1},insertChild:function(e,t){var n=this.childNodes[e];return n?this.insertBefore(t,n):this.appendChild(t)},remove:function(e,t){var n=this.parentNode;return n&&n.removeChild(this,e,t),this},removeAll:function(e,t){var n=this.childNodes,r;while(r=n[0])this.removeChild(r,e,t);return this},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,n){var r=t?t.nextSibling:null;return this.removeChild(t,!1,n),this.insertBefore(e,r,n),t},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){var t=this.childNodes,n=t.length,r=0;for(;r<n;++r)if(t[r].getId()===e)return r;return-1},getPath:function(e,t){e=e||this.idProperty,t=t||"/";var n=[this.get(e)],r=this.parentNode;while(r)n.unshift(r.get(e)),r=r.parentNode;return t+n.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,n){var r=this;while(r){if(e.apply(t||r,n||[r])===!1)break;r=r.parentNode}},cascade:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead."),this.cascadeBy.apply(this,arguments)},cascadeBy:function(e,t,n){if(e.apply(t||this,n||[this])!==!1){var r=this.childNodes,i=r.length,s;for(s=0;s<i;s++)r[s].cascadeBy(e,t,n)}},eachChild:function(e,t,n){var r=this.childNodes,i=r.length,s;for(s=0;s<i;s++)if(e.apply(t||this,n||[r[s]])===!1)break},findChild:function(e,t,n){return this.findChildBy(function(){return this.get(e)==t},null,n)},findChildBy:function(e,t,n){var r=this.childNodes,i=r.length,s=0,o,u;for(;s<i;s++){o=r[s];if(e.call(t||o,o)===!0)return o;if(n){u=o.findChildBy(e,t,n);if(u!==null)return u}}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){var t=this.parentNode;while(t){if(t==e)return!0;t=t.parentNode}return!1},sort:function(e,t,n){var r=this.childNodes,i=r.length,s,o;if(i>0){Ext.Array.sort(r,e);for(s=0;s<i;s++)o=r[s],o.previousSibling=r[s-1],o.nextSibling=r[s+1],s===0&&this.setFirstChild(o),s==i-1&&this.setLastChild(o),o.updateInfo(),t&&!o.isLeaf()&&o.sort(e,!0,!0);n!==!0&&this.fireEvent("sort",this,r)}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){var e=this.parentNode;while(e){if(!e.isExpanded())return!1;e=e.parentNode}return!0},expand:function(e,t,n){var r=this;r.isLeaf()?Ext.callback(t,n||r):r.isLoading()?r.on("expand",function(){r.expand(e,t,n)},r,{single:!0}):r.isExpanded()?e?r.expandChildren(!0,t,n):Ext.callback(t,n||r,[r.childNodes]):r.fireEvent("beforeexpand",r,function(){r.set("expanded",!0),r.hasListeners.expand&&r.fireEvent("expand",r,r.childNodes,!1),e?r.expandChildren(!0,t,n):Ext.callback(t,n||r,[r.childNodes])},r)},expandChildren:function(e,t,n){var r=this,i=0,s=r.childNodes,o=s.length,u,a=0;for(;i<o;++i)u=s[i],u.isLeaf()||(a++,s[i].expand(e,function(){a--,t&&!a&&Ext.callback(t,n||r,[r.childNodes])}));!a&&t&&Ext.callback(t,n||r,[r.childNodes])},collapse:function(e,t,n){var r=this;r.isLeaf()?Ext.callback(t,n||r,[r.childNodes]):!r.collapsing&&r.isExpanded()?r.fireEvent("beforecollapse",r,function(){r.set("expanded",!1),r.hasListeners.collapse&&r.fireEvent("collapse",r,r.childNodes,!1),e?r.collapseChildren(!0,t,n):Ext.callback(t,n||r,[r.childNodes])},r):e?r.collapseChildren(!0,t,n):Ext.callback(t,n||r,[r.childNodes])},collapseChildren:function(e,t,n){var r=this,i=0,s=r.childNodes,o=s.length,u,a=0;for(;i<o;++i)u=s[i],u.isLeaf()||(a++,s[i].collapse(e,function(){a--,t&&!a&&Ext.callback(t,n||r,[r.childNodes])}));!a&&t&&Ext.callback(t,n||r,[r.childNodes])}}}}}),Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.NodeInterface"],node:null,recursive:!1,rootVisible:!1,constructor:function(e){var t=this,n;e=e||{},Ext.apply(t,e),e.proxy={type:"proxy"},t.callParent([e]),n=t.node,n&&(t.node=null,t.setNode(n))},setNode:function(e){var t=this;t.node&&t.node!=e&&(t.mun(t.node,{expand:t.onNodeExpand,collapse:t.onNodeCollapse,append:t.onNodeAppend,insert:t.onNodeInsert,remove:t.onNodeRemove,sort:t.onNodeSort,scope:t}),t.node=null),e&&(Ext.data.NodeInterface.decorate(e.self),t.removeAll(),t.rootVisible?t.add(e):!e.isExpanded()&&t.treeStore.autoLoad!==!1&&e.expand(),t.mon(e,{expand:t.onNodeExpand,collapse:t.onNodeCollapse,append:t.onNodeAppend,insert:t.onNodeInsert,remove:t.onNodeRemove,sort:t.onNodeSort,scope:t}),t.node=e,e.isExpanded()&&e.isLoaded()&&t.onNodeExpand(e,e.childNodes,!0))},onNodeSort:function(e,t){var n=this;if(n.indexOf(e)!==-1||e===n.node&&!n.rootVisible&&e.isExpanded())n.onNodeCollapse(e,t,!0),n.onNodeExpand(e,t,!0)},onNodeExpand:function(e,t,n){var r=this,i=r.indexOf(e)+1,s=t?t.length:0,o,u;if(!r.recursive&&e!==r.node)return;if(e!==this.node&&!r.isVisible(e))return;if(!n&&r.fireEvent("beforeexpand",e,t,i)===!1)return;if(s){r.insert(i,t);for(o=0;o<s;o++)u=t[o],u.isExpanded()&&(u.isLoaded()?r.onNodeExpand(u,u.childNodes,!0):(u.set("expanded",!1),u.expand()))}n||r.fireEvent("expand",e,t)},onNodeCollapse:function(e,t,n){var r=this,i=t.length,s=r.indexOf(e)+1,o,u;if(!r.recursive&&e!==r.node)return;if(!n&&r.fireEvent("beforecollapse",e,t,s)===!1)return;for(o=0;o<i;o++)u=t[o],r.remove(u),u.isExpanded()&&r.onNodeCollapse(u,u.childNodes,!0);n||r.fireEvent("collapse",e,t,s)},onNodeAppend:function(e,t,n){var r=this,i,s;if(r.isVisible(t)){if(n===0)i=e;else{s=t.previousSibling;while(s.isExpanded()&&s.lastChild)s=s.lastChild;i=s}r.insert(r.indexOf(i)+1,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?r.onNodeExpand(t,t.childNodes,!0):(t.set("expanded",!1),t.expand()))}},onNodeInsert:function(e,t,n){var r=this,i=this.indexOf(n);i!=-1&&r.isVisible(t)&&(r.insert(i,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?r.onNodeExpand(t,t.childNodes,!0):(t.set("expanded",!1),t.expand())))},onNodeRemove:function(e,t,n){var r=this;r.indexOf(t)!=-1&&(!t.isLeaf()&&t.isExpanded()&&r.onNodeCollapse(t,t.childNodes,!0),r.remove(t))},isVisible:function(e){var t=e.parentNode;while(t){if(t===this.node&&!this.rootVisible&&t.isExpanded())return!0;if(this.indexOf(t)===-1||!t.isExpanded())return!1;t=t.parentNode}return!0}}),Ext.define("Ext.data.Request",{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(e){Ext.apply(this,e)}}),Ext.define("Ext.data.SequentialIdGenerator",{extend:"Ext.data.IdGenerator",alias:"idgen.sequential",constructor:function(){var e=this;e.callParent(arguments),e.parts=[e.prefix,""]},prefix:"",seed:1,generate:function(){var e=this,t=e.parts;return t[1]=e.seed++,t.join("")}}),Ext.define("Ext.data.Tree",{alias:"data.tree",mixins:{observable:"Ext.util.Observable"},root:null,constructor:function(e){var t=this;t.mixins.observable.constructor.call(t),e&&t.setRootNode(e)},getRootNode:function(){return this.root},setRootNode:function(e){var t=this;return t.root=e,t.fireEvent("beforeappend",null,e)!==!1&&(e.set("root",!0),e.updateInfo(),e.commit(),e.on({scope:t,insert:t.onNodeInsert,append:t.onNodeAppend,remove:t.onNodeRemove}),t.relayEvents(e,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]),t.nodeHash={},t.registerNode(e),t.fireEvent("append",null,e),t.fireEvent("rootchange",e)),e},flatten:function(){return Ext.Object.getValues(this.nodeHash)},onNodeInsert:function(e,t){this.registerNode(t,!0)},onNodeAppend:function(e,t){this.registerNode(t,!0)},onNodeRemove:function(e,t){this.unregisterNode(t,!0)},onNodeIdChanged:function(e,t,n){var r=this.nodeHash;r[n]=e,delete r[t||e.internalId]},getNodeById:function(e){return this.nodeHash[e]},registerNode:function(e,t){var n=this;n.nodeHash[e.getId()||e.internalId]=e,e.on("idchanged",n.onNodeIdChanged,n),t===!0&&e.eachChild(function(e){n.registerNode(e,!0)})},unregisterNode:function(e,t){delete this.nodeHash[e.getId()||e.internalId],t===!0&&e.eachChild(function(e){this.unregisterNode(e,!0)},this)},sort:function(e,t){this.getRootNode().sort(e,t)},filter:function(e,t){this.getRootNode().filter(e,t)}}),Ext.define("Ext.data.TreeStore",{extend:"Ext.data.AbstractStore",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.Tree","Ext.data.NodeInterface"],clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootProperty:"children",rootProperty:"children",folderSort:!1,constructor:function(e){var t=this,n,r,i;e=Ext.apply({},e),r=e.fields||t.fields,r||(e.fields=[{name:"text",type:"string"}],i=e.defaultRootProperty||t.defaultRootProperty,i!==t.defaultRootProperty&&e.fields.push({name:i,type:"auto",defaultValue:null,persist:!1})),t.callParent([e]),t.tree=new Ext.data.Tree,t.relayEvents(t.tree,["append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert","expand","collapse","beforeexpand","beforecollapse","sort","rootchange"]),t.tree.on({scope:t,remove:t.onNodeRemove,beforeexpand:t.onBeforeNodeExpand,beforecollapse:t.onBeforeNodeCollapse,append:t.onNodeAdded,insert:t.onNodeAdded,sort:t.onNodeSort}),t.onBeforeSort(),n=t.root,n&&(delete t.root,t.setRootNode(n)),Ext.isDefined(t.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),t.nodeParam=t.nodeParameter,delete t.nodeParameter)},setProxy:function(e){var t,n;e instanceof Ext.data.proxy.Proxy?n=Ext.isEmpty(e.getReader().root):Ext.isString(e)?n=!0:(t=e.reader,n=!t||!!Ext.isEmpty(t.root)),e=this.callParent(arguments),n&&(t=e.getReader(),t.root=this.defaultRootProperty,t.buildExtractors(!0))},onBeforeSort:function(){this.folderSort&&this.sort({property:"leaf",direction:"ASC"},"prepend",!1)},onBeforeNodeExpand:function(e,t,n){e.isLoaded()?Ext.callback(t,n||e,[e.childNodes]):e.isLoading()?this.on("load",function(){Ext.callback(t,n||e,[e.childNodes])},this,{single:!0}):this.read({node:e,callback:function(){Ext.callback(t,n||e,[e.childNodes])}})},getNewRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(this.tree.flatten(),this.filterUpdated)},onBeforeNodeCollapse:function(e,t,n){t.call(n||e,e.childNodes)},onNodeRemove:function(e,t,n){var r=this,i=r.removed;!t.isReplace&&Ext.Array.indexOf(i,t)==-1&&i.push(t),r.autoSync&&!r.autoSyncSuspended&&!n&&r.sync()},onNodeAdded:function(e,t){var n=this,r=n.getProxy(),i=r.getReader(),s=t.raw||t[t.persistenceProperty],o;Ext.Array.remove(n.removed,t),t.isLeaf()||(o=i.getRoot(s),o&&(n.fillNode(t,i.extractData(o)),delete s[i.root])),n.autoSync&&!n.autoSyncSuspended&&(t.phantom||t.dirty)&&n.sync()},onNodeSort:function(){this.autoSync&&!this.autoSyncSuspended&&this.sync()},setRootNode:function(e,t){var n=this,r=n.model,i=r.prototype.idProperty;return e=e||{},e.isModel?e.isModel&&!e.isNode&&Ext.data.NodeInterface.decorate(r):(Ext.applyIf(e,{id:n.defaultRootId,text:"Root",allowDrag:!1}),e[i]===undefined&&(e[i]=n.defaultRootId),Ext.data.NodeInterface.decorate(r),e=Ext.ModelManager.create(e,r)),n.getProxy().getReader().buildExtractors(!0),n.tree.setRootNode(e),t!==!0&&!e.isLoaded()&&(n.autoLoad===!0||e.isExpanded())&&n.load({node:e}),e},getRootNode:function(){return this.tree.getRootNode()},getNodeById:function(e){return this.tree.getNodeById(e)},getById:function(e){return this.getNodeById(e)},load:function(e){e=e||{},e.params=e.params||{};var t=this,n=e.node||t.tree.getRootNode();return n||(n=t.setRootNode({expanded:!0},!0)),e.id=n.getId(),t.clearOnLoad&&(t.clearRemovedOnLoad&&t.clearRemoved(n),t.tree.un("remove",t.onNodeRemove,t),n.removeAll(!1),t.tree.on("remove",t.onNodeRemove,t)),Ext.applyIf(e,{node:n}),e.params[t.nodeParam]=n?n.getId():"root",n&&n.set("loading",!0),t.callParent([e])},clearRemoved:function(e){var t=this,n=t.removed,r=e.getId(),i=n.length,s=i,o={},u=[],a={},f,l,c;if(e===t.getRootNode()){t.removed=[];return}for(;s--;)f=n[s],a[f.getId()]=f;for(s=i;s--;){f=n[s],l=f;while(l&&l.getId()!==r)c=l.get("parentId"),l=l.parentNode||t.getNodeById(c)||a[c];l&&(o[f.getId()]=f)}for(s=0;s<i;s++)f=n[s],o[f.getId()]||u.push(f);t.removed=u},fillNode:function(e,t){var n=this,r=t?t.length:0,i=n.sorters,s,o,u=!1,a=r&&n.sortOnLoad&&!n.remoteSort&&i&&i.items&&i.items.length,f,l;for(s=1;s<r;s++){f=t[s],l=t[s-1],u=f[f.persistenceProperty].index!=l[l.persistenceProperty].index;if(u)break}a?(u&&n.sorters.insert(0,n.indexSorter),o=new Ext.util.MixedCollection,o.addAll(t),o.sort(n.sorters.items),t=o.items,n.sorters.remove(n.indexSorter)):u&&Ext.Array.sort(t,n.sortByIndex),e.set("loaded",!0);for(s=0;s<r;s++)e.appendChild(t[s],undefined,!0);return t},sortByIndex:function(e,t){return e[e.persistenceProperty].index-t[t.persistenceProperty].index},onProxyLoad:function(e){var t=this,n=e.wasSuccessful(),r=e.getRecords(),i=e.node;t.loading=!1,i.set("loading",!1),n&&(t.clearOnLoad||(r=t.cleanRecords(i,r)),r=t.fillNode(i,r)),t.fireEvent("read",t,e.node,r,n),t.fireEvent("load",t,e.node,r,n),Ext.callback(e.callback,e.scope||t,[r,e,n])},onCreateRecords:function(e){this.callParent(arguments);var t=0,n=e.length,r=this.tree,i;for(;t<n;++t)i=e[t],r.onNodeIdChanged(i,null,i.getId())},cleanRecords:function(e,t){var n={},r=e.childNodes,i=0,s=r.length,o=[],u;for(;i<s;++i)n[r[i].getId()]=!0;for(i=0,s=t.length;i<s;++i)u=t[i],n[u.getId()]||o.push(u);return o},removeAll:function(){var e=this.getRootNode();e&&e.destroy(!0),this.fireEvent("clear",this)},doSort:function(e){var t=this;t.remoteSort?t.load():(t.tree.sort(e,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t)}},function(){var e=this.prototype;e.indexSorter=new Ext.util.Sorter({sorterFn:e.sortByIndex})}),Ext.define("Ext.data.UuidGenerator",function(){function i(e,t){var n=e.toString(16);return n.length>t?n=n.substring(n.length-t):n.length<t&&(n=Ext.String.leftPad(n,t,"0")),n}function s(e,t){var n=Math.random()*(t-e+1);return Math.floor(n)+e}function o(e){if(typeof e=="number"){var t=Math.floor(e/r);return{lo:Math.floor(e-t*r),hi:t}}return e}var e=Math.pow(2,14),t=Math.pow(2,16),n=Math.pow(2,28),r=Math.pow(2,32);return{extend:"Ext.data.IdGenerator",alias:"idgen.uuid",id:"uuid",version:4,constructor:function(){var e=this;e.callParent(arguments),e.parts=[],e.init()},generate:function(){var e=this,t=e.parts,n=e.timestamp;return t[0]=i(n.lo,8),t[1]=i(n.hi&65535,4),t[2]=i(n.hi>>>16&4095|e.version<<12,4),t[3]=i(128|e.clockSeq>>>8&63,2)+i(e.clockSeq&255,2),t[4]=i(e.salt.hi,4)+i(e.salt.lo,8),e.version==4?e.init():(++n.lo,n.lo>=r&&(n.lo=0,++n.hi)),t.join("-").toLowerCase()},getRecId:function(e){return e.getId()},init:function(){var i=this,u,a;i.version==4?(i.clockSeq=s(0,e-1),u=i.salt||(i.salt={}),a=i.timestamp||(i.timestamp={}),u.lo=s(0,r-1),u.hi=s(0,t-1),a.lo=s(0,r-1),a.hi=s(0,n-1)):(i.salt=o(i.salt),i.timestamp=o(i.timestamp),i.salt.hi|=256)},reconfigure:function(e){Ext.apply(this,e),this.init()}}}()),Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",createAccessor:function(e){var t=this;return Ext.isEmpty(e)?Ext.emptyFn:Ext.isFunction(e)?e:function(n){return t.getNodeValue(Ext.DomQuery.selectNode(e,n))}},getNodeValue:function(e){return e&&e.firstChild?e.firstChild.nodeValue:undefined},getResponseData:function(e){var t=e.responseXML,n,r;return t?this.readRecords(t):(r="XML data not found in the response",n=new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:r}),this.fireEvent("exception",this,e,n),Ext.Logger.warn(r),n)},getData:function(e){return e.documentElement||e},getRoot:function(e){var t=e.nodeName,n=this.root;if(!n||t&&t==n)return e;if(Ext.DomQuery.isXml(e))return Ext.DomQuery.selectNode(n,e)},extractData:function(e){var t=this.record;return t!=e.nodeName?e=Ext.DomQuery.select(t,e):e=[e],this.callParent([e])},getAssociatedDataRoot:function(e,t){return Ext.DomQuery.select(t,e)[0]},readRecords:function(e){return Ext.isArray(e)&&(e=e[0]),this.xmlData=e,this.callParent([e])},createFieldAccessExpression:function(e,t,n){var r=e.mapping||e.name,i;return typeof r=="function"?i=t+".mapping("+n+", this)":i='me.getNodeValue(Ext.DomQuery.selectNode("'+r+'", '+n+"))",i}}),Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record",writeRecords:function(e,t){var n=this,r=[],i=0,s=t.length,o=n.documentRoot,u=n.record,a=t.length!==1,f,l;r.push(n.header||""),!o&&a&&(o=n.defaultDocumentRoot),o&&r.push("<",o,">");for(;i<s;++i){f=t[i],r.push("<",u,">");for(l in f)f.hasOwnProperty(l)&&r.push("<",l,">",f[l],"</",l,">");r.push("</",u,">")}return o&&r.push("</",o,">"),e.xmlData=r.join(""),e}}),Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alias:"store.xml",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Xml","Ext.data.writer.Xml"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},e),this.callParent([e])}}),Ext.define("Ext.data.association.BelongsTo",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(e){this.callParent(arguments);var t=this,n=t.ownerModel.prototype,r=t.associatedName,i=t.getterName||"get"+r,s=t.setterName||"set"+r;Ext.applyIf(t,{name:r,foreignKey:r.toLowerCase()+"_id",instanceName:r+"BelongsToInstance",associationKey:r.toLowerCase()}),n[i]=t.createGetter(),n[s]=t.createSetter()},createSetter:function(){var e=this,t=e.foreignKey;return function(e,n,r){e&&e.isModel&&(e=e.getId()),this.set(t,e),Ext.isFunction(n)&&(n={callback:n,scope:r||this});if(Ext.isObject(n))return this.save(n)}},createGetter:function(){var e=this,t=e.associatedName,n=e.associatedModel,r=e.foreignKey,i=e.primaryKey,s=e.instanceName;return function(e,o){e=e||{};var u=this,a=u.get(r),f,l,c;return e.reload===!0||u[s]===undefined?(l=Ext.ModelManager.create({},t),l.set(i,a),typeof e=="function"&&(e={callback:e,scope:o||u}),f=e.success,e.success=function(e){u[s]=e,f&&f.apply(this,arguments)},n.load(a,e),u[s]=l,l):(l=u[s],c=[l],o=o||e.scope||u,Ext.callback(e,o,c),Ext.callback(e.success,o,c),Ext.callback(e.failure,o,c),Ext.callback(e.callback,o,c),l)}},read:function(e,t,n){e[this.instanceName]=t.read([n]).records[0]}}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^person$/,"people"],[/^man$/,"men"],[/^(child)$/,"$1ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/people$/i,"person"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return Ext.Array.indexOf(this.uncountable,e)!=-1},pluralize:function(e){if(this.isTransnumeral(e))return e;var t=this.plurals,n=t.length,r,i,s;for(s=0;s<n;s++){r=t[s],i=r[0];if(i==e||i.test&&i.test(e))return e.replace(i,r[1])}return e},singularize:function(e){if(this.isTransnumeral(e))return e;var t=this.singulars,n=t.length,r,i,s;for(s=0;s<n;s++){r=t[s],i=r[0];if(i==e||i.test&&i.test(e))return e.replace(i,r[1])}return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),n=t%10,r=t%100;if(11<=r&&r<=13)return e+"th";switch(n){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},function(){var e={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},t;for(t in e)this.plural(t,e[t]),this.singular(e[t],t)}),Ext.define("Ext.data.association.HasMany",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasManyAssociation",requires:["Ext.util.Inflector"],alias:"association.hasmany",constructor:function(e){var t=this,n,r;t.callParent(arguments),t.name=t.name||Ext.util.Inflector.pluralize(t.associatedName.toLowerCase()),n=t.ownerModel.prototype,r=t.name,Ext.applyIf(t,{storeName:r+"Store",foreignKey:t.ownerName.toLowerCase()+"_id"}),n[r]=t.createStore()},createStore:function(){var e=this,t=e.associatedModel,n=e.storeName,r=e.foreignKey,i=e.primaryKey,s=e.filterProperty,o=e.autoLoad,u=e.storeConfig||{};return function(){var e=this,a,f,l={};return e[n]===undefined&&(s?f={property:s,value:e.get(s),exactMatch:!0}:f={property:r,value:e.get(i),exactMatch:!0},l[r]=e.get(i),a=Ext.apply({},u,{model:t,filters:[f],remoteFilter:!1,modelDefaults:l}),e[n]=Ext.data.AbstractStore.create(a),o&&e[n].load()),e[n]}},read:function(e,t,n){var r=e[this.name](),i,s,o,u;r.add(t.read(n).records),i=this.associatedModel.prototype.associations.findBy(function(t){return t.type==="belongsTo"&&t.associatedName===e.$className});if(i){s=r.data.items,o=s.length;for(u=0;u<o;u++)s[u][i.instanceName]=e}}}),Ext.define("Ext.data.association.HasOne",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.HasOneAssociation",alias:"association.hasone",constructor:function(e){this.callParent(arguments);var t=this,n=t.ownerModel.prototype,r=t.associatedName,i=t.getterName||"get"+r,s=t.setterName||"set"+r;Ext.applyIf(t,{name:r,foreignKey:r.toLowerCase()+"_id",instanceName:r+"HasOneInstance",associationKey:r.toLowerCase()}),n[i]=t.createGetter(),n[s]=t.createSetter()},createSetter:function(){var e=this,t=e.ownerModel,n=e.foreignKey;return function(e,t,r){e&&e.isModel&&(e=e.getId()),this.set(n,e),Ext.isFunction(t)&&(t={callback:t,scope:r||this});if(Ext.isObject(t))return this.save(t)}},createGetter:function(){var e=this,t=e.ownerModel,n=e.associatedName,r=e.associatedModel,i=e.foreignKey,s=e.primaryKey,o=e.instanceName;return function(e,t){e=e||{};var u=this,a=u.get(i),f,l,c;return e.reload===!0||u[o]===undefined?(l=Ext.ModelManager.create({},n),l.set(s,a),typeof e=="function"&&(e={callback:e,scope:t||u}),f=e.success,e.success=function(e){u[o]=e,f&&f.apply(this,arguments)},r.load(a,e),u[o]=l,l):(l=u[o],c=[l],t=t||e.scope||u,Ext.callback(e,t,c),Ext.callback(e.success,t,c),Ext.callback(e.failure,t,c),Ext.callback(e.callback,t,c),l)}},read:function(e,t,n){var r=this.associatedModel.prototype.associations.findBy(function(t){return t.type==="belongsTo"&&t.associatedName===e.$className}),i=t.read([n]).records[0];e[this.instanceName]=i,r&&(i[r.instanceName]=e)}}),Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:["Ext.data.SequentialIdGenerator"],id:undefined,constructor:function(e){this.callParent(arguments),this.cache={},this.id=this.id||(this.store?this.store.storeId:undefined),this.initialize()},create:function(e,t,n){var r=this,i=e.records,s=i.length,o=r.getIds(),u,a,f;e.setStarted(),r.isHierarchical===undefined&&(r.isHierarchical=!!i[0].isNode,r.isHierarchical&&r.getStorageObject().setItem(r.getTreeKey(),!0));for(f=0;f<s;f++)a=i[f],a.phantom?(a.phantom=!1,u=r.getNextId()):u=a.getId(),r.setRecord(a,u),a.commit(),o.push(u);r.setIds(o),e.setCompleted(),e.setSuccessful(),typeof t=="function"&&t.call(n||r,e)},read:function(e,t,n){var r=this,i=[],s=0,o=!0,u=r.model,a,f,l,c,h;e.setStarted();if(r.isHierarchical)i=r.getTreeData();else{a=r.getIds(),f=a.length,h=e.id;if(h)c=r.getRecord(h),c!==null&&(l=new u(c,h,c)),l?i.push(l):o=!1;else for(;s<f;s++)h=a[s],c=r.getRecord(h),i.push(new u(c,h,c))}o&&e.setSuccessful(),e.setCompleted(),e.resultSet=Ext.create("Ext.data.ResultSet",{records:i,total:i.length,loaded:!0}),typeof t=="function"&&t.call(n||r,e)},update:function(e,t,n){var r=e.records,i=r.length,s=this.getIds(),o,u,a;e.setStarted();for(a=0;a<i;a++)o=r[a],this.setRecord(o),o.commit(),u=o.getId(),u!==undefined&&Ext.Array.indexOf(s,u)==-1&&s.push(u);this.setIds(s),e.setCompleted(),e.setSuccessful(),typeof t=="function"&&t.call(n||this,e)},destroy:function(e,t,n){var r=this,i=e.records,s=r.getIds(),o=s.length,u=[],a={},f=i.length,l;e.setStarted();for(;f--;)Ext.apply(a,r.removeRecord(i[f]));for(f=0;f<o;f++)l=s[f],a[l]||u.push(l);r.setIds(u),e.setCompleted(),e.setSuccessful(),typeof t=="function"&&t.call(n||r,e)},getRecord:function(e){var t=this,n=t.cache,r=n[e]?n[e]:Ext.decode(t.getStorageObject().getItem(t.getRecordKey(e)));return r?(n[e]=r,r[t.model.prototype.idProperty]=e,r):null},setRecord:function(e,t){t?e.setId(t):t=e.getId();var n=this,r=e.data,i={},s=n.model,o=s.prototype.fields.items,u=o.length,a=0,f,l,c,h;for(;a<u;a++)f=o[a],l=f.name,f.persist&&(i[l]=r[l]);delete i[n.model.prototype.idProperty],e.isNode&&e.get("depth")===1&&delete i.parentId,c=n.getStorageObject(),h=n.getRecordKey(t),n.cache[t]=i,c.removeItem(h),c.setItem(h,Ext.encode(i))},removeRecord:function(e){var t=this,n=e.getId(),r={},i,s;r[n]=e,t.getStorageObject().removeItem(t.getRecordKey(n)),delete t.cache[n];if(e.childNodes){s=e.childNodes;for(i=s.length;i--;)Ext.apply(r,t.removeRecord(s[i]))}return r},getRecordKey:function(e){return e.isModel&&(e=e.getId()),Ext.String.format("{0}-{1}",this.id,e)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.id)},getTreeKey:function(){return Ext.String.format("{0}-tree",this.id)},getIds:function(){var e=this,t=(e.getStorageObject().getItem(e.id)||"").split(","),n=e.model,r=t.length,i=n.prototype.fields.get(n.prototype.idProperty).type.type==="string",s;if(r==1&&t[0]==="")t=[];else for(s=0;s<r;s++)t[s]=i?t[s]:+t[s];return t},setIds:function(e){var t=this.getStorageObject(),n=e.join(",");t.removeItem(this.id),Ext.isEmpty(n)||t.setItem(this.id,n)},getNextId:function(){var e=this,t=e.getStorageObject(),n=e.getRecordCounterKey(),r=e.model,i=r.prototype.fields.get(r.prototype.idProperty).type.type==="string",s;return s=e.idGenerator.generate(),t.setItem(n,s),i||(s=+s),s},getTreeData:function(){var e=this,t=e.getIds(),n=t.length,r=[],i={},s=[],o=0,u=e.model,a=u.prototype.idProperty,f,l,c,h,p,d;for(;o<n;o++)d=t[o],l=e.getRecord(d),r.push(l),i[d]=l,l.parentId||s.push(l);f=s.length,Ext.Array.sort(r,e.sortByParentId);for(o=f;o<n;o++){l=r[o],h=l.parentId;if(!c||c[a]!==h)c=i[h],c.children=p=[];p.push(l)}for(o=n;o--;)l=r[o],!l.children&&!l.leaf&&(l.loaded=!0);for(o=f;o--;)l=s[o],s[o]=new u(l,l[a]
,l);return s},sortByParentId:function(e,t){return(e.parentId||0)-(t.parentId||0)},initialize:function(){var e=this,t=e.getStorageObject(),n=+t.getItem(e.getRecordCounterKey());t.setItem(e.id,t.getItem(e.id)||""),t.getItem(e.getTreeKey())&&(e.isHierarchical=!0),e.idGenerator=new Ext.data.SequentialIdGenerator({seed:n?n+1:1})},clear:function(){var e=this,t=e.getStorageObject(),n=e.getIds(),r=n.length,i;for(i=0;i<r;i++)t.removeItem(e.getRecordKey(n[i]));t.removeItem(e.getRecordCounterKey()),t.removeItem(e.getTreeKey()),t.removeItem(e.id),e.cache={}},getStorageObject:function(){}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",appendId:!0,batchActions:!1,buildUrl:function(e){var t=this,n=e.operation,r=n.records||[],i=r[0],s=t.format,o=t.getUrl(e),u=i?i.getId():n.id;return t.appendId&&u&&(o.match(/\/$/)||(o+="/"),o+=u),s&&(o.match(/\.$/)||(o+="."),o+=s),e.url=o,t.callParent(arguments)}},function(){Ext.apply(this.prototype,{actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}})}),Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(e,t,n){e&&this.initTarget(e,t,n)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag"),t.dragRegion=new Ext.util.Region(0,0,0,0),t.el&&t.initEl(t.el),t.mixins.observable.constructor.call(t),t.disabled&&t.disable()},initEl:function(e){var t=this;t.el=Ext.get(e),t.handle=Ext.get(t.delegate),t.delegate=t.handle?undefined:t.delegate,t.handle||(t.handle=t.el),t.mon(t.handle,{mousedown:t.onMouseDown,delegate:t.delegate,scope:t}),(t.trackOver||t.overCls)&&t.mon(t.handle,{mouseover:t.onMouseOver,mouseout:t.onMouseOut,delegate:t.delegate,scope:t})},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.clearListeners(),delete this.el},onMouseOver:function(e,t){var n=this;!n.disabled&&(Ext.EventManager.contains(e)||n.delegate)&&(n.mouseIsOut=!1,n.overCls&&n.el.addCls(n.overCls),n.fireEvent("mouseover",n,e,n.delegate?e.getTarget(n.delegate,t):n.handle))},onMouseOut:function(e){var t=this;t.mouseIsDown?t.mouseIsOut=!0:(t.overCls&&t.el.removeCls(t.overCls),t.fireEvent("mouseout",t,e))},onMouseDown:function(e,t){var n=this,r;if(n.disabled||e.dragTracked)return;n.dragTarget=n.delegate?t:n.handle.dom,n.startXY=n.lastXY=e.getXY(),n.startRegion=Ext.fly(n.dragTarget).getRegion();if(n.fireEvent("mousedown",n,e)===!1||n.fireEvent("beforedragstart",n,e)===!1||n.onBeforeStart(e)===!1)return;n.mouseIsDown=!0,e.dragTracked=!0,r=n.el.dom,Ext.isIE&&r.setCapture&&r.setCapture(),n.preventDefault!==!1&&e.preventDefault(),Ext.getDoc().on({scope:n,mouseup:n.onMouseUp,mousemove:n.onMouseMove,selectstart:n.stopSelect}),n.autoStart&&(n.timer=Ext.defer(n.triggerStart,n.autoStart===!0?1e3:n.autoStart,n,[e]))},onMouseMove:function(e,t){var n=this,r=e.getXY(),i=n.startXY;e.preventDefault(),n.lastXY=r;if(!n.active){if(!(Math.max(Math.abs(i[0]-r[0]),Math.abs(i[1]-r[1]))>n.tolerance))return;n.triggerStart(e)}n.fireEvent("mousemove",n,e)===!1?n.onMouseUp(e):(n.onDrag(e),n.fireEvent("drag",n,e))},onMouseUp:function(e){var t=this;t.mouseIsDown=!1,t.mouseIsOut&&(t.mouseIsOut=!1,t.onMouseOut(e)),e.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),t.fireEvent("mouseup",t,e),t.endDrag(e)},endDrag:function(e){var t=this,n=Ext.getDoc(),r=t.active;n.un("mousemove",t.onMouseMove,t),n.un("mouseup",t.onMouseUp,t),n.un("selectstart",t.stopSelect,t),t.clearStart(),t.active=!1,r&&(t.onEnd(e),t.fireEvent("dragend",t,e)),delete t._constrainRegion,delete Ext.EventObject.dragTracked},triggerStart:function(e){var t=this;t.clearStart(),t.active=!0,t.onStart(e),t.fireEvent("dragstart",t,e)},clearStart:function(){var e=this.timer;e&&(clearTimeout(e),delete this.timer)},stopSelect:function(e){return e.stopEvent(),!1},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region)return e.constrainTo;e._constrainRegion||(e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion())}else e._constrainRegion||(e._constrainRegion=e.getDragCt().getViewRegion());return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),n=this.startXY;return[t[0]-n[0],t[1]-n[1]]},constrainModes:{point:function(e,t){var n=e.dragRegion,r=e.getConstrainRegion();return r?(n.x=n.left=n[0]=n.right=t[0],n.y=n.top=n[1]=n.bottom=t[1],n.constrainTo(r),[n.left,n.top]):t},dragTarget:function(e,t){var n=e.startXY,r=e.startRegion.copy(),i=e.getConstrainRegion(),s;return i?(r.translateBy(t[0]-n[0],t[1]-n[1]),r.right>i.right&&(t[0]+=s=i.right-r.right,r.left+=s),r.left<i.left&&(t[0]+=i.left-r.left),r.bottom>i.bottom&&(t[1]+=s=i.bottom-r.bottom,r.top+=s),r.top<i.top&&(t[1]+=i.top-r.top),t):t}}}),Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(e,t){this.callParent([e,t]),this.containerScroll&&Ext.dd.ScrollManager.register(this.el)},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(e,t){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(e,t),!0},afterRepair:function(){var e=this;Ext.enableFx&&Ext.fly(e.dragData.ddel).highlight(e.repairHighlightColor),e.dragging=!1},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,requires:["Ext.dd.DragDropManager"],constructor:function(){var e=Ext.dd.DragDropManager;e.fireEvents=Ext.Function.createSequence(e.fireEvents,this.onFire,this),e.stopDrag=Ext.Function.createSequence(e.stopDrag,this.onStop,this),this.doScroll=Ext.Function.bind(this.doScroll,this),this.ddmInstance=e,this.els={},this.dragEl=null,this.proc={}},onStop:function(e){var t=Ext.dd.ScrollManager;t.dragEl=null,t.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){if(this.ddmInstance.dragCurrent){var e=this.proc,t=e.el,n=e.el.ddScrollConfig,r=n?n.increment:this.increment;this.animate?t.scroll(e.dir,r,!0,this.animDuration,this.triggerRefresh):t.scroll(e.dir,r)&&this.triggerRefresh()}},clearProc:function(){var e=this.proc;e.id&&clearInterval(e.id),e.id=0,e.el=null,e.dir=""},startProc:function(e,t){this.clearProc(),this.proc.el=e,this.proc.dir=t;var n=e.ddScrollConfig?e.ddScrollConfig.ddGroup:undefined,r=e.ddScrollConfig&&e.ddScrollConfig.frequency?e.ddScrollConfig.frequency:this.frequency;if(n===undefined||this.ddmInstance.dragCurrent.ddGroup==n)this.proc.id=setInterval(this.doScroll,r)},onFire:function(e,t){if(t||!this.ddmInstance.dragCurrent)return;if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent)this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache();var n=e.getXY(),r=e.getPoint(),i=this.proc,s=this.els,o,u,a,f;for(o in s){u=s[o],a=u._region,f=u.ddScrollConfig?u.ddScrollConfig:this;if(a&&a.contains(r)&&u.isScrollable()){if(a.bottom-r.y<=f.vthresh){i.el!=u&&this.startProc(u,"down");return}if(a.right-r.x<=f.hthresh){i.el!=u&&this.startProc(u,"left");return}if(r.y-a.top<=f.vthresh){i.el!=u&&this.startProc(u,"up");return}if(r.x-a.left<=f.hthresh){i.el!=u&&this.startProc(u,"right");return}}}this.clearProc()},register:function(e){if(Ext.isArray(e))for(var t=0,n=e.length;t<n;t++)this.register(e[t]);else e=Ext.get(e),this.els[e.id]=e},unregister:function(e){if(Ext.isArray(e))for(var t=0,n=e.length;t<n;t++)this.unregister(e[t]);else e=Ext.get(e),delete this.els[e.id]},vthresh:25,hthresh:25,increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:undefined,refreshCache:function(){var e=this.els,t;for(t in e)typeof e[t]=="object"&&(e[t]._region=e[t].getRegion())}}),Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(e,t){this.el=Ext.get(e),Ext.apply(this,t),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(e,t,n){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(e,t,n){return this.dropAllowed},notifyOut:function(e,t,n){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(e,t,n){return!1},destroy:function(){this.callParent(),this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(e,t){if(typeof e=="string")return e;var n=e.id;return!n&&t!==!1&&(n="extdd-"+ ++this.autoIdSeed,e.id=n),n},register:function(e,t){t=t||{},typeof e=="string"&&(e=document.getElementById(e)),t.ddel=e,this.elements[this.getId(e)]=t,t.isHandle!==!1&&(this.handles[t.ddel.id]=t);if(t.handles){var n=t.handles,r,i;for(r=0,i=n.length;r<i;r++)this.handles[this.getId(n[r])]=t}},unregister:function(e){var t=this.getId(e,!1),n=this.elements[t],r,i,s;if(n){delete this.elements[t];if(n.handles){r=n.handles;for(i=0,s=r.length;i<s;i++)delete this.handles[this.getId(r[i],!1)]}}},getHandle:function(e){return typeof e!="string"&&(e=e.id),this.handles[e]},getHandleFromEvent:function(e){var t=e.getTarget();return t?this.handles[t.id]:null},getTarget:function(e){return typeof e!="string"&&(e=e.id),this.elements[e]},getTargetFromEvent:function(e){var t=e.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}}),Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(e,t,n,r){},onNodeOver:function(e,t,n,r){return this.dropAllowed},onNodeOut:function(e,t,n,r){},onNodeDrop:function(e,t,n,r){return!1},onContainerOver:function(e,t,n){return this.dropNotAllowed},onContainerDrop:function(e,t,n){return!1},notifyEnter:function(e,t,n){return this.dropNotAllowed},notifyOver:function(e,t,n){var r=this.getTargetFromEvent(t);return r?(this.lastOverNode!=r&&(this.lastOverNode&&this.onNodeOut(this.lastOverNode,e,t,n),this.onNodeEnter(r,e,t,n),this.lastOverNode=r),this.onNodeOver(r,e,t,n)):(this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,n),this.lastOverNode=null),this.onContainerOver(e,t,n))},notifyOut:function(e,t,n){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,n),this.lastOverNode=null)},notifyDrop:function(e,t,n){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,n),this.lastOverNode=null);var r=this.getTargetFromEvent(t);return r?this.onNodeDrop(r,e,t,n):this.onContainerDrop(e,t,n)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.direct.Event",{alias:"direct.event",requires:["Ext.direct.Manager"],status:!0,constructor:function(e){Ext.apply(this,e)},getData:function(){return this.data}}),Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){return this.transaction||Ext.direct.Manager.getTransaction(this.tid)}}),Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:!1}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:"Ext.util.Observable"},constructor:function(e){var t=this;Ext.apply(t,e),t.addEvents("connect","disconnect","data","exception"),t.mixins.observable.constructor.call(t,e)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn}),Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent"],parseResponse:function(e){return Ext.isEmpty(e.responseText)?null:Ext.isObject(e.responseText)?e.responseText:Ext.decode(e.responseText)},createEvents:function(e){var t=null,n=[],r,i=0,s;try{t=this.parseResponse(e)}catch(o){return r=new Ext.direct.ExceptionEvent({data:o,xhr:e,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+t}),[r]}if(Ext.isArray(t))for(s=t.length;i<s;++i)n.push(this.createEvent(t[i]));else n.push(this.createEvent(t));return n},createEvent:function(e){return Ext.create("direct."+e.type,e)}}),Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",uses:["Ext.direct.ExceptionEvent"],requires:["Ext.Ajax","Ext.util.DelayedTask"],interval:3e3,constructor:function(e){this.callParent(arguments),this.addEvents("beforepoll","poll")},isConnected:function(){return!!this.pollTask},connect:function(){var e=this,t=e.url;t&&!e.pollTask?(e.pollTask=Ext.TaskManager.start({run:function(){e.fireEvent("beforepoll",e)!==!1&&(Ext.isFunction(t)?t(e.baseParams):Ext.Ajax.request({url:t,callback:e.onData,scope:e,params:e.baseParams}))},interval:e.interval,scope:e}),e.fireEvent("connect",e)):!t},disconnect:function(){var e=this;e.pollTask&&(Ext.TaskManager.stop(e.pollTask),delete e.pollTask,e.fireEvent("disconnect",e))},onData:function(e,t,n){var r=this,i=0,s,o;if(t){o=r.createEvents(n);for(s=o.length;i<s;++i)r.fireEvent("data",r,o[i])}else r.fireEvent("data",r,new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n}))}}),Ext.define("Ext.direct.RemotingMethod",{constructor:function(e){var t=this,n=Ext.isDefined(e.params)?e.params:e.len,r,i,s,o;t.name=e.name,t.formHandler=e.formHandler;if(Ext.isNumber(n))t.len=n,t.ordered=!0;else{t.params=[],i=n.length;for(s=0;s<i;s++)o=n[s],r=Ext.isObject(o)?o.name:o,t.params.push(r)}},getArgs:function(e,t,n){var r=[],i,s;if(this.ordered){if(this.len>0)if(t)for(i=0,s=t.length;i<s;i++)r.push(e[t[i]]);else n&&r.push(e)}else r.push(e);return r},getCallData:function(e){var t=this,n=null,r=t.len,i=t.params,s,o,u;if(t.ordered)s=e[r],o=e[r+1],r!==0&&(n=e.slice(0,r));else{n=Ext.apply({},e[0]),s=e[1],o=e[2];for(u in n)n.hasOwnProperty(u)&&(Ext.Array.contains(i,u)||delete n[u])}return{data:n,callback:s,scope:o}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(e){var t=this;Ext.apply(t,e),t.id=t.tid=++t.self.TRANSACTION_ID,t.retryCount=0},send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++,this.send()},getProvider:function(){return this.provider}}),Ext.define("Ext.direct.RemotingProvider",{alias:"direct.remotingprovider",extend:"Ext.direct.JsonProvider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod"],enableBuffer:10,maxRetries:1,timeout:undefined,constructor:function(e){var t=this;t.callParent(arguments),t.addEvents("beforecall","call"),t.namespace=Ext.isString(t.namespace)?Ext.ns(t.namespace):t.namespace||window,t.transactions=new Ext.util.MixedCollection,t.callBuffer=[]},initAPI:function(){var e=this.actions,t=this.namespace,n,r,i,s,o,u;for(n in e)if(e.hasOwnProperty(n)){r=t[n],r||(r=t[n]={}),i=e[n];for(s=0,o=i.length;s<o;++s)u=new Ext.direct.RemotingMethod(i[s]),r[u.name]=this.createHandler(n,u)}},createHandler:function(e,t){var n=this,r;return t.formHandler?r=function(r,i,s){n.configureFormRequest(e,t,r,i,s)}:r=function(){n.configureRequest(e,t,Array.prototype.slice.call(arguments,0))},r.directCfg={action:e,method:t},r},isConnected:function(){return!!this.connected},connect:function(){var e=this;e.url?(e.initAPI(),e.connected=!0,e.fireEvent("connect",e)):!e.url},disconnect:function(){var e=this;e.connected&&(e.connected=!1,e.fireEvent("disconnect",e))},runCallback:function(e,t){var n=!!t.status,r=n?"success":"failure",i,s;e&&e.callback&&(i=e.callback,s=Ext.isDefined(t.result)?t.result:t.data,Ext.isFunction(i)?i(s,t,n):(Ext.callback(i[r],i.scope,[s,t,n]),Ext.callback(i.callback,i.scope,[s,t,n])))},onData:function(e,t,n){var r=this,i=0,s,o,u,a,f;if(t){o=r.createEvents(n);for(s=o.length;i<s;++i)u=o[i],a=r.getTransaction(u),r.fireEvent("data",r,u),a&&(r.runCallback(a,u,!0),Ext.direct.Manager.removeTransaction(a))}else{f=[].concat(e.transaction);for(s=f.length;i<s;++i)a=r.getTransaction(f[i]),a&&a.retryCount<r.maxRetries?a.retry():(u=new Ext.direct.ExceptionEvent({data:null,transaction:a,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n}),r.fireEvent("data",r,u),a&&(r.runCallback(a,u,!1),Ext.direct.Manager.removeTransaction(a)))}},getTransaction:function(e){return e&&e.tid?Ext.direct.Manager.getTransaction(e.tid):null},configureRequest:function(e,t,n){var r=this,i=t.getCallData(n),s=i.data,o=i.callback,u=i.scope,a;a=new Ext.direct.Transaction({provider:r,args:n,action:e,method:t.name,data:s,callback:u&&Ext.isFunction(o)?Ext.Function.bind(o,u):o}),r.fireEvent("beforecall",r,a,t)!==!1&&(Ext.direct.Manager.addTransaction(a),r.queueTransaction(a),r.fireEvent("call",r,a,t))},getCallData:function(e){return{action:e.action,method:e.method,data:e.data,type:"rpc",tid:e.id}},sendRequest:function(e){var t=this,n={url:t.url,callback:t.onData,scope:t,transaction:e,timeout:t.timeout},r,i=t.enableUrlEncode,s=0,o,u;if(Ext.isArray(e)){r=[];for(o=e.length;s<o;++s)r.push(t.getCallData(e[s]))}else r=t.getCallData(e);i?(u={},u[Ext.isString(i)?i:"data"]=Ext.encode(r),n.params=u):n.jsonData=r,Ext.Ajax.request(n)},queueTransaction:function(e){var t=this,n=t.enableBuffer;if(e.form){t.sendFormRequest(e);return}t.callBuffer.push(e),n?(t.callTask||(t.callTask=new Ext.util.DelayedTask(t.combineAndSend,t)),t.callTask.delay(Ext.isNumber(n)?n:10)):t.combineAndSend()},combineAndSend:function(){var e=this.callBuffer,t=e.length;t>0&&(this.sendRequest(t==1?e[0]:e),this.callBuffer=[])},configureFormRequest:function(e,t,n,r,i){var s=this,o=new Ext.direct.Transaction({provider:s,action:e,method:t.name,args:[n,r,i],callback:i&&Ext.isFunction(r)?Ext.Function.bind(r,i):r,isForm:!0}),u,a;s.fireEvent("beforecall",s,o,t)!==!1&&(Ext.direct.Manager.addTransaction(o),u=String(n.getAttribute("enctype")).toLowerCase()=="multipart/form-data",a={extTID:o.id,extAction:e,extMethod:t.name,extType:"rpc",extUpload:String(u)},Ext.apply(o,{form:Ext.getDom(n),isUpload:u,params:r&&Ext.isObject(r.params)?Ext.apply(a,r.params):a}),s.fireEvent("call",s,o,t),s.sendFormRequest(o))},sendFormRequest:function(e){Ext.Ajax.request({url:this.url,params:e.params,callback:this.onData,scope:this,form:e.form,isUpload:e.isUpload,transaction:e})}}),Ext.define("Ext.draw.Matrix",{requires:["Ext.draw.Draw"],constructor:function(e,t,n,r,i,s){e!=null?this.matrix=[[e,n,i],[t,r,s],[0,0,1]]:this.matrix=[[1,0,0],[0,1,0],[0,0,1]]},add:function(e,t,n,r,i,s){var o=this,u=[[],[],[]],a=[[e,n,i],[t,r,s],[0,0,1]],f,l,c,h;for(f=0;f<3;f++)for(l=0;l<3;l++){h=0;for(c=0;c<3;c++)h+=o.matrix[f][c]*a[c][l];u[f][l]=h}o.matrix=u},prepend:function(e,t,n,r,i,s){var o=this,u=[[],[],[]],a=[[e,n,i],[t,r,s],[0,0,1]],f,l,c,h;for(f=0;f<3;f++)for(l=0;l<3;l++){h=0;for(c=0;c<3;c++)h+=a[f][c]*o.matrix[c][l];u[f][l]=h}o.matrix=u},invert:function(){var e=this.matrix,t=e[0][0],n=e[1][0],r=e[0][1],i=e[1][1],s=e[0][2],o=e[1][2],u=t*i-n*r;return new Ext.draw.Matrix(i/u,-n/u,-r/u,t/u,(r*o-i*s)/u,(n*s-t*o)/u)},clone:function(){var e=this.matrix,t=e[0][0],n=e[1][0],r=e[0][1],i=e[1][1],s=e[0][2],o=e[1][2];return new Ext.draw.Matrix(t,n,r,i,s,o)},translate:function(e,t){this.prepend(1,0,0,1,e,t)},scale:function(e,t,n,r){var i=this;t==null&&(t=e),i.add(e,0,0,t,n*(1-e),r*(1-t))},rotate:function(e,t,n){e=Ext.draw.Draw.rad(e);var r=this,i=+Math.cos(e).toFixed(9),s=+Math.sin(e).toFixed(9);r.add(i,s,-s,i,t-i*t+s*n,-(s*t)+n-i*n)},x:function(e,t){var n=this.matrix;return e*n[0][0]+t*n[0][1]+n[0][2]},y:function(e,t){var n=this.matrix;return e*n[1][0]+t*n[1][1]+n[1][2]},get:function(e,t){return+this.matrix[e][t].toFixed(4)},toString:function(){var e=this;return[e.get(0,0),e.get(0,1),e.get(1,0),e.get(1,1),0,0].join()},toSvg:function(){var e=this;return"matrix("+[e.get(0,0),e.get(1,0),e.get(0,1),e.get(1,1),e.get(0,2),e.get(1,2)].join()+")"},toFilter:function(e,t){var n=this;return e=e||0,t=t||0,"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', filterType='bilinear', M11="+n.get(0,0)+", M12="+n.get(0,1)+", M21="+n.get(1,0)+", M22="+n.get(1,1)+", Dx="+(n.get(0,2)+e)+", Dy="+(n.get(1,2)+t)+")"},offset:function(){var e=this.matrix;return[(e[0][2]||0).toFixed(4),(e[1][2]||0).toFixed(4)]},split:function(){function e(e){return e[0]*e[0]+e[1]*e[1]}function t(t){var n=Math.sqrt(e(t));t[0]/=n,t[1]/=n}var n=this.matrix,r={translateX:n[0][2],translateY:n[1][2]},i;return i=[[n[0][0],n[0][1]],[n[1][1],n[1][1]]],r.scaleX=Math.sqrt(e(i[0])),t(i[0]),r.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*r.shear,i[1][1]-i[0][1]*r.shear],r.scaleY=Math.sqrt(e(i[1])),t(i[1]),r.shear/=r.scaleY,r.rotate=Math.asin(-i[0][1]),r.isSimple=!+r.shear.toFixed(9)&&(r.scaleX.toFixed(9)==r.scaleY.toFixed(9)||!r.rotate),r}}),Ext.define("Ext.draw.SpriteDD",{extend:"Ext.dd.DragSource",constructor:function(e,t){var n=this,r=e.el;n.sprite=e,n.el=r,n.dragData={el:r,sprite:e},n.callParent([r,t]),n.sprite.setStyle("cursor","move")},showFrame:Ext.emptyFn,createFrame:Ext.emptyFn,getDragEl:function(e){return this.el},getRegion:function(){var e=this,t=e.el,n,r,i,s,o,u,a,f,l,c,h;h=e.sprite,c=h.getBBox();try{n=Ext.Element.getXY(t)}catch(p){}return n?(r=n[0],i=r+c.width,s=n[1],o=s+c.height,new Ext.util.Region(s,i,o,r)):null},startDrag:function(e,t){var n=this,r=n.sprite.attr;n.prev=n.sprite.surface.transformToViewBox(e,t)},onDrag:function(e){var t=e.getXY(),n=this,r=n.sprite,i=r.attr,s,o;t=n.sprite.surface.transformToViewBox(t[0],t[1]),s=t[0]-n.prev[0],o=t[1]-n.prev[1],r.setAttributes({translate:{x:i.translation.x+s,y:i.translation.y+o}},!0),n.prev=t},setDragElPos:function(){return!1}}),Ext.define("Ext.draw.Sprite",{mixins:{observable:"Ext.util.Observable",animate:"Ext.util.Animate"},requires:["Ext.draw.SpriteDD"],dirty:!1,dirtyHidden:!1,dirtyTransform:!1,dirtyPath:!0,dirtyFont:!0,zIndexDirty:!0,isSprite:!0,zIndex:0,fontProperties:["font","font-size","font-weight","font-style","font-family","text-anchor","text"],pathProperties:["x","y","d","path","height","width","radius","r","rx","ry","cx","cy"],constructor:function(e){var t=this;e=Ext.merge({},e||{}),t.id=Ext.id(null,"ext-sprite-"),t.transformations=[],Ext.copyTo(this,e,"surface,group,type,draggable"),t.bbox={},t.attr={zIndex:0,translation:{x:null,y:null},rotation:{degrees:null,x:null,y:null},scaling:{x:null,y:null,cx:null,cy:null}},delete e.surface,delete e.group,delete e.type,delete e.draggable,t.setAttributes(e),t.addEvents("beforedestroy","destroy","render","mousedown","mouseup","mouseover","mouseout","mousemove","click"),t.mixins.observable.constructor.apply(this,arguments)},initDraggable:function(){var e=this;e.draggable=!0,e.el||e.surface.createSpriteElement(e),e.dd=new Ext.draw.SpriteDD(e,Ext.isBoolean(e.draggable)?null:e.draggable),e.on("beforedestroy",e.dd.destroy,e.dd)},setAttributes:function(e,t){var n=this,r=n.fontProperties,i=r.length,s=n.pathProperties,o=s.length,u=!!n.surface,a=u&&n.surface.customAttributes||{},f=n.attr,l=!1,c,h,p,d,v,m,g,y;e=Ext.apply({},e);for(c in a)e.hasOwnProperty(c)&&typeof a[c]=="function"&&Ext.apply(e,a[c].apply(n,[].concat(e[c])));!!e.hidden!=!!f.hidden&&(n.dirtyHidden=!0);for(h=0;h<o;h++){c=s[h];if(c in e&&e[c]!==f[c]){n.dirtyPath=!0,l=!0;break}}"zIndex"in e&&(n.zIndexDirty=!0),"text"in e&&(n.dirtyFont=!0,l=!0);for(h=0;h<i;h++){c=r[h];if(c in e&&e[c]!==f[c]){n.dirtyFont=!0,l=!0;break}}return p=e.translation||e.translate,delete e.translate,delete e.translation,d=f.translation,p&&("x"in p&&p.x!==d.x||"y"in p&&p.y!==d.y)&&(n.dirtyTransform=!0,d.x=p.x,d.y=p.y),v=e.rotation||e.rotate,m=f.rotation,delete e.rotate,delete e.rotation,v&&("x"in v&&v.x!==m.x||"y"in v&&v.y!==m.y||"degrees"in v&&v.degrees!==m.degrees)&&(n.dirtyTransform=!0,m.x=v.x,m.y=v.y,m.degrees=v.degrees),g=e.scaling||e.scale,y=f.scaling,delete e.scale,delete e.scaling,g&&("x"in g&&g.x!==y.x||"y"in g&&g.y!==y.y||"cx"in g&&g.cx!==y.cx||"cy"in g&&g.cy!==y.cy)&&(n.dirtyTransform=!0,y.x=g.x,y.y=g.y,y.cx=g.cx,y.cy=g.cy),!n.dirtyTransform&&l&&(f.scaling.x===null||f.scaling.y===null||f.rotation.y===null||f.rotation.y===null)&&(n.dirtyTransform=!0),Ext.apply(f,e),n.dirty=!0,t===!0&&u&&n.redraw(),this},getBBox:function(){return this.surface.getBBox(this)},setText:function(e){return this.surface.setText(this,e)},hide:function(e){return this.setAttributes({hidden:!0},e),this},show:function(e){return this.setAttributes({hidden:!1},e),this},remove:function(){return this.surface?(this.surface.remove(this),!0):!1},onRemove:function(){this.surface.onRemove(this)},destroy:function(){var e=this;e.fireEvent("beforedestroy",e)!==!1&&(e.remove(),e.surface.onDestroy(e),e.clearListeners(),e.fireEvent("destroy"))},redraw:function(){return this.surface.renderItem(this),this},setStyle:function(){return this.el.setStyle.apply(this.el,arguments),this},addCls:function(e){return this.surface.addCls(this,e),this},removeCls:function(e){return this.surface.removeCls(this,e),this}}),Ext.define("Ext.draw.Text",{extend:"Ext.draw.Component",uses:["Ext.util.CSS"],alias:"widget.text",text:"",focusable:!1,viewBox:!1,autoSize:!0,baseCls:Ext.baseCSSPrefix+"surface "+Ext.baseCSSPrefix+"draw-text",initComponent:function(){var e=this;e.textConfig=Ext.apply({type:"text",text:e.text,rotate:{degrees:e.degrees||0}},e.textStyle),Ext.apply(e.textConfig,e.getStyles(e.styleSelectors||e.styleSelector)),e.initialConfig.items=[e.textConfig],e.callParent(arguments)},getStyles:function(e){e=Ext.Array.from(e);var t=0,n=e.length,r,i,s,o={};for(;t<n;t++)r=Ext.util.CSS.getRule(e[t]),r&&(i=r.style,i&&Ext.apply(o,{"font-family":i.fontFamily,"font-weight":i.fontWeight,"line-height":i.lineHeight,"font-size":i.fontSize,fill:i.color}));return o},setAngle:function(e){var t=this,n,r;t.rendered?(n=t.surface,r=n.items.items[0],t.degrees=e,r.setAttributes({rotate:{degrees:e}},!0),(t.autoSize||t.viewBox)&&t.updateLayout()):t.degrees=e},setText:function(e){var t=this,n,r;t.rendered?(n=t.surface,r=n.items.items[0],t.text=e||"",n.remove(r),t.textConfig.type="text",t.textConfig.text=t.text,r=n.add(t.textConfig),r.setAttributes({rotate:{degrees:t.degrees}},!0),(t.autoSize||t.viewBox)&&t.updateLayout()):t.on({render:function(){t.setText(e)},single:!0})}}),Ext.define("Ext.draw.engine.ImageExporter",{singleton:!0,defaultUrl:"http://svg.sencha.io",supportedTypes:["image/png","image/jpeg"],widthParam:"width",heightParam:"height",typeParam:"type",svgParam:"svg",formCls:Ext.baseCSSPrefix+"hide-display",generate:function(e,t){t=t||{};var n=this,r=t.type,i;return Ext.Array.indexOf(n.supportedTypes,r)===-1?!1:(i=Ext.getBody().createChild({tag:"form",method:"POST",action:t.url||n.defaultUrl,cls:n.formCls,children:[{tag:"input",type:"hidden",name:t.widthParam||n.widthParam,value:t.width||e.width},{tag:"input",type:"hidden",name:t.heightParam||n.heightParam,value:t.height||e.height},{tag:"input",type:"hidden",name:t.typeParam||n.typeParam,value:r},{tag:"input",type:"hidden",name:t.svgParam||n.svgParam}]}),i.last(null,!0).value=Ext.draw.engine.SvgExporter.generate(e),i.dom.submit(),i.remove(),!0)}}),Ext.define("Ext.draw.engine.Svg",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Svg",trimRe:/^\s+|\s+$/g,spacesRe:/\s+/,xlink:"http://www.w3.org/1999/xlink",translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",path:"d",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},parsers:{},minDefaults:{circle:{cx:0,cy:0,r:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start","font-family":null,"font-size":null,"font-weight":null,"font-style":null,fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},createSvgElement:function(e,t){var n=this.domRef.createElementNS("http://www.w3.org/2000/svg",e),r;if(t)for(r in t)n.setAttribute(r,String(t[r]));return n},createSpriteElement:function(e){var t=this.createSvgElement(e.type);return t.id=e.id,t.style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)"),e.el=Ext.get(t),this.applyZIndex(e),e.matrix=new Ext.draw.Matrix,e.bbox={plain:0,transform:0},this.applyAttrs(e),this.applyTransformations(e),e.fireEvent("render",e),t},getBBoxText:function(e){var t={},n,r,i,s,o,u;if(e&&e.el){u=e.el.dom;try{return t=u.getBBox(),t}catch(a){}t={x:t.x,y:Infinity,width:0,height:0},o=u.getNumberOfChars();for(s=0;s<o;s++)n=u.getExtentOfChar(s),t.y=Math.min(n.y,t.y),r=n.y+n.height-t.y,t.height=Math.max(t.height,r),i=n.x+n.width-t.x,t.width=Math.max(t.width,i);return t}},hide:function(){Ext.get(this.el).hide()},show:function(){Ext.get(this.el).show()},hidePrim:function(e){this.addCls(e,Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(e){this.removeCls(e,Ext.baseCSSPrefix+"hide-visibility")},getDefs:function(){return this._defs||(this._defs=this.createSvgElement("defs"))},transform:function(e,t){var n=this,r=new Ext.draw.Matrix,i=e.transformations,s=i.length,o=0,u,a;for(;o<s;o++)u=i[o],a=u.type,a=="translate"?r.translate(u.x,u.y):a=="rotate"?r.rotate(u.degrees,u.x,u.y):a=="scale"&&r.scale(u.x,u.y,u.centerX,u.centerY);e.matrix=r,t||e.el.set({transform:r.toSvg()})},setSize:function(e,t){var n=this,r=n.el;e=+e||n.width,t=+t||n.height,n.width=e,n.height=t,r.setSize(e,t),r.set({width:e,height:t}),n.callParent([e,t])},getRegion:function(){var e=this.el.getXY(),t=this.bgRect.getXY(),n=Math.max,r=n(e[0],t[0]),i=n(e[1],t[1]);return{left:r,top:i,right:r+this.width,bottom:i+this.height}},onRemove:function(e){e.el&&(e.el.destroy(),delete e.el),this.callParent(arguments)},setViewBox:function(e,t,n,r){isFinite(e)&&isFinite(t)&&isFinite(n)&&isFinite(r)&&(this.callParent(arguments),this.el.dom.setAttribute("viewBox",[e,t,n,r].join(" ")))},render:function(e){var t=this,n,r,i,s,o,u;t.el||(n=t.width||0,r=t.height||0,i=t.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:n,height:r}),s=t.getDefs(),o=t.createSvgElement("rect",{width:"100%",height:"100%",fill:"#000",stroke:"none",opacity:0}),Ext.isSafari3&&(u=t.createSvgElement("rect",{x:-10,y:-10,width:"110%",height:"110%",fill:"none",stroke:"#000"})),i.appendChild(s),Ext.isSafari3&&i.appendChild(u),i.appendChild(o),e.appendChild(i),t.el=Ext.get(i),t.bgRect=Ext.get(o),Ext.isSafari3&&(t.webkitRect=Ext.get(u),t.webkitRect.hide()),t.el.on({scope:t,mouseup:t.onMouseUp,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseout:t.onMouseOut,mousemove:t.onMouseMove,mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave
,click:t.onClick,dblclick:t.onDblClick})),t.renderAll()},onMouseEnter:function(e){this.el.parent().getRegion().contains(e.getPoint())&&this.fireEvent("mouseenter",e)},onMouseLeave:function(e){this.el.parent().getRegion().contains(e.getPoint())||this.fireEvent("mouseleave",e)},processEvent:function(e,t){var n=t.getTarget(),r=this.surface,i;this.fireEvent(e,t),n.nodeName=="tspan"&&n.parentNode&&(n=n.parentNode),i=this.items.get(n.id),i&&i.fireEvent(e,i,t)},tuneText:function(e,t){var n=e.el.dom,r=[],i,s,o,u,a,f,l,c;t.hasOwnProperty("text")&&(o=e.tspans&&Ext.Array.map(e.tspans,function(e){return e.textContent}).join(""),!e.tspans||t.text!=o?(r=this.setText(e,t.text),e.tspans=r):r=e.tspans||[]);if(r.length){i=this.getBBoxText(e).height,c=e.el.dom.getAttribute("x");for(u=0,a=r.length;u<a;u++)l=Ext.isFF3_0||Ext.isFF3_5?2:4,r[u].setAttribute("x",c),r[u].setAttribute("dy",u?i*1.2:i/l);e.dirty=!0}},setText:function(e,t){var n=this,r=e.el.dom,i=[],s,o,u,a,f,l;while(r.firstChild)r.removeChild(r.firstChild);l=String(t).split("\n");for(a=0,f=l.length;a<f;a++)u=l[a],u&&(o=n.createSvgElement("tspan"),o.appendChild(document.createTextNode(Ext.htmlDecode(u))),r.appendChild(o),i[a]=o);return i},renderAll:function(){this.items.each(this.renderItem,this)},renderItem:function(e){if(!this.el)return;e.el||this.createSpriteElement(e),e.zIndexDirty&&this.applyZIndex(e),e.dirty&&(this.applyAttrs(e),e.dirtyTransform&&this.applyTransformations(e))},redraw:function(e){e.dirty=e.zIndexDirty=!0,this.renderItem(e)},applyAttrs:function(e){var t=this,n=e.el,r=e.group,i=e.attr,s=t.parsers,o=t.gradientsMap||{},u=Ext.isSafari&&!Ext.isStrict,a,f,l,c,h,p,d,v,m;if(r){a=[].concat(r),l=a.length;for(f=0;f<l;f++)r=a[f],t.getGroup(r).add(e);delete e.group}c=t.scrubAttrs(e)||{},e.bbox.plain=0,e.bbox.transform=0,e.type=="circle"||e.type=="ellipse"?(c.cx=c.cx||c.x,c.cy=c.cy||c.y):e.type=="rect"?c.rx=c.ry=c.r:e.type=="path"&&c.d&&(c.d=Ext.draw.Draw.pathToString(Ext.draw.Draw.pathToAbsolute(c.d))),e.dirtyPath=!1,c["clip-rect"]&&(t.setClip(e,c),delete c["clip-rect"]),e.type=="text"&&c.font&&e.dirtyFont&&n.set({style:"font: "+c.font}),e.type=="image"&&n.dom.setAttributeNS(t.xlink,"href",c.src),Ext.applyIf(c,t.minDefaults[e.type]),e.dirtyHidden&&(i.hidden?t.hidePrim(e):t.showPrim(e),e.dirtyHidden=!1);for(p in c)if(c.hasOwnProperty(p)&&c[p]!=null){u&&"color|stroke|fill".indexOf(p)>-1&&c[p]in o&&(c[p]=o[c[p]]);if(p=="hidden"&&e.type=="text")continue;p in s?n.dom.setAttribute(p,s[p](c[p],e,t)):n.dom.setAttribute(p,c[p])}e.type=="text"&&t.tuneText(e,c),e.dirtyFont=!1,d=i.style,d&&n.setStyle(d),e.dirty=!1,Ext.isSafari3&&(t.webkitRect.show(),setTimeout(function(){t.webkitRect.hide()}))},setClip:function(e,t){var n=this,r=t["clip-rect"],i,s;r&&(e.clip&&e.clip.parentNode.parentNode.removeChild(e.clip.parentNode),i=n.createSvgElement("clipPath"),s=n.createSvgElement("rect"),i.id=Ext.id(null,"ext-clip-"),s.setAttribute("x",r.x),s.setAttribute("y",r.y),s.setAttribute("width",r.width),s.setAttribute("height",r.height),i.appendChild(s),n.getDefs().appendChild(i),e.el.dom.setAttribute("clip-path","url(#"+i.id+")"),e.clip=s)},applyZIndex:function(e){var t=this,n=t.items,r=n.indexOf(e),i=e.el,s;if(t.el.dom.childNodes[r+2]!==i.dom){if(r>0)do s=n.getAt(--r).el;while(!s&&r>0);i.insertAfter(s||t.bgRect)}e.zIndexDirty=!1},createItem:function(e){var t=new Ext.draw.Sprite(e);return t.surface=this,t},addGradient:function(e){e=Ext.draw.Draw.parseGradient(e);var t=this,n=e.stops.length,r=e.vector,i=Ext.isSafari&&!Ext.isStrict,s,o,u,a,f;f=t.gradientsMap||{};if(!i){e.type=="linear"?(s=t.createSvgElement("linearGradient"),s.setAttribute("x1",r[0]),s.setAttribute("y1",r[1]),s.setAttribute("x2",r[2]),s.setAttribute("y2",r[3])):(s=t.createSvgElement("radialGradient"),s.setAttribute("cx",e.centerX),s.setAttribute("cy",e.centerY),s.setAttribute("r",e.radius),Ext.isNumber(e.focalX)&&Ext.isNumber(e.focalY)&&(s.setAttribute("fx",e.focalX),s.setAttribute("fy",e.focalY))),s.id=e.id,t.getDefs().appendChild(s);for(a=0;a<n;a++)o=e.stops[a],u=t.createSvgElement("stop"),u.setAttribute("offset",o.offset+"%"),u.setAttribute("stop-color",o.color),u.setAttribute("stop-opacity",o.opacity),s.appendChild(u)}else f["url(#"+e.id+")"]=e.stops[0].color;t.gradientsMap=f},hasCls:function(e,t){return t&&(" "+(e.el.dom.getAttribute("class")||"")+" ").indexOf(" "+t+" ")!=-1},addCls:function(e,t){var n=e.el,r,i,s,o=[],u=n.getAttribute("class")||"";if(!Ext.isArray(t))typeof t=="string"&&!this.hasCls(e,t)&&n.set({"class":u+" "+t});else{for(r=0,i=t.length;r<i;r++)s=t[r],typeof s=="string"&&(" "+u+" ").indexOf(" "+s+" ")==-1&&o.push(s);o.length&&n.set({"class":" "+o.join(" ")})}},removeCls:function(e,t){var n=this,r=e.el,i=r.getAttribute("class")||"",s,o,u,a,f;Ext.isArray(t)||(t=[t]);if(i){f=i.replace(n.trimRe," ").split(n.spacesRe);for(s=0,u=t.length;s<u;s++)a=t[s],typeof a=="string"&&(a=a.replace(n.trimRe,""),o=Ext.Array.indexOf(f,a),o!=-1&&Ext.Array.erase(f,o,1));r.set({"class":f.join(" ")})}},destroy:function(){var e=this;e.callParent(),e.el&&e.el.remove(),e._defs&&Ext.get(e._defs).destroy(),e.bgRect&&Ext.get(e.bgRect).destroy(),e.webkitRect&&Ext.get(e.webkitRect).destroy(),delete e.el}}),Ext.define("Ext.draw.engine.SvgExporter",function(){var e=/,/g,t=/(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)\s('*.*'*)/,n=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/g,r=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,([\d\.]+)\)/g,i,s,o,u,a=function(e){i=e,s=i.length,o=i.width,u=i.height},f={path:function(t){var n=t.attr,r=n.path,i="",s,o,u;if(Ext.isArray(r[0])){u=r.length;for(o=0;o<u;o++)i+=r[o].join(" ")}else Ext.isArray(r)?i=r.join(" "):i=r.replace(e," ");return s=h({d:i,fill:n.fill||"none",stroke:n.stroke,"fill-opacity":n.opacity,"stroke-width":n["stroke-width"],"stroke-opacity":n["stroke-opacity"],"z-index":n.zIndex,transform:t.matrix.toSvg()}),"<path "+s+"/>"},text:function(e){var n=e.attr,r=t.exec(n.font),i=r&&r[1]||"12",s=r&&r[3]||"Arial",o=n.text,u=Ext.isFF3_0||Ext.isFF3_5?2:4,a="",f;return e.getBBox(),a+='<tspan x="'+(n.x||"")+'" dy="',a+=i/u+'">',a+=Ext.htmlEncode(o)+"</tspan>",f=h({x:n.x,y:n.y,"font-size":i,"font-family":s,"font-weight":n["font-weight"],"text-anchor":n["text-anchor"],fill:n.fill||"#000","fill-opacity":n.opacity,transform:e.matrix.toSvg()}),"<text "+f+">"+a+"</text>"},rect:function(e){var t=e.attr,n=h({x:t.x,y:t.y,rx:t.rx,ry:t.ry,width:t.width,height:t.height,fill:t.fill||"none","fill-opacity":t.opacity,stroke:t.stroke,"stroke-opacity":t["stroke-opacity"],"stroke-width":t["stroke-width"],transform:e.matrix&&e.matrix.toSvg()});return"<rect "+n+"/>"},circle:function(e){var t=e.attr,n=h({cx:t.x,cy:t.y,r:t.radius,fill:t.translation.fill||t.fill||"none","fill-opacity":t.opacity,stroke:t.stroke,"stroke-opacity":t["stroke-opacity"],"stroke-width":t["stroke-width"],transform:e.matrix.toSvg()});return"<circle "+n+" />"},image:function(e){var t=e.attr,n=h({x:t.x-(t.width/2>>0),y:t.y-(t.height/2>>0),width:t.width,height:t.height,"xlink:href":t.src,transform:e.matrix.toSvg()});return"<image "+n+" />"}},l=function(){var e='<?xml version="1.0" standalone="yes"?>';return e+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',e},c=function(){var e='<svg width="'+o+'px" height="'+u+'px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">',t="",s,a,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k;l=i.items.items,a=l.length,h=function(e){var t=e.childNodes,n=t.length,r=0,i,s,o="",u,a,f,l;for(;r<n;r++){u=t[r],a=u.attributes,f=u.tagName,o+="<"+f;for(s=0,i=a.length;s<i;s++)l=a.item(s),o+=" "+l.name+'="'+l.value+'"';o+=">",u.childNodes.length>0&&(o+=h(u)),o+="</"+f+">"}return o};if(i.getDefs)t=h(i.getDefs());else{v=i.gradientsColl,v&&(m=v.keys,g=v.items,y=0,b=m.length);for(;y<b;y++){w=m[y],E=g[y],c=i.gradientsColl.getByKey(w),t+='<linearGradient id="'+w+'" x1="0" y1="0" x2="1" y2="1">';var L=c.colors.replace(n,"rgb($1|$2|$3)");L=L.replace(r,"rgba($1|$2|$3|$4)"),p=L.split(",");for(S=0,T=p.length;S<T;S++)d=p[S].split(" "),L=Ext.draw.Color.fromString(d[1].replace(/\|/g,",")),t+='<stop offset="'+d[0]+'" stop-color="'+L.toString()+'" stop-opacity="1"></stop>';t+="</linearGradient>"}}e+="<defs>"+t+"</defs>",e+=f.rect({attr:{width:"100%",height:"100%",fill:"#fff",stroke:"none",opacity:"0"}}),N=new Array(a);for(S=0;S<a;S++)N[S]=S;N.sort(function(e,t){return C=l[e].attr.zIndex||0,k=l[t].attr.zIndex||0,C==k?e-t:C-k});for(S=0;S<a;S++)s=l[N[S]],s.attr.hidden||(e+=f[s.type](s));return e+="</svg>",e},h=function(e){var t="",n;for(n in e)e.hasOwnProperty(n)&&e[n]!=null&&(t+=n+'="'+e[n]+'" ');return t};return{singleton:!0,generate:function(e,t){return t=t||{},a(e),l()+c()}}}),Ext.define("Ext.draw.engine.Vml",{extend:"Ext.draw.Surface",requires:["Ext.draw.Draw","Ext.draw.Color","Ext.draw.Sprite","Ext.draw.Matrix","Ext.Element"],engine:"Vml",map:{M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bitesRe:/([clmz]),?([^clmz]*)/gi,valRe:/-?[^,\s\-]+/g,fillUrlRe:/^url\(\s*['"]?([^\)]+?)['"]?\s*\)$/i,pathlike:/^(path|rect)$/,NonVmlPathRe:/[ahqstv]/ig,partialPathRe:/[clmz]/g,fontFamilyRe:/^['"]+|['"]+$/g,baseVmlCls:Ext.baseCSSPrefix+"vml-base",vmlGroupCls:Ext.baseCSSPrefix+"vml-group",spriteCls:Ext.baseCSSPrefix+"vml-sprite",measureSpanCls:Ext.baseCSSPrefix+"vml-measure-span",zoom:21600,coordsize:1e3,coordorigin:"0 0",zIndexShift:0,orderSpritesByZIndex:!1,path2vml:function(e){var t=this,n=t.NonVmlPathRe,r=t.map,i=t.valRe,s=t.zoom,o=t.bitesRe,u=Ext.Function.bind(Ext.draw.Draw.pathToAbsolute,Ext.draw.Draw),a,f,l,c,h,p,d,v;if(String(e).match(n))u=Ext.Function.bind(Ext.draw.Draw.path2curve,Ext.draw.Draw);else if(!String(e).match(t.partialPathRe))return a=String(e).replace(o,function(e,t,n){var o=[],u=t.toLowerCase()=="m",a=r[t];return n.replace(i,function(e){u&&o.length===2&&(a+=o+r[t=="m"?"l":"L"],o=[]),o.push(Math.round(e*s))}),a+o}),a;f=u(e),a=[];for(h=0,p=f.length;h<p;h++){l=f[h],c=f[h][0].toLowerCase(),c=="z"&&(c="x");for(d=1,v=l.length;d<v;d++)c+=Math.round(l[d]*t.zoom)+(d!=v-1?",":"");a.push(c)}return a.join(" ")},translateAttrs:{radius:"r",radiusX:"rx",radiusY:"ry",lineWidth:"stroke-width",fillOpacity:"fill-opacity",strokeOpacity:"stroke-opacity",strokeLinejoin:"stroke-linejoin"},minDefaults:{circle:{fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},ellipse:{cx:0,cy:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},rect:{x:0,y:0,width:0,height:0,rx:0,ry:0,fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},text:{x:0,y:0,"text-anchor":"start",font:'10px "Arial"',fill:"#000",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},path:{d:"M0,0",fill:"none",stroke:null,"stroke-width":null,opacity:null,"fill-opacity":null,"stroke-opacity":null},image:{x:0,y:0,width:0,height:0,preserveAspectRatio:"none",opacity:null}},onMouseEnter:function(e){this.fireEvent("mouseenter",e)},onMouseLeave:function(e){this.fireEvent("mouseleave",e)},processEvent:function(e,t){var n=t.getTarget(),r=this.surface,i;this.fireEvent(e,t),i=this.items.get(n.id),i&&i.fireEvent(e,i,t)},createSpriteElement:function(e){var t=this,n=e.attr,r=e.type,i=t.zoom,s=e.vml||(e.vml={}),o=Math.round,u=r==="image"?t.createNode("image"):t.createNode("shape"),a,f,l;return u.coordsize=i+" "+i,u.coordorigin=n.coordorigin||"0 0",Ext.get(u).addCls(t.spriteCls),r=="text"&&(s.path=a=t.createNode("path"),a.textpathok=!0,s.textpath=l=t.createNode("textpath"),l.on=!0,u.appendChild(l),u.appendChild(a)),u.id=e.id,e.el=Ext.get(u),e.el.setStyle("zIndex",-t.zIndexShift),t.el.appendChild(u),r!=="image"&&(f=t.createNode("skew"),f.on=!0,u.appendChild(f),e.skew=f),e.matrix=new Ext.draw.Matrix,e.bbox={plain:null,transform:null},this.applyAttrs(e),this.applyTransformations(e),e.fireEvent("render",e),e.el},getBBoxText:function(e){var t=e.vml;return{x:t.X+(t.bbx||0)-t.W/2,y:t.Y-t.H/2,width:t.W,height:t.H}},applyAttrs:function(e){var t=this,n=e.vml,r=e.group,i=e.attr,s=e.el,o=s.dom,u,a,f,l,c,h,p,d,v,m,g,y;if(r){f=[].concat(r),c=f.length;for(l=0;l<c;l++)r=f[l],t.getGroup(r).add(e);delete e.group}h=t.scrubAttrs(e)||{},e.zIndexDirty&&t.setZIndex(e),Ext.applyIf(h,t.minDefaults[e.type]),e.type=="image"&&(Ext.apply(e.attr,{x:h.x,y:h.y,width:h.width,height:h.height}),s.setStyle({width:h.width+"px",height:h.height+"px"}),o.src=h.src),o.href&&(o.href=h.href),o.title&&(o.title=h.title),o.target&&(o.target=h.target),o.cursor&&(o.cursor=h.cursor),e.dirtyHidden&&(h.hidden?t.hidePrim(e):t.showPrim(e),e.dirtyHidden=!1),e.dirtyPath&&(e.type=="circle"||e.type=="ellipse"?(v=h.x,m=h.y,g=h.rx||h.r||0,y=h.ry||h.r||0,o.path=Ext.String.format("ar{0},{1},{2},{3},{4},{1},{4},{1}",Math.round((v-g)*t.zoom),Math.round((m-y)*t.zoom),Math.round((v+g)*t.zoom),Math.round((m+y)*t.zoom),Math.round(v*t.zoom)),e.dirtyPath=!1):e.type!=="text"&&e.type!=="image"&&(e.attr.path=h.path=t.setPaths(e,h)||h.path,o.path=t.path2vml(h.path),e.dirtyPath=!1)),"clip-rect"in h&&t.setClip(e,h),e.type=="text"&&t.setTextAttributes(e,h),(h.opacity||h["stroke-opacity"]||h.fill)&&t.setFill(e,h),(h.stroke||h["stroke-opacity"]||h.fill)&&t.setStroke(e,h),u=i.style,u&&s.setStyle(u),e.dirty=!1},setZIndex:function(e){var t=this,n=e.attr.zIndex,r=t.zIndexShift,i,s,o,u;if(n<r){i=t.items.items,s=i.length;for(u=0;u<s;u++)(n=i[u].attr.zIndex)&&n<r&&(r=n);t.zIndexShift=r;for(u=0;u<s;u++)o=i[u],o.el&&o.el.setStyle("zIndex",o.attr.zIndex-r),o.zIndexDirty=!1}else e.el&&(e.el.setStyle("zIndex",n-r),e.zIndexDirty=!1)},setPaths:function(e,t){var n=e.attr,r=e.attr["stroke-width"]||1;return e.bbox.plain=null,e.bbox.transform=null,e.type=="circle"?(n.rx=n.ry=t.r,Ext.draw.Draw.ellipsePath(e)):e.type=="ellipse"?(n.rx=t.rx,n.ry=t.ry,Ext.draw.Draw.ellipsePath(e)):e.type=="rect"?(n.rx=n.ry=t.r,Ext.draw.Draw.rectPath(e)):e.type=="path"&&n.path?Ext.draw.Draw.pathToAbsolute(n.path):!1},setFill:function(e,t){var n=this,r=e.el.dom,i=r.fill,s=!1,o,u,a,f,l;i||(i=r.fill=n.createNode("fill"),s=!0),Ext.isArray(t.fill)&&(t.fill=t.fill[0]),t.fill=="none"?i.on=!1:(typeof t.opacity=="number"&&(i.opacity=t.opacity),typeof t["fill-opacity"]=="number"&&(i.opacity=t["fill-opacity"]),i.on=!0,typeof t.fill=="string"&&(a=t.fill.match(n.fillUrlRe),a?(a=a[1],a.charAt(0)=="#"&&(u=n.gradientsColl.getByKey(a.substring(1))),u?(f=t.rotation,l=-(u.angle+270+(f?f.degrees:0))%360,l===0&&(l=180),i.angle=l,i.type="gradient",i.method="sigma",i.colors?i.colors.value=u.colors:i.colors=u.colors):(i.src=a,i.type="tile")):(i.color=Ext.draw.Color.toHex(t.fill),i.src="",i.type="solid"))),s&&r.appendChild(i)},setStroke:function(e,t){var n=this,r=e.el.dom,i=e.strokeEl,s=!1,o,u;i||(i=e.strokeEl=n.createNode("stroke"),s=!0),Ext.isArray(t.stroke)&&(t.stroke=t.stroke[0]),!t.stroke||t.stroke=="none"||t.stroke==0||t["stroke-width"]==0?i.on=!1:(i.on=!0,t.stroke&&!t.stroke.match(n.fillUrlRe)&&(i.color=Ext.draw.Color.toHex(t.stroke)),i.dashstyle=t["stroke-dasharray"]?"dash":"solid",i.joinstyle=t["stroke-linejoin"],i.endcap=t["stroke-linecap"]||"round",i.miterlimit=t["stroke-miterlimit"]||8,o=parseFloat(t["stroke-width"]||1)*.75,u=t["stroke-opacity"]||1,Ext.isNumber(o)&&o<1?(i.weight=1,i.opacity=u*o):(i.weight=o,i.opacity=u)),s&&r.appendChild(i)},setClip:function(e,t){var n=this,r=e.el,i=e.clipEl,s=String(t["clip-rect"]).split(n.separatorRe);i||(i=e.clipEl=n.el.insertFirst(Ext.getDoc().dom.createElement("div")),i.addCls(Ext.baseCSSPrefix+"vml-sprite")),s.length==4?(s[2]=+s[2]+ +s[0],s[3]=+s[3]+ +s[1],i.setStyle("clip",Ext.String.format("rect({1}px {2}px {3}px {0}px)",s[0],s[1],s[2],s[3])),i.setSize(n.el.width,n.el.height)):i.setStyle("clip","")},setTextAttributes:function(e,t){var n=this,r=e.vml,i=r.textpath.style,s=n.span.style,o=n.zoom,u=Math.round,a={fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"},f,l;if(e.dirtyFont){t.font&&(i.font=s.font=t.font),t["font-family"]&&(i.fontFamily='"'+t["font-family"].split(",")[0].replace(n.fontFamilyRe,"")+'"',s.fontFamily=t["font-family"]);for(f in a)l=t[a[f]],l&&(i[f]=s[f]=l);n.setText(e,t.text),r.textpath.string&&(n.span.innerHTML=String(r.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br/>")),r.W=n.span.offsetWidth,r.H=n.span.offsetHeight+2,t["text-anchor"]=="middle"?i["v-text-align"]="center":t["text-anchor"]=="end"?(i["v-text-align"]="right",r.bbx=-Math.round(r.W/2)):(i["v-text-align"]="left",r.bbx=Math.round(r.W/2))}r.X=t.x,r.Y=t.y,r.path.v=Ext.String.format("m{0},{1}l{2},{1}",Math.round(r.X*o),Math.round(r.Y*o),Math.round(r.X*o)+1),e.bbox.plain=null,e.bbox.transform=null,e.dirtyFont=!1},setText:function(e,t){e.vml.textpath.string=Ext.htmlDecode(t)},hide:function(){this.el.hide()},show:function(){this.el.show()},hidePrim:function(e){e.el.addCls(Ext.baseCSSPrefix+"hide-visibility")},showPrim:function(e){e.el.removeCls(Ext.baseCSSPrefix+"hide-visibility")},setSize:function(e,t){var n=this;e=e||n.width,t=t||n.height,n.width=e,n.height=t,n.el&&(e!=undefined&&n.el.setWidth(e),t!=undefined&&n.el.setHeight(t)),n.callParent(arguments)},applyViewBox:function(){var e=this,t=e.viewBox,n=e.width,r=e.height,i,s,o;e.callParent();if(t&&(n||r)){i=e.items.items,s=i.length;for(o=0;o<s;o++)e.applyTransformations(i[o])}},onAdd:function(e){this.callParent(arguments),this.el&&this.renderItem(e)},onRemove:function(e){e.el&&(e.el.remove(),delete e.el),this.callParent(arguments)},render:function(e){var t=this,n=Ext.getDoc().dom,r;if(!t.createNode)try{n.namespaces.rvml||n.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),t.createNode=function(e){return n.createElement("<rvml:"+e+' class="rvml">')}}catch(i){t.createNode=function(e){return n.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}t.el||(r=n.createElement("div"),t.el=Ext.get(r),t.el.addCls(t.baseVmlCls),t.span=n.createElement("span"),Ext.get(t.span).addCls(t.measureSpanCls),r.appendChild(t.span),t.el.setSize(t.width||0,t.height||0),e.appendChild(r),t.el.on({scope:t,mouseup:t.onMouseUp,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseout:t.onMouseOut,mousemove:t.onMouseMove,mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,click:t.onClick,dblclick:t.onDblClick})),t.renderAll()},renderAll:function(){this.items.each(this.renderItem,this)},redraw:function(e){e.dirty=!0,this.renderItem(e)},renderItem:function(e){if(!this.el)return;e.el||this.createSpriteElement(e),e.dirty&&(this.applyAttrs(e),e.dirtyTransform&&this.applyTransformations(e))},rotationCompensation:function(e,t,n){var r=new Ext.draw.Matrix;return r.rotate(-e,.5,.5),{x:r.x(t,n),y:r.y(t,n)}},transform:function(e,t){var n=this,r=n.getBBox(e,!0),i=r.x+r.width*.5,s=r.y+r.height*.5,o=new Ext.draw.Matrix,u=e.transformations,a=u.length,f=0,l=0,c=1,h=1,p="",d=e.el,v=d.dom,m=v.style,g=n.zoom,y=e.skew,b=n.viewBoxShift,w,E,S,x,T,N,C,k,L,A,O,M;for(;f<a;f++)S=u[f],x=S.type,x=="translate"?o.translate(S.x,S.y):x=="rotate"?(o.rotate(S.degrees,S.x,S.y),l+=S.degrees):x=="scale"&&(o.scale(S.x,S.y,S.centerX,S.centerY),c*=S.x,h*=S.y);e.matrix=o.clone();if(t)return;b&&o.prepend(b.scale,0,0,b.scale,b.dx*b.scale,b.dy*b.scale),e.type!="image"&&y?(y.origin="0,0",y.matrix=o.toString(),M=o.offset(),M[0]>32767?M[0]=32767:M[0]<-32768&&(M[0]=-32768),M[1]>32767?M[1]=32767:M[1]<-32768&&(M[1]=-32768),y.offset=M):(m.filter=o.toFilter(),m.left=Math.min(o.x(r.x,r.y),o.x(r.x+r.width,r.y),o.x(r.x,r.y+r.height),o.x(r.x+r.width,r.y+r.height))+"px",m.top=Math.min(o.y(r.x,r.y),o.y(r.x+r.width,r.y),o.y(r.x,r.y+r.height),o.y(r.x+r.width,r.y+r.height))+"px")},createItem:function(e){return Ext.create("Ext.draw.Sprite",e)},getRegion:function(){return this.el.getRegion()},addCls:function(e,t){e&&e.el&&e.el.addCls(t)},removeCls:function(e,t){e&&e.el&&e.el.removeCls(t)},addGradient:function(e){var t=this.gradientsColl||(this.gradientsColl=Ext.create("Ext.util.MixedCollection")),n=[],r=Ext.create("Ext.util.MixedCollection"),i,s,o,u,a,f;r.addAll(e.stops),r.sortByKey("ASC",function(e,t){return e=parseInt(e,10),t=parseInt(t,10),e>t?1:e<t?-1:0}),i=r.keys,s=r.items,o=i.length;for(f=0;f<o;f++)u=i[f],a=s[f],n.push(u+"% "+a.color);t.add(e.id,{colors:n.join(","),angle:e.angle})},destroy:function(){var e=this;e.callParent(arguments),e.el&&e.el.remove(),delete e.el}}),Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}"></div>'],initComponent:function(){this.callParent(),this.addEvents("success","failure")},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var e=this,t=Ext.apply({},e.flashParams),n=Ext.apply({},e.flashVars);e.callParent(),t=Ext.apply({allowScriptAccess:"always",bgcolor:e.backgroundColor,wmode:e.wmode},t),n=Ext.apply({allowedDomain:document.location.hostname},n),new swfobject.embedSWF(e.url,e.getSwfId(),e.swfWidth,e.swfHeight,e.flashVersion,e.expressInstall?e.statics.EXPRESS_INSTALL_URL:undefined,n,t,e.flashAttributes,Ext.bind(e.swfCallback,e))},swfCallback:function(e){var t=this;e.success?(t.swf=Ext.get(e.ref),t.onSuccess(),t.fireEvent("success",t)):(t.onFailure(),t.fireEvent("failure",t))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var e=this,t=e.swf;t&&(swfobject.removeSWF(e.getSwfId()),Ext.destroy(t),delete e.swf),e.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(e){e&&Ext.apply(this,e);var t=e.params;Ext.isString(t)&&(this.params=Ext.Object.fromQueryString(t))},run:Ext.emptyFn,onFailure:function(e){this.response=e,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,this.form.afterAction(this,!1)},processResponse:function(e){return this.response=e,!e.responseText&&!e.responseXML?!0:this.result=this.handleResponse(e)},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var e=this,t,n=e.form;return{success:e.onSuccess,failure:e.onFailure,scope:e,timeout:this.timeout*1e3||n.timeout*1e3,upload:n.fileUpload?e.onSuccess:t}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var t=this.processResponse(e),n=this.form;if(t===!0||!t.success||!t.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE,n.afterAction(this,!1);return}n.clearInvalid(),n.setValues(t.data),n.afterAction(this,!0)},handleResponse:function(e){var t=this.form.reader,n,r;return t?(n=t.read(e),r=n.records&&n.records[0]?n.records[0].data:null,{success:n.success,data:r}):Ext.decode(e.responseText)}}),Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var e=this.form;this.clientValidation===!1||e.isValid()?this.doSubmit():(this.failureType=Ext.form.action.Action.CLIENT_INVALID,e.afterAction(this,!1))},doSubmit:function(){var e,t=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers});this.form.hasUpload()?(e=t.form=this.buildForm(),t.isUpload=!0):t.params=this.getParams(),Ext.Ajax.request(t),e&&Ext.removeNode(e)},getParams:function(){var e=!1,t=this.callParent(),n=this.form.getValues(e,e,this.submitEmptyText!==e);return Ext.apply({},n,t)},buildForm:function(){function m(t,n){e.push({tag:"input",type:"hidden",name:t,value:Ext.String.htmlEncode(n)})}var e=[],t,n,r=this.form,i=this.getParams(),s=[],o=r.getFields().items,u,a=o.length,f,l,c,h,p,d,v;for(u=0;u<a;u++)f=o[u],f.isFileUpload()&&s.push(f);for(l in i)if(i.hasOwnProperty(l)){c=i[l];if(Ext.isArray(c)){p=c.length;for(h=0;h<p;h++)m(l,c[h])}else m(l,c)}t={tag:"form",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:e},s.length&&(t.encoding=t.enctype="multipart/form-data"),n=Ext.DomHelper.append(Ext.getBody(),t),v=s.length;for(d=0;d<v;d++)f=s[d],f.rendered&&n.appendChild(f.extractFileInput());return n},onSuccess:function(e){var t=this.form,n=!0,r=this.processResponse(e);r!==!0&&!r.success&&(r.errors&&t.markInvalid(r.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,n=!1),t.afterAction(this,n)},handleResponse:function(e){var t=this.form,n=t.errorReader,r,i,s,o,u;if(n){r=n.read(e),u=r.records,i=[];if(u)for(s=0,o=u.length;s<o;s++)i[s]=u[s].data;return i.length<1&&(i=null),{success:r.success,errors:i}}return Ext.decode(e.responseText)}}),Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(e,t){this.comp=e,this.initialConstrainTo=t.constrainTo,this.callParent([t])},onStart:function(e){var t=this,n=t.comp;this.startPosition=n.el.getXY(),n.ghost&&!n.liveDrag&&(t.proxy=n.ghost(),t.dragTarget=t.proxy.header.el);if(t.constrain||t.constrainDelegate)t.constrainTo=t.calculateConstrainRegion();n.beginDrag&&n.beginDrag()},calculateConstrainRegion:function(){var e=this,t=e.comp,n=e.initialConstrainTo,r,i,s=e.proxy?e.proxy.el:t.el,o=!e.constrainDelegate&&s.shadow&&!s.shadowDisabled?s.shadow.getShadowSize():0;return n instanceof Ext.util.Region||(n=Ext.fly(n).getViewRegion()),o&&n.adjust(o[0],-o[1],-o[2],o[3]),e.constrainDelegate||(r=Ext.fly(e.dragTarget).getRegion(),i=s.getRegion(),n.adjust(r.top-i.top,r.right-i.right,r.bottom-i.bottom,r.left-i.left)),n},onDrag:function(e){var t=this,n=t.proxy&&!t.comp.liveDrag?t.proxy:t.comp,r=t.getOffset(t.constrain||t.constrainDelegate?"dragTarget":null);n.setPagePosition(t.startPosition[0]+r[0],t.startPosition[1]+r[1])},onEnd:function(e){var t=this.comp;this.proxy&&!t.liveDrag&&t.unghost(),t.endDrag&&t.endDrag()}}),Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region","Ext.EventManager"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,ariaRole:"alertdialog",itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isWindow:!0,initComponent:function(){var e=this;e.frame=!1,e.callParent(),e.addEvents("resize","maximize","minimize","restore"),e.plain&&e.addClsWithUI("plain"),e.modal&&(e.ariaRole="dialog"),e.floating&&e.on({element:"el",mousedown:e.onMouseDown,scope:e}),e.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e=this,t;return t=e.callParent(),t.tabIndex=-1,t},getState:function(){var e=this,t=e.callParent()||{},n=!!e.maximized;return t.maximized=n,Ext.apply(t,{size:n?e.restoreSize:e.getSize(),pos:n?e.restorePos:e.getPosition()}),t},applyState:function(e){var t=this;e&&(t.maximized=e.maximized,t.maximized?(t.hasSavedRestore=!0,t.restoreSize=e.size,t.restorePos=e.pos):Ext.apply(t,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]}))},onMouseDown:function(e){var t;this.floating&&(Ext.fly(e.getTarget()).focusable()&&(t=!0),this.toFront(t))},onRender:function(e,t){var n=this;n.callParent(arguments),n.focusEl=n.el,n.maximizable&&n.header.on({scope:n,dblclick:n.toggleMaximize})},afterRender:function(){var e=this,t;e.callParent(),e.maximized&&(e.maximized=!1,e.maximize()),e.closable?(t=e.getKeyMap(),t.on(27,e.onEsc,e)):t=e.keyMap,t&&e.hidden&&t.disable()},initDraggable:function(){var e=this,t;e.header||e.updateHeader(!0);if(e.header){t=Ext.applyIf({el:e.el,delegate:"#"+Ext.escapeId(e.header.id)},e.draggable);if(e.constrain||e.constrainHeader)t.constrain=e.constrain,t.constrainDelegate=e.constrainHeader,t.constrainTo=e.constrainTo||e.container;e.dd=new Ext.util.ComponentDragger(this,t),e.relayEvents(e.dd,["dragstart","drag","dragend"])}},onEsc:function(e,t){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this)t.stopEvent(),this.close()},beforeDestroy:function(){var e=this;e.rendered&&(delete this.animateTarget,e.hide(),Ext.destroy(e.keyMap)),e.callParent()},addTools:function(){var e=this;e.callParent(),e.minimizable&&e.addTool({type:"minimize",handler:Ext.Function.bind(e.minimize,e,[])}),e.maximizable&&(e.addTool({type:"maximize",handler:Ext.Function.bind(e.maximize,e,[])}),e.addTool({type:"restore",handler:Ext.Function.bind(e.restore,e,[]),hidden:!0}))},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var e=this,t,n=e.defaultButton||e.defaultFocus,r;return n!==undefined&&(Ext.isNumber(n)?t=e.query("button")[n]:Ext.isString(n)?(r=n,r.match(e.initialAlphaNum)&&(t=e.down("#"+r)),t||(t=e.down(r))):n.focus&&(t=n)),t||e.el},onFocus:function(){var e=this,t;Ext.FocusManager&&Ext.FocusManager.enabled||(t=e.getDefaultFocus())===e?e.callParent(arguments):t.focus()},beforeLayout:function(){var e=this.el.shadow;this.callParent(),e&&e.hide()},onShow:function(){var e=this;e.callParent(arguments),e.expandOnShow&&e.expand(!1),e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.enable()},doClose:function(){var e=this;e.hidden?(e.fireEvent("close",e),e.closeAction=="destroy"&&this.destroy()):e.hide(e.animateTarget,e.doClose,e)},afterHide:function(){var e=this;e.syncMonitorWindowResize(),e.keyMap&&e.keyMap.disable(),e.callParent(arguments)},onWindowResize:function(){var e=this,t;e.maximized?e.fitContainer():(t=e.getSizeModel(),(t.width.natural||t.height.natural)&&e.updateLayout()),e.doConstrain()},minimize:function(){return this.fireEvent("minimize",this),this},afterCollapse:function(){var e=this;e.maximizable&&(e.tools.maximize.hide(),e.tools.restore.hide()),e.resizer&&e.resizer.disable(),e.callParent(arguments)},afterExpand:function(){var e=this;e.maximized?e.tools.restore.show():e.maximizable&&e.tools.maximize.show(),e.resizer&&e.resizer.enable(),e.callParent(arguments)},maximize:function(){var e=this;return e.maximized||(e.expand(!1),e.hasSavedRestore||(e.restoreSize=e.getSize(),e.restorePos=e.getPosition(!0)),e.maximizable&&(e.tools.maximize.hide(),e.tools.restore.show()),e.maximized=!0,e.el.disableShadow(),e.dd&&e.dd.disable(),e.resizer&&e.resizer.disable(),e.collapseTool&&e.collapseTool.hide(),e.el.addCls(Ext.baseCSSPrefix+"window-maximized"),e.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),e.syncMonitorWindowResize(),e.fitContainer(),e.fireEvent("maximize",e)),e},restore:function(){var e=this,t=e.tools;return e.maximized&&(delete e.hasSavedRestore,e.removeCls(Ext.baseCSSPrefix+"window-maximized"),t.restore&&t.restore.hide(),t.maximize&&t.maximize.show(),e.collapseTool&&e.collapseTool.show(),e.maximized=!1,e.setPosition(e.restorePos),e.setSize(e.restoreSize),delete e.restorePos,delete e.restoreSize,e.el.enableShadow(!0),e.dd&&e.dd.enable(),e.resizer&&e.resizer.enable(),e.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),e.syncMonitorWindowResize(),e.doConstrain(),e.fireEvent("restore",e)),e},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,n=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,r=e.hidden||e.destroying||e.isDestroyed;n&&!r?t||(Ext.EventManager.onWindowResize(e.onWindowResize,e),e._monitoringResize=!0):t&&(Ext.EventManager.removeResizeListener(e.onWindowResize,e),e._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}}),Ext.define("Ext.layout.component.field.Field",{extend:"Ext.layout.component.Auto",alias:"layout.field",uses:["Ext.tip.QuickTip","Ext.util.TextMetrics","Ext.util.CSS"],type:"field",naturalSizingProp:"size",beginLayout:function(e){var t=this,n=t.owner,r=e.widthModel,i=n[t.naturalSizingProp],s;t.callParent(arguments),e.labelStrategy=t.getLabelStrategy(),e.errorStrategy=t.getErrorStrategy(),e.labelContext=e.getEl("labelEl"),e.bodyCellContext=e.getEl("bodyEl"),e.inputContext=e.getEl("inputEl"),e.errorContext=e.getEl("errorEl"),(Ext.isIE6||Ext.isIE7)&&Ext.isStrict&&e.inputContext&&(t.ieInputWidthAdjustment=e.inputContext.getPaddingInfo().width+e.inputContext.getBorderInfo
().width),e.labelStrategy.prepare(e,n),e.errorStrategy.prepare(e,n),r.shrinkWrap?t.beginLayoutShrinkWrap(e):r.natural?(typeof i=="number"&&!n.inputWidth?t.beginLayoutFixed(e,s=i*6.5+20,"px"):t.beginLayoutShrinkWrap(e),e.setWidth(s,!1)):t.beginLayoutFixed(e,"100","%")},beginLayoutFixed:function(e,t,n){var r=e.target,i=r.inputEl,s=r.inputWidth;r.el.setStyle("table-layout","fixed"),r.bodyEl.setStyle("width",t+n),i&&s&&i.setStyle("width",s+"px"),e.isFixed=!0},beginLayoutShrinkWrap:function(e){var t=e.target,n=t.inputEl,r=t.inputWidth;n&&n.dom&&(n.dom.removeAttribute("size"),r&&n.setStyle("width",r+"px")),t.el.setStyle("table-layout","auto"),t.bodyEl.setStyle("width","")},finishedLayout:function(e){var t=this.owner;this.callParent(arguments),e.labelStrategy.finishedLayout(e,t),e.errorStrategy.finishedLayout(e,t)},calculateOwnerHeightFromContentHeight:function(e,t){return t},measureContentHeight:function(e){return e.el.getHeight()},measureContentWidth:function(e){return e.el.getWidth()},measureLabelErrorHeight:function(e){return e.labelStrategy.getHeight(e)+e.errorStrategy.getHeight(e)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var e=this,t=e.labelStrategies,n=e.owner.labelAlign;return t[n]||t.base},getErrorStrategy:function(){var e=this,t=e.owner,n=e.errorStrategies,r=t.msgTarget;return!t.preventMark&&Ext.isString(r)?n[r]||n.elementId:n.none},labelStrategies:function(){var e={prepare:function(e,t){var n=t.labelCls+"-"+t.labelAlign,r=t.labelEl;r&&r.addCls(n)},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:e,top:Ext.applyIf({getHeight:function(e){var t=e.labelContext,n=t.props,r=n.height;return r===undefined&&(n.height=r=t.el.getHeight()),r}},e),left:e,right:e}}(),errorStrategies:function(){function e(e){var t=Ext.layout.component.field.Field.tip,n;t&&t.isVisible()&&(n=t.activeTarget,n&&n.el===e.getActionEl().dom&&t.toFront(!0))}var t=Ext.applyIf,n=Ext.emptyFn,r=Ext.baseCSSPrefix+"form-invalid-icon",i,s={prepare:function(e,t){var n=t.errorEl;n&&n.setDisplayed(!1)},getHeight:function(){return 0},onFocus:n,finishedLayout:n};return{none:s,side:t({prepare:function(e,t){var n=t.errorEl,s=t.sideErrorCell,o=t.hasActiveError(),u;i||(i=(u=Ext.getBody().createChild({style:"position:absolute",cls:r})).getWidth(),u.remove()),n.addCls(r),n.set({"data-errorqtip":t.getActiveError()||""}),t.autoFitErrors?n.setDisplayed(o):n.setVisible(o),s&&t.autoFitErrors&&s.setDisplayed(o),t.bodyEl.dom.colSpan=t.getBodyColspan(),Ext.layout.component.field.Field.initTip()},onFocus:e},s),under:t({prepare:function(e,t){var n=t.errorEl,r=Ext.baseCSSPrefix+"form-invalid-under";n.addCls(r),n.setDisplayed(t.hasActiveError())},getHeight:function(e){var t=0,n,r;return e.target.hasActiveError()&&(n=e.errorContext,r=n.props,t=r.height,t===undefined&&(r.height=t=n.el.getHeight())),t}},s),qtip:t({prepare:function(e,t){Ext.layout.component.field.Field.initTip(),t.getActionEl().set({"data-errorqtip":t.getActiveError()||""})},onFocus:e},s),title:t({prepare:function(e,t){t.el.set({title:t.getActiveError()||""})}},s),elementId:t({prepare:function(e,t){var n=Ext.fly(t.msgTarget);n&&(n.dom.innerHTML=t.getActiveError()||"",n.setDisplayed(t.hasActiveError()))}},s)}}(),statics:{initTip:function(){var e=this.tip;e||(e=this.tip=Ext.create("Ext.tip.QuickTip",{baseCls:Ext.baseCSSPrefix+"form-invalid-tip"}),e.tagConfig=Ext.apply({},{attribute:"errorqtip"},e.tagConfig))},destroyTip:function(){var e=this.tip;e&&(e.destroy(),delete this.tip)}}}),Ext.define("Ext.layout.component.field.Text",{extend:"Ext.layout.component.field.Field",alias:"layout.textfield",requires:["Ext.util.TextMetrics"],type:"textfield",canGrowWidth:!0,beginLayoutCycle:function(e){var t=this;t.callParent(arguments),e.shrinkWrap&&e.inputContext.el.setStyle("height","")},measureContentWidth:function(e){var t=this,n=t.owner,r=t.callParent(arguments),i=e.inputContext,s,o,u,a,f;return n.grow&&t.canGrowWidth&&!e.state.growHandled&&(s=n.inputEl,o=Ext.util.Format.htmlEncode(s.dom.value||(n.hasFocus?"":n.emptyText)||""),o+=n.growAppend,u=s.getTextWidth(o)+i.getFrameInfo().width,a=n.growMax,f=Math.min(a,r),a=Math.max(n.growMin,a,f),u=Ext.Number.constrain(u,n.growMin,a),i.setWidth(u),e.state.growHandled=!0,i.domBlock(t,"width"),r=NaN),r},publishInnerHeight:function(e,t){e.inputContext.setHeight(t-this.measureLabelErrorHeight(e))},beginLayoutFixed:function(e,t,n){var r=this,i=r.ieInputWidthAdjustment;i&&(r.owner.bodyEl.setStyle("padding-right",i+"px"),n==="px"&&(t-=i)),r.callParent(arguments)}}),Ext.define("Ext.form.Labelable",{requires:["Ext.XTemplate"],autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow","bottomPlaceHolder"],labelableRenderTpl:['<tr id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl>>','<tpl if="labelOnLeft">','<td id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td class="{baseBodyCls} {fieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>>',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup()]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div id="{id}-errorEl" class="{errorMsgCls}" style="display:none;width:{errorIconWidth}px"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:!0}],activeErrorsTpl:['<tpl if="errors && errors.length">','<ul><tpl for="errors"><li>{.}</li></tpl></ul>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",noWrap:!0,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget"],initLabelable:function(){var e=this,t=e.padding;t&&(e.padding=undefined,e.extraMargins=Ext.Element.parseBox(t)),e.addCls(e.formItemCls),e.lastActiveError="",e.addEvents("errorchange")},trimLabelSeparator:function(){var e=this,t=e.labelSeparator,n=e.fieldLabel||"",r=n.substr(n.length-1);return r===t?n.slice(0,-1):n},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(e){e=e||"";var t=this,n=t.labelSeparator,r=t.labelEl;t.fieldLabel=e,t.rendered&&(Ext.isEmpty(e)&&t.hideEmptyLabel?r.parent().setDisplayed("none"):(n&&(e=t.trimLabelSeparator()+n),r.update(e),r.parent().setDisplayed("")),t.updateLayout())},getInsertionRenderData:function(e,t){var n=t.length,r,i;while(n--)r=t[n],i=this[r],i&&typeof i!="string"&&(i.isTemplate||(i=Ext.XTemplate.getTpl(this,r)),i=i.apply(e)),e[r]=i||"";return e},getLabelableRenderData:function(){var e=this,t,n,r=e.labelAlign==="top";return Ext.form.Labelable.errorIconWidth||(Ext.form.Labelable.errorIconWidth=(n=Ext.resetElement.createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"})).getWidth(),n.remove()),t=Ext.copyTo({inFormLayout:e.ownerLayout&&e.ownerLayout.type==="form",inputId:e.getInputId(),labelOnLeft:!r,hideLabel:!e.hasVisibleLabel(),fieldLabel:e.getFieldLabel(),labelCellStyle:e.getLabelCellStyle(),labelCellAttrs:e.getLabelCellAttrs(),labelCls:e.getLabelCls(),labelStyle:e.getLabelStyle(),bodyColspan:e.getBodyColspan(),externalError:!e.autoFitErrors,errorMsgCls:e.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},e,e.labelableRenderProps,!0),e.getInsertionRenderData(t,e.labelableInsertions),t},beforeLabelableRender:function(){var e=this;e.ownerLayout&&e.addCls(Ext.baseCSSPrefix+e.ownerLayout.type+"-form-item")},onLabelableRender:function(){var e=this,t,n,r={};if(e.extraMargins){t=e.el.getMargin();for(n in t)t.hasOwnProperty(n)&&(r["margin-"+n]=t[n]+e.extraMargins[n]+"px");e.el.setStyle(r)}},hasVisibleLabel:function(){return this.hideLabel?!1:!this.hideEmptyLabel||!!this.getFieldLabel()},getBodyColspan:function(){var e=this,t;return e.msgTarget==="side"&&(!e.autoFitErrors||e.hasActiveError())?t=1:t=2,e.labelAlign!=="top"&&!e.hasVisibleLabel()&&t++,t},getLabelCls:function(){var e=this.labelCls,t=this.labelClsExtra;return this.labelAlign==="top"&&(e+="-top"),t?e+" "+t:e},getLabelCellStyle:function(){var e=this,t=e.hideLabel||!e.fieldLabel&&e.hideEmptyLabel;return t?"display:none;":""},getErrorMsgCls:function(){var e=this,t=e.hideLabel||!e.fieldLabel&&e.hideEmptyLabel;return e.errorMsgCls+(!t&&e.labelAlign==="top"?" "+Ext.baseCSSPrefix+"lbl-top-err-icon":"")},getLabelCellAttrs:function(){var e=this,t=e.labelAlign,n="";return t!=="top"&&(n='valign="top" halign="'+t+'" width="'+(e.labelWidth+e.labelPad)+'"'),n+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var e=this,t=e.labelPad,n="";return e.labelAlign!=="top"&&(e.labelWidth&&(n="width:"+e.labelWidth+"px;"),n+="margin-right:"+t+"px;"),n+(e.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(e){this.setActiveErrors(e)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(e){e=Ext.Array.from(e),this.activeError=e[0],this.activeErrors=e,this.activeError=this.getTpl("activeErrorsTpl").apply({errors:e}),this.renderActiveError()},unsetActiveError:function(){delete this.activeError,delete this.activeErrors,this.renderActiveError()},renderActiveError:function(){var e=this,t=e.getActiveError(),n=!!t;t!==e.lastActiveError&&(e.fireEvent("errorchange",e,t),e.lastActiveError=t),e.rendered&&!e.isDestroyed&&!e.preventMark&&(e.el[n?"addCls":"removeCls"](e.invalidCls),e.getActionEl().dom.setAttribute("aria-invalid",n),e.errorEl&&(e.errorEl.dom.innerHTML=t))},setFieldDefaults:function(e){var t=this,n,r;for(r in e)e.hasOwnProperty(r)&&(n=e[r],t.hasOwnProperty(r)||(t[r]=n))}}),Ext.define("Ext.form.field.Field",{isFormField:!0,disabled:!1,submitValue:!0,validateOnChange:!0,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange"),this.initValue()},initValue:function(){var e=this;e.value=e.transformOriginalValue(e.value),e.originalValue=e.lastValue=e.value,e.suspendCheckChange++,e.setValue(e.value),e.suspendCheckChange--},transformOriginalValue:function(e){return e},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){var t=this;return t.value=e,t.checkChange(),t},isEqual:function(e,t){return String(e)===String(t)},isEqualAsString:function(e,t){return String(Ext.value(e,""))===String(Ext.value(t,""))},getSubmitData:function(){var e=this,t=null;return!e.disabled&&e.submitValue&&!e.isFileUpload()&&(t={},t[e.getName()]=""+e.getValue()),t},getModelData:function(){var e=this,t=null;return!e.disabled&&!e.isFileUpload()&&(t={},t[e.getName()]=e.getValue()),t},reset:function(){var e=this;e.beforeReset(),e.setValue(e.originalValue),e.clearInvalid(),delete e.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var e=this,t=e.getValue(),n=e.lastValue;!e.isEqual(t,n)&&!e.isDestroyed&&(e.lastValue=t,e.fireEvent("change",e,t,n),e.onChange(t,n))}},onChange:function(e,t){this.validateOnChange&&this.validate(),this.checkDirty()},isDirty:function(){var e=this;return!e.disabled&&!e.isEqual(e.getValue(),e.originalValue)},checkDirty:function(){var e=this,t=e.isDirty();t!==e.wasDirty&&(e.fireEvent("dirtychange",e,t),e.onDirtyChange(t),e.wasDirty=t)},onDirtyChange:Ext.emptyFn,getErrors:function(e){return[]},isValid:function(){var e=this;return e.disabled||Ext.isEmpty(e.getErrors())},validate:function(){var e=this,t=e.isValid();return t!==e.wasValid&&(e.wasValid=t,e.fireEvent("validitychange",e,t)),t},batchChanges:function(e){try{this.suspendCheckChange++,e()}catch(t){throw t}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate","Ext.layout.component.field.Field"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"/>',{disableFormats:!0}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:!1,initComponent:function(){var e=this;e.callParent(),e.subTplData=e.subTplData||{},e.addEvents("specialkey","writeablechange"),e.initLabelable(),e.initField(),e.name||(e.name=e.getInputId())},beforeRender:function(){var e=this;e.callParent(arguments),e.beforeLabelableRender(arguments),e.readOnly&&e.addCls(e.readOnlyCls)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var e=this,t=e.inputType,n=e.getInputId(),r;return r=Ext.apply({id:n,cmpId:e.id,name:e.name||n,disabled:e.disabled,readOnly:e.readOnly,value:e.getRawValue(),type:t,fieldCls:e.fieldCls,fieldStyle:e.getFieldStyle(),tabIdx:e.tabIndex,typeCls:Ext.baseCSSPrefix+"form-"+(t==="password"?"text":t)},e.subTplData),e.getInsertionRenderData(r,e.subTplInsertions),r},afterFirstLayout:function(){this.callParent();var e=this.inputEl;e&&e.selectable()},applyRenderSelectors:function(){var e=this;e.callParent(),e.inputEl=e.el.getById(e.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var t=this,n=t.inputEl;n&&n.applyStyles(e),t.fieldStyle=e},getFieldStyle:function(){return"width:100%;"+(Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||"")},onRender:function(){var e=this;e.callParent(arguments),e.onLabelableRender(),e.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},extractFileInput:function(){var e=this,t=e.isFileUpload()?e.inputEl.dom:null,n;return t&&(n=t.cloneNode(!0),t.parentNode.replaceChild(n,t),e.inputEl=Ext.get(n)),t},getSubmitData:function(){var e=this,t=null,n;return!e.disabled&&e.submitValue&&!e.isFileUpload()&&(n=e.getSubmitValue(),n!==null&&(t={},t[e.getName()]=n)),t},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this,t=e.inputEl?e.inputEl.getValue():Ext.value(e.rawValue,"");return e.rawValue=t,t},setRawValue:function(e){var t=this;return e=Ext.value(t.transformRawValue(e),""),t.rawValue=e,t.inputEl&&(t.inputEl.dom.value=e),e},transformRawValue:function(e){return e},valueToRaw:function(e){return""+Ext.value(e,"")},rawToValue:function(e){return e},processRawValue:function(e){return e},getValue:function(){var e=this,t=e.rawToValue(e.processRawValue(e.getRawValue()));return e.value=t,t},setValue:function(e){var t=this;return t.setRawValue(t.valueToRaw(e)),t.mixins.field.setValue.call(t,e)},onBoxReady:function(){var e=this;e.callParent(),e.setReadOnlyOnBoxReady&&e.setReadOnly(e.readOnly)},onDisable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!0,e.hasActiveError()&&(e.clearInvalid(),e.needsValidateOnEnable=!0))},onEnable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=!1,e.needsValidateOnEnable&&(delete e.needsValidateOnEnable,e.forceValidation=!0,e.isValid(),delete e.forceValidation))},setReadOnly:function(e){var t=this,n=t.inputEl;e=!!e,t[e?"addCls":"removeCls"](t.readOnlyCls),t.readOnly=e,n?n.dom.readOnly=e:t.rendering&&(t.setReadOnlyOnBoxReady=!0),t.fireEvent("writeablechange",t,e)},fireKey:function(e){e.isSpecialKey()&&this.fireEvent("specialkey",this,new Ext.EventObjectImpl(e))},initEvents:function(){var e=this,t=e.inputEl,n,r,i=e.checkChangeEvents,s,o=i.length,u;e.inEditor&&(e.onBlur=Ext.Function.createBuffered(e.onBlur,10));if(t){e.mon(t,Ext.EventManager.getKeyEvent(),e.fireKey,e),n=new Ext.util.DelayedTask(e.checkChange,e),e.onChangeEvent=r=function(){n.delay(e.checkChangeBuffer)};for(s=0;s<o;s++)u=i[s],u==="propertychange"&&(e.usesPropertychange=!0),e.mon(t,u,r)}e.callParent()},doComponentLayout:function(){var e=this,t=e.inputEl,n=e.usesPropertychange,r="propertychange",i=e.onChangeEvent;n&&e.mun(t,r,i),e.callParent(arguments),n&&e.mon(t,r,i)},onDirtyChange:function(e){this[e?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var e=this,t=e.disabled,n=e.forceValidation||!t;return n?e.validateValue(e.processRawValue(e.getRawValue())):t},validateValue:function(e){var t=this,n=t.getErrors(e),r=Ext.isEmpty(n);return t.preventMark||(r?t.clearInvalid():t.markInvalid(n)),r},markInvalid:function(e){var t=this,n=t.getActiveError();t.setActiveErrors(Ext.Array.from(e)),n!==t.getActiveError()&&t.updateLayout()},clearInvalid:function(){var e=this,t=e.hasActiveError();e.unsetActiveError(),t&&e.updateLayout()},renderActiveError:function(){var e=this,t=e.hasActiveError();e.inputEl&&e.inputEl[t?"addCls":"removeCls"](e.invalidCls+"-field"),e.mixins.labelable.renderActiveError.call(e)},getActionEl:function(){return this.inputEl||this.el}}),Ext.define("Ext.form.field.VTypes",function(){var e=/^[a-zA-Z_]+$/,t=/^[a-zA-Z0-9_]+$/,n=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,r=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(e){return n.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(e){return r.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(t){return e.test(t)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return t.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.layout.component.field.Text"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:!1,initComponent:function(){var e=this;e.callParent(),e.addEvents("autosize","keydown","keyup","keypress"),e.addStateEvents("change"),e.setGrowSizePolicy()},setGrowSizePolicy:function(){this.grow&&(this.shrinkWrap|=1)},initEvents:function(){var e=this,t=e.inputEl;e.callParent(),(e.selectOnFocus||e.emptyText)&&e.mon(t,"mousedown",e.onMouseDown,e),(e.maskRe||e.vtype&&e.disableKeyFilter!==!0&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))&&e.mon(t,"keypress",e.filterKeys,e),e.enableKeyEvents&&e.mon(t,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})},isEqual:function(e,t){return this.isEqualAsString(e,t)},onChange:function(){this.callParent(),this.autoSize()},getSubTplData:function(){var e=this,t=e.getRawValue(),n=e.emptyText&&t.length<1,r=e.maxLength,i;return e.enforceMaxLength?r===Number.MAX_VALUE&&(r=undefined):r=undefined,n&&(Ext.supports.Placeholder?i=e.emptyText:(t=e.emptyText,e.valueContainsPlaceholder=!0)),Ext.apply(e.callParent(),{maxLength:r,readOnly:e.readOnly,placeholder:i,value:t,fieldCls:e.fieldCls+(n&&(i||t)?" "+e.emptyCls:"")+(e.allowBlank?"":" "+e.requiredCls)})},afterRender:function(){this.autoSize(),this.callParent()},onMouseDown:function(e){var t=this;t.hasFocus||t.mon(t.inputEl,"mouseup",Ext.emptyFn,t,{single:!0,preventDefault:!0})},processRawValue:function(e){var t=this,n=t.stripCharsRe,r;return n&&(r=e.replace(n,""),r!==e&&(t.setRawValue(r),e=r)),e},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},reset:function(){this.callParent(),this.applyEmptyText()},applyEmptyText:function(){var e=this,t=e.emptyText,n;e.rendered&&t&&(n=e.getRawValue().length<1&&!e.hasFocus,Ext.supports.Placeholder?e.inputEl.dom.placeholder=t:n&&(e.setRawValue(t),e.valueContainsPlaceholder=!0),n&&e.inputEl.addCls(e.emptyCls),e.autoSize())},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var e=this.inputEl;e&&(e.dom.unselectable="on")}},preFocus:function(){var e=this,t=e.inputEl,n=e.emptyText,r;e.callParent(arguments),n&&!Ext.supports.Placeholder&&t.dom.value===e.emptyText&&e.valueContainsPlaceholder?(e.setRawValue(""),r=!0,t.removeCls(e.emptyCls),e.valueContainsPlaceholder=!1):Ext.supports.Placeholder&&e.inputEl.removeCls(e.emptyCls),(e.selectOnFocus||r)&&t.dom.select()},onFocus:function(){var e=this;e.callParent(arguments),e.emptyText&&e.autoSize()},postBlur:function(){this.callParent(arguments),this.applyEmptyText()},filterKeys:function(e){if(e.ctrlKey&&!e.altKey)return;var t=e.getKey(),n=String.fromCharCode(e.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(e.isNavKeyPress()||t===e.BACKSPACE||t===e.DELETE&&e.button===-1))return;if(!Ext.isGecko&&!Ext.isOpera&&e.isSpecialKey()&&!n)return;this.maskRe.test(n)||e.stopEvent()},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(e){this.callParent(arguments),e.hasOwnProperty("value")&&this.setValue(e.value)},getRawValue:function(){var e=this,t=e.callParent();return t===e.emptyText&&e.valueContainsPlaceholder&&(t=""),t},setValue:function(e){var t=this,n=t.inputEl;return n&&t.emptyText&&!Ext.isEmpty(e)&&(n.removeCls(t.emptyCls),t.valueContainsPlaceholder=!1),t.callParent(arguments),t.applyEmptyText(),t},getErrors:function(e){var t=this,n=t.callParent(arguments),r=t.validator,i=t.emptyText,s=t.allowBlank,o=t.vtype,u=Ext.form.field.VTypes,a=t.regex,f=Ext.String.format,l;return e=e||t.processRawValue(t.getRawValue()),Ext.isFunction(r)&&(l=r.call(t,e),l!==!0&&n.push(l)),e.length<1||e===t.emptyText&&t.valueContainsPlaceholder?(s||n.push(t.blankText),n):(e.length<t.minLength&&n.push(f(t.minLengthText,t.minLength)),e.length>t.maxLength&&n.push(f(t.maxLengthText,t.maxLength)),o&&(u[o](e,t)||n.push(t.vtypeText||u[o+"Text"])),a&&!a.test(e)&&n.push(t.regexText||t.invalidText),n)},selectText:function(e,t){var n=this,r=n.getRawValue(),i=!0,s=n.inputEl.dom,o,u;r.length>0&&(e=e===o?0:e,t=t===o?r.length:t,s.setSelectionRange?s.setSelectionRange(e,t):s.createTextRange&&(u=s.createTextRange(),u.moveStart("character",e),u.moveEnd("character",t-r.length),u.select()),i=Ext.isGecko||Ext.isOpera),i&&n.focus()},autoSize:function(){var e=this;e.grow&&e.rendered&&(e.autoSizing=!0,e.updateLayout())},afterComponentLayout:function(){var e=this,t;e.callParent(arguments),e.autoSizing&&(t=e.inputEl.getWidth(),t!==e.lastInputWidth&&(e.fireEvent("autosize",e,t),e.lastInputWidth=t,delete e.autoSizing))}}),Ext.define("Ext.layout.component.field.TextArea",{extend:"Ext.layout.component.field.Text",alias:"layout.textareafield",type:"textareafield",canGrowWidth:!1,naturalSizingProp:"cols",beginLayout:function(e){this.callParent(arguments),e.target.inputEl.setStyle("height","")},measureContentHeight:function(e){var t=this,n=t.owner,r=t.callParent(arguments),i,s,o,u,a,f;return n.grow&&!e.state.growHandled&&(i=e.inputContext,s=n.inputEl,a=s.getWidth(!0),o=Ext.util.Format.htmlEncode(s.dom.value)||"&#160;",o+=n.growAppend,o=o.replace(/\n/g,"<br/>"),f=Ext.util.TextMetrics.measure(s,o,a).height+i.getBorderInfo().height+i.getPaddingInfo().height,f=Ext.Number.constrain(f,n.growMin,n.growMax),i.setHeight(f),e.state.growHandled=!0,i.domBlock(t,"height"),r=NaN),r}}),Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.layout.component.field.TextArea","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:!1,preventScrollbars:!1,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,getSubTplData:function(){var e=this,t=e.getFieldStyle(),n=e.callParent();return e.grow&&e.preventScrollbars&&(n.fieldStyle=(t||"")+";overflow:hidden;height:"+e.growMin+"px"),Ext.applyIf(n,{cols:e.cols,rows:e.rows}),n},afterRender:function(){var e=this;e.callParent(arguments),e.needsMaxCheck=e.enforceMaxLength&&e.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,e.needsMaxCheck&&e.inputEl.on("paste",e.onPaste,e)},transformRawValue:function(e){return this.stripReturns(e)},transformOriginalValue:function(e){return this.stripReturns(e)},valueToRaw:function(e){return e=this.stripReturns(e),this.callParent([e])},stripReturns:function(e){return e&&(e=e.replace(this.returnRe,"")),e},onPaste:function(e){var t=this;t.pasteTask||(t.pasteTask=new Ext.util.DelayedTask(t.pasteCheck,t)),t.pasteTask.delay(1)},pasteCheck:function(){var e=this,t=e.getValue(),n=e.maxLength;t.length>n&&(t=t.substr(0,n),e.setValue(t))},fireKey:function(e){var t=this,n=e.getKey(),r;e.isSpecialKey()&&(t.enterIsSpecial||n!==e.ENTER||e.hasModifier())&&t.fireEvent("specialkey",t,e),t.needsMaxCheck&&n!==e.BACKSPACE&&n!==e.DELETE&&!e.isNavKeyPress()&&!t.isCutCopyPasteSelectAll(e,n)&&(r=t.getValue(),r.length>=t.maxLength&&e.stopEvent())},isCutCopyPasteSelectAll:function(e,t){return e.CTRL?t===e.A||t===e.C||t===e.V||t===e.X:!1},autoSize:function(){var e=this,t;e.grow&&e.rendered&&(e.updateLayout(),t=e.inputEl.getHeight(),t!==e.lastInputHeight&&(e.fireEvent("autosize",e,t),e.lastInputHeight=t))},initAria:function(){this.callParent(arguments),this.getActionEl().dom.setAttribute("aria-multiline",!0)},beforeDestroy:function(){var e=this.pasteTask;e&&e.delay(),this.callParent()}}),Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:!0,disableFormats:!0}],fieldCls:Ext.baseCSSPrefix+"form-display-field",htmlEncode:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,isDirty:function(){return!1},isValid:function(){return!0},validate:function(){return!0},getRawValue:function(){return this.rawValue},setRawValue:function(e){var t=this,n;return e=Ext.value(e,""),t.rawValue=e,t.rendered&&(t.inputEl.dom.innerHTML=t.getDisplayValue(),t.updateLayout()),e},getDisplayValue:function(){var e=this,t=this.getRawValue(),n;return e.renderer?n=e.renderer.call(e.scope||e,t,e):n=e.htmlEncode?Ext.util.Format.htmlEncode(t):t,n},getSubTplData:function(){var e=this.callParent(arguments);return e.value=this.getDisplayValue(),e}}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",manageOverflow:2,renderTpl:["{%this.renderBody(out,values);this.renderPadder(out,values)%}"],defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,beginLayout:function(e){var t=this,n=0,r,i,s,o,u,a;t.callParent(arguments),s=e.childItems,u=s.length;for(o=0;o<u;++o){i=s[o],r=i.target.anchorSpec;if(r){i.widthModel.calculated&&r.right&&(n|=1),i.heightModel.calculated&&r.bottom&&(n|=2);if(n==3)break}}e.anchorDimensions=n,!Ext.supports.RightMargin&&!t.rightMarginCleanerFn&&(a=e.targetContext.el,t.rightMarginCleanerFn=Ext.Element.getRightMarginFixCleaner(a),a.addCls(Ext.baseCSSPrefix+"inline-children"))},calculate:function(e){var t=this,n=t.getContainerSize(e);e.anchorDimensions!==e.state.calculatedAnchors&&t.calculateAnchors(e,n);if(e.hasDomProp("containerChildrenDone")){n.gotAll||(t.done=!1),t.calculateContentSize(e,e.anchorDimensions);if(t.done){t.calculateOverflow(e,n,e.anchorDimensions);return}}t.done=!1},calculateAnchors:function(e,t){var n=this,r=e.childItems,i=r.length,s=t.gotHeight,o=t.gotWidth,u=t.height,a=t.width,f=e.state,l=(o?1:0)|(s?2:0),c,h,p,d,v,m;f.calculatedAnchors=(f.calculatedAnchors||0)|l;for(v=0;v<i;v++)h=r[v],p=h.getMarginInfo(),c=h.target.anchorSpec,o&&h.widthModel.calculated&&(m=c.right(a)-p.width,m=n.adjustWidthAnchor(m,h),h.setWidth(m)),s&&h.heightModel.calculated&&(d=c.bottom(u)-p.height,d=n.adjustHeightAnchor(d,h),h.setHeight(d))},finishedLayout:function(e){var t=this.rightMarginCleanerFn;t&&(delete this.rightMarginCleanerFn,e.targetContext.el.removeCls(Ext.baseCSSPrefix+"inline-children"),t())},anchorFactory:{offset:function(e){return function(t){return t+e}},ratio:function(e){return function(t){return Math.floor(t*e)}},standard:function(e){return function(t){return t-e}}},parseAnchor:function(e,t,n){if(e&&e!="none"){var r=this.anchorFactory,i;if(this.parseAnchorRE.test(e))return r.standard(n-t);if(e.indexOf("%")!=-1)return r.ratio(parseFloat(e.replace("%",""))*.01);i=parseInt(e,10);if(!isNaN(i))return r.offset(i)}return null},adjustWidthAnchor:function(e,t){return e},adjustHeightAnchor:function(e,t){return e},configureItem:function(e){var t=this,n=t.owner,r=e.anchor,i,s,o;t.callParent(arguments),!e.anchor&&e.items&&!Ext
.isNumber(e.width)&&(!Ext.isIE6||!Ext.isStrict)&&(e.anchor=r=t.defaultAnchor),n.anchorSize?typeof n.anchorSize=="number"?s=n.anchorSize:(s=n.anchorSize.width,o=n.anchorSize.height):(s=n.initialConfig.width,o=n.initialConfig.height),r&&(i=r.split(" "),e.anchorSpec={right:t.parseAnchor(i[0],e.initialConfig.width,s),bottom:t.parseAnchor(i[1],e.initialConfig.height,o)})},sizePolicy:{"":{setsWidth:0,setsHeight:0},b:{setsWidth:0,setsHeight:1},r:{"":{setsWidth:1,setsHeight:0},b:{setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t=e.anchorSpec,n="",r=this.sizePolicy,i;return t&&(i=this.owner.getSizeModel(),t.right&&!i.width.shrinkWrap&&(r=r.r),t.bottom&&!i.height.shrinkWrap&&(n="b")),r[n]}}),Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.form.field.Display","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,title:"&#160;",width:600,height:500,minWidth:250,maxWidth:600,minHeight:110,maxHeight:500,constrain:!0,cls:Ext.baseCSSPrefix+"message-box",layout:{type:"vbox",align:"stretch"},defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,makeButton:function(e){var t=this.buttonIds[e];return new Ext.button.Button({handler:this.btnCallback,itemId:t,scope:this,text:this.buttonText[t],minWidth:75})},btnCallback:function(e){var t=this,n,r;if(t.cfg.prompt||t.cfg.multiline)t.cfg.multiline?r=t.textArea:r=t.textField,n=r.getValue(),r.reset();e.blur(),t.hide(),t.userCallback(e.itemId,n,t.cfg)},hide:function(){var e=this;e.dd.endDrag(),e.progressBar.reset(),e.removeCls(e.cfg.cls),e.callParent(arguments)},initComponent:function(){var e=this,t=e.id,n,r,i;e.title="&#160;",e.topContainer=new Ext.container.Container({layout:"hbox",style:{padding:"10px",overflow:"hidden"},items:[e.iconComponent=new Ext.Component({cls:e.baseCls+"-icon",width:50,height:e.iconHeight}),e.promptContainer=new Ext.container.Container({flex:1,layout:{type:"anchor"},items:[e.msg=new Ext.form.field.Display({id:t+"-displayfield",cls:e.baseCls+"-text"}),e.textField=new Ext.form.field.Text({id:t+"-testfield",anchor:"100%",enableKeyEvents:!0,listeners:{keydown:e.onPromptKey,scope:e}}),e.textArea=new Ext.form.field.TextArea({id:t+"-textarea",anchor:"100%",height:75})]})]}),e.progressBar=new Ext.ProgressBar({id:t+"-progressbar",margins:"0 10 0 10"}),e.items=[e.topContainer,e.progressBar],e.msgButtons=[];for(n=0;n<4;n++)r=e.makeButton(n),e.msgButtons[r.itemId]=r,e.msgButtons.push(r);e.bottomTb=new Ext.toolbar.Toolbar({id:t+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[e.msgButtons[0],e.msgButtons[1],e.msgButtons[2],e.msgButtons[3]]}),e.dockedItems=[e.bottomTb],i=e.bottomTb.getLayout(),i.finishedLayout=Ext.Function.createInterceptor(i.finishedLayout,function(t){e.tbWidth=t.getProp("contentWidth")}),e.on("close",e.onClose,e),e.callParent()},onClose:function(){var e=this.header.child("[type=close]");e.itemId="cancel",this.btnCallback(e),delete e.itemId},onPromptKey:function(e,t){var n=this,r;if(t.keyCode===Ext.EventObject.RETURN||t.keyCode===10)n.msgButtons.ok.isVisible()?(r=!0,n.msgButtons.ok.handler.call(n,n.msgButtons.ok)):n.msgButtons.yes.isVisible()&&(n.msgButtons.yes.handler.call(n,n.msgButtons.yes),r=!0),r&&n.textField.blur()},reconfigure:function(e){var t=this,n=0,r=!0,i=t.maxWidth,s=t.buttonText,o;t.updateButtonText(),e=e||{},t.cfg=e,e.width&&(i=e.width),delete t.defaultFocus,t.animateTarget=e.animateTarget||undefined,t.modal=e.modal!==!1,e.title&&t.setTitle(e.title||"&#160;"),Ext.isObject(e.buttons)?(t.buttonText=e.buttons,n=0):(t.buttonText=e.buttonText||t.buttonText,n=Ext.isNumber(e.buttons)?e.buttons:0),n|=t.updateButtonText(),t.buttonText=s,Ext.suspendLayouts(),t.hidden=!1,t.rendered?t.setSize(i,t.maxHeight):(t.width=i,t.render(Ext.getBody())),t.closable=e.closable&&!e.wait,t.header.child("[type=close]").setVisible(e.closable!==!1),!e.title&&!t.closable?t.header.hide():t.header.show(),t.liveDrag=!e.proxyDrag,t.userCallback=Ext.Function.bind(e.callback||e.fn||Ext.emptyFn,e.scope||Ext.global),t.setIcon(e.icon),e.msg?(t.msg.setValue(e.msg),t.msg.show()):t.msg.hide(),Ext.resumeLayouts(!0),Ext.suspendLayouts(),e.prompt||e.multiline?(t.multiline=e.multiline,e.multiline?(t.textArea.setValue(e.value),t.textArea.setHeight(e.defaultTextHeight||t.defaultTextHeight),t.textArea.show(),t.textField.hide(),t.defaultFocus=t.textArea):(t.textField.setValue(e.value),t.textArea.hide(),t.textField.show(),t.defaultFocus=t.textField)):(t.textArea.hide(),t.textField.hide()),e.progress||e.wait?(t.progressBar.show(),t.updateProgress(0,e.progressText),e.wait===!0&&t.progressBar.wait(e.waitConfig)):t.progressBar.hide();for(o=0;o<4;o++)n&Math.pow(2,o)?(t.defaultFocus||(t.defaultFocus=t.msgButtons[o]),t.msgButtons[o].show(),r=!1):t.msgButtons[o].hide();r?t.bottomTb.hide():t.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var e=this,t=e.buttonText,n=0,r,i;for(r in t)t.hasOwnProperty(r)&&(i=e.msgButtons[r],i&&(e.cfg&&e.cfg.buttonText&&(n|=Math.pow(2,Ext.Array.indexOf(e.buttonIds,r))),i.text!=t[r]&&i.setText(t[r])));return n},show:function(e){var t=this;return t.reconfigure(e),t.addCls(e.cls),t.doAutoSize(),t.hidden=!0,t.callParent(),t},onShow:function(){this.callParent(arguments),this.center()},doAutoSize:function(){var e=this,t=e.header.rendered&&e.header.isVisible(),n=e.bottomTb.rendered&&e.bottomTb.isVisible(),r,i;return Ext.isDefined(e.frameWidth)||(e.frameWidth=e.el.getWidth()-e.body.getWidth()),e.minWidth=e.cfg.minWidth||Ext.getClass(this).prototype.minWidth,r=Math.max(t?e.header.getMinWidth():0,e.cfg.width||e.msg.getWidth()+e.iconComponent.getWidth()+25,n?e.tbWidth:0),i=(t?e.header.getHeight():0)+e.topContainer.getHeight()+e.progressBar.getHeight()+(n?e.bottomTb.getHeight()+e.bottomTb.el.getMargin("tb"):0),e.setSize(r+e.frameWidth,i+e.frameWidth),e},updateText:function(e){return this.msg.setValue(e),this.doAutoSize(!0)},setIcon:function(e){var t=this;return t.iconComponent.removeCls(t.messageIconCls),e?(t.iconComponent.show(),t.iconComponent.addCls(Ext.baseCSSPrefix+"dlg-icon"),t.iconComponent.addCls(t.messageIconCls=e)):(t.iconComponent.removeCls(Ext.baseCSSPrefix+"dlg-icon"),t.iconComponent.hide()),t},updateProgress:function(e,t,n){return this.progressBar.updateProgress(e,t),n&&this.updateText(n),this},onEsc:function(){this.closable!==!1&&this.callParent(arguments)},confirm:function(e,t,n,r){return Ext.isString(e)&&(e={title:e,icon:this.QUESTION,msg:t,buttons:this.YESNO,callback:n,scope:r}),this.show(e)},prompt:function(e,t,n,r,i,s){return Ext.isString(e)&&(e={prompt:!0,title:e,minWidth:this.minPromptWidth,msg:t,buttons:this.OKCANCEL,callback:n,scope:r,multiline:i,value:s}),this.show(e)},wait:function(e,t,n){return Ext.isString(e)&&(e={title:t,msg:e,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:n}),this.show(e)},alert:function(e,t,n,r){return Ext.isString(e)&&(e={title:e,msg:t,buttons:this.OK,fn:n,scope:r,minWidth:this.minWidth}),this.show(e)},progress:function(e,t,n){return Ext.isString(e)&&(e={title:e,msg:t,progress:!0,progressText:n}),this.show(e)}},function(){Ext.MessageBox=Ext.Msg=new this}),Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.window.MessageBox","Ext.data.Errors","Ext.util.DelayedTask"],constructor:function(e,t){var n=this,r=n.onItemAddOrRemove,i,s;n.owner=e,n.mon(e,{add:r,remove:r,scope:n}),Ext.apply(n,t),Ext.isString(n.paramOrder)&&(n.paramOrder=n.paramOrder.split(/[\s,|]/));if(n.api){i=n.api=Ext.apply({},n.api);for(s in i)i.hasOwnProperty(s)&&(i[s]=Ext.direct.Manager.parseMethod(i[s]))}n.checkValidityTask=new Ext.util.DelayedTask(n.checkValidity,n),n.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"),n.callParent()},initialize:function(){var e=this;e.initialized=!0,e.onValidityChange(!e.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){this.clearListeners(),this.checkValidityTask.cancel()},onItemAddOrRemove:function(e,t){function s(e){n[r?"mon":"mun"](e,{validitychange:n.checkValidity,dirtychange:n.checkDirty,scope:n,buffer:100}),delete n._fields}var n=this,r=!!t.ownerCt,i=t.isContainer;t.isFormField?s(t):i&&(t.isDestroyed||t.destroying?delete n._fields:Ext.Array.forEach(t.query("[isFormField]"),s)),delete this._boundItems,n.initialized&&n.checkValidityTask.delay(10)},getFields:function(){var e=this._fields;return e||(e=this._fields=new Ext.util.MixedCollection,e.addAll(this.owner.query("[isFormField]"))),e},getBoundItems:function(){var e=this._boundItems;if(!e||e.getCount()===0)e=this._boundItems=new Ext.util.MixedCollection,e.addAll(this.owner.query("[formBind]"));return e},hasInvalidField:function(){return!!this.getFields().findBy(function(e){var t=e.preventMark,n;return e.preventMark=!0,n=e.isValid(),e.preventMark=t,!n})},isValid:function(){var e=this,t;return Ext.suspendLayouts(),t=e.getFields().filterBy(function(e){return!e.validate()}),Ext.resumeLayouts(!0),t.length<1},checkValidity:function(){var e=this,t=!e.hasInvalidField();t!==e.wasValid&&(e.onValidityChange(t),e.fireEvent("validitychange",e,t),e.wasValid=t)},onValidityChange:function(e){var t=this.getBoundItems(),n,r,i,s;if(t){n=t.items,i=n.length;for(r=0;r<i;r++)s=n[r],s.disabled===e&&s.setDisabled(!e)}},isDirty:function(){return!!this.getFields().findBy(function(e){return e.isDirty()})},checkDirty:function(){var e=this.isDirty();e!==this.wasDirty&&(this.fireEvent("dirtychange",this,e),this.wasDirty=e)},hasUpload:function(){return!!this.getFields().findBy(function(e){return e.isFileUpload()})},doAction:function(e,t){return Ext.isString(e)&&(e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},t,{form:this}))),this.fireEvent("beforeaction",this,e)!==!1&&(this.beforeAction(e),Ext.defer(e.run,100,e)),this},submit:function(e){e=e||{};var t=this,n;return e.standardSubmit||t.standardSubmit?n="standardsubmit":n=t.api?"directsubmit":"submit",t.doAction(n,e)},load:function(e){return this.doAction(this.api?"directload":"load",e)},updateRecord:function(e){e=e||this._record;var t=e.fields.items,n=this.getFieldValues(),r={},i=0,s=t.length,o;for(;i<s;++i)o=t[i].name,n.hasOwnProperty(o)&&(r[o]=n[o]);return e.beginEdit(),e.set(r),e.endEdit(),this},loadRecord:function(e){return this._record=e,this.setValues(e.data)},getRecord:function(){return this._record},beforeAction:function(e){var t=e.waitMsg,n=Ext.baseCSSPrefix+"mask-loading",r=this.getFields().items,i,s=r.length,o,u;for(i=0;i<s;i++)o=r[i],o.isFormField&&o.syncValue&&o.syncValue();t&&(u=this.waitMsgTarget,u===!0?this.owner.el.mask(t,n):u?(u=this.waitMsgTarget=Ext.get(u),u.mask(t,n)):Ext.MessageBox.wait(t,e.waitTitle||this.waitTitle))},afterAction:function(e,t){if(e.waitMsg){var n=Ext.MessageBox,r=this.waitMsgTarget;r===!0?this.owner.el.unmask():r?r.unmask():(n.suspendEvents(),n.hide(),n.resumeEvents())}t?(e.reset&&this.reset(),Ext.callback(e.success,e.scope||e,[this,e]),this.fireEvent("actioncomplete",this,e)):(Ext.callback(e.failure,e.scope||e,[this,e]),this.fireEvent("actionfailed",this,e))},findField:function(e){return this.getFields().findBy(function(t){return t.id===e||t.getName()===e})},markInvalid:function(e){function u(e,n){var r=t.findField(e);r&&r.markInvalid(n)}var t=this,n,r,i,s,o;if(Ext.isArray(e)){r=e.length;for(n=0;n<r;n++)i=e[n],u(i.id,i.msg)}else if(e instanceof Ext.data.Errors){r=e.items.length;for(n=0;n<r;n++)i=e.items[n],u(i.field,i.message)}else for(o in e)e.hasOwnProperty(o)&&(s=e[o],u(o,s,e));return this},setValues:function(e){function o(e,n){var r=t.findField(e);r&&(r.setValue(n),t.trackResetOnLoad&&r.resetOriginalValue())}var t=this,n,r,i,s;if(Ext.isArray(e)){r=e.length;for(n=0;n<r;n++)i=e[n],o(i.id,i.value)}else Ext.iterate(e,o);return this},getValues:function(e,t,n,r){var i={},s=this.getFields().items,o,u=s.length,a=Ext.isArray,f,l,c,h,p;for(o=0;o<u;o++){f=s[o];if(!t||f.isDirty()){l=f[r?"getModelData":"getSubmitData"](n);if(Ext.isObject(l))for(p in l)l.hasOwnProperty(p)&&(c=l[p],n&&c===""&&(c=f.emptyText||""),i.hasOwnProperty(p)?(h=i[p],a(h)||(h=i[p]=[h]),a(c)?i[p]=i[p]=h.concat(c):h.push(c)):i[p]=c)}}return e&&(i=Ext.Object.toQueryString(i)),i},getFieldValues:function(e){return this.getValues(!1,e,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var e=this,t=e.getFields().items,n,r=t.length;for(n=0;n<r;n++)t[n].clearInvalid();return Ext.resumeLayouts(!0),e},reset:function(){Ext.suspendLayouts();var e=this,t=e.getFields().items,n,r=t.length;for(n=0;n<r;n++)t[n].reset();return Ext.resumeLayouts(!0),e},applyToFields:function(e){var t=this.getFields().items,n,r=t.length;for(n=0;n<r;n++)Ext.apply(t[n],e);return this},applyIfToFields:function(e){var t=this.getFields().items,n,r=t.length;for(n=0;n<r;n++)Ext.applyIf(t[n],e);return this}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(e){var t=this,n,r,i,s,o,u=0,a=0,f=t.autoFlex,l=t.innerCt.dom.style;t.callParent(arguments),n=t.columnNodes,e.innerCtContext=e.getEl("innerCt",t);if(!e.widthModel.shrinkWrap){r=n.length;if(t.columnsArray){for(i=0;i<r;i++)s=t.owner.columns[i],s<1&&(u+=s,a++);for(i=0;i<r;i++)s=t.owner.columns[i],s<1?o=s/u*100+"%":o=s+"px",n[i].style.width=o}else for(i=0;i<r;i++)o=f?1/r*100+"%":"",n[i].style.width=o,a++;a?a<r?(l.tableLayout="fixed",l.width="100%"):(l.tableLayout="auto",f?l.width="100%":l.width=""):(l.tableLayout="fixed",l.width="")}else l.tableLayout="auto",l.width=""},cacheElements:function(){var e=this;e.callParent(),e.rowEl=e.innerCt.down("tr"),e.columnNodes=e.rowEl.dom.childNodes},calculate:function(e){var t=this,n,r,i,s,o,u;e.getDomProp("containerChildrenDone")?(n=e.innerCtContext,r=e.widthModel.shrinkWrap,i=e.heightModel.shrinkWrap,s=i||r,o=n.el.dom,u=s&&n.getPaddingInfo(),r&&e.setContentWidth(o.offsetWidth+u.width,!0),i&&e.setContentHeight(o.offsetHeight+u.height,!0)):t.done=!1},doRenderColumn:function(e,t,n){var r=t.$layout,i=r.owner,s=t.columnCount,o=i.items.items,u=o.length,a,f,l,c,h;i.vertical?(l=Math.ceil(u/s),f=n*l,u=Math.min(u,f+l),c=1):(f=n,c=s);for(;f<u;f+=c)a=o[f],r.configureItem(a),h=a.getRenderTree(),Ext.DomHelper.generateMarkup(h,e)},getColumnCount:function(){var e=this,t=e.owner,n=t.columns;return e.columnsArray?n.length:Ext.isNumber(n)?n:t.items.length},getItemSizePolicy:function(e){return this.autoSizePolicy},getRenderData:function(){var e=this,t=e.callParent(),n=e.owner,r,i=e.getColumnCount(),s,o,u,a=e.autoFlex,f=0,l=0;if(e.columnsArray)for(r=0;r<i;r++)s=e.owner.columns[r],s<1&&(f+=s,l++);t.colCls=n.groupCls,t.columnCount=i,t.columns=[];for(r=0;r<i;r++)o=t.columns[r]={},e.columnsArray?(s=e.owner.columns[r],s<1?u=s/f*100+"%":u=s+"px",o.style="width:"+u):(o.style="width:"+1/i*100+"%",l++);return t.tableStyle=l?l<i?"table-layout:fixed;width:100%":a?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",t},initLayout:function(){var e=this,t=e.owner;e.columnsArray=Ext.isArray(t.columns),e.autoColumns=!t.columns||t.columns==="auto",e.vertical=t.vertical,e.callParent()},isValidParent:function(){return!0},setupRenderTpl:function(e){this.callParent(arguments),e.renderColumn=this.doRenderColumn},renderChildren:function(){var e=this,t=e.owner.items.generation;e.lastOwnerItemsGeneration!==t&&(e.lastOwnerItemsGeneration=t,e.renderItems(e.getLayoutItems()))},renderItems:function(e){var t=this,n=e.length,r,i,s,o,u,a;if(n){Ext.suspendLayouts(),t.autoColumns&&t.addMissingColumns(n),o=t.columnNodes.length,s=Math.ceil(n/o);for(r=0;r<n;r++)i=e[r],u=t.getRenderRowIndex(r,s,o),a=t.getRenderColumnIndex(r,s,o),i.rendered?t.isItemAtPosition(i,u,a)||t.moveItem(i,u,a):t.renderItem(i,u,a);t.autoColumns&&t.removeExceedingColumns(n),Ext.resumeLayouts(!0)}},isItemAtPosition:function(e,t,n){return e.el.dom===this.getNodeAt(t,n)},getRenderColumnIndex:function(e,t,n){return this.vertical?Math.floor(e/t):e%n},getRenderRowIndex:function(e,t,n){var r=this;return r.vertical?e%t:Math.floor(e/n)},getNodeAt:function(e,t){return this.columnNodes[t].childNodes[e]},addMissingColumns:function(e){var t=this,n=t.columnNodes.length,r,i,s,o;if(n<e){r=e-n,i=t.rowEl,s=t.owner.groupCls;for(o=0;o<r;o++)i.createChild({cls:s,tag:"td",vAlign:"top"})}},removeExceedingColumns:function(e){var t=this,n=t.columnNodes.length,r,i,s;if(n>e){r=n-e,i=t.rowEl;for(s=0;s<r;s++)i.last().remove()}},renderItem:function(e,t,n){var r=this;r.configureItem(e),e.render(Ext.get(r.columnNodes[n]),t),r.afterRenderItem(e)},moveItem:function(e,t,n){var r=this,i=r.columnNodes[n],s=i.childNodes[t];i.insertBefore(e.el.dom,s||null)}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:"Ext.layout.component.field.Field",alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(e){this.callParent(arguments),e.hasRawContent=!0,e.target.bodyEl.setStyle("height","")},measureContentHeight:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerWidth:function(e,t){var n=e.bodyCellContext;n.setWidth(n.el.getWidth(),!1)},publishInnerHeight:function(e,t){var n=e.bodyCellContext;n.setHeight(t-this.measureLabelErrorHeight(e))}}),Ext.define("Ext.form.FieldAncestor",{initFieldAncestor:function(){var e=this,t=e.onFieldAncestorSubtreeChange;e.addEvents("fieldvaliditychange","fielderrorchange"),e.on("add",t,e),e.on("remove",t,e),e.initFieldDefaults()},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},onFieldAncestorSubtreeChange:function(e,t){function i(e){var t=e.isFieldLabelable,s=e.isFormField;t||s?(t&&n["onLabelable"+(r?"Added":"Removed")](e),s&&n["onField"+(r?"Added":"Removed")](e)):e.isContainer&&Ext.Array.forEach(e.getRefItems(),i)}var n=this,r=!!t.ownerCt;i(t)},onLabelableAdded:function(e){var t=this;t.mon(e,"errorchange",t.handleFieldErrorChange,t,{buffer:10}),e.setFieldDefaults(t.fieldDefaults)},onFieldAdded:function(e){var t=this;t.mon(e,"validitychange",t.handleFieldValidityChange,t)},onLabelableRemoved:function(e){var t=this;t.mun(e,"errorchange",t.handleFieldErrorChange,t)},onFieldRemoved:function(e){var t=this;t.mun(e,"validitychange",t.handleFieldValidityChange,t)},handleFieldValidityChange:function(e,t){var n=this;n.fireEvent("fieldvaliditychange",n,e,t),n.onFieldValidityChange(e,t)},handleFieldErrorChange:function(e,t){var n=this;n.fireEvent("fielderrorchange",n,e,t),n.onFieldErrorChange(e,t)},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn}),Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,fieldSubTpl:"{%this.renderContainer(out,values)%}",initComponent:function(){var e=this;e.initLabelable(),e.initFieldAncestor(),e.callParent()},beforeRender:function(){this.callParent(arguments),this.beforeLabelableRender(arguments)},onLabelableAdded:function(e){var t=this;t.mixins.fieldAncestor.onLabelableAdded.call(this,e),t.updateLabel()},onLabelableRemoved:function(e){var t=this;t.mixins.fieldAncestor.onLabelableRemoved.call(this,e),t.updateLabel()},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getFieldLabel:function(){var e=this.fieldLabel||"";return!e&&this.combineLabels&&(e=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)),e},getSubTplData:function(){var e=this.initRenderData();return Ext.apply(e,this.subTplData),e},getSubTplMarkup:function(){var e=this,t=e.getTpl("fieldSubTpl"),n;return t.renderContent||e.setupRenderTpl(t),n=t.apply(e.getSubTplData()),n},updateLabel:function(){var e=this,t=e.labelEl;t&&e.setFieldLabel(e.getFieldLabel())},onFieldErrorChange:function(e,t){if(this.combineErrors){var n=this,r=n.getActiveError(),i=Ext.Array.filter(n.query("[isFormField]"),function(e){return e.hasActiveError()}),s=n.getCombinedErrors(i);s?n.setActiveErrors(s):n.unsetActiveError(),r!==n.getActiveError()&&n.doComponentLayout()}},getCombinedErrors:function(e){var t=[],n,r=e.length,i,s,o,u,a,f;for(n=0;n<r;n++){i=e[n],s=i.getActiveErrors(),u=s.length;for(o=0;o<u;o++)a=s[o],f=i.getFieldLabel(),t.push((f?f+": ":"")+a)}return t},getTargetEl:function(){return this.bodyEl||this.callParent()}}),Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.checkboxgroup",requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Base"],columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",fieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",initComponent:function(){var e=this;e.callParent(),e.initField()},initValue:function(){var e=this,t=e.value;e.originalValue=e.lastValue=t||e.getValue(),t&&e.setValue(t)},onFieldAdded:function(e){var t=this;e.isCheckbox&&t.mon(e,"change",t.checkChange,t),t.callParent(arguments)},onFieldRemoved:function(e){var t=this;e.isCheckbox&&t.mun(e,"change",t.checkChange,t),t.callParent(arguments)},isEqual:function(e,t){var n=Ext.Object.toQueryString;return n(e)===n(t)},getErrors:function(){var e=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&e.push(this.blankText),e},getBoxes:function(e){return this.query("[isCheckbox]"+(e||""))},eachBox:function(e,t){Ext.Array.forEach(this.getBoxes(),e,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var e=this.getBoxes(),t,n=e.length;for(t=0;t<n;t++)if(e[t].isDirty())return!0},setReadOnly:function(e){var t=this.getBoxes(),n,r=t.length;for(n=0;n<r;n++)t[n].setReadOnly(e);this.readOnly=e},reset:function(){var e=this,t=e.hasActiveError(),n=e.preventMark;e.preventMark=!0,e.batchChanges(function(){var t=e.getBoxes(),n,r=t.length;for(n=0;n<r;n++)t[n].reset()}),e.preventMark=n,e.unsetActiveError(),t&&e.updateLayout()},resetOriginalValue:function(){var e=this,t=e.getBoxes(),n,r=t.length;for(n=0;n<r;n++)t[n].resetOriginalValue();e.originalValue=e.getValue(),e.checkDirty()},setValue:function(e){var t=this,n=t.getBoxes(),r,i=n.length,s,o,u;return t.batchChanges(function(){for(r=0;r<i;r++)s=n[r],o=s.getName(),u=!1,e&&e.hasOwnProperty(o)&&(Ext.isArray(e[o])?u=Ext.Array.contains(e[o],s.inputValue):u=e[o]),s.setValue(u)}),t},getValue:function(){var e={},t=this.getBoxes(),n,r=t.length,i,s,o,u;for(n=0;n<r;n++)i=t[n],s=i.getName(),o=i.inputValue,i.getValue()&&(e.hasOwnProperty(s)?(u=e[s],Ext.isArray(u)||(u=e[s]=[u]),u.push(o)):e[s]=o);return e},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var e=this,t,n,r;return e.disabled?n=!0:(t=e.getErrors(),n=Ext.isEmpty(t),r=!e.hasActiveError(),n?e.unsetActiveError():e.setActiveError(t)),n!==r&&(e.fireEvent("validitychange",e,n),e.updateLayout()),n}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid"])}),Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(e){return this.filterBy(function(t){return t.name==e})},getWithValue:function(e,t){return this.filterBy(function(n){return n.name==e&&n.inputValue==t})},getChecked:function(e){return this.filterBy(function(t){return t.name==e&&t.checked})}}),Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",beforeLayoutCycle:function(e){e.target.collapsed&&(e.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(e){var t=e.target,n;this.callParent(arguments),t.collapsed&&(e.setContentHeight(0),e.widthModel.shrinkWrap&&(n=t.lastComponentSize,e.setContentWidth(n&&n.contentWidth||100)))},calculateOwnerHeightFromContentHeight:function(e,t){var n=e.getBorderInfo(),r=e.target.legend;return e.getProp("contentHeight")+e.getPaddingInfo().height+(r?r.getHeight():n.top)+n.bottom},publishInnerHeight:function(e,t){var n=e.target.legend;n&&(t-=n.getHeight()),this.callParent([e,t])},getLayoutItems:function(){var e=this.owner.legend;return e?[e]:[]}}),Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",border:1,componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body">',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var e=this,t=e.legend;t&&(delete t.ownerCt,t.destroy(),e.legend=null),e.callParent()},initComponent:function(){var e=this,t=e.baseCls;e.callParent(),e.addEvents("beforeexpand","beforecollapse","expand","collapse"),e.collapsed&&(e.addCls(t+"-collapsed"),e.collapse()),e.title&&e.addCls(t+"-with-title");if(e.title||e.checkboxToggle||e.collapsible)e.addCls(t+"-with-legend"),e.legend=Ext.widget(e.createLegendCt())},initRenderData:function(){var e=this.callParent();return e.baseCls=this.baseCls,e},getState:function(){var e=this.callParent();return e=this.addPropertyToState(e,"collapsed"),e},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var e=this,t=[],n={xtype:"container",baseCls:e.baseCls+"-header",id:e.id+"-legend",autoEl:"legend",items:t,ownerCt:e,ownerLayout:e.componentLayout};return e.checkboxToggle?t.push(e.createCheckboxCmp()):e.collapsible&&t.push(e.createToggleCmp()),t.push(e.createTitleCmp()),n},createTitleCmp:function(){var e=this,t={xtype:"component",html:e.title,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle"};return e.collapsible&&e.toggleOnTitleClick&&(t.listeners={el:{scope:e,click:e.toggle}},t.cls+=" "+e.baseCls+"-header-text-collapsible"),e.titleCmp=Ext.widget(t)},createCheckboxCmp:function(){var e=this,t="-checkbox";return e.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:e.checkboxName||e.id+t,cls:e.baseCls+"-header"+t,id:e.id+"-legendChk",checked:!e.collapsed,listeners:{change:e.onCheckChange,scope:e}}),e.checkboxCmp},createToggleCmp:function(){var e=this;return e.toggleCmp=Ext.widget({xtype:"tool",type:"toggle",handler:e.toggle,id:e.id+"-legendToggle",scope:e}),e.toggleCmp},doRenderLegend:function(e,t){var n=t.$comp,r=n.legend,i;r&&(r.ownerLayout.configureItem(r),i=r.getRenderTree(),Ext.DomHelper.generateMarkup(i,e))},finishRender:function(){var e=this.legend;this.callParent(),e&&e.finishRender()},getCollapsed:function(){return this.collapsed?"top":!1},getCollapsedDockedItems:function(){var e=this.legend;return e?[e]:[]},setTitle:function(e){var t=this,n=t.legend;return t.title=e,t.rendered&&(t.legend||(t.legend=n=Ext.widget(t.createLegendCt()),n.ownerLayout.configureItem(n),n.render(t.el,0)),t.titleCmp.update(e)),t},getTargetEl:function(){return this.body||this.frameBody||this.el},getContentTarget:function(){return this.body},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setExpanded:function(e){var t=this,n=t.checkboxCmp,r=e?"expand":"collapse";if(!t.rendered||t.fireEvent("before"+r,t)!==!1)e=!!e,n&&n.setValue(e),e?t.removeCls(t.baseCls+"-collapsed"):t.addCls(t.baseCls+"-collapsed"),t.collapsed=!e,t.rendered&&(t.updateLayout({isRoot:!1}),t.fireEvent(r,t));return t},getRefItems:function(e){var t=this.callParent(arguments),n=this.legend;return n&&(t.unshift(n),e&&t.unshift.apply(t,n.getRefItems(!0))),t},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(e,t){this.setExpanded(t)},setupRenderTpl:function(e){this.callParent(arguments),e.renderLegend=this.doRenderLegend}}),Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:!1,getElConfig:function(){var e=this;return e.html=e.text?Ext.util.Format.htmlEncode(e.text):e.html||"",Ext.apply(e.callParent(),{htmlFor:e.forId||""})},setText:function(e,t){var n=this;return t=t!==!1,t?(n.text=e,delete n.html):(n.html=e,delete n.text),n.rendered&&(n.el.dom.innerHTML=t!==!1?Ext.util.Format.htmlEncode(e):e,n.updateLayout()),n}}),Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var e=this;e.frame&&(e.border=!1),e.initFieldAncestor(),e.callParent(),e.relayEvents(e.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),e.pollForChanges&&e.startPolling(e.pollInterval||500)},initItems:function(){var e=this;e.form=e.createForm(),e.callParent()},afterFirstLayout:function(){this.callParent(),this.form.initialize()},createForm:function(){var e={},t=this.basicFormConfigs,n=t.length,r=0,i;for(;r<n;++r)i=t[r],e[i]=this[i];return new Ext.form.Basic(this,e)},getForm:function(){return this.form},loadRecord:function(e){return this.getForm().loadRecord(e)},getRecord:function(){return this.getForm().getRecord()},getValues:function(e,t,n,r){return this.getForm().getValues(e,t,n,r)},beforeDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(e){this.form.load(e)},submit:function(e){this.form.submit(e)},startPolling:function(e){this.stopPolling();var t=new Ext.util.TaskRunner(e);t.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=t},stopPolling:function(){var e=this.pollTask;e&&(e.stopAll(),delete this.pollTask)},checkChange:function(){var e=this.form.getFields().items,t,n=e.length,r;for(t=0;t<n;t++)e[t].checkChange()}}),Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",alias:"widget.radiogroup",allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(e){return this.query("[isRadio]"+(e||""))},checkChange:function(){var e=this.getValue(),t=Ext.Object.getKeys(e)[0];if(Ext.isArray(e[t]))return;this.callParent(arguments)},setValue:function(e){var t,n,r,i,s,o,u;if(Ext.isObject(e))for(u in e)if(e.hasOwnProperty(u)){t=e[u],n=this.items.first(),r=n?n.getFormId():null,i=Ext.form.RadioManager.getWithValue(u,t,r).items,o=i.length;for(s=0;s<o;++s)i[s].setValue(!0)}return this}}),Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(e,t){return this.filterBy(function(n){return n.name==e&&n.getFormId()==t})},getWithValue:function(e,t,n){return this.filterBy(function(r){return r.name==e&&r.inputValue==t&&r.getFormId()==n})},getChecked:function(e,t){return this.findBy(function(n){return n.name==e&&n.checked&&n.getFormId()==t})}}),Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var e=this,t=e.form,n=t.api.load
,r=n.directCfg.method,i=r.getArgs(e.getParams(),t.paramOrder,t.paramsAsHash);i.push(e.onComplete,e),n.apply(window,i)},processResponse:function(e){return this.result=e},onComplete:function(e,t){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",requires:["Ext.direct.Manager"],alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var e=this,t=Ext.Function.bind(e.onComplete,e),n=e.buildForm();e.form.api.submit(n,t,e),Ext.removeNode(n)},processResponse:function(e){return this.result=e},onComplete:function(e,t){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var e=this.buildForm();e.submit(),Ext.removeNode(e)}}),Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],componentLayout:"field",childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:!0,compiled:!0}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-cb-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",onRe:/^on$/i,initComponent:function(){this.callParent(arguments),this.getManager().add(this)},initValue:function(){var e=this,t=!!e.checked;e.originalValue=e.lastValue=t,e.setValue(t)},getElConfig:function(){var e=this;return e.isChecked(e.rawValue,e.inputValue)&&e.addCls(e.checkedCls),e.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var e=this;return Ext.apply(e.callParent(),{disabled:e.readOnly||e.disabled,boxLabel:e.boxLabel,boxLabelCls:e.boxLabelCls,boxLabelAlign:e.boxLabelAlign})},initEvents:function(){var e=this;e.callParent(),e.mon(e.inputEl,"click",e.onBoxClick,e)},onBoxClick:function(e){var t=this;!t.disabled&&!t.readOnly&&this.setValue(!this.checked)},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var e=this.uncheckedValue,t=Ext.isDefined(e)?e:null;return this.checked?this.inputValue:t},isChecked:function(e,t){return e===!0||e==="true"||e==="1"||e===1||((Ext.isString(e)||Ext.isNumber(e))&&t?e==t:this.onRe.test(e))},setRawValue:function(e){var t=this,n=t.inputEl,r=t.isChecked(e,t.inputValue);return n&&t[r?"addCls":"removeCls"](t.checkedCls),t.checked=t.rawValue=r,r},setValue:function(e){var t=this,n,r,i,s;if(Ext.isArray(e)){n=t.getManager().getByName(t.name,t.getFormId()).items,i=n.length;for(r=0;r<i;++r)s=n[r],s.setValue(Ext.Array.contains(e,s.inputValue))}else t.callParent(arguments);return t},valueToRaw:function(e){return e},onChange:function(e,t){var n=this,r=n.handler;r&&r.call(n.scope||n,n,e),n.callParent(arguments)},resetOriginalValue:function(e){var t=this,n,r,i,s;if(!e){n=t.getManager().getByName(t.name,t.getFormId()).items,i=n.length;for(s=0;s<i;++s)r=n[s],r!==t&&n[s].resetOriginalValue(!0)}t.callParent()},beforeDestroy:function(){this.callParent(),this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var e=this,t=e.inputEl;e.callParent(),t&&(t.dom.disabled=e.readOnly)},setReadOnly:function(e){var t=this,n=t.inputEl;n&&(n.dom.disabled=!!e||t.disabled),t.callParent(arguments)},getFormId:function(){var e=this,t;return e.formId||(t=e.up("form"),t&&(e.formId=t.id)),e.formId}}),Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:"Ext.layout.component.field.Field",type:"triggerfield",beginLayout:function(e){var t=this,n=t.owner,r;e.triggerWrap=e.getEl("triggerWrap"),t.callParent(arguments),r=n.getTriggerStateFlags(),r!=n.lastTriggerStateFlags&&(n.lastTriggerStateFlags=r,t.updateEditState())},beginLayoutFixed:function(e,t,n){var r=this,i=e.target,s=r.ieInputWidthAdjustment||0,o="100%",u=i.triggerWrap;r.callParent(arguments),i.inputCell.setStyle("width","100%"),s&&(i.inputCell.setStyle("padding-right",s+"px"),n==="px"&&(i.inputWidth?o=i.inputWidth-i.getTriggerWidth():o=t-s-i.getTriggerWidth(),o+="px")),i.inputEl.setStyle("width",o),o=i.inputWidth,o?u.setStyle("width",o+s+"px"):u.setStyle("width",t+n),u.setStyle("table-layout","fixed")},beginLayoutShrinkWrap:function(e){var t=e.target,n="",r=t.inputWidth,i=t.triggerWrap,s=this.ieInputWidthAdjustment||0;this.callParent(arguments),r?(i.setStyle("width",r+"px"),r=r-t.getTriggerWidth()+"px",t.inputEl.setStyle("width",r),t.inputCell.setStyle("width",r)):(t.inputCell.setStyle("width",n),t.inputEl.setStyle("width",n),i.setStyle("width",n),i.setStyle("table-layout","auto"))},getTextWidth:function(){var e=this,t=e.owner,n=t.inputEl,r;return r=(n.dom.value||(t.hasFocus?"":t.emptyText)||"")+t.growAppend,n.getTextWidth(r)},measureContentWidth:function(e){var t=this,n=t.owner,r=t.callParent(arguments),i=e.inputContext,s,o,u;return n.grow&&!e.state.growHandled&&(s=t.getTextWidth()+e.inputContext.getFrameInfo().width,o=n.growMax,u=Math.min(o,r),o=Math.max(n.growMin,o,u),s=Ext.Number.constrain(s,n.growMin,o),i.setWidth(s),e.state.growHandled=!0,i.domBlock(t,"width"),r=NaN),r},updateEditState:function(){var e=this,t=e.owner,n=t.inputEl,r=Ext.baseCSSPrefix+"trigger-noedit",i,s;e.owner.readOnly?(n.addCls(r),s=!0,i=!1):(e.owner.editable?(n.removeCls(r),s=!1):(n.addCls(r),s=!0),i=!e.owner.hideTrigger),t.triggerCell.setDisplayed(i),n.dom.readOnly=s}}),Ext.define("Ext.layout.component.field.ComboBox",{extend:"Ext.layout.component.field.Trigger",alias:"layout.combobox",requires:["Ext.util.TextMetrics"],type:"combobox",startingWidth:null,getTextWidth:function(){var e=this,t=e.owner,n=t.store,r=t.displayField,i=n.data.length,s="",o=0,u=0,a,f,l;for(;o<i;o++)f=n.getAt(o).data[r],a=f.length,a>u&&(u=a,s=f);l=Math.max(e.callParent(arguments),t.inputEl.getTextWidth(s+t.growAppend));if(!e.startingWidth||t.removingRecords)e.startingWidth=l,l<t.growMin&&(t.defaultListConfig.minWidth=t.growMin),t.removingRecords=!1;return l<e.startingWidth?e.startingWidth:l}}),Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.DomHelper","Ext.util.ClickRepeater","Ext.layout.component.field.Trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:!1,editable:!0,readOnly:!1,repeatTriggerClick:!1,autoSize:Ext.emptyFn,monitorTab:!0,mimicing:!1,triggerIndexRe:/trigger-index-(\d+)/,componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus",this.callParent(arguments)},getSubTplMarkup:function(){var e=this,t=e.callParent(arguments);return'<table id="'+e.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+'form-trigger-wrap" cellpadding="0" cellspacing="0"><tbody><tr>'+'<td id="'+e.id+'-inputCell" class="'+Ext.baseCSSPrefix+'form-trigger-input-cell">'+t+"</td>"+e.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var e=this,t=e.callParent(),n=e.readOnly===!0,r=e.editable!==!1;return Ext.apply(t,{editableCls:n||!r?" "+e.triggerNoEditCls:"",readOnly:!r||n})},getLabelableRenderData:function(){var e=this,t=e.triggerWrapCls,n=e.callParent(arguments);return Ext.applyIf(n,{triggerWrapCls:t,triggerMarkup:e.getTriggerMarkup()})},getTriggerMarkup:function(){var e=this,t=0,n=e.readOnly||e.hideTrigger,r,i=e.triggerBaseCls,s=[];e.trigger1Cls||(e.trigger1Cls=e.triggerCls);for(t=0;(r=e["trigger"+(t+1)+"Cls"])||t<1;t++)s.push({tag:"td",valign:"top",cls:Ext.baseCSSPrefix+"trigger-cell",style:"width:"+e.triggerWidth+(n?"px;display:none":"px"),cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+t,i,r].join(" "),role:"button"}});return s[t-1].cn.cls+=" "+i+"-last",Ext.DomHelper.markup(s)},disableCheck:function(){return!this.disabled},beforeRender:function(){var e=this,t=e.triggerBaseCls,n;e.triggerWidth||(n=Ext.resetElement.createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"}),Ext.form.field.Trigger.prototype.triggerWidth=n.getWidth(),n.remove()),e.callParent(),t!=Ext.baseCSSPrefix+"form-trigger"&&e.addChildEls({name:"triggerEl",select:"."+t}),e.lastTriggerStateFlags=e.getTriggerStateFlags()},onRender:function(){var e=this;e.callParent(arguments),e.doc=Ext.getDoc(),e.initTrigger(),e.triggerEl.unselectable()},getTriggerWidth:function(){var e=this,t=0;return e.triggerWrap&&!e.hideTrigger&&!e.readOnly&&(t=e.triggerEl.getCount()*e.triggerWidth),t},setHideTrigger:function(e){e!=this.hideTrigger&&(this.hideTrigger=e,this.updateLayout())},setEditable:function(e){e!=this.editable&&(this.editable=e,this.updateLayout())},setReadOnly:function(e){e!=this.readOnly&&(this.readOnly=e,this.updateLayout())},initTrigger:function(){var e=this,t=e.triggerWrap,n=e.triggerEl,r=e.disableCheck,i,s,o,u,a;e.repeatTriggerClick?e.triggerRepeater=new Ext.util.ClickRepeater(t,{preventDefault:!0,handler:e.onTriggerWrapClick,listeners:{mouseup:e.onTriggerWrapMouseup,scope:e},scope:e}):e.mon(t,{click:e.onTriggerWrapClick,mouseup:e.onTriggerWrapMouseup,scope:e}),n.setVisibilityMode(Ext.Element.DISPLAY),n.addClsOnOver(e.triggerBaseCls+"-over",r,e),i=n.elements,s=i.length;for(u=0;u<s;u++)o=i[u],a=u+1,o.addClsOnOver(e["trigger"+a+"Cls"]+"-over",r,e),o.addClsOnClick(e["trigger"+a+"Cls"]+"-click",r,e);n.addClsOnClick(e.triggerBaseCls+"-click",r,e)},onDestroy:function(){var e=this;Ext.destroyMembers(e,"triggerRepeater","triggerWrap","triggerEl"),delete e.doc,e.callParent()},onFocus:function(){var e=this;e.callParent(arguments),e.mimicing||(e.bodyEl.addCls(e.wrapFocusCls),e.mimicing=!0,e.mon(e.doc,"mousedown",e.mimicBlur,e,{delay:10}),e.monitorTab&&e.on("specialkey",e.checkTab,e))},checkTab:function(e,t){!this.ignoreMonitorTab&&t.getKey()==t.TAB&&this.triggerBlur()},getTriggerStateFlags:function(){var e=this,t=0;return e.readOnly&&(t+=1),e.editable&&(t+=2),e.hideTrigger&&(t+=4),t},onBlur:Ext.emptyFn,mimicBlur:function(e){!this.isDestroyed&&!this.bodyEl.contains(e.target)&&this.validateBlur(e)&&this.triggerBlur(e)},triggerBlur:function(e){var t=this;t.mimicing=!1,t.mun(t.doc,"mousedown",t.mimicBlur,t),t.monitorTab&&t.inputEl&&t.un("specialkey",t.checkTab,t),Ext.form.field.Trigger.superclass.onBlur.call(t,e),t.bodyEl&&t.bodyEl.removeCls(t.wrapFocusCls)},validateBlur:function(e){return!0},onTriggerWrapClick:function(){var e=this,t,n,r,i;i=arguments[e.triggerRepeater?1:0],i&&!e.readOnly&&!e.disabled&&(t=i.getTarget("."+e.triggerBaseCls,null),n=t&&t.className.match(e.triggerIndexRe),n&&(r=e["onTrigger"+(parseInt(n[1],10)+1)+"Click"]||e.onTriggerClick,r&&r.call(e,i)))},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn}),Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Trigger",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,initComponent:function(){this.callParent(),this.addEvents("expand","collapse","select")},initEvents:function(){var e=this;e.callParent(),e.keyNav=new Ext.util.KeyNav(e.inputEl,{down:e.onDownArrow,esc:{handler:e.onEsc,scope:e,defaultEventAction:!1},scope:e,forceKeyDown:!0}),e.editable||e.mon(e.inputEl,"click",e.onTriggerClick,e),Ext.isGecko&&e.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(e){var t=this;t.isExpanded?(t.collapse(),e.stopEvent()):t.up("window")?t.blur():(!Ext.FocusManager||!Ext.FocusManager.enabled)&&e.stopEvent()},onDownArrow:function(e){this.isExpanded||this.onTriggerClick()},expand:function(){var e=this,t,n,r;e.rendered&&!e.isExpanded&&!e.isDestroyed&&(t=e.bodyEl,n=e.getPicker(),r=e.collapseIf,n.show(),e.isExpanded=!0,e.alignPicker(),t.addCls(e.openCls),e.mon(Ext.getDoc(),{mousewheel:r,mousedown:r,scope:e}),Ext.EventManager.onWindowResize(e.alignPicker,e),e.fireEvent("expand",e),e.onExpand())},onExpand:Ext.emptyFn,alignPicker:function(){var e=this,t=e.getPicker();e.isExpanded&&(e.matchFieldWidth&&t.setWidth(e.bodyEl.getWidth()),t.isFloating()&&e.doAlign())},doAlign:function(){var e=this,t=e.picker,n="-above",r;e.picker.alignTo(e.inputEl,e.pickerAlign,e.pickerOffset),r=t.el.getY()<e.inputEl.getY(),e.bodyEl[r?"addCls":"removeCls"](e.openCls+n),t[r?"addCls":"removeCls"](t.baseCls+n)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var e=this,t=e.openCls,n=e.picker,r=Ext.getDoc(),i=e.collapseIf,s="-above";n.hide(),e.isExpanded=!1,e.bodyEl.removeCls([t,t+s]),n.el.removeCls(n.baseCls+s),r.un("mousewheel",i,e),r.un("mousedown",i,e),Ext.EventManager.removeResizeListener(e.alignPicker,e),e.fireEvent("collapse",e),e.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(e){var t=this;!t.isDestroyed&&!e.within(t.bodyEl,!1,!0)&&!e.within(t.picker.el,!1,!0)&&!t.isEventWithinPickerLoadMask(e)&&t.collapse()},getPicker:function(){var e=this;return e.picker||(e.picker=e.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var e=this;!e.readOnly&&!e.disabled&&(e.isExpanded?e.collapse():e.expand(),e.inputEl.focus())},mimicBlur:function(e){var t=this,n=t.picker;(!n||!e.within(n.el,!1,!0)&&!t.isEventWithinPickerLoadMask(e))&&t.callParent(arguments)},onDestroy:function(){var e=this,t=e.picker;Ext.EventManager.removeResizeListener(e.alignPicker,e),Ext.destroy(e.keyNav),t&&(delete t.pickerField,t.destroy()),e.callParent()},isEventWithinPickerLoadMask:function(e){var t=this.picker.loadMask;return t?e.within(t.maskEl,!1,!0)||e.within(t.el,!1,!0):!1}}),Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(e){var t=this,n=t.owner,r=n.pagingToolbar;t.callParent(arguments),n.floating&&(e.savedXY=n.el.getXY(),n.el.setXY([-9999,-9999])),r&&(e.toolbarContext=e.context.getCmp(r)),e.listContext=e.getEl("listEl")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.heightModel.auto&&(t.el.setHeight("auto"),t.listEl.setHeight("auto"))},getLayoutItems:function(){var e=this.owner.pagingToolbar;return e?[e]:[]},isValidParent:function(){return!0},finishedLayout:function(e){var t=e.savedXY;this.callParent(arguments),t&&this.owner.el.setXY(t)},measureContentWidth:function(e){return this.owner.listEl.getWidth()},measureContentHeight:function(e){return this.owner.listEl.getHeight()},publishInnerHeight:function(e,t){var n=e.toolbarContext,r=0;n&&(r=n.getProp("height")),r===undefined?this.done=!1:e.listContext.setHeight(t-e.getFrameInfo().height-r)},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments),n=e.toolbarContext;return n&&(t+=n.getProp("height")),t}}),Ext.define("Ext.selection.Model",{extend:"Ext.util.Observable",alternateClassName:"Ext.AbstractSelectionModel",requires:["Ext.data.StoreManager"],mixins:{bindable:"Ext.util.Bindable"},allowDeselect:!1,selected:null,pruneRemoved:!0,constructor:function(e){var t=this;e=e||{},Ext.apply(t,e),t.addEvents("selectionchange","focuschange"),t.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},t.setSelectionMode(e.mode||t.mode),t.selected=new Ext.util.MixedCollection,t.callParent(arguments)},bindStore:function(e,t){var n=this;n.mixins.bindable.bindStore.apply(n,arguments),n.store&&!t&&n.refresh()},getStoreListeners:function(){var e=this;return{add:e.onStoreAdd,clear:e.onStoreClear,remove:e.onStoreRemove,update:e.onStoreUpdate}},selectAll:function(e){var t=this,n=t.store.getRange(),r=0,i=n.length,s=t.getSelection().length;t.bulkChange=!0;for(;r<i;r++)t.doSelect(n[r],!0,e);delete t.bulkChange,t.maybeFireSelectionChange(t.getSelection().length!==s)},deselectAll:function(e){var t=this,n=t.getSelection(),r=0,i=n.length,s=t.getSelection().length;t.bulkChange=!0;for(;r<i;r++)t.doDeselect(n[r],e);delete t.bulkChange,t.maybeFireSelectionChange(t.getSelection().length!==s)},selectWithEvent:function(e,t,n){var r=this;switch(r.selectionMode){case"MULTI":t.ctrlKey&&r.isSelected(e)?r.doDeselect(e,!1):t.shiftKey&&r.lastFocused?r.selectRange(r.lastFocused,e,t.ctrlKey):t.ctrlKey?r.doSelect(e,!0,!1):r.isSelected(e)&&!t.shiftKey&&!t.ctrlKey&&r.selected.getCount()>1?r.doSelect(e,n,!1):r.doSelect(e,!1);break;case"SIMPLE":r.isSelected(e)?r.doDeselect(e):r.doSelect(e,!0);break;case"SINGLE":r.allowDeselect&&r.isSelected(e)?r.doDeselect(e):r.doSelect(e,!1)}},selectRange:function(e,t,n,r){var i=this,s=i.store,o=0,u,a,f,l=[];if(i.isLocked())return;n||i.deselectAll(!0),Ext.isNumber(e)||(e=s.indexOf(e)),Ext.isNumber(t)||(t=s.indexOf(t)),e>t&&(a=t,t=e,e=a);for(u=e;u<=t;u++)i.isSelected(s.getAt(u))&&o++;r?f=r=="up"?e:t:f=-1;for(u=e;u<=t;u++)o==t-e+1?u!=f&&i.doDeselect(u,!0):l.push(s.getAt(u));i.doMultiSelect(l,!0)},select:function(e,t,n){Ext.isDefined(e)&&this.doSelect(e,t,n)},deselect:function(e,t){this.doDeselect(e,t)},doSelect:function(e,t,n){var r=this,i;if(r.locked||!r.store)return;typeof e=="number"&&(e=[r.store.getAt(e)]),r.selectionMode=="SINGLE"&&e?(i=e.length?e[0]:e,r.doSingleSelect(i,n)):r.doMultiSelect(e,t,n)},doMultiSelect:function(e,t,n){function f(){i.add(a),s=!0}var r=this,i=r.selected,s=!1,o=0,u,a;if(r.locked)return;e=Ext.isArray(e)?e:[e],u=e.length;if(!t&&i.getCount()>0&&r.doDeselect(r.getSelection(),n)===!1)return;for(;o<u;o++){a=e[o];if(t&&r.isSelected(a))continue;r.lastSelected=a,r.onSelectChange(a,!0,n,f)}r.preventFocus||r.setLastFocused(a,n),r.maybeFireSelectionChange(s&&!n)},doDeselect:function(e,t){function f(){++a,r.remove(o)}var n=this,r=n.selected,i=0,s,o,u=0,a=0;if(n.locked||!n.store)return!1;typeof e=="number"?e=[n.store.getAt(e)]:Ext.isArray(e)||(e=[e]),s=e.length;for(;i<s;i++)o=e[i],n.isSelected(o)&&(n.lastSelected==o&&(n.lastSelected=r.last()),++u,n.onSelectChange(o,!1,t,f));return n.maybeFireSelectionChange(a>0&&!t),a===u},doSingleSelect:function(e,t){function s(){n.bulkChange=!0;if(i.getCount()>0&&n.doDeselect(n.lastSelected,t)===!1)return delete n.bulkChange,!1;delete n.bulkChange,i.add(e),n.lastSelected=e,r=!0}var n=this,r=!1,i=n.selected;if(n.locked)return;if(n.isSelected(e))return;n.onSelectChange(e,!0,t,s),r&&(t||n.setLastFocused(e),n.maybeFireSelectionChange(!t))},setLastFocused:function(e,t){var n=this,r=n.lastFocused;n.lastFocused=e,e!==r&&n.onLastFocusChanged(r,e,t)},isFocused:function(e){return e===this.getLastFocused()},maybeFireSelectionChange:function(e){var t=this;e&&!t.bulkChange&&t.fireEvent("selectionchange",t,t.getSelection())},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(e){e=e?e.toUpperCase():"SINGLE",this.selectionMode=this.modes[e]?e:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(e){this.locked=!!e},isSelected:function(e){return e=Ext.isNumber(e)?this.store.getAt(e):e,this.selected.indexOf(e)!==-1},hasSelection:function(){return this.selected.getCount()>0},refresh:function(){var e=this,t=e.store,n=[],r=e.getSelection(),i=r.length,s,o,u=0,a=e.getLastFocused();if(!t)return;for(;u<i;u++)s=r[u],(!e.pruneRemoved||t.indexOf(s)!==-1)&&n.push(s);e.selected.getCount()!=n.length&&(o=!0),e.clearSelections(),t.indexOf(a)!==-1&&e.setLastFocused(a,!0),n.length&&e.doSelect(n,!1,!0),e.maybeFireSelectionChange(o)},clearSelections:function(){this.selected.clear(),this.lastSelected=null,this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.selected.getCount>0&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(e,t,n){var r=this,i=r.selected;if(r.locked||!r.pruneRemoved)return;i.remove(t)&&(r.lastSelected==t&&(r.lastSelected=null),r.getLastFocused()==t&&r.setLastFocused(null),r.maybeFireSelectionChange(!0))},getCount:function(){return this.selected.getCount()},destroy:Ext.emptyFn,onStoreUpdate:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:Ext.emptyFn,onLastFocusChanged:function(e,t){this.fireEvent("focuschange",this,e,t)},onEditorKey:Ext.emptyFn,bindComponent:Ext.emptyFn,beforeViewRender:Ext.emptyFn}),Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",requires:["Ext.util.KeyNav"],deselectOnContainerClick:!0,enableKeyNav:!0,constructor:function(e){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.callParent(arguments)},bindComponent:function(e){var t=this,n={refresh:t.refresh,scope:t};t.view=e,t.bindStore(e.getStore()),n[e.triggerEvent]=t.onItemClick,n[e.triggerCtEvent]=t.onContainerClick,e.on(n),t.enableKeyNav&&t.initKeyNav(e)},onItemClick:function(e,t,n,r,i){this.selectWithEvent(t,i)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},initKeyNav:function(e){var t=this;if(!e.rendered){e.on({render:Ext.Function.bind(t.initKeyNav,t,[e]),single:!0});return}e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,down:Ext.pass(t.onNavKey,[1],t),right:Ext.pass(t.onNavKey,[1],t),left:Ext.pass(t.onNavKey,[-1],t),up:Ext.pass(t.onNavKey,[-1],t),scope:t})},onNavKey:function(e){e=e||1;var t=this,n=t.view,r=t.getSelection()[0],i=t.view.store.getCount(),s;r?s=n.indexOf(n.getNode(r))+e:s=0,s<0?s=i-1:s>=i&&(s=0),t.select(s)},onSelectChange:function(e,t,n,r){var i=this,s=i.view,o=t?"select":"deselect";(n||i.fireEvent("before"+o,i,e))!==!1&&r()!==!1&&(s&&(t?s.onItemSelect(e):s.onItemDeselect(e)),n||i.fireEvent(o,i,e))},destroy:function(){Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.data.StoreManager","Ext.CompositeElementLite","Ext.DomQuery","Ext.selection.DataViewModel"],mixins:{bindable:"Ext.util.Bindable"},inheritableStatics:{getRecord:function(e){return this.getBoundView(e).getRecord(e)},getBoundView:function(e){return Ext.getCmp(e.boundView)}},deferInitialRefresh:!0,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,last:!1,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var e=this,t=Ext.isDefined,n=e.itemTpl,r={};n&&(Ext.isArray(n)?n=n.join(""):Ext.isObject(n)&&(r=Ext.apply(r,n.initialConfig),n=n.html),e.itemSelector||(e.itemSelector="."+e.itemCls),n=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',e.itemCls,n),e.tpl=new Ext.XTemplate(n,r)),e.callParent();if(Ext.isString(e.tpl)||Ext.isArray(e.tpl))e.tpl=new Ext.XTemplate(e.tpl);e.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove"),e.addCmpEvents(),e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store"),e.bindStore(e.store,!0),e.all=new Ext.CompositeElementLite,e.scrollState={top:0,left:0},e.on({scroll:e.onViewScroll,element:"el",scope:e})},onRender:function(){var e=this,t=e.loadMask,n={msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:e.getMaskStore()};e.callParent(arguments),t&&(Ext.isObject(t)&&(n=Ext.apply(n,t)),e.loadMask=new Ext.LoadMask(e,n),e.loadMask.on({scope:e,beforeshow:e.onMaskBeforeShow,hide:e.onMaskHide}))},finishRender:function(){var e=this;e.callParent(arguments),e.up("[collapsed],[hidden]")||e.doFirstRefresh(e.store)},onBoxReady:function(){var e=this;e.callParent(arguments),e.firstRefreshDone||e.doFirstRefresh(e.store)},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var e=this,t=e.loadingHeight;e.getSelectionModel().deselectAll(),e.all.clear(),t&&t>e.getHeight()&&(e.hasLoadingHeight=!0,e.oldMinHeight=e.minHeight,e.minHeight=t,e.updateLayout())},onMaskHide:function(){var e=this;!e.destroying&&e.hasLoadingHeight&&(e.minHeight=e.oldMinHeight,e.updateLayout(),delete e.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments),this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var e=this,t="SINGLE";return e.selModel||(e.selModel={}),e.simpleSelect?t="SIMPLE":e.multiSelect&&(t="MULTI"),Ext.applyIf(e.selModel,{allowDeselect:e.allowDeselect,mode:t}),e.selModel.events||(e.selModel=new Ext.selection.DataViewModel(e.selModel)),e.selModel.hasRelaySetup||(e.relayEvents(e.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.selModel.hasRelaySetup=!0),e.disableSelection&&(e.selModel.locked=!0),e.selModel},refresh:function(){var e=this,t,n,r,i,s,o;if(!e.rendered||e.isDestroyed)return;if(!e.hasListeners.beforerefresh||e.fireEvent("beforerefresh",e)!==!1)t=e.getTargetEl(),o=e.store.getRange(),s=t.dom,e.preserveScrollOnRefresh||(n=s.parentNode,r=s.style.display,s.style.display="none",i=s.nextSibling,n.removeChild(s)),e.refreshCounter?e.clearViewEl():(e.fixedNodes=t.dom.childNodes.length,e.refreshCounter=1),e.tpl.append(t,e.collectData(o,0)),o.length<1?((!e.deferEmptyText||e.hasSkippedEmptyText)&&Ext.core.DomHelper.insertHtml("beforeEnd",t.dom,e.emptyText),e.all.clear()):(e.all.fill(Ext.query(e.getItemSelector(),t.dom)),e.updateIndexes(0)),e.selModel.refresh(),e.hasSkippedEmptyText=!0,e.preserveScrollOnRefresh||(n.insertBefore(s,i),s.style.display=r),this.refreshSize(),e.fireEvent("refresh",e),e.viewReady||(e.viewReady=!0,e.fireEvent("viewready",e))},refreshSize:function(){var e=this.getSizeModel();(e.height.shrinkWrap||e.width.shrinkWrap)&&this.updateLayout()},clearViewEl:function(){var e=this,t=e.getTargetEl();if(e.fixedNodes)while(t.dom.childNodes[e.fixedNodes])t.dom.removeChild(t.dom.childNodes[e.fixedNodes]);else t.update("");e.refreshCounter++},onViewScroll:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var e=this.el.dom,t=this.scrollState;t.left=e.scrollLeft,t.top=e.scrollTop}},restoreScrollState:function(){if(this.rendered){var e=this.el.dom,t=this.scrollState;e.scrollLeft=t.left,e.scrollTop=t.top}},prepareData:function(e,t,n){var r,i;if(n){r=n.getAssociatedData();for(i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},collectData:function(e,t){var n=[],r=0,i=e.length,s;for(;r<i;r++)s=e[r],n[r]=this.prepareData(s.data,t+r,s);return n},bufferRender:function(e,t){var n=this,r=n.renderBuffer||(n.renderBuffer=document.createElement("div"));return n.tpl.overwrite(r,n.collectData(e,t)),Ext.query(n.getItemSelector(),r)},onUpdate:function(e,t){var n=this,r,i;if(n.viewReady){r=n.store.indexOf(t);if(r>-1){i=n.bufferRender([t],r)[0];if(n.getNode(t))return n.all.replaceElement(r,i,!0),n.updateIndexes(r,r),n.selModel.refresh(),n.hasListeners.itemupdate&&n.fireEvent("itemupdate",t,r,i),i}}},onAdd:function(e,t,n){var r=this,i;if(r.rendered){if(r.all.getCount()===0){r.refresh();return}i=r.bufferRender(t,n),r.doAdd(i,t,n),r.selModel.refresh(),r.updateIndexes(n),r.refreshSize(),r.hasListeners.itemadd&&r.fireEvent("itemadd",t,n,i)}},doAdd:function(e,t,n){var r=this.all,i=r.getCount();i===0?(this.clearViewEl(),this.getTargetEl().appendChild(e)):n<i?n===0?r.item(n).insertSibling(e,"before",!0):r.item(n-1).insertSibling(e,"after",!0):r.last().insertSibling(e,"after",!0),Ext.Array.insert(r.elements,n,e)},onRemove:function(e,t,n){var r=this;r.all.getCount()&&(r.store.getCount()===0?r.refresh():(r.doRemove(t,n),r.selModel.refreshOnRemove&&r.selModel.refresh(),r.updateIndexes(n)),this.refreshSize(),r.hasListeners.itemremove&&r.fireEvent("itemremove",t,n))},doRemove:function(e,t){this.all.removeElement(t,!0)},refreshNode:function(e){this.onUpdate(this.store,this.store.getAt(e))},updateIndexes:function(e,t){var n=this.all.elements,r=this.store.getRange(),i;e=e||0,t=t||(t===0?0:n.length-1);for(i=e;i<=t;i++)n[i].viewIndex=i,n[i].viewRecordId=r[i].internalId,n[i].boundView||(n[i].boundView=this.id)},getStore:function(){return this.store},bindStore:function(e,t){var n=this;n.mixins.bindable.bindStore.apply(n,arguments),t||n.getSelectionModel().bindStore(n.store),n.componentLayoutCounter&&n.doFirstRefresh(e)},doFirstRefresh:function(e){var t=this;t.firstRefreshDone=!0,e&&!e.loading&&(t.deferInitialRefresh?t.applyFirstRefresh():t.refresh())},applyFirstRefresh:function(){var e=this;if(e.isDestroyed)return;e.up("[isCollapsingOrExpanding]")?Ext.Function.defer(e.applyFirstRefresh,100,e):Ext.Function.defer(function(){e.isDestroyed||e.refresh()},1)},onUnbindStore:function(e){this.setMaskBind(null)},onBindStore:function(e){this.setMaskBind(e)},setMaskBind:function(e){var t=this.loadMask;t&&t.bindStore&&t.bindStore(e)},getStoreListeners:function(){var e=this;return{refresh:e.onDataRefresh,add:e.onAdd,remove:e.onRemove,update:e.onUpdate,clear:e.refresh}},onDataRefresh:function(){var e=this,t=!e.firstRefreshDone&&(!e.rendered||e.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));t?e.deferInitialRefresh=!1:e.blockRefresh!==!0&&(e.firstRefreshDone=!0,e.refresh.apply(e,arguments))},findItemByChild:function(e){return Ext.fly(e).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var e=[],t=this.selModel.getSelection(),n=t.length,r=0;for(;r<n;r++)e.push(this.getNode(t[r]));return e},getRecords:function(e){var t=[],n=0,r=e.length,i=this.store.data;for(;n<r;n++)t[t.length]=i.getByKey(e[n].viewRecordId);return t},getRecord:function(e){return this.store.data.getByKey(Ext.getDom(e).viewRecordId)},isSelected:function(e){var t=this.getRecord(e);return this.selModel.isSelected(t)},select:function(e,t,n){this.selModel.select(e,t,n)},deselect:function(e,t){this.selModel.deselect(e,t)},getNode:function(e){return!e&&e!==0||!this.rendered?null:Ext.isString(e)?document.getElementById(e):Ext.isNumber(e)?this.all.elements[e]:e.isModel?this.getNodeByRecord(e):e},getNodeByRecord:function(e){var t=this.all.elements,n=t.length,r=0;for(;r<n;r++)if(t[r].viewRecordId===e.internalId)return t[r];return null},getNodes:function(e,t){var n=this.all.elements;return t===undefined?t=n.length:t++,this.all.elements.slice(e||0,t)},indexOf:function(e){return e=this.getNode(e),!e&&e!==0?-1:Ext.isNumber(e.viewIndex)?e.viewIndex:this.all.indexOf(e)},onDestroy:function(){var e=this;e.all.clear(),e.callParent(),e.bindStore(null),e.selModel.destroy()},onItemSelect:function(e){var t=this.getNode(e);t&&Ext.fly(t).addCls(this.selectedItemCls)},onItemDeselect:function(e){var t=this.getNode(e);t&&Ext.fly(t).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(e,t,n){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var r=this.getSelectionModel();return r.select.apply(r,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()"
);var e=this.getSelectionModel();return e.deselectAll()}})})}),Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",deferHighlight:Ext.isIE6||Ext.isIE7?100:0,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var e=this;e.callParent(),e.deferHighlight&&(e.setHighlightedItem=Ext.Function.createBuffered(e.setHighlightedItem,e.deferHighlight,e))},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var e=this;e.callParent(),e.mon(e.getTargetEl(),{scope:e,freezeEvent:!0,click:e.handleEvent,mousedown:e.handleEvent,mouseup:e.handleEvent,dblclick:e.handleEvent,contextmenu:e.handleEvent,mouseover:e.handleEvent,mouseout:e.handleEvent,keydown:e.handleEvent})},handleEvent:function(e){var t=this,n=e.type=="keydown"&&e.getKey();t.processUIEvent(e)!==!1&&t.processSpecialEvent(e),n===e.SPACE&&(t.inputTagRe.test(e.getTarget().tagName)||e.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,stillOverItem:function(e,t){var n;return t&&typeof t.offsetParent=="object"?(n=e.type=="mouseout"?e.getRelatedTarget():e.getTarget(),Ext.fly(t).contains(n)):!1},processUIEvent:function(e){var t=this,n=e.getTarget(t.getItemSelector(),t.getTargetEl()),r=this.statics().EventMap,i,s,o=e.type,u=t.mouseOverItem,a;n||(o=="mouseover"&&t.stillOverItem(e,u)&&(n=u),o=="keydown"&&(s=t.getSelectionModel().getLastSelected(),s&&(n=t.getNode(s))));if(n){i=t.indexOf(n),s||(s=t.getRecord(n));if(!s||t.processItemEvent(s,n,i,e)===!1)return!1;a=t.isNewItemEvent(n,e);if(a===!1)return!1;if(t["onBeforeItem"+r[a]](s,n,i,e)===!1||t.fireEvent("beforeitem"+a,t,s,n,i,e)===!1||t["onItem"+r[a]](s,n,i,e)===!1)return!1;t.fireEvent("item"+a,t,s,n,i,e)}else{if(t.processContainerEvent(e)===!1||t["onBeforeContainer"+r[o]](e)===!1||t.fireEvent("beforecontainer"+o,t,e)===!1||t["onContainer"+r[o]](e)===!1)return!1;t.fireEvent("container"+o,t,e)}return!0},isNewItemEvent:function(e,t){var n=this,r=n.mouseOverItem,i=t.type;switch(i){case"mouseover":if(e===r)return!1;return n.mouseOverItem=e,"mouseenter";case"mouseout":if(n.stillOverItem(t,r))return!1;return n.mouseOverItem=null,"mouseleave"}return i},onItemMouseEnter:function(e,t,n,r){this.trackOver&&this.highlightItem(t)},onItemMouseLeave:function(e,t,n,r){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(e){var t=this,n=t.highlightedItem;n!=e&&(n&&(Ext.fly(n).removeCls(t.overItemCls),t.fireEvent("unhighlightitem",t,n)),t.highlightedItem=e,e&&(Ext.fly(e).addCls(t.overItemCls),t.fireEvent("highlightitem",t,e)))},highlightItem:function(e){this.setHighlightedItem(e)},clearHighlight:function(){this.setHighlightedItem(undefined)},onUpdate:function(e,t){var n=this,r,i,s;n.viewReady&&(r=n.getNode(t),i=n.callParent(arguments),s=n.highlightedItem,s&&s===r&&(delete n.highlightedItem,i&&n.highlightItem(i)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)}}),Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var e=this;e.callParent(),Ext.apply(e.renderData,{text:e.text})},setText:function(e){var t=this;t.rendered?(t.el.update(e),t.updateLayout()):this.text=e}}),Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Trigger",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.util.KeyNav"],trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up" role="button"></div>'+'<div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down" role="button"></div>'+"</td>"+"</tr>",initComponent:function(){this.callParent(),this.addEvents("spin","spinup","spindown")},onRender:function(){var e=this,t;e.callParent(arguments),t=e.triggerEl,e.spinUpEl=t.item(0),e.spinDownEl=t.item(1),e.triggerCell=e.spinUpEl.parent(),e.setSpinUpEnabled(e.spinUpEnabled),e.setSpinDownEnabled(e.spinDownEnabled),e.keyNavEnabled&&(e.spinnerKeyNav=new Ext.util.KeyNav(e.inputEl,{scope:e,up:e.spinUp,down:e.spinDown})),e.mouseWheelEnabled&&e.mon(e.bodyEl,"mousewheel",e.onMouseWheel,e)},getSubTplMarkup:function(){var e=this,t=Ext.form.field.Base.prototype.getSubTplMarkup.apply(e,arguments);return'<table id="'+e.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+'form-trigger-wrap" cellpadding="0" cellspacing="0">'+"<tbody>"+'<tr><td id="'+e.id+'-inputCell" class="'+Ext.baseCSSPrefix+'form-trigger-input-cell">'+t+"</td>"+e.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){var e=this,t=e.readOnly||e.hideTrigger;return e.getTpl("triggerTpl").apply({triggerStyle:"width:"+e.triggerWidth+(t?"px;display:none":"px")})},getTriggerWidth:function(){var e=this,t=0;return e.triggerWrap&&!e.hideTrigger&&!e.readOnly&&(t=e.triggerWidth),t},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var e=this;e.spinUpEnabled&&!e.disabled&&(e.fireEvent("spin",e,"up"),e.fireEvent("spinup",e),e.onSpinUp())},spinDown:function(){var e=this;e.spinDownEnabled&&!e.disabled&&(e.fireEvent("spin",e,"down"),e.fireEvent("spindown",e),e.onSpinDown())},setSpinUpEnabled:function(e){var t=this,n=t.spinUpEnabled;t.spinUpEnabled=e,n!==e&&t.rendered&&t.spinUpEl[e?"removeCls":"addCls"](t.trigger1Cls+"-disabled")},setSpinDownEnabled:function(e){var t=this,n=t.spinDownEnabled;t.spinDownEnabled=e,n!==e&&t.rendered&&t.spinDownEl[e?"removeCls":"addCls"](t.trigger2Cls+"-disabled")},onMouseWheel:function(e){var t=this,n;t.hasFocus&&(n=e.getWheelDelta(),n>0?t.spinUp():n<0&&t.spinDown(),e.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl"),this.callParent()}}),Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowDecimals:!0,decimalSeparator:".",submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){var e=this,t;e.callParent(),e.setMinValue(e.minValue),e.setMaxValue(e.maxValue),e.disableKeyFilter!==!0&&(t=e.baseChars+"",e.allowDecimals&&(t+=e.decimalSeparator),e.minValue<0&&(t+="-"),t=Ext.String.escapeRegex(t),e.maskRe=new RegExp("["+t+"]"),e.autoStripChars&&(e.stripCharsRe=new RegExp("[^"+t+"]","gi")))},getErrors:function(e){var t=this,n=t.callParent(arguments),r=Ext.String.format,i;return e=Ext.isDefined(e)?e:this.processRawValue(this.getRawValue()),e.length<1?n:(e=String(e).replace(t.decimalSeparator,"."),isNaN(e)&&n.push(r(t.nanText,e)),i=t.parseValue(e),t.minValue===0&&i<0?n.push(this.negativeText):i<t.minValue&&n.push(r(t.minText,t.minValue)),i>t.maxValue&&n.push(r(t.maxText,t.maxValue)),n)},rawToValue:function(e){var t=this.fixPrecision(this.parseValue(e));return t===null&&(t=e||null),t},valueToRaw:function(e){var t=this,n=t.decimalSeparator;return e=t.parseValue(e),e=t.fixPrecision(e),e=Ext.isNumber(e)?e:parseFloat(String(e).replace(n,".")),e=isNaN(e)?"":String(e).replace(".",n),e},getSubmitValue:function(){var e=this,t=e.callParent();return e.submitLocaleSeparator||(t=t.replace(e.decimalSeparator,".")),t},onChange:function(){this.toggleSpinners(),this.callParent(arguments)},toggleSpinners:function(){var e=this,t=e.getValue(),n=t===null;e.setSpinUpEnabled(n||t<e.maxValue),e.setSpinDownEnabled(n||t>e.minValue)},setMinValue:function(e){this.minValue=Ext.Number.from(e,Number.NEGATIVE_INFINITY),this.toggleSpinners()},setMaxValue:function(e){this.maxValue=Ext.Number.from(e,Number.MAX_VALUE),this.toggleSpinners()},parseValue:function(e){return e=parseFloat(String(e).replace(this.decimalSeparator,".")),isNaN(e)?null:e},fixPrecision:function(e){var t=this,n=isNaN(e),r=t.decimalPrecision;if(n||!e)return n?"":e;if(!t.allowDecimals||r<=0)r=0;return parseFloat(Ext.Number.toFixed(parseFloat(e),r))},beforeBlur:function(){var e=this,t=e.parseValue(e.getRawValue());Ext.isEmpty(t)||e.setValue(t)},onSpinUp:function(){var e=this;e.readOnly||e.setValue(Ext.Number.constrain(e.getValue()+e.step,e.minValue,e.maxValue))},onSpinDown:function(){var e=this;e.readOnly||e.setValue(Ext.Number.constrain(e.getValue()-e.step,e.minValue,e.maxValue))}}),Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",alias:"widget.pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:{bindable:"Ext.util.Bindable"},displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var e=this;return[{itemId:"first",tooltip:e.firstText,overflowText:e.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:e.movePrevious,scope:e},"-",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:e.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:e,keydown:e.onPagingKeyDown,blur:e.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(e.afterPageText,1)},"-",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:e.moveLast,scope:e},"-",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:e.doRefresh,scope:e}]},initComponent:function(){var e=this,t=e.getPagingItems(),n=e.items||e.buttons||[];e.prependButtons?e.items=n.concat(t):e.items=t.concat(n),delete e.buttons,e.displayInfo&&(e.items.push("->"),e.items.push({xtype:"tbtext",itemId:"displayItem"})),e.callParent(),e.addEvents("change","beforechange"),e.on("beforerender",e.onLoad,e,{single:!0}),e.bindStore(e.store||"ext-empty-store",!0)},updateInfo:function(){var e=this,t=e.child("#displayItem"),n=e.store,r=e.getPageData(),i,s;t&&(i=n.getCount(),i===0?s=e.emptyMsg:s=Ext.String.format(e.displayMsg,r.fromRecord,r.toRecord,r.total),t.setText(s))},onLoad:function(){var e=this,t,n,r,i,s,o;s=e.store.getCount(),o=s===0,o?(n=0,r=0,i=Ext.String.format(e.afterPageText,0)):(t=e.getPageData(),n=t.currentPage,r=t.pageCount,i=Ext.String.format(e.afterPageText,isNaN(r)?1:r)),Ext.suspendLayouts(),e.child("#afterTextItem").setText(i),e.child("#inputItem").setDisabled(o).setValue(n),e.child("#first").setDisabled(n===1||o),e.child("#prev").setDisabled(n===1||o),e.child("#next").setDisabled(n===r||o),e.child("#last").setDisabled(n===r||o),e.child("#refresh").enable(),e.updateInfo(),Ext.resumeLayouts(!0),e.rendered&&e.fireEvent("change",e,t)},getPageData:function(){var e=this.store,t=e.getTotalCount();return{total:t,currentPage:e.currentPage,pageCount:Math.ceil(t/e.pageSize),fromRecord:(e.currentPage-1)*e.pageSize+1,toRecord:Math.min(e.currentPage*e.pageSize,t)}},onLoadError:function(){if(!this.rendered)return;this.child("#refresh").enable()},readPageFromInput:function(e){var t=this.child("#inputItem").getValue(),n=parseInt(t,10);return!t||isNaN(n)?(this.child("#inputItem").setValue(e.currentPage),!1):n},onPagingFocus:function(){this.child("#inputItem").select()},onPagingBlur:function(e){var t=this.getPageData().currentPage;this.child("#inputItem").setValue(t)},onPagingKeyDown:function(e,t){var n=this,r=t.getKey(),i=n.getPageData(),s=t.shiftKey?10:1,o;if(r==t.RETURN)t.stopEvent(),o=n.readPageFromInput(i),o!==!1&&(o=Math.min(Math.max(1,o),i.pageCount),n.fireEvent("beforechange",n,o)!==!1&&n.store.loadPage(o));else if(r==t.HOME||r==t.END)t.stopEvent(),o=r==t.HOME?1:i.pageCount,e.setValue(o);else if(r==t.UP||r==t.PAGE_UP||r==t.DOWN||r==t.PAGE_DOWN){t.stopEvent(),o=n.readPageFromInput(i);if(o){if(r==t.DOWN||r==t.PAGE_DOWN)s*=-1;o+=s,o>=1&&o<=i.pageCount&&e.setValue(o)}}},beforeLoad:function(){this.rendered&&this.refresh&&this.refresh.disable()},moveFirst:function(){this.fireEvent("beforechange",this,1)!==!1&&this.store.loadPage(1)},movePrevious:function(){var e=this,t=e.store.currentPage-1;t>0&&e.fireEvent("beforechange",e,t)!==!1&&e.store.previousPage()},moveNext:function(){var e=this,t=e.getPageData().pageCount,n=e.store.currentPage+1;n<=t&&e.fireEvent("beforechange",e,n)!==!1&&e.store.nextPage()},moveLast:function(){var e=this,t=e.getPageData().pageCount;e.fireEvent("beforechange",e,t)!==!1&&e.store.loadPage(t)},doRefresh:function(){var e=this,t=e.store.currentPage;e.fireEvent("beforechange",e,t)!==!1&&e.store.loadPage(t)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(e){this.bindStore(null)},bind:function(e){this.bindStore(e)},onDestroy:function(){this.unbind(),this.callParent()}}),Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.layout.component.BoundList","Ext.toolbar.Paging"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,refreshed:0,deferInitialRefresh:!1,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],initComponent:function(){var e=this,t=e.baseCls,n=e.itemCls;e.selectedItemCls=t+"-selected",e.overItemCls=t+"-item-over",e.itemSelector="."+n,e.floating&&e.addCls(t+"-floating"),e.tpl?Ext.isString(e.tpl)&&(e.tpl=new Ext.XTemplate(e.tpl)):e.tpl=new Ext.XTemplate('<ul><tpl for=".">','<li role="option" class="'+n+'">'+e.getInnerTpl(e.displayField)+"</li>","</tpl></ul>"),e.pageSize&&(e.pagingToolbar=e.createPagingToolbar()),e.callParent()},beforeRender:function(){var e=this;e.callParent(arguments),e.up("menu")&&e.addCls(Ext.baseCSSPrefix+"menu")},getBubbleTarget:function(){return this.pickerField},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.store,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var e=this.pagingToolbar;this.callParent(arguments),e&&e.finishRender()},refresh:function(){var e=this,t=e.pagingToolbar;e.callParent(),e.rendered&&t&&t.rendered&&!e.preserveScrollOnRefresh&&e.el.appendChild(t.el)},bindStore:function(e,t){var n=this.pagingToolbar;this.callParent(arguments),n&&n.bindStore(this.store,t)},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(e){return"{"+e+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl"),this.callParent()}}),Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.util.KeyNav",requires:"Ext.view.BoundList",constructor:function(e,t){var n=this;n.boundList=t.boundList,n.callParent([e,Ext.apply({},t,n.defaultHandlers)])},defaultHandlers:{up:function(){var e=this,t=e.boundList,n=t.all,r=t.highlightedItem,i=r?t.indexOf(r):-1,s=i>0?i-1:n.getCount()-1;e.highlightAt(s)},down:function(){var e=this,t=e.boundList,n=t.all,r=t.highlightedItem,i=r?t.indexOf(r):-1,s=i<n.getCount()-1?i+1:0;e.highlightAt(s)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var e=this;e.highlightAt(e.boundList.all.getCount()-1)},enter:function(e){this.selectHighlighted(e)}},highlightAt:function(e){var t=this.boundList,n=t.all.item(e);n&&(n=n.dom,t.highlightItem(n),t.getTargetEl().scrollChildIntoView(n,!1))},selectHighlighted:function(e){var t=this,n=t.boundList,r=n.highlightedItem,i=n.getSelectionModel();r&&i.selectWithEvent(n.getRecord(r),e)}}),Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.EventObject","Ext.view.BoundList","Ext.view.BoundListKeyNav","Ext.data.StoreManager","Ext.layout.component.field.ComboBox"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:{bindable:"Ext.util.Bindable"},componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:!0,disableFormats:!0}],getSubTplData:function(){var e=this;return Ext.applyIf(e.subTplData,{hiddenDataCls:e.hiddenDataCls}),e.callParent(arguments)},afterRender:function(){var e=this;e.callParent(arguments),e.setHiddenValue(e.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,pageSize:0,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var e=this;return e.grow&&e.growToLongestValue},initComponent:function(){var e=this,t=Ext.isDefined,n=e.store,r=e.transform,i,s;Ext.applyIf(e.renderSelectors,{hiddenDataEl:"."+e.hiddenDataCls.split(" ").join(".")}),this.addEvents("beforequery","select","beforeselect","beforedeselect"),r&&(i=Ext.getDom(r),i&&(e.store||(n=Ext.Array.map(Ext.Array.from(i.options),function(e){return[e.value,e.text]})),e.name||(e.name=i.name),"value"in e||(e.value=i.value))),e.bindStore(n||"ext-empty-store",!0),n=e.store,n.autoCreated&&(e.queryMode="local",e.valueField=e.displayField="field1",n.expanded||(e.displayField="field2")),t(e.valueField)||(e.valueField=e.displayField),s=e.queryMode==="local",t(e.queryDelay)||(e.queryDelay=s?10:500),t(e.minChars)||(e.minChars=s?0:4),e.displayTpl?Ext.isString(e.displayTpl)&&(e.displayTpl=new Ext.XTemplate(e.displayTpl)):e.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+e.displayField+'"]]}'+'<tpl if="xindex < xcount">'+e.delimiter+"</tpl>"+"</tpl>"),e.callParent(),e.doQueryTask=new Ext.util.DelayedTask(e.doRawQuery,e),e.store.getCount()>0&&e.setValue(e.value),i&&(e.render(i.parentNode,i),Ext.removeNode(i),delete e.renderTo)},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel(),this.assertValue()},assertValue:function(){var e=this,t=e.getRawValue(),n;e.forceSelection&&(e.multiSelect?t!==e.getDisplayValue()&&e.setValue(e.lastSelection):(n=e.findRecordByDisplay(t),n?e.select(n):e.setValue(e.lastSelection))),e.collapse()},onTypeAhead:function(){var e=this,t=e.displayField,n=e.store.findRecord(t,e.getRawValue()),r=e.getPicker(),i,s,o;n&&(i=n.get(t),s=i.length,o=e.getRawValue().length,r.highlightItem(r.getNode(n)),o!==0&&o!==s&&(e.setRawValue(i),e.selectText(o,i.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent(),this.clearFilter()},onUnbindStore:function(e){var t=this.picker;!e&&t&&t.bindStore(null),this.clearFilter()},onBindStore:function(e,t){var n=this.picker;t||this.resetToDefault(),n&&n.bindStore(e)},getStoreListeners:function(){var e=this;return{beforeload:e.onBeforeLoad,clear:e.onClear,datachanged:e.onDataChanged,load:e.onLoad,exception:e.onException,remove:e.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var e=this;e.resizeComboToGrow()&&e.updateLayout()},onClear:function(){var e=this;e.resizeComboToGrow()&&(e.removingRecords=!0,e.onDataChanged())},onRemove:function(){var e=this;e.resizeComboToGrow()&&(e.removingRecords=!0)},onException:function(){this.ignoreSelection>0&&--this.ignoreSelection,this.collapse()},onLoad:function(){var e=this,t=e.value;e.ignoreSelection>0&&--e.ignoreSelection,e.rawQuery?(e.rawQuery=!1,e.syncSelection(),e.picker&&!e.picker.getSelectionModel().hasSelection()&&e.doAutoSelect()):e.value||e.value===0?e.setValue(e.value):e.store.getCount()?e.doAutoSelect():e.setValue(e.value)},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(e,t,n){e=e||"";var r=this,i={query:e,forceAll:t,combo:r,cancel:!1},s=r.store,o=r.queryMode==="local",u;if(r.fireEvent("beforequery",i)===!1||i.cancel)return!1;e=i.query,t=i.forceAll;if(t||e.length>=r.minChars){r.expand();if(!r.queryCaching||r.lastQuery!==e)r.lastQuery=e,o?(s.suspendEvents(),u=r.clearFilter(),e||!t?(r.activeFilter=new Ext.util.Filter({root:"data",property:r.displayField,value:e}),s.filter(r.activeFilter),u=!0):delete r.activeFilter,s.resumeEvents(),r.rendered&&u&&r.getPicker().refresh()):(r.rawQuery=n,r.pageSize?r.loadPage(1):s.load({params:r.getParams(e)}));r.getRawValue()!==r.getDisplayValue()&&(r.ignoreSelection++,r.picker.getSelectionModel().deselectAll(),r.ignoreSelection--),o&&r.doAutoSelect(),r.typeAhead&&r.doTypeAhead()}return!0},clearFilter:function(){var e=this.store,t=this.activeFilter,n=e.filters,r;return t&&(n.getCount()>1&&(n.remove(t),r=n.getRange()),e.clearFilter(!0),r&&e.filter(r)),!!t},loadPage:function(e){this.store.loadPage(e,{params:this.getParams(this.lastQuery)})},onPageChange:function(e,t){return this.loadPage(t),!1},getParams:function(e){var t={},n=this.queryParam;return n&&(t[n]=e),t},doAutoSelect:function(){var e=this,t=e.picker,n,r;t&&e.autoSelect&&e.store.getCount()>0&&(n=t.getSelectionModel().lastSelected,r=t.getNode(n||0),r&&(t.highlightItem(r),t.listEl.scrollChildIntoView(r,!1)))},doTypeAhead:function(){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){var e=this;!e.readOnly&&!e.disabled&&(e.isExpanded?e.collapse():(e.onFocus({}),e.triggerAction==="all"?e.doQuery(e.allQuery,!0):e.doQuery(e.getRawValue(),!1,!0)),e.inputEl.focus())},onKeyUp:function(e,t){var n=this,r=e.getKey();!n.readOnly&&!n.disabled&&n.editable&&(n.lastKey=r,(!e.isSpecialKey()||r==e.BACKSPACE||r==e.DELETE)&&n.doQueryTask.delay(n.queryDelay)),n.enableKeyEvents&&n.callParent(arguments)},initEvents:function(){var e=this;e.callParent(),e.enableKeyEvents||e.mon(e.inputEl,"keyup",e.onKeyUp,e)},onDestroy:function(){this.bindStore(null),this.callParent()},onAdded:function(){var e=this;e.callParent(arguments),e.picker&&(e.picker.ownerCt=e.up("[floating]"),e.picker.registerWithOwnerCt())},createPicker:function(){var e=this,t,n=Ext.apply({xtype:"boundlist",pickerField:e,selModel:{mode:e.multiSelect?"SIMPLE":"SINGLE"},floating:!0,hidden:!0,store:e.store,displayField:e.displayField,focusOnToFront:!1,pageSize:e.pageSize,tpl:e.tpl},e.listConfig,e.defaultListConfig);return t=e.picker=Ext.widget(n),e.pageSize&&t.pagingToolbar.on("beforechange",e.onPageChange,e),e.mon(t,{itemclick:e.onItemClick,refresh:e.onListRefresh,scope:e}),e.mon(t.getSelectionModel(),{beforeselect:e.onBeforeSelect,beforedeselect:e.onBeforeDeselect,selectionchange:e.onListSelectionChange,scope:e}),t},alignPicker:function(){var e=this,t=e.getPicker(),n=e.getPosition()[1]-Ext.getBody().getScroll().top,r=Ext.Element.getViewHeight()-n-e.getHeight(),i=Math.max(n,r);t.height&&(delete t.height,t.updateLayout()),t.getHeight()>i-5&&t.setHeight(i-5),e.callParent()},onListRefresh:function(){this.alignPicker(),this.syncSelection()},onItemClick:function(e,t){var n=this,r=n.picker.getSelectionModel().getSelection(),i=n.valueField;!n.multiSelect&&r.length&&t.get(i)===r[0].get(i)&&(n.displayTplData=[t.data],n.setRawValue(n.getDisplayValue()),n.collapse())},onBeforeSelect:function(e,t){return this.fireEvent("beforeselect",this,t,t.index)},onBeforeDeselect:function(e,t){return this.fireEvent("beforedeselect",this,t,t.index)},onListSelectionChange:function(e,t){var n=this,r=n.multiSelect,i=t.length>0;!n.ignoreSelection&&n.isExpanded&&(r||Ext.defer(n.collapse,1,n),(r||i)&&n.setValue(t,!1),i&&n.fireEvent("select",n,t),n.inputEl.focus())},onExpand:function(){var e=this,t=e.listKeyNav,n=e.selectOnTab,r=e.getPicker();t?t.enable():t=e.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:r,forceKeyDown:!0,tab:function(t){return n&&(this.selectHighlighted(t),e.triggerBlur()),!0}}),n&&(e.ignoreMonitorTab=!0),Ext.defer(t.enable,1,t),e.inputEl.focus()},onCollapse:function(){var e=this,t=e.listKeyNav;t&&(t.disable(),e.ignoreMonitorTab=!1)},select:function(e){this.setValue(e,!0)},findRecord:function(e,t){var n=this.store,r=n.findExact(e,t);return r!==-1?n.getAt(r):!1},findRecordByValue:function(e){return this.findRecord(this.valueField,e)},findRecordByDisplay:function(e){return this.findRecord(this.displayField,e)},setValue:function(e,t){var n=this,r=n.valueNotFoundText,i=n.inputEl,s,o,u,a,f=[],l=[],c=[];if(n.store.loading)return n.value=e,n.setHiddenValue(n.value),n;e=Ext.Array.from(e);for(s=0,o=e.length;s<o;s++){u=e[s];if(!u||!u.isModel)u=n.findRecordByValue(u);u?(f.push(u),l.push(u.data),c.push(u.get(n.valueField))):n.forceSelection?Ext.isDefined(r)&&l.push(r):(c.push(e[s]),a={},a[n.displayField]=e[s],l.push(a))}return n.setHiddenValue(c),n.value=n.multiSelect?c:c[0],Ext.isDefined(n.value)||(n.value=null),n.displayTplData=l,n.lastSelection=n.valueModels=f,i&&n.emptyText&&!Ext.isEmpty(e)&&i.removeCls(n.emptyCls),n.setRawValue(n.getDisplayValue()),n.checkChange(),t!==!1&&n.syncSelection(),n.applyEmptyText(),n},setHiddenValue:function(e){var t=this,n=t.hiddenName,r,i,s,o,u,a;if(!t.hiddenDataEl||!n)return;e=Ext.Array.from(e),i=t.hiddenDataEl.dom,s=i.childNodes,o=s[0],u=e.length,a=s.length,!o&&u>0&&(t.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:n})),a=1,o=i.firstChild);while(a>u)i.removeChild(s[0]),--a;while(a<u)i.appendChild(o.cloneNode(!0)),++a;for(r=0;r<u;r++)s[r].value=e[r]},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var e=this,t=e.picker,n=e.getRawValue(),r=e.value;return e.getDisplayValue()!==n&&(r=n,e.value=e.displayTplData=e.valueModels=null,t&&(e.ignoreSelection++,t.getSelectionModel().deselectAll(),e.ignoreSelection--)),r},getSubmitValue:function(){return this.getValue()},isEqual:function(e,t){var n=Ext.Array.from,r,i;e=n(e),t=n(t),i=e.length;if(i!==t.length)return!1;for(r=0;r<i;r++)if(t[r]!==e[r])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var e=this,t=e.picker,n,r,i=e.valueModels||[],s=i.length,o,u;if(t){n=[];for(o=0;o<s;o++)u=i[o],u&&u.isModel&&e.store.indexOf(u)>=0&&n.push(u);e.ignoreSelection++,r=t.getSelectionModel(),r.deselectAll(),n.length&&r.select(n),e.ignoreSelection--}},onEditorTab:function(e){var t=this.listKeyNav;this.selectOnTab&&t&&t.selectHighlighted(e)}}),Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month"><a style="{parent.monthStyle}" href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<button id="{id}-prevEl" class="{baseCls}-yearnav-prev"></button>','<button id="{id}-nextEl" class="{baseCls}-yearnav-next"></button>',"</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year"><a href="#" hidefocus="on">{.}</a></div>',"</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,width:178,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var e=this;e.selectedCls=e.baseCls+"-selected",e.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick"),e.small&&e.addCls(e.smallCls),e.setValue(e.value),e.activeYear=e.getYear((new Date).getFullYear()-4,-4),e.showButtons&&(e.okBtn=new Ext.button.Button({text:e.okText,handler:e.onOkClick,scope:e}),e.cancelBtn=new Ext.button.Button({text:e.cancelText,handler:e.onCancelClick,scope:e})),this.callParent()},beforeRender:function(){var e=this,t=0,n=[],r=Ext.Date.getShortMonthName,i=e.monthOffset,s=e.monthMargin,o="";e.callParent();for(;t<i;++t)n.push(r(t),r(t+i));Ext.isDefined(s)&&(o="margin: 0 "+s+"px;"),Ext.apply(e.renderData,{months:n,years:e.getYears(),showButtons:e.showButtons,monthStyle
:o})},afterRender:function(){var e=this,t=e.bodyEl,n=e.buttonsEl;e.callParent(),e.mon(t,"click",e.onBodyClick,e),e.mon(t,"dblclick",e.onBodyClick,e),e.years=t.select("."+e.baseCls+"-year a"),e.months=t.select("."+e.baseCls+"-month a"),e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])}),e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over"),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])}),e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over"),e.updateBody(),Ext.isDefined(e.monthMargin)||(Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin())},calculateMonthMargin:function(){var e=this,t=e.monthEl,n=e.months,r=n.first(),i=r.getMargin("l");while(i&&e.getLargest()>e.measureMaxHeight)--i,n.setStyle("margin","0 "+i+"px");return i},getLargest:function(e){var t=0;return this.months.each(function(e){var n=e.getHeight();n>t&&(t=n)}),t},setValue:function(e){var t=this,n=t.activeYear,r=t.monthOffset,i,s;return e?Ext.isDate(e)?t.value=[e.getMonth(),e.getFullYear()]:t.value=[e[0],e[1]]:t.value=[null,null],t.rendered&&(i=t.value[1],i!==null&&(i<n||i>n+t.yearOffset)&&(t.activeYear=i-t.yearOffset+1),t.updateBody()),t},getValue:function(){return this.value},hasSelection:function(){var e=this.value;return e[0]!==null&&e[1]!==null},getYears:function(){var e=this,t=e.yearOffset,n=e.activeYear,r=n+t,i=n,s=[];for(;i<r;++i)s.push(i,i+t);return s},updateBody:function(){var e=this,t=e.years,n=e.months,r=e.getYears(),i=e.selectedCls,s=e.getYear(null),o=e.value[0],u=e.monthOffset,a,f,l,c,h;if(e.rendered){t.removeCls(i),n.removeCls(i),f=t.elements,c=f.length;for(l=0;l<c;l++)h=Ext.fly(f[l]),a=r[l],h.dom.innerHTML=a,a==s&&(h.dom.className=i);o!==null&&(o<u?o*=2:o=(o-u)*2+1,n.item(o).addCls(i))}},getYear:function(e,t){var n=this.value[1];return t=t||0,n===null?e:n+t},onBodyClick:function(e,t){var n=this,r=e.type=="dblclick";e.getTarget("."+n.baseCls+"-month")?(e.stopEvent(),n.onMonthClick(t,r)):e.getTarget("."+n.baseCls+"-year")&&(e.stopEvent(),n.onYearClick(t,r))},adjustYear:function(e){typeof e!="number"&&(e=this.totalYears),this.activeYear+=e,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(e,t){var n=this;n.value[0]=n.resolveOffset(n.months.indexOf(e),n.monthOffset),n.updateBody(),n.fireEvent("month"+(t?"dbl":"")+"click",n,n.value),n.fireEvent("select",n,n.value)},onYearClick:function(e,t){var n=this;n.value[1]=n.activeYear+n.resolveOffset(n.years.indexOf(e),n.yearOffset),n.updateBody(),n.fireEvent("year"+(t?"dbl":"")+"click",n,n.value),n.fireEvent("select",n,n.value)},resolveOffset:function(e,t){return e%2===0?e/2:t+Math.floor(e/2)},beforeDestroy:function(){var e=this;e.years=e.months=null,Ext.destroyMembers(e,"backRepeater","nextRepeater","okBtn","cancelBtn"),e.callParent()},finishRenderChildren:function(){var e=this;this.callParent(arguments),this.showButtons&&(e.okBtn.finishRender(),e.cancelBtn.finishRender())},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn"),this.callParent()}}),Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.EventObject","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<div class="{baseCls}-prev"><a id="{id}-prevEl" href="#" role="button" title="{prevText}"></a></div>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<div class="{baseCls}-next"><a id="{id}-nextEl" href="#" role="button" title="{nextText}"></a></div>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="presentation">','<thead role="presentation"><tr role="presentation">','<tpl for="dayNames">','<th role="columnheader" title="{.}"><span>{.:this.firstInitial}</span></th>',"</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="presentation">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" href="#" hidefocus="on" class="{parent.baseCls}-date" tabIndex="1">','<em role="presentation"><span role="presentation"></span></em>',"</a>","</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(e){return Ext.picker.Date.prototype.getDayInitial(e)},isEndOfWeek:function(e){e--;var t=e%7===0&&e!==0;return t?'</tr><tr role="row">':""},renderTodayBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.monthBtn.getRenderTree(),t)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:!1,focusOnSelect:!0,width:178,initHour:12,numDays:42,initComponent:function(){var e=this,t=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected",e.disabledCellCls=e.baseCls+"-disabled",e.prevCls=e.baseCls+"-prevday",e.activeCls=e.baseCls+"-active",e.nextCls=e.baseCls+"-prevday",e.todayCls=e.baseCls+"-today",e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay)),e.listeners=Ext.apply(e.listeners||{},{mousewheel:{element:"eventEl",fn:e.handleMouseWheel,scope:e},click:{element:"eventEl",fn:e.handleDateClick,scope:e,delegate:"a."+e.baseCls+"-date"}}),this.callParent(),e.value=e.value?t(e.value,!0):t(new Date),e.addEvents("select"),e.initDisabledDays()},beforeRender:function(){var e=this,t=new Array(e.numDays),n=Ext.Date.format(new Date,e.format);e.up("menu")&&e.addCls(Ext.baseCSSPrefix+"menu"),e.monthBtn=new Ext.button.Split({ownerCt:e,ownerLayout:e.getComponentLayout(),text:"",tooltip:e.monthYearText,listeners:{click:e.showMonthPicker,arrowclick:e.showMonthPicker,scope:e}}),this.showToday&&(e.todayBtn=new Ext.button.Button({ownerCt:e,ownerLayout:e.getComponentLayout(),text:Ext.String.format(e.todayText,n),tooltip:Ext.String.format(e.todayTip,n),tooltipType:"title",handler:e.selectToday,scope:e})),e.callParent(),Ext.applyIf(e,{renderData:{}}),Ext.apply(e.renderData,{dayNames:e.dayNames,showToday:e.showToday,prevText:e.prevText,nextText:e.nextText,days:t})},finishRenderChildren:function(){var e=this;e.callParent(),e.monthBtn.finishRender(),e.showToday&&e.todayBtn.finishRender()},onRender:function(e,t){var n=this;n.callParent(arguments),n.el.unselectable(),n.cells=n.eventEl.select("tbody td"),n.textNodes=n.eventEl.query("tbody td span")},initEvents:function(){var e=this,t=Ext.Date,n=t.DAY;e.callParent(),e.prevRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:e.showPrevMonth,scope:e,preventDefault:!0,stopDefault:!0}),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:e.showNextMonth,scope:e,preventDefault:!0,stopDefault:!0}),e.keyNav=new Ext.util.KeyNav(e.eventEl,Ext.apply({scope:e,left:function(r){r.ctrlKey?e.showPrevMonth():e.update(t.add(e.activeDate,n,-1))},right:function(r){r.ctrlKey?e.showNextMonth():e.update(t.add(e.activeDate,n,1))},up:function(r){r.ctrlKey?e.showNextYear():e.update(t.add(e.activeDate,n,-7))},down:function(r){r.ctrlKey?e.showPrevYear():e.update(t.add(e.activeDate,n,7))},pageUp:e.showNextMonth,pageDown:e.showPrevMonth,enter:function(e){return e.stopPropagation(),!0}},e.keyNavConfig)),e.showToday&&(e.todayKeyListener=e.eventEl.addKeyListener(Ext.EventObject.SPACE,e.selectToday,e)),e.update(e.value)},initDisabledDays:function(){var e=this,t=e.disabledDates,n="(?:",r,i,s,o;if(!e.disabledDatesRE&&t){r=t.length-1,s=t.length;for(i=0;i<s;i++)o=t[i],n+=Ext.isDate(o)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(o,e.format))+"$":o,i!=r&&(n+="|");e.disabledDatesRE=new RegExp(n+")")}},setDisabledDates:function(e){var t=this;return Ext.isArray(e)?(t.disabledDates=e,t.disabledDatesRE=null):t.disabledDatesRE=e,t.initDisabledDays(),t.update(t.value,!0),t},setDisabledDays:function(e){return this.disabledDays=e,this.update(this.value,!0)},setMinDate:function(e){return this.minDate=e,this.update(this.value,!0)},setMaxDate:function(e){return this.maxDate=e,this.update(this.value,!0)},setValue:function(e){return this.value=Ext.Date.clearTime(e,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(e){return e.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent(),this.setDisabledStatus(!1),this.update(this.activeDate)},onDisable:function(){this.callParent(),this.setDisabledStatus(!0)},setDisabledStatus:function(e){var t=this;t.keyNav.setDisabled(e),t.prevRepeater.setDisabled(e),t.nextRepeater.setDisabled(e),t.showToday&&(t.todayKeyListener.setDisabled(e),t.todayBtn.setDisabled(e))},getActive:function(){return this.activeDate||this.value},runAnimation:function(e){var t=this.monthPicker,n={duration:200,callback:function(){e?t.hide():t.show()}};e?t.el.slideOut("t",n):t.el.slideIn("t",n)},hideMonthPicker:function(e){var t=this,n=t.monthPicker;return n&&(t.shouldAnimate(e)?t.runAnimation(!0):n.hide()),t},showMonthPicker:function(e){var t=this,n;return t.rendered&&!t.disabled&&(n=t.createMonthPicker(),n.setValue(t.getActive()),n.setSize(t.getSize()),n.setPosition(-1,-1),t.shouldAnimate(e)?t.runAnimation(!1):n.show()),t},shouldAnimate:function(e){return Ext.isDefined(e)?e:!this.disableAnim},createMonthPicker:function(){var e=this,t=e.monthPicker;return t||(e.monthPicker=t=new Ext.picker.Month({renderTo:e.el,floating:!0,shadow:!1,small:e.showToday===!1,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}}),e.disableAnim||t.el.setStyle("display","none"),e.on("beforehide",Ext.Function.bind(e.hideMonthPicker,e,[!1]))),t},onOkClick:function(e,t){var n=this,r=t[0],i=t[1],s=new Date(i,r,n.getActive().getDate());s.getMonth()!==r&&(s=Ext.Date.getLastDateOfMonth(new Date(i,r,1))),n.update(s),n.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(e){return this.update(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(e){return this.update(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){this.update(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){this.update(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(e){e.stopEvent();if(!this.disabled){var t=e.getWheelDelta();t>0?this.showPrevMonth():t<0&&this.showNextMonth()}},handleDateClick:function(e,t){var n=this,r=n.handler;e.stopEvent(),!n.disabled&&t.dateValue&&!Ext.fly(t.parentNode).hasCls(n.disabledCellCls)&&(n.doCancelFocus=n.focusOnSelect===!1,n.setValue(new Date(t.dateValue)),delete n.doCancelFocus,n.fireEvent("select",n,n.value),r&&r.call(n.scope||n,n,n.value),n.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var e=this,t=e.todayBtn,n=e.handler;return t&&!t.disabled&&(e.setValue(Ext.Date.clearTime(new Date)),e.fireEvent("select",e,e.value),n&&n.call(e.scope||e,e,e.value),e.onSelect()),e},selectedUpdate:function(e){var t=this,n=e.getTime(),r=t.cells,i=t.selectedCls,s=r.elements,o,u=s.length,a;r.removeCls(i);for(o=0;o<u;o++){a=Ext.fly(s[o]);if(a.dom.firstChild.dateValue==n){t.fireEvent("highlightitem",t,a),a.addCls(i),t.isVisible()&&!t.doCancelFocus&&Ext.fly(a.dom.firstChild).focus(50);break}}},fullUpdate:function(e){var t=this,n=t.cells.elements,r=t.textNodes,i=t.disabledCellCls,s=Ext.Date,o=0,u=0,a=t.isVisible(),f=+s.clearTime(e,!0),l=+s.clearTime(new Date),c=t.minDate?s.clearTime(t.minDate,!0):Number.NEGATIVE_INFINITY,h=t.maxDate?s.clearTime(t.maxDate,!0):Number.POSITIVE_INFINITY,p=t.disabledDatesRE,d=t.disabledDatesText,v=t.disabledDays?t.disabledDays.join(""):!1,m=t.disabledDaysText,g=t.format,y=s.getDaysInMonth(e),b=s.getFirstDateOfMonth(e),w=b.getDay()-t.startDay,E=s.add(e,s.MONTH,-1),S=t.longDayFormat,x,T,N,C,k,L,A,O,M;w<0&&(w+=7),y+=w,x=s.getDaysInMonth(E)-w,T=new Date(E.getFullYear(),E.getMonth(),x,t.initHour),t.showToday&&(C=s.clearTime(new Date),N=C<c||C>h||p&&g&&p.test(s.dateFormat(C,g))||v&&v.indexOf(C.getDay())!=-1,t.disabled||(t.todayBtn.setDisabled(N),t.todayKeyListener.setDisabled(N))),k=function(e){M=+s.clearTime(T,!0),e.title=s.format(T,S),e.firstChild.dateValue=M,M==l&&(e.className+=" "+t.todayCls,e.title=t.todayText),M==f&&(e.className+=" "+t.selectedCls,t.fireEvent("highlightitem",t,e),a&&t.floating&&Ext.fly(e.firstChild).focus(50));if(M<c){e.className=i,e.title=t.minText;return}if(M>h){e.className=i,e.title=t.maxText;return}v&&v.indexOf(T.getDay())!=-1&&(e.title=m,e.className=i),p&&g&&(O=s.dateFormat(T,g),p.test(O)&&(e.title=d.replace("%0",O),e.className=i))};for(;o<t.numDays;++o)o<w?(L=++x,A=t.prevCls):o>=y?(L=++u,A=t.nextCls):(L=o-w+1,A=t.activeCls),r[o].innerHTML=L,n[o].className=A,T.setDate(T.getDate()+1),k(n[o]);t.monthBtn.setText(Ext.Date.format(e,t.monthYearFormat))},update:function(e,t){var n=this,r=n.activeDate;return n.rendered&&(n.activeDate=e,!t&&r&&n.el&&r.getMonth()==e.getMonth()&&r.getFullYear()==e.getFullYear()?n.selectedUpdate(e,r):n.fullUpdate(e,r),n.innerEl.dom.title=Ext.String.format(n.ariaTitle,Ext.Date.format(n.activeDate,n.ariaTitleDateFormat))),n},beforeDestroy:function(){var e=this;e.rendered&&(Ext.destroy(e.todayKeyListener,e.keyNav,e.monthPicker,e.monthBtn,e.nextRepeater,e.prevRepeater,e.todayBtn),delete e.textNodes,delete e.cells.elements),e.callParent()},onShow:function(){this.callParent(arguments),this.focusOnShow&&this.focus()}},function(){var e=this.prototype,t=Ext.Date;e.monthNames=t.monthNames,e.dayNames=t.dayNames,e.format=t.defaultFormat}),Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,initComponent:function(){var e=this,t=Ext.isString,n,r;n=e.minValue,r=e.maxValue,t(n)&&(e.minValue=e.parseDate(n)),t(r)&&(e.maxValue=e.parseDate(r)),e.disabledDatesRE=null,e.initDisabledDays(),e.callParent()},initValue:function(){var e=this,t=e.value;Ext.isString(t)&&(e.value=e.rawToValue(t)),e.callParent()},initDisabledDays:function(){if(this.disabledDates){var e=this.disabledDates,t=e.length-1,n="(?:",r,i=e.length,s;for(r=0;r<i;r++)s=e[r],n+=Ext.isDate(s)?"^"+Ext.String.escapeRegex(s.dateFormat(this.format))+"$":s,r!==t&&(n+="|");this.disabledDatesRE=new RegExp(n+")")}},setDisabledDates:function(e){var t=this,n=t.picker;t.disabledDates=e,t.initDisabledDays(),n&&n.setDisabledDates(t.disabledDatesRE)},setDisabledDays:function(e){var t=this.picker;this.disabledDays=e,t&&t.setDisabledDays(e)},setMinValue:function(e){var t=this,n=t.picker,r=Ext.isString(e)?t.parseDate(e):e;t.minValue=r,n&&(n.minText=Ext.String.format(t.minText,t.formatDate(t.minValue)),n.setMinDate(r))},setMaxValue:function(e){var t=this,n=t.picker,r=Ext.isString(e)?t.parseDate(e):e;t.maxValue=r,n&&(n.maxText=Ext.String.format(t.maxText,t.formatDate(t.maxValue)),n.setMaxDate(r))},getErrors:function(e){var t=this,n=Ext.String.format,r=Ext.Date.clearTime,i=t.callParent(arguments),s=t.disabledDays,o=t.disabledDatesRE,u=t.minValue,a=t.maxValue,f=s?s.length:0,l=0,c,h,p,d;e=t.formatDate(e||t.processRawValue(t.getRawValue()));if(e===null||e.length<1)return i;c=e,e=t.parseDate(e);if(!e)return i.push(n(t.invalidText,c,Ext.Date.unescapeFormat(t.format))),i;d=e.getTime(),u&&d<r(u).getTime()&&i.push(n(t.minText,t.formatDate(u))),a&&d>r(a).getTime()&&i.push(n(t.maxText,t.formatDate(a)));if(s){p=e.getDay();for(;l<f;l++)if(p===s[l]){i.push(t.disabledDaysText);break}}return h=t.formatDate(e),o&&o.test(h)&&i.push(n(t.disabledDatesText,h)),i},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},safeParse:function(e,t){var n=this,r=Ext.Date,i=null,s=n.useStrict,o;return r.formatContainsHourInfo(t)?i=r.parse(e,t,s):(o=r.parse(e+" "+n.initTime,t+" "+n.initTimeFormat,s),o&&(i=r.clearTime(o))),i},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):""},parseDate:function(e){if(!e||Ext.isDate(e))return e;var t=this,n=t.safeParse(e,t.format),r=t.altFormats,i=t.altFormatsArray,s=0,o;if(!n&&r){i=i||r.split("|"),o=i.length;for(;s<o&&!n;++s)n=t.safeParse(e,i[s])}return n},formatDate:function(e){return Ext.isDate(e)?Ext.Date.dateFormat(e,this.format):e},createPicker:function(){var e=this,t=Ext.String.format;return new Ext.picker.Date({pickerField:e,ownerCt:e.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:e.minValue,maxDate:e.maxValue,disabledDatesRE:e.disabledDatesRE,disabledDatesText:e.disabledDatesText,disabledDays:e.disabledDays,disabledDaysText:e.disabledDaysText,format:e.format,showToday:e.showToday,startDay:e.startDay,minText:t(e.minText,e.formatDate(e.minValue)),maxText:t(e.maxText,e.formatDate(e.maxValue)),listeners:{scope:e,select:e.onSelect},keyNavConfig:{esc:function(){e.collapse()}}})},onSelect:function(e,t){var n=this;n.setValue(t),n.fireEvent("select",n,t),n.collapse()},onExpand:function(){var e=this.getValue();this.picker.setValue(Ext.isDate(e)?e:new Date)},onCollapse:function(){this.focus(!1,60)},beforeBlur:function(){var e=this,t=e.parseDate(e.getRawValue()),n=e.focusTask;n&&n.cancel(),t&&e.setValue(t)}}),Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Trigger",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],uses:["Ext.button.Button","Ext.layout.component.field.Field"],buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,fieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:!0,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["fileInputEl","buttonEl","buttonEl-btnEl","browseButtonWrap"],onRender:function(){var e=this,t;e.callParent(arguments),t=e.inputEl,t.dom.name="",e.fileInputEl.dom.name=e.getName(),e.fileInputEl.on({scope:e,change:e.onFileChange}),e.buttonOnly&&e.inputCell.setDisplayed(!1),e.browseButtonWrap.dom.style.width=e.browseButtonWrap.dom.lastChild.offsetWidth+e.buttonEl.getMargin("lr")+"px",Ext.isIE&&e.buttonEl.repaint()},getTriggerMarkup:function(){var e=this,t,n=Ext.widget("button",Ext.apply({id:e.id+"-buttonEl",ui:e.ui,disabled:e.disabled,text:e.buttonText,cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,style:e.buttonOnly?"":"margin-left:"+e.buttonMargin+"px"},e.buttonConfig)),r=n.getRenderTree(),i={id:e.id+"-fileInputEl",cls:Ext.baseCSSPrefix+"form-file-input",tag:"input",type:"file",size:1};return e.disabled&&(i.disabled=!0),r.cn=i,t='<td id="'+e.id+'-browseButtonWrap">'+Ext.DomHelper.markup(r)+"</td>",n.destroy(),t},createFileInput:function(){var e=this;e.fileInputEl=e.buttonEl.createChild({name:e.getName(),id:e.id+"-fileInputEl",cls:Ext.baseCSSPrefix+"form-file-input",tag:"input",type:"file",size:1}),e.fileInputEl.on({scope:e,change:e.onFileChange})},onFileChange:function(){this.lastValue=null,Ext.form.field.File.superclass.setValue.call(this,this.fileInputEl.dom.value)},setValue:Ext.emptyFn,reset:function(){var e=this;e.rendered&&(e.fileInputEl.remove(),e.createFileInput(),e.inputEl.dom.value=""),e.callParent()},onDisable:function(){this.callParent(),this.disableItems()},disableItems:function(){var e=this.fileInputEl;e&&(e.dom.disabled=!0),this["buttonEl-btnEl"].dom.disabled=!0},onEnable:function(){var e=this;e.callParent(),e.fileInputEl.dom.disabled=!1,this["buttonEl-btnEl"].dom.disabled=!1},isFileUpload:function(){return!0},extractFileInput:function(){var e=this.fileInputEl.dom;return this.reset(),e},onDestroy:function(){Ext.destroyMembers(this,"fileInputEl","buttonEl"),this.callParent()}}),Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:!0,initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(e,t){return this.isEqualAsString(e,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.Field",alias:["layout.htmleditor"],type:"htmleditor",toolbarSizePolicy:{setsWidth:0,setsHeight:0},beginLayout:function(e){this.callParent(arguments),e.textAreaContext=e.getEl("textareaEl"),e.iframeContext=e.getEl("iframeEl"),e.toolbarContext=e.context.getCmp(this.owner.getToolbar())},renderItems:Ext.emptyFn,getItemSizePolicy:function(e){return this.toolbarSizePolicy},getLayoutItems:function(){var e=this.owner.getToolbar();return e?[e]:[]},getRenderTarget:function(){return this.owner.bodyEl},publishInnerHeight:function(e,t){var n=this,r=t-n.measureLabelErrorHeight(e)-e.toolbarContext.getProp("height")-e.bodyCellContext.getPaddingInfo().height;Ext.isNumber(r)?(e.textAreaContext.setHeight(r),e.iframeContext.setHeight(r)):n.done=!1}}),Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.}" hidefocus="on">','<em><span style="background:#{.}" unselectable="on">&#160;</span></em>',"</a>","</tpl>"],initComponent:function(){var e=this;e.callParent(arguments),e.addEvents("select"),e.handler&&e.on("select",e.handler,e.scope,!0)},initRenderData:function(){var e=this;return Ext.apply(e.callParent(),{itemCls:e.itemCls,colors:e.colors})},onRender:function(){var e=this,t=e.clickEvent;e.callParent(arguments),e.mon(e.el,t,e.handleClick,e,{delegate:"a"}),t!="click"&&e.mon(e.el,"click",Ext.emptyFn,e,{delegate:"a",stopEvent:!0})},afterRender:function(){var e=this,t;e.callParent(arguments),e.value&&(t=e.value,e.value=null,e.select(t,!0))},handleClick:function(e,t){var n=this,r;e.stopEvent(),n.disabled||(r=t.className.match(n.colorRe)[1],n.select(r.toUpperCase()))},select:function(e,t){var n=this,r=n.selectedCls,i=n.value,s;e=e.replace("#","");if(!n.rendered){n.value=e;return}if(e!=i||n.allowReselect)s=n.el,n.value&&s.down("a.color-"+i).removeCls(r),s.down("a.color-"+e).addCls(r),n.value=e,t!==!0&&n.fireEvent("select",n,e)},getValue:function(){return this.value||null}}),Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.Component",mixins:{labelable:"Ext.form.Labelable",field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor"],childEls:["iframeEl","textareaEl"],fieldSubTpl:["{beforeTextAreaTpl}",'<textarea id="{cmpId}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" style="{size}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{cmpId}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' style="overflow:auto;{size}" src="{iframeSrc}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:Ext.isOpera||Ext.isIE6?"&#160;":"&#8203;",editorWrapCls:Ext.baseCSSPrefix+"html-editor-wrap",componentLayout:"htmleditor",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",afterBodyEl:"</div>",maskOnDisable:!0,initComponent:function(){var e=this;e.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange"),e.callParent(arguments),e.createToolbar(e),e.initLabelable(),e.initField()},getRefItems:function(){return[this.toolbar]},createToolbar:function(e){function f(t,n,r){return{itemId:t,cls:s+"btn-icon",iconCls:s+"edit-"+t,enableToggle:n!==!1,scope:e,handler:r||e.relayBtnCmd,clickEvent:"mousedown",tooltip:i?e.buttonTips[t]||a:a,overflowText:e.buttonTips[t].title||a,tabIndex:-1}}var t=this,n=[],r,i=Ext.tip.QuickTipManager&&Ext.tip.QuickTipManager.isEnabled(),s=Ext.baseCSSPrefix,o,u,a;t.enableFont&&!Ext.isSafari2&&(o=Ext.widget("component",{renderTpl:['<select id="{id}-selectEl" class="{cls}">','<tpl for="fonts">','<option value="{[values.toLowerCase()]}" style="font-family:{.}"<tpl if="values.toLowerCase()==parent.defaultFont"> selected</tpl>>{.}</option>',"</tpl>","</select>"],renderData:{cls:s+"font-select",fonts:t.fontFamilies,defaultFont:t.defaultFont},childEls:["selectEl"],afterRender:function(){t.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;e&&(e.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;e&&(e.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){t.relayCmd("fontname",t.fontSelect.dom.value),t.deferFocus()},element:"selectEl"}}),n.push(o,"-")),t.enableFormat&&n.push(f("bold"),f("italic"),f("underline")),t.enableFontSize&&n.push("-",f("increasefontsize",!1,t.adjustFont),f("decreasefontsize",!1,t.adjustFont)),t.enableColors&&n.push("-",{itemId:"forecolor",cls:s+"btn-icon",iconCls:s+"edit-forecolor",overflowText:e.buttonTips.forecolor.title,tooltip:i?e.buttonTips.forecolor||a:a,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(e,n){t.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+n:n),t.deferFocus(),this.up("menu").hide()}}]})},{itemId:"backcolor",cls:s+"btn-icon",iconCls:s+"edit-backcolor",overflowText:e.buttonTips.backcolor.title,tooltip:i?e.buttonTips.backcolor||a:a,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(e,n){Ext.isGecko?(t.execCmd("useCSS",!1),t.execCmd("hilitecolor",n),t.execCmd("useCSS",!0),t.deferFocus()):(t.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+n:n),t.deferFocus()),this.up("menu").hide()}}]})}),t.enableAlignments&&n.push("-",f("justifyleft"),f("justifycenter"),f("justifyright")),Ext.isSafari2||(t.enableLinks&&n.push("-",f("createlink",!1,t.createLink)),t.enableLists&&n.push("-",f("insertorderedlist"),f("insertunorderedlist")),t.enableSourceEdit&&n.push("-",f("sourceedit",!0,function(e){t.toggleSourceEdit(!t.sourceEditMode)})));for(r=0;r<n.length;r++)n[r].itemId!=="sourceedit"&&(n[r].disabled=!0);u=Ext.widget("toolbar",{id:t.id+"-toolbar",ownerCt:t,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:n,ownerLayout:t.getComponentLayout(),listeners:{click:function(e){e.preventDefault()},element:"el"}}),t.toolbar=u},getMaskTarget:function(){return this.bodyEl},setReadOnly:function(e){var t=this,n=t.textareaEl,r=t.iframeEl,i;t.readOnly=e,n&&(n.dom.readOnly=e),t.initialized&&(i=t.getEditorBody(),Ext.isIE?(r.setDisplayed(!1),i.contentEditable=!e,r.setDisplayed(!0)):t.setDesignMode(!e),i&&(i.style.cursor=e?"default":"text"),t.disableItems(e))},getDocMarkup:function(){var e=this,t=e.iframeEl.getHeight()-e.iframePad*2;return Ext.String.format('<html><head><style type="text/css">body{border:0;margin:0;padding:{0}px;height:{1}px;box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;cursor:text}</style></head><body></body></html>',e.iframePad,t)},getEditorBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){return!Ext.isIE&&this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},finishRenderChildren:function(){this.callParent(),this.toolbar.finishRender()},onRender:function(){var e=this;e.callParent(arguments),e.inputEl=e.iframeEl,e.monitorTask=Ext.TaskManager.start({run:e.checkDesignMode,scope:e,interval:100})},initRenderTpl:function(){var e=this;return e.hasOwnProperty("renderTpl")||(e.renderTpl=e.getTpl("labelableRenderTpl")),e.callParent()},initRenderData:function(){return this.beforeSubTpl='<div class="'+this.editorWrapCls+'">'+Ext.DomHelper.markup(this.toolbar.getRenderTree()),Ext.applyIf(this.callParent(),this.getLabelableRenderData())},getSubTplData:function(){return{$comp:this,cmpId:this.id,id:this.getInputId(),textareaCls:Ext.baseCSSPrefix+"hidden",value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,size:"height:100px;width:100%"}},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initFrameDoc:function(){var e=this,t,n;Ext.TaskManager.stop(e.monitorTask),t=e.getDoc(),e.win=e.getWin(),t.open(),t.write(e.getDocMarkup()),t.close(),n={run:function(){var t=e.getDoc();if(t.body||t.readyState==="complete")Ext.TaskManager.stop(n),e.setDesignMode(!0),Ext.defer(e.initEditor,10,e)},interval:10,duration:1e4,scope:e},Ext.TaskManager.start(n)},checkDesignMode:function(){var e=this,t=e.getDoc();t&&(!t.editorInitialized||e.getDesignMode()!=="on")&&e.initFrameDoc()},setDesignMode:function(e){var t=this,n=t.getDoc();n&&(t.readOnly&&(e=!1),n.designMode=/on|true/i.test(String(e).toLowerCase())?"on":"off")},getDesignMode:function(){var e=this.getDoc();return e?String(e.designMode).toLowerCase():""},disableItems:function(e){var t=this.getToolbar().items.items,n,r=t.length,i;for(n=0;n<r;n++)i=t[n],i.getItemId()!=="sourceedit"&&i.setDisabled(e)},toggleSourceEdit:function(e){var t=this,n=t.iframeEl,r=t.textareaEl,i=Ext.baseCSSPrefix+"hidden",s=t.getToolbar().getComponent("sourceedit");Ext.isBoolean(e)||(e=!t.sourceEditMode),t.sourceEditMode=e,s.pressed!==e&&s.toggle(e),e?(t.disableItems(!0),t.syncValue(),n.addCls(i),r.removeCls(i),r.dom.removeAttribute("tabIndex"),r.focus(),t.inputEl=r):(t.initialized&&t.disableItems(t.readOnly),t.pushValue(),n.removeCls(i),r.addCls(i),r.dom.setAttribute("tabIndex",-1),t.deferFocus(),t.inputEl=n),t.fireEvent("editmodechange",t,e),t.updateLayout()},createLink:function(){var e=prompt(this.createLinkText,this.defaultLinkValue);e&&e!=="http://"&&this.relayCmd("createlink",e)},clearInvalid:Ext.emptyFn,setValue:function(e){var t=this,n=t.textareaEl;t.mixins.field.setValue.call(t,e);if(e===null||e===undefined)e="";return n&&(n.dom.value=e),t.pushValue(),this},cleanHtml:function(e){return e=String(e),Ext.isWebKit&&(e=e.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")),e.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(e=e.substring(1)),e},syncValue:function(){var e=this,t,n,r,i,s;e.initialized&&(t=e.getEditorBody(),r=t.innerHTML
,Ext.isWebKit&&(i=t.getAttribute("style"),s=i.match(/text-align:(.*?);/i),s&&s[1]&&(r='<div style="'+s[0]+'">'+r+"</div>")),r=e.cleanHtml(r),e.fireEvent("beforesync",e,r)!==!1&&(e.textareaEl.dom.value!=r&&(e.textareaEl.dom.value=r,n=!0),e.fireEvent("sync",e,r),n&&e.checkChange()))},getValue:function(){var e=this,t;return e.sourceEditMode||e.syncValue(),t=e.rendered?e.textareaEl.dom.value:e.value,e.value=t,t},pushValue:function(){var e=this,t;e.initialized&&(t=e.textareaEl.dom.value||"",!e.activated&&t.length<1&&(t=e.defaultValue),e.fireEvent("beforepush",e,t)!==!1&&(e.getEditorBody().innerHTML=t,Ext.isGecko&&(e.setDesignMode(!1),e.setDesignMode(!0)),e.fireEvent("push",e,t)))},deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var e=this,t=e.win;return t&&!e.sourceEditMode?t:e.textareaEl},initEditor:function(){try{var e=this,t=e.getEditorBody(),n=e.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),r,i;n["background-attachment"]="fixed",t.bgProperties="fixed",Ext.DomHelper.applyStyles(t,n),r=e.getDoc();if(r)try{Ext.EventManager.removeAll(r)}catch(s){}i=Ext.Function.bind(e.onEditorEvent,e),Ext.EventManager.on(r,{mousedown:i,dblclick:i,click:i,keyup:i,buffer:100}),i=e.onRelayedEvent,Ext.EventManager.on(r,{mousedown:i,mousemove:i,mouseup:i,click:i,dblclick:i,scope:e}),Ext.isGecko&&Ext.EventManager.on(r,"keypress",e.applyCommand,e),e.fixKeys&&Ext.EventManager.on(r,"keydown",e.fixKeys,e),Ext.EventManager.on(window,"unload",e.beforeDestroy,e),r.editorInitialized=!0,e.initialized=!0,e.pushValue(),e.setReadOnly(e.readOnly),e.fireEvent("initialize",e)}catch(o){}},beforeDestroy:function(){var e=this,t=e.monitorTask,n,r;t&&Ext.TaskManager.stop(t);if(e.rendered){try{n=e.getDoc();if(n){Ext.EventManager.removeAll(Ext.fly(n));for(r in n)n.hasOwnProperty&&n.hasOwnProperty(r)&&delete n[r]}}catch(i){}Ext.destroyMembers(e,"toolbar","iframeEl","textareaEl")}e.callParent()},onRelayedEvent:function(e){var t=this.iframeEl,n=t.getXY(),r=e.getXY();e.xy=[n[0]+r[0],n[1]+r[1]],e.injectEvent(t),e.xy=r},onFirstFocus:function(){var e=this,t,n;e.activated=!0,e.disableItems(e.readOnly);if(Ext.isGecko){e.win.focus(),t=e.win.getSelection();if(!t.focusNode||t.focusNode.nodeType!==3)n=t.getRangeAt(0),n.selectNodeContents(e.getEditorBody()),n.collapse(!0),e.deferFocus();try{e.execCmd("useCSS",!0),e.execCmd("styleWithCSS",!1)}catch(r){}}e.fireEvent("activate",e)},adjustFont:function(e){var t=e.getItemId()==="increasefontsize"?1:-1,n=this.getDoc().queryCommandValue("FontSize")||"2",r=Ext.isString(n)&&n.indexOf("px")!==-1,i;n=parseInt(n,10),r?(n<=10?n=1+t:n<=13?n=2+t:n<=16?n=3+t:n<=18?n=4+t:n<=24?n=5+t:n=6+t,n=Ext.Number.constrain(n,1,6)):(i=Ext.isSafari,i&&(t*=2),n=Math.max(1,n+t)+(i?"px":0)),this.execCmd("FontSize",n)},onEditorEvent:function(e){this.updateToolbar()},updateToolbar:function(){function s(){for(var e=0,r=arguments.length,i;e<r;e++)i=arguments[e],t[i].toggle(n.queryCommandState(i))}var e=this,t,n,r,i;if(e.readOnly)return;if(!e.activated){e.onFirstFocus();return}t=e.getToolbar().items.map,n=e.getDoc(),e.enableFont&&!Ext.isSafari2&&(r=(n.queryCommandValue("FontName")||e.defaultFont).toLowerCase(),i=e.fontSelect.dom,r!==i.value&&(i.value=r)),e.enableFormat&&s("bold","italic","underline"),e.enableAlignments&&s("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&e.enableLists&&s("insertorderedlist","insertunorderedlist"),Ext.menu.Manager.hideAll(),e.syncValue()},relayBtnCmd:function(e){this.relayCmd(e.getItemId())},relayCmd:function(e,t){Ext.defer(function(){var n=this;n.focus(),n.execCmd(e,t),n.updateToolbar()},10,this)},execCmd:function(e,t){var n=this,r=n.getDoc(),i;r.execCommand(e,!1,t===i?null:t),n.syncValue()},applyCommand:function(e){if(e.ctrlKey){var t=this,n=e.getCharCode(),r;if(n>0){n=String.fromCharCode(n);switch(n){case"b":r="bold";break;case"i":r="italic";break;case"u":r="underline"}r&&(t.win.focus(),t.execCmd(r),t.deferFocus(),e.preventDefault())}}},insertAtCursor:function(e){var t=this,n;t.activated&&(t.win.focus(),Ext.isIE?(n=t.getDoc().selection.createRange(),n&&(n.pasteHTML(e),t.syncValue(),t.deferFocus())):(t.execCmd("InsertHTML",e),t.deferFocus()))},fixKeys:function(){return Ext.isIE?function(e){var t=this,n=e.getKey(),r=t.getDoc(),i=t.readOnly,s,o;if(n===e.TAB)e.stopEvent(),i||(s=r.selection.createRange(),s&&(s.collapse(!0),s.pasteHTML("&#160;&#160;&#160;&#160;"),t.deferFocus()));else if(n===e.ENTER&&!i){s=r.selection.createRange();if(s){o=s.parentElement();if(!o||o.tagName.toLowerCase()!=="li")e.stopEvent(),s.pasteHTML("<br />"),s.collapse(!1),s.select()}}}:Ext.isOpera?function(e){var t=this;e.getKey()===e.TAB&&(e.stopEvent(),t.readOnly||(t.win.focus(),t.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),t.deferFocus()))}:Ext.isWebKit?function(e){var t=this,n=e.getKey(),r=t.readOnly;n===e.TAB?(e.stopEvent(),r||(t.execCmd("InsertText","	"),t.deferFocus())):n===e.ENTER&&(e.stopEvent(),r||(t.execCmd("InsertHtml","<br /><br />"),t.deferFocus()))}:null}(),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}}),Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:!0,inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var e=this.getManager().getChecked(this.name,this.getFormId());return e?e.inputValue:null},onBoxClick:function(e){var t=this;!t.disabled&&!t.readOnly&&this.setValue(!0)},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(e){var t=this,n;return Ext.isBoolean(e)?t.callParent(arguments):(n=t.getManager().getWithValue(t.name,e,t.getFormId()).getAt(0),n&&n.setValue(!0)),t},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(e,t){var n=this,r,i,s,o;n.callParent(arguments);if(e){o=n.getManager().getByName(n.name,n.getFormId()).items,i=o.length;for(r=0;r<i;r++)s=o[r],s!==n&&s.setValue(!1)}},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var e=this,t=Ext.Date,n=t.clearTime,r=e.initDate;e.absMin=n(new Date(r[0],r[1],r[2])),e.absMax=t.add(n(new Date(r[0],r[1],r[2])),"mi",1439),e.store=e.createStore(),e.updateList(),e.callParent()},setMinValue:function(e){this.minValue=e,this.updateList()},setMaxValue:function(e){this.maxValue=e,this.updateList()},normalizeDate:function(e){var t=this.initDate;return e.setFullYear(t[0],t[1],t[2]),e},updateList:function(){var e=this,t=e.normalizeDate(e.minValue||e.absMin),n=e.normalizeDate(e.maxValue||e.absMax);e.store.filterBy(function(e){var r=e.get("date");return r>=t&&r<=n})},createStore:function(){var e=this,t=Ext.Date,n=[],r=e.absMin,i=e.absMax;while(r<=i)n.push({disp:t.dateFormat(r,e.format),date:r}),r=t.add(r,"mi",e.increment);return new Ext.data.Store({fields:["disp","date"],data:n})}}),Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.ComboBox",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var e=this,t=e.minValue,n=e.maxValue;t&&e.setMinValue(t),n&&e.setMaxValue(n),e.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+e.displayField+'"])]}'+'<tpl if="xindex < xcount">'+e.delimiter+"</tpl>"+"</tpl>",{formatDate:Ext.Function.bind(e.formatDate,e)}),this.callParent()},transformOriginalValue:function(e){return Ext.isString(e)?this.rawToValue(e):e},isEqual:function(e,t){return Ext.Date.isEqual(e,t)},setMinValue:function(e){var t=this,n=t.picker;t.setLimit(e,!0),n&&n.setMinValue(t.minValue)},setMaxValue:function(e){var t=this,n=t.picker;t.setLimit(e,!1),n&&n.setMaxValue(t.maxValue)},setLimit:function(e,t){var n=this,r,i;Ext.isString(e)?r=n.parseDate(e):Ext.isDate(e)&&(r=e),r?(i=Ext.Date.clearTime(new Date(n.initDate)),i.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())):i=null,n[t?"minValue":"maxValue"]=i},rawToValue:function(e){return this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},getErrors:function(e){var t=this,n=Ext.String.format,r=t.callParent(arguments),i=t.minValue,s=t.maxValue,o;return e=t.formatDate(e||t.processRawValue(t.getRawValue())),e===null||e.length<1?r:(o=t.parseDate(e),o?(i&&o<i&&r.push(n(t.minText,t.formatDate(i))),s&&o>s&&r.push(n(t.maxText,t.formatDate(s))),r):(r.push(n(t.invalidText,e,Ext.Date.unescapeFormat(t.format))),r))},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(e){var t=this,n=e,r=t.altFormats,i=t.altFormatsArray,s=0,o;if(e&&!Ext.isDate(e)){n=t.safeParse(e,t.format);if(!n&&r){i=i||r.split("|"),o=i.length;for(;s<o&&!n;++s)n=t.safeParse(e,i[s])}}return n&&t.snapToIncrement&&(n=new Date(Ext.Number.snap(n.getTime(),t.increment*60*1e3))),n},safeParse:function(e,t){var n=this,r=Ext.Date,i,s=null;return r.formatContainsDateInfo(t)?s=r.parse(e,t):(i=r.parse(n.initDate+" "+e,n.initDateFormat+" "+t),i&&(s=i)),s},getSubmitValue:function(){var e=this,t=e.submitFormat||e.format,n=e.getValue();return n?Ext.Date.format(n,t):null},createPicker:function(){var e=this,t;return e.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:undefined,minValue:e.minValue,maxValue:e.maxValue,increment:e.increment,format:e.format,maxHeight:e.pickerMaxHeight},e.listConfig),t=e.callParent(),e.store=t.store,t},onItemClick:function(e,t){var n=this,r=e.getSelectionModel().getSelection();r.length>0&&(r=r[0],r&&Ext.Date.isEqual(t.get("date"),r.get("date"))&&n.collapse())},onListSelectionChange:function(e,t){var n=this,r=t[0],i=r?r.get("date"):null;n.ignoreSelection||(n.skipSync=!0,n.setValue(i),n.skipSync=!1,n.fireEvent("select",n,i),n.picker.clearHighlight(),n.collapse(),n.inputEl.focus())},syncSelection:function(){var e=this,t=e.picker,n,r,i,s,o,u,a;if(t&&!e.skipSync){t.clearHighlight(),i=e.getValue(),r=t.getSelectionModel(),e.ignoreSelection++;if(i===null)r.deselectAll();else if(Ext.isDate(i)){s=t.store.data.items,u=s.length;for(o=0;o<u;o++){a=s[o];if(Ext.Date.isEqual(a.get("date"),i)){n=a;break}}r.select(n)}e.ignoreSelection--}},postBlur:function(){var e=this;e.callParent(arguments),e.setRawValue(e.formatDate(e.getValue()))},setValue:function(){this.getPicker(),this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}}),Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",constructor:function(e){e=Ext.apply({},e),e.field&&(e.field.monitorTab=!1),this.callParent([e])},onShow:function(){var e=this,t=e.boundEl.first(),n,r;t&&(n=t.dom.lastChild,n&&n.nodeType===3&&(r=e.cellTextNode=t.dom.lastChild,e.cellTextValue=r.nodeValue,r.nodeValue="")),e.callParent(arguments)},onHide:function(){var e=this,t=e.boundEl.first();t&&e.cellTextNode&&(e.cellTextNode.nodeValue=e.cellTextValue,delete e.cellTextNode,delete e.cellTextValue),e.callParent(arguments)},afterRender:function(){var e=this,t=e.field;e.callParent(arguments),t.isXType("checkboxfield")&&t.mon(t.inputEl,{mousedown:e.onCheckBoxMouseDown,click:e.onCheckBoxClick,scope:e})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(e){var t=this,n=t.boundEl,r=n.first(),i=r.dom.childNodes,s=i.length,o=Ext.Array.clone(t.offsets),u=t.field.inputEl,a,f,l,c;t.isForTree&&(s>1||s===1&&i[0].nodeType!==3)?(a=r.last(),f=a.getOffsetsTo(r)[0]+a.getWidth(),l=r.getWidth(),c=l-f,t.editingPlugin.grid.columnLines||c--,o[0]+=f,t.addCls(Ext.baseCSSPrefix+"grid-editor-on-text-node")):c=n.getWidth()-1,e===!0&&t.field.setWidth(c),t.alignTo(n,t.alignment,o)},onEditorTab:function(e){var t=this.field;t.onEditorTab&&t.onEditorTab(e)},alignment:"tl-tl",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor",shim:!1,shadow:!1}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,getContentHeight:function(e){return this.owner.isGroupHeader?e.getProp("contentHeight"):this.callParent(arguments)},calculateOwnerHeightFromContentHeight:function(e,t){var n=this.callParent(arguments);return this.owner.isGroupHeader&&(n+=this.owner.titleEl.dom.offsetHeight),n},getContentWidth:function(e){return this.owner.isGroupHeader?e.getProp("contentWidth"):this.callParent(arguments)},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getPaddingInfo().width}}),Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.grid=this.owner.up("[scrollerOwner]"),this.callParent()},beginLayout:function(e){var t=this,n=t.grid,r=n.view,i=0,s=t.getVisibleItems(),o=s.length,u;e.gridContext=e.context.getCmp(t.grid),n.lockable&&(t.owner.up("tablepanel")===r.normalGrid?r=r.normalGrid.getView():r=null),t.callParent(arguments);for(;i<o;i++)u=s[i],u.removeCls([t.firstHeaderCls,t.lastHeaderCls]),u.el.setStyle({height:"auto"}),u.titleEl.setStyle({height:"auto",paddingTop:""});o>0&&(s[0].addCls(t.firstHeaderCls),s[o-1].addCls(t.lastHeaderCls)),!t.owner.isHeader&&Ext.getScrollbarSize().width&&!n.collapsed&&r&&r.table.dom&&(r.autoScroll||r.overflowY)&&(e.viewContext=e.context.getCmp(r))},roundFlex:function(e){return Math.floor(e)},calculate:function(e){var t=this,n=e.viewContext,r,i;t.callParent(arguments),e.state.parallelDone&&e.setProp("columnWidthsDone",!0),n&&!e.state.overflowAdjust.width&&!e.gridContext.heightModel.shrinkWrap&&(r=n.tableContext.getProp("height"),i=n.getProp("height"),isNaN(r+i)?t.done=!1:r>=i&&e.gridContext.invalidate({after:function(){e.state.overflowAdjust={width:Ext.getScrollbarSize().width,height:0}}}))},completeLayout:function(e){var t=this,n=t.owner,r=e.state,i=!1,s=t.sizeModels.calculated,o,u,a,f,l;t.callParent(arguments);if(!r.flexesCalculated&&n.forceFit&&!n.isHeader){o=e.childItems,u=o.length;for(a=0;a<u;a++)f=o[a],l=f.target,l.width&&(l.flex=e.childItems[a].flex=l.width,delete l.width,f.widthModel=s,i=!0);i&&(t.cacheFlexes(e),e.invalidate({state:{flexesCalculated:!0}}))}},finalizeLayout:function(){var e=this,t=0,n,r,i,s=e.owner,o=s.titleEl;n=e.getVisibleItems(),r=n.length,i=s.el.getViewSize().height,o&&(i-=o.getHeight());for(;t<r;t++)n[t].setPadding(i)},publishInnerCtSize:function(e){var t=this,n=e.state.boxPlan.targetSize,r=e.peek("contentWidth"),i;if(r!=null&&!t.owner.isHeader){n.width=r,i=t.owner.ownerCt.view;if(i.autoScroll||i.overflowY)n.width+=Ext.getScrollbarSize().width}return t.callParent(arguments)}}),Ext.define("Ext.grid.LockingView",{mixins:{observable:"Ext.util.Observable"},eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell)/,constructor:function(e){var t=this,n=[],r=t.eventRelayRe,i=e.locked.getView(),s=e.normal.getView(),o,u;Ext.apply(t,{lockedView:i,normalView:s,lockedGrid:e.locked,normalGrid:e.normal,panel:e.panel}),t.mixins.observable.constructor.call(t,e),o=i.events;for(u in o)o.hasOwnProperty(u)&&r.test(u)&&n.push(u);t.relayEvents(i,n),t.relayEvents(s,n),s.on({scope:t,itemmouseleave:t.onItemMouseLeave,itemmouseenter:t.onItemMouseEnter}),i.on({scope:t,itemmouseleave:t.onItemMouseLeave,itemmouseenter:t.onItemMouseEnter})},getGridColumns:function(){var e=this.lockedGrid.headerCt.getGridColumns();return e.concat(this.normalGrid.headerCt.getGridColumns())},getEl:function(e){return this.getViewForColumn(e).getEl()},getViewForColumn:function(e){var t=this.lockedView,n;return t.headerCt.cascade(function(t){if(t===e)return n=!0,!1}),n?t:this.normalView},onItemMouseEnter:function(e,t){var n=this,r=n.lockedView,i=n.normalView,s;e.trackOver&&(e!==r&&(i=r),s=i.getNode(t),i.highlightItem(s))},onItemMouseLeave:function(e,t){var n=this,r=n.lockedView,i=n.normalView;e.trackOver&&(e!==r&&(i=r),i.clearHighlight())},relayFn:function(e,t){t=t||[];var n=this.lockedView;n[e].apply(n,t||[]),n=this.normalView,n[e].apply(n,t||[])},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(e){return this.normalView.getNode(e)},getCell:function(e,t){var n=this.getViewForColumn(t),r;return r=n.getNode(e),Ext.fly(r).down(t.getCellSelector())},getRecord:function(e){var t=this.lockedView.getRecord(e);return e||(t=this.normalView.getRecord(e)),t},addElListener:function(e,t,n){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)}}),Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",alias:["layout.tableview"],type:"tableview",beginLayout:function(e){var t=this;t.callParent(arguments),t.owner.table.dom&&(e.tableContext=e.getEl(t.owner.table),e.headerContext=e.context.getCmp(t.headerCt))},calculate:function(e){var t=this;t.callParent(arguments),e.tableContext&&(e.state.columnWidthsSynced?e.hasProp("columnWidthsFlushed")?e.tableContext.setHeight(e.tableContext.el.dom.offsetHeight,!1):t.done=!1:(e.headerContext.hasProp("columnWidthsDone")&&(e.context.queueFlush(t),e.state.columnWidthsSynced=!0),t.done=!1))},measureContentHeight:function(e){if(!e.headerContext||e.hasProp("columnWidthsFlushed"))return this.callParent(arguments)},flush:function(){var e=this,t=e.ownerContext.context,n=e.headerCt.getGridColumns(),r=0,i=n.length,s=e.owner.el,o=0,u;t.currentLayout=e;for(r=0;r<i;r++)u=n[r].hidden?0:t.getCmp(n[r]).props.width,o+=u,s.select(e.getColumnSelector(n[r])).setWidth(u);s.select("table."+Ext.baseCSSPrefix+"grid-table-resizer").setWidth(o),e.ownerContext.setProp("columnWidthsFlushed",!0)},finishedLayout:function(){var e=this,t;e.callParent(arguments),Ext.isGecko&&(t=e.headerCt.getGridColumns()[0],t&&(t=e.owner.el.down(e.getColumnSelector(t)),t&&(t.setStyle("display","none"),t.dom.scrollWidth,t.setStyle("display",""))))},getColumnSelector:function(e){return"th."+Ext.baseCSSPrefix+"grid-col-resizer-"+e.id}}),Ext.define("Ext.view.Table",{extend:"Ext.view.View",alias:"widget.tableview",uses:["Ext.view.TableLayout","Ext.view.TableChunker","Ext.util.DelayedTask","Ext.util.MixedCollection"],componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",overItemCls:Ext.baseCSSPrefix+"grid-row-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,initialTpl:"<div></div>",initComponent:function(){var e=this,t=e.scroll;e.table=new Ext.dom.Element.Fly,e.table.id=e.id+"gridTable",e.autoScroll=undefined,t===!0||t==="both"?e.autoScroll=!0:t==="horizontal"?e.overflowX="auto":t==="vertical"&&(e.overflowY="auto"),e.selModel.view=e,e.headerCt.view=e,e.headerCt.markDirty=e.markDirty,e.initFeatures(e.grid),delete e.grid,e.tpl=e.getTpl("initialTpl"),e.callParent()},moveColumn:function(e,t,n){var r=this,i=n>1?document.createDocumentFragment():undefined,s=t,o=r.getGridColumns().length,u=o-1,a=(r.firstCls||r.lastCls)&&(t===0||t==o||e===0||e==u),f,l,c,h,p,d;if(r.rendered){d=r.el.query(r.headerRowSelector),c=r.el.query(r.rowSelector),t>e&&i&&(s-=n);for(f=0,h=d.length;f<h;++f){p=d[f];if(i){for(l=0;l<n;l++)i.appendChild(p.cells[e]);p.insertBefore(i,p.cells[s]||null)}else p.insertBefore(p.cells[e],p.cells[s]||null)}for(f=0,h=c.length;f<h;f++){p=c[f],a&&(e===0?(Ext.fly(p.cells[0]).removeCls(r.firstCls),Ext.fly(p.cells[1]).addCls(r.firstCls)):e===u&&(Ext.fly(p.cells[u]).removeCls(r.lastCls),Ext.fly(p.cells[u-1]).addCls(r.lastCls)),t===0?(Ext.fly(p.cells[0]).removeCls(r.firstCls),Ext.fly(p.cells[e]).addCls(r.firstCls)):t===o&&(Ext.fly(p.cells[u]).removeCls(r.lastCls),Ext.fly(p.cells[e]).addCls(r.lastCls)));if(i){for(l=0;l<n;l++)i.appendChild(p.cells[e]);p.insertBefore(i,p.cells[s]||null)}else p.insertBefore(p.cells[e],p.cells[s]||null)}r.setNewTemplate()}},scrollToTop:Ext.emptyFn,addElListener:function(e,t,n){this.mon(this,e,t,n,{element:"el"})},getGridColumns:function(){return this.headerCt.getGridColumns()},getHeaderAtIndex:function(e){return this.headerCt.getHeaderAtIndex(e)},getCell:function(e,t){var n=this.getNode(e);return Ext.fly(n).down(t.getCellSelector())},getFeature:function(e){var t=this.featuresMC;if(t)return t.get(e)},initFeatures:function(e){var t=this,n,r,i,s;t.featuresMC=new Ext.util.MixedCollection,r=t.features=t.constructFeatures(),s=r?r.length:0;for(n=0;n<s;n++)i=r[n],i.view=t,i.grid=e,t.featuresMC.add(i),i.init()},constructFeatures:function(){var e=this,t=e.features,n,r,i=0,s;if(t){r=[],s=t.length;for(;i<s;i++)n=t[i],n.isFeature||(n=Ext.create("feature."+n.ftype,n)),r[i]=n}return r},attachEventsForFeatures:function(){var e=this.features,t=e.length,n=0;for(;n<t;n++)e[n].isFeature&&e[n].attachEvents()},afterRender:function(){var e=this;e.callParent(),e.enableTextSelection||e.el.unselectable(),e.attachEventsForFeatures()},onViewScroll:function(e,t){this.callParent(arguments),this.fireEvent("bodyscroll",e,t)},prepareData:function(e,t,n){var r=this,i=r.headerCt.prepareData(e,t,n,r,r.ownerCt),s=r.features,o=s.length,u=0,a;for(;u<o;u++)a=s[u],a.isFeature&&Ext.apply(i,a.getAdditionalData(e,t,n,i,r));return i},collectData:function(e,t){var n=this,r=n.callParent(arguments),i=n.headerCt,s=i.getFullWidth(),o=n.features,u=o.length,a={rows:r,fullWidth:s},f=0,l,c=0,h,p,d,v;h=r.length;if(n.getRowClass)for(;c<h;c++)p={},d=r[c],v=d.rowCls||"",d.rowCls=this.getRowClass(e[c],c,p,n.store)+" "+v;for(;f<u;f++){l=o[f];if(l.isFeature&&l.collectData&&!l.disabled){a=l.collectData(e,r,t,s,a);break}}return a},refreshSize:function(){var e=this,t;e.table.attach(e.el.child("table",!0)),e.hasLoadingHeight||(t=e.up("tablepanel"),Ext.suspendLayouts(),e.callParent(),t&&Ext.getScrollbarSize().width&&(e.autoScroll||e.overflowY)&&t.updateLayout(),Ext.resumeLayouts(!0))},setNewTemplate:function(){var e=this,t=e.headerCt.getColumnsForTpl(!0);e.tpl=e.getTableChunker().getTableTpl({rowCount:e.store.getCount(),columns:t,features:e.features,enableTextSelection:e.enableTextSelection})},getTableChunker:function(){return this.chunker||Ext.view.TableChunker},addRowCls:function(e,t){var n=this.getNode(e);n&&Ext.fly(n).addCls(t)},removeRowCls:function(e,t){var n=this.getNode(e);n&&Ext.fly(n).removeCls(t)},onRowSelect:function(e){this.addRowCls(e,this.selectedItemCls)},onRowDeselect:function(e){var t=this;t.removeRowCls(e,t.selectedItemCls),t.removeRowCls(e,t.focusedItemCls)},onCellSelect:function(e){var t=this.getCellByPosition(e,!0);t&&Ext.fly(t).addCls(this.selectedCellCls)},onCellDeselect:function(e){var t=this.getCellByPosition(e,!0);t&&Ext.fly(t).removeCls(this.selectedCellCls)},onCellFocus:function(e){this.focusCell(e)},getCellByPosition:function(e,t){if(e){var n=this.getNode(e.row),r=this.headerCt.getHeaderAtIndex(e.column);if(r&&n)return Ext.fly(n).down(r.getCellSelector(),t)}return!1},onRowFocus:function(e,t,n){var r=this;t?(r.addRowCls(e,r.focusedItemCls),n||r.focusRow(e)):r.removeRowCls(e,r.focusedItemCls)},focusRow:function(e){var t=this,n=t.getNode(e),r=t.el,i=0,s=t.ownerCt,o,u,a,f;n&&r&&(u=r.getY(),a=u+r.dom.clientHeight,o=Ext.fly(n).getRegion(),o.top<u?i=o.top-u:o.bottom>a&&(i=o.bottom-a),f=t.getRecord(n),e=t.store.indexOf(f),i&&s.scrollByDeltaY(i),t.fireEvent("rowfocus",f,n,e))},focusCell:function(e){var t=this,n=t.getCellByPosition(e),r=t.el,i=0,s=0,o=r.getRegion(),u=t.ownerCt,a,f;o.bottom=o.top+r.dom.clientHeight,o.right=o.left+r.dom.clientWidth,n&&(a=n.getRegion(),a.top<o.top?i=a.top-o.top:a.bottom>o.bottom&&(i=a.bottom-o.bottom),a.left<o.left?s=a.left-o.left:a.right>o.right&&(s=a.right-o.right),i&&u.scrollByDeltaY(i),s&&u.scrollByDeltaX(s),r.focus(),t.fireEvent("cellfocus",f,n,e))},scrollByDelta:function(e,t){t=t||"scrollTop";var n=this.el.dom;n[t]=n[t]+=e},onUpdate:function(e,t,n,r){var i=this,s,o,u,a,f,l,c,h,p,d,v,f,m,g,y,b,w=i.editingPlugin&&i.editingPlugin.editing;if(i.viewReady){s=i.store.indexOf(t),m=i.headerCt.getGridColumns(),g=i.overItemCls;if(m.length&&s>-1){o=i.bufferRender([t],s)[0],c=i.all.item(s);if(c){h=c.dom,y=c.hasCls(g);if(h.mergeAttributes)h.mergeAttributes(o,!0);else{u=o.attributes,a=u.length;for(f=0;f<a;f++)l=u[f].name,l!=="id"&&h.setAttribute(l,u[f].value)}y&&c.addCls(g),p=c.query(i.cellSelector),d=Ext.fly(o).query(i.cellSelector),v=d.length,b=p[0].parentNode;for(f=0;f<v;f++)i.shouldUpdateCell(m[f],r)&&(w?Ext.fly(p[f]).syncContent(d[f]):(b.insertBefore(d[f],p[f]),b.removeChild(p[f])))}i.fireEvent("itemupdate",t,s,o)}}},shouldUpdateCell:function(e,t){return e.hasCustomRenderer?!0:!t||Ext.Array.contains(t,e.dataIndex)},refresh:function(){var e=this;e.setNewTemplate(),e.callParent(arguments),e.doStripeRows(0),e.headerCt.setSortState()},clearViewEl:function(){this.callParent(),delete this.table.dom},processItemEvent:function(e,t,n,r){var i=this,s=r.getTarget(i.cellSelector,t),o=s?s.cellIndex:-1,u=i.statics().EventMap,a=i.getSelectionModel(),f=r.type,l;return f=="keydown"&&!s&&a.getCurrentPosition&&(s=i.getCellByPosition(a.getCurrentPosition()),s&&(s=s.dom,o=s.cellIndex)),l=i.fireEvent("uievent",f,i,s,n,o,r,e,t),l===!1||i.callParent(arguments)===!1?!1:f=="mouseover"||f=="mouseout"?!0:s?i["onBeforeCell"+u[f]](s,o,e,t,n,r)!==!1&&i.fireEvent("beforecell"+f,i,s,o,e,t,n,r)!==!1&&i["onCell"+u[f]](s,o,e,t,n,r)!==!1&&i.fireEvent("cell"+f,i,s,o,e,t,n,r)!==!1:!0},processSpecialEvent:function(e){var t=this,n=t.statics().EventMap,r=t.features,i=r.length,s=e.type,o,u,a,f,l,c,h=t.ownerCt;t.callParent(arguments);if(s=="mouseover"||s=="mouseout")return;for(o=0;o<i;o++){u=r[o];if(u.hasFeatureEvent){f=e.getTarget(u.eventSelector,t.getTargetEl());if(f){a=u.eventPrefix,l=u.getFireEventArgs("before"+a+s,t,f,e),c=u.getFireEventArgs(a+s,t,f,e);if(t.fireEvent.apply(t,l)===!1||h.fireEvent.apply(h,l)===!1||t.fireEvent.apply(t,c)===!1||h.fireEvent.apply(h,c)===!1)return!1}}}return!0},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(e){if(e){var t=this.getMaxContentWidth(e);delete e.flex,e.setWidth(t)}},getMaxContentWidth:function(e){var t=e.getCellInnerSelector(),n=this.el.query(t),r=0,i=n.length,s=e.el.dom.scrollWidth,o;for(;r<i;r++)o=n[r].scrollWidth,o>s&&(s=o);return s},getPositionByEvent:function(e){var t=this,n=e.getTarget(t.cellSelector),r=e.getTarget(t.itemSelector),i=t.getRecord(r),s=t.getHeaderByCell(n);return t.getPosition(i,s)},getHeaderByCell:function(e){if(e){var t=e.className.match(this.cellRe);if(t&&t[1])return Ext.getCmp(t[1])}return!1},walkCells:function(e,t,n,r,i,s){if(!e)return;var o=this,u=e.row,a=e.column,f=o.store.getCount(),l=o.getFirstVisibleColumnIndex(),c=o.getLastVisibleColumnIndex(),h={row:u,column:a},p=o.headerCt.getHeaderAtIndex(a);if(!p||p.hidden)return!1;n=n||{},t=t.toLowerCase();switch(t){case"right":if(a===c){if(r||u===f-1)return!1;n.ctrlKey||(h.row=u+1,h.column=l)}else n.ctrlKey?h.column=c:h.column=a+o.getRightGap(p);break;case"left":if(a===l){if(r||u===0)return!1;n.ctrlKey||(h.row=u-1,h.column=c)}else n.ctrlKey?h.column=l:h.column=a+o.getLeftGap(p);break;case"up":if(u===0)return!1;n.ctrlKey?h.row=0:h.row=u-1;break;case"down":if(u===f-1)return!1;n.ctrlKey?h.row=f-1:h.row=u+1}return i&&i.call(s||window,h)!==!0?!1:h},getFirstVisibleColumnIndex:function(){var e=this.getHeaderCt().getVisibleGridColumns()[0];return e?e.getIndex():-1},getLastVisibleColumnIndex:function(){var e=this.getHeaderCt().getVisibleGridColumns(),t=e[e.length-1];return t.getIndex()},getHeaderCt:function(){return this.headerCt},getPosition:function(e,t){var n=this,r=n.store,i=n.headerCt.getGridColumns();return{row:r.indexOf(e),column:Ext.Array.indexOf(i,t)}},getRightGap:function(e){var t=this.getHeaderCt(),n=t.getGridColumns(),r=Ext.Array.indexOf(n,e),i=r+1,s;for(;i<=n.length;i++)if(!n[i].hidden){s=i;break}return s-r},beforeDestroy:function(){this.rendered&&this.el.removeAllListeners(),this.callParent(arguments)},getLeftGap:function(e){var t=this.getHeaderCt(),n=t.getGridColumns(),r=Ext.Array.indexOf(n,e),i=r-1,s;for(;i>=0;i--)if(!n[i].hidden){s=i;break}return s-r},onAdd:function(e,t,n){this.callParent(arguments),this.doStripeRows(n)},onRemove:function(e,t,n){this.callParent(arguments),this.doStripeRows(n)},doStripeRows:function(e,t){var n=this,r,i,s,o;if(n.rendered&&n.stripeRows){r=n.getNodes(e,t);for(s=0,i=r.length;s<i;s++)o=r[s],o.className=o.className.replace(n.rowClsRe," "),e++,e%2===0&&(o.className+=" "+n.altRowCls)}}}),Ext.define("Ext.grid.Lockable",{requires:["Ext.grid.LockingView","Ext.view.Table"],syncRowHeight:!0,headerCounter:0,scrollDelta:40,unlockText:"Unlock",lockText:"Lock",determineXTypeToCreate:function(){var e=this,t,n,r,i,s;return e.subGridXType?t=e.subGridXType:(n=this.getXTypes().split("/"),r=n.length,i=n[r-1],s=n[r-2],s!=="tablepanel"?t=s:t=i),t},injectLockable:function(){this.lockable=!0,this.hasView=!0;var e=this,t=Ext.getScrollbarSize().width===0,n=e.store=Ext.StoreManager.lookup(e.store),r=e.determineXTypeToCreate(),i=e.getSelectionModel(),s,o,u,a,f,l,c,h,p,d,v,m,g,y;s=e.constructFeatures(),e.cloneFeatures(),o=e.constructFeatures(),u=e.constructPlugins(),e.clonePlugins(),a=e.constructPlugins(),delete e.features,delete e.plugins;for(c=0,h=s?s.length:0;c<h;c++)s[c].lockingPartner=o[c],o[c].lockingPartner=s[c];f=Ext.apply({xtype:r,store:n,scrollerOwner:!1,enableAnimations:!1,scroll
:t?"vertical":!1,selModel:i,border:!1,cls:Ext.baseCSSPrefix+"grid-inner-locked",isLayoutRoot:function(){return!1},features:s,plugins:u},e.lockedGridConfig),l=Ext.apply({xtype:r,store:n,scrollerOwner:!1,enableAnimations:!1,selModel:i,border:!1,isLayoutRoot:function(){return!1},features:o,plugins:a},e.normalGridConfig),e.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copyTo(l,e,e.bothCfgCopy),Ext.copyTo(f,e,e.bothCfgCopy),Ext.copyTo(l,e,e.normalCfgCopy),Ext.copyTo(f,e,e.lockedCfgCopy);for(c=0;c<e.normalCfgCopy.length;c++)delete e[e.normalCfgCopy[c]];for(c=0;c<e.lockedCfgCopy.length;c++)delete e[e.lockedCfgCopy[c]];e.addEvents("lockcolumn","unlockcolumn"),e.addStateEvents(["lockcolumn","unlockcolumn"]),e.lockedHeights=[],e.normalHeights=[],p=e.processColumns(e.columns),f.width=p.lockedWidth+Ext.num(i.headerWidth,0),f.columns=p.locked,l.columns=p.normal,l.flex=1,f.viewConfig=e.lockedViewConfig||{},f.viewConfig.loadingUseMsg=!1,l.viewConfig=e.normalViewConfig||{},Ext.applyIf(f.viewConfig,e.viewConfig),Ext.applyIf(l.viewConfig,e.viewConfig),e.lockedGrid=Ext.ComponentManager.create(f),m=e.lockedGrid.getView(),l.viewConfig.lockingPartner=m,e.normalGrid=Ext.ComponentManager.create(l),g=e.normalGrid.getView(),e.view=new Ext.grid.LockingView({locked:e.lockedGrid,normal:e.normalGrid,panel:e}),y={scroll:{fn:e.onLockedViewScroll,element:"el",scope:e}},t||(y.mousewheel={fn:e.onLockedViewMouseWheel,element:"el",scope:e}),e.syncRowHeight&&(y.refresh=e.onLockedViewRefresh,y.itemupdate=e.onLockedViewItemUpdate,y.scope=e),m.on(y),y={scroll:{fn:e.onNormalViewScroll,element:"el",scope:e},refresh:e.syncRowHeight?e.onNormalViewRefresh:e.updateSpacer,scope:e},g.on(y),d=e.lockedGrid.headerCt,v=e.normalGrid.headerCt,d.lockedCt=!0,d.lockableInjected=!0,v.lockableInjected=!0,d.on({columnshow:e.onLockedHeaderShow,columnhide:e.onLockedHeaderHide,columnmove:e.onLockedHeaderMove,sortchange:e.onLockedHeaderSortChange,columnresize:e.onLockedHeaderResize,scope:e}),v.on({columnmove:e.onNormalHeaderMove,sortchange:e.onNormalHeaderSortChange,scope:e}),e.modifyHeaderCt(),e.items=[e.lockedGrid,e.normalGrid],e.relayHeaderCtEvents(d),e.relayHeaderCtEvents(v),e.layout={type:"hbox",align:"stretch"}},processColumns:function(e){var t=0,n=e.length,r=0,i=[],s=[],o;for(;t<n;++t)o=e[t],o.isComponent||(o=Ext.apply({},e[t])),o.processed=!0,o.locked?(o.hidden||(r+=o.width||Ext.grid.header.Container.prototype.defaultWidth),i.push(o)):s.push(o),o.headerId||(o.headerId=(o.initialConfig||o).id||"L"+ ++this.headerCounter);return{lockedWidth:r,locked:{items:i,itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt"},normal:{items:s,itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt"}}},onLockedViewMouseWheel:function(e){var t=this,n=-t.scrollDelta,r=n*e.getWheelDeltas().y,i=t.lockedGrid.getView().el.dom,s,o;i&&(s=i.scrollTop!==i.scrollHeight-i.clientHeight,o=i.scrollTop!==0);if(r<0&&o||r>0&&s)e.stopEvent(),t.scrolling=!0,i.scrollTop+=r,t.normalGrid.getView().el.dom.scrollTop=i.scrollTop,t.scrolling=!1,t.onNormalViewScroll()},onLockedViewScroll:function(){var e=this,t=e.lockedGrid.getView(),n=e.normalGrid.getView(),r,i;e.scrolling||(e.scrolling=!0,n.el.dom.scrollTop=t.el.dom.scrollTop,e.store.buffered&&(i=t.el.child("table",!0),r=n.el.child("table",!0),i.style.position="absolute"),e.scrolling=!1)},onNormalViewScroll:function(){var e=this,t=e.lockedGrid.getView(),n=e.normalGrid.getView(),r,i;e.scrolling||(e.scrolling=!0,t.el.dom.scrollTop=n.el.dom.scrollTop,e.store.buffered&&(i=t.el.child("table",!0),r=n.el.child("table",!0),i.style.position="absolute",i.style.top=r.style.top),e.scrolling=!1)},onLockedHeaderMove:function(){this.syncRowHeight&&this.onNormalViewRefresh()},onNormalHeaderMove:function(){this.syncRowHeight&&this.onLockedViewRefresh()},updateSpacer:function(){var e=this,t=e.lockedGrid.getView().el,n=e.normalGrid.getView().el.dom,r=t.dom.id+"-spacer",i=n.offsetHeight-n.clientHeight+"px";e.spacerEl=Ext.getDom(r),e.spacerEl?e.spacerEl.style.height=i:Ext.core.DomHelper.append(t,{id:r,style:"height: "+i})},onLockedViewRefresh:function(){if(this.normalGrid.headerCt.getGridColumns().length){var e=this,t=e.lockedGrid.getView(),n=t.el,r=n.query(t.getItemSelector()),i=r.length,s=0;e.lockedHeights=[];for(;s<i;s++)e.lockedHeights[s]=r[s].offsetHeight;e.syncRowHeights(),e.updateSpacer()}},onNormalViewRefresh:function(){if(this.lockedGrid.headerCt.getGridColumns().length){var e=this,t=e.normalGrid.getView(),n=t.el,r=n.query(t.getItemSelector()),i=r.length,s=0;e.normalHeights=[];for(;s<i;s++)e.normalHeights[s]=r[s].offsetHeight;e.syncRowHeights(),e.updateSpacer()}},onLockedViewItemUpdate:function(e,t,n){this.normalGrid.headerCt.getGridColumns().length&&(this.lockedHeights[t]=n.offsetHeight,this.syncRowHeights())},onNormalViewItemUpdate:function(e,t,n){this.lockedGrid.headerCt.getGridColumns().length&&(this.normalHeights[t]=n.offsetHeight,this.syncRowHeights())},syncRowHeights:function(){var e=this,t=e.lockedHeights,n=e.normalHeights,r=t.length,i=0,s,o,u,a,f;if(t.length&&n.length){s=e.lockedGrid.getView(),o=e.normalGrid.getView(),u=s.el.query(s.getItemSelector()),a=o.el.query(o.getItemSelector());for(;i<r;i++)!isNaN(t[i])&&!isNaN(n[i])&&(t[i]>n[i]?Ext.fly(a[i]).setHeight(t[i]):t[i]<n[i]&&Ext.fly(u[i]).setHeight(n[i]));f=o.el.dom.scrollTop,o.el.dom.scrollTop=f,s.el.dom.scrollTop=f,e.lockedHeights=[],e.normalHeights=[]}},modifyHeaderCt:function(){var e=this;e.lockedGrid.headerCt.getMenuItems=e.getMenuItems(e.lockedGrid.headerCt.getMenuItems,!0),e.normalGrid.headerCt.getMenuItems=e.getMenuItems(e.normalGrid.headerCt.getMenuItems,!1)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},getMenuItems:function(e,t){var n=this,r=n.unlockText,i=n.lockText,s=Ext.baseCSSPrefix+"hmenu-unlock",o=Ext.baseCSSPrefix+"hmenu-lock",u=Ext.Function.bind(n.onUnlockMenuClick,n),a=Ext.Function.bind(n.onLockMenuClick,n);return function(){var n=e.call(this);return n.push("-",{cls:s,text:r,handler:u,disabled:!t}),n.push({cls:o,text:i,handler:a,disabled:t}),n}},lock:function(e,t){var n=this,r=n.normalGrid,i=n.lockedGrid,s=r.headerCt,o=i.headerCt;e=e||s.getMenu().activeHeader,e.flex&&(e.width=e.getWidth(),delete e.flex),Ext.suspendLayouts(),e.ownerCt.remove(e,!1),e.locked=!0,Ext.isDefined(t)?o.insert(t,e):o.add(e),n.syncLockedSection(),Ext.resumeLayouts(!0),n.updateSpacer(),n.fireEvent("lockcolumn",n,e)},syncLockedSection:function(){var e=this;e.syncLockedWidth(),e.lockedGrid.getView().refresh(),e.normalGrid.getView().refresh()},syncLockedWidth:function(){var e=this,t=e.lockedGrid,n=t.headerCt.getFullWidth(!0);return Ext.suspendLayouts(),n>0?(t.setWidth(n),t.show()):t.hide(),Ext.resumeLayouts(!0),n>0},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(e,t,n){n&&this.normalGrid.headerCt.clearOtherSortStates(null,!0)},onNormalHeaderSortChange:function(e,t,n){n&&this.lockedGrid.headerCt.clearOtherSortStates(null,!0)},unlock:function(e,t){var n=this,r=n.normalGrid,i=n.lockedGrid,s=r.headerCt,o=i.headerCt,u=!1;Ext.isDefined(t)||(t=0),e=e||o.getMenu().activeHeader,Ext.suspendLayouts(),e.ownerCt.remove(e,!1),n.syncLockedWidth()&&(u=!0),e.locked=!1,s.insert(t,e),n.normalGrid.getView().refresh(),u&&n.lockedGrid.getView().refresh(),Ext.resumeLayouts(!0),n.fireEvent("unlockcolumn",n,e)},applyColumnsState:function(e){var t=this,n=t.lockedGrid,r=n.headerCt,i=t.normalGrid.headerCt,s=Ext.Array.toMap(r.items,"headerId"),o=Ext.Array.toMap(i.items,"headerId"),u=[],a=[],f=1,l=e.length,c,h,p,d;for(c=0;c<l;c++)d=e[c],p=s[d.id],h=p||o[d.id],h&&(h.applyColumnState&&h.applyColumnState(d),h.locked===undefined&&(h.locked=!!p),h.locked?(u.push(h),!h.hidden&&typeof h.width=="number"&&(f+=h.width)):a.push(h));u.length+a.length==r.items.getCount()+i.items.getCount()&&(r.removeAll(!1),i.removeAll(!1),r.add(u),i.add(a),n.setWidth(f))},getColumnsState:function(){var e=this,t=e.lockedGrid.headerCt.getColumnsState(),n=e.normalGrid.headerCt.getColumnsState();return t.concat(n)},reconfigureLockable:function(e,t){var n=this,r=n.lockedGrid,i=n.normalGrid;t&&(Ext.suspendLayouts(),r.headerCt.removeAll(),i.headerCt.removeAll(),t=n.processColumns(t),r.setWidth(t.lockedWidth),r.headerCt.add(t.locked.items),i.headerCt.add(t.normal.items),Ext.resumeLayouts(!0)),e?(e=Ext.data.StoreManager.lookup(e),n.store=e,r.bindStore(e),i.bindStore(e)):(r.getView().refresh(),i.getView().refresh())},cloneFeatures:function(){var e=this,t=e.features,n,r=0,i;if(t){i=t.length;for(;r<i;r++)n=t[r],n.isFeature&&(t[r]=n.clone())}},clonePlugins:function(){var e=this,t=e.plugins,n,r=0,i;if(t){i=t.length;for(;r<i;r++)n=t[r],typeof n.init=="function"&&(t[r]=n.clone())}}},function(){this.borrow(Ext.view.Table,["constructFeatures"]),this.borrow(Ext.AbstractComponent,["constructPlugins","constructPlugin"])}),Ext.define("Ext.grid.PagingScroller",{percentageFromEdge:.35,numFromEdge:2,trailingBufferZone:5,leadingBufferZone:15,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,tableStart:0,tableEnd:0,constructor:function(e){var t=this;t.variableRowHeight=e.variableRowHeight,t.bindView(e.view),Ext.apply(t,e),t.callParent(arguments)},bindView:function(e){var t=this,n={scroll:{fn:t.onViewScroll,element:"el",scope:t},render:t.onViewRender,resize:t.onViewResize,boxready:{fn:t.onViewResize,scope:t,single:!0},beforerefresh:t.beforeViewRefresh,refresh:t.onViewRefresh,scope:t},r={guaranteedrange:t.onGuaranteedRange,scope:t},i={reconfigure:t.onGridReconfigure,scope:t},s;t.view&&(t.view.el&&t.view.el.un("scroll",t.onViewScroll,t),s=e.lockingPartner,s&&s.un("refresh",t.onLockRefresh,t),t.view.un(n),t.store.un(r),t.grid&&t.grid.un(i),delete t.view.refreshSize),t.view=e,t.grid=t.view.up("tablepanel"),t.store=e.store,e.rendered&&(t.viewSize=t.store.viewSize=Math.ceil(e.getHeight()/t.rowHeight)+t.trailingBufferZone+t.numFromEdge*2+t.leadingBufferZone),s=e.lockingPartner,s&&s.on("refresh",t.onLockRefresh,t),t.view.mon(t.store.pageMap,{scope:t,clear:t.onCacheClear}),t.view.refreshSize=Ext.Function.createInterceptor(t.view.refreshSize,t.beforeViewrefreshSize,t),t.position=0,t.grid?t.grid.on(i):t.view.on({added:function(){t.grid=t.view.up("tablepanel"),t.grid.on(i)},single:!0}),t.view.on(t.viewListeners=n),t.store.on(r)},onCacheClear:function(){var e=this;e.view.rendered&&!e.store.isDestroyed&&(e.ignoreNextScrollEvent=e.view.el.dom.scrollTop!==0,e.view.el.dom.scrollTop=0,delete e.lastScrollDirection,delete e.scrollOffset,delete e.scrollProportion)},onGridReconfigure:function(e){this.bindView(e.view)},onViewRender:function(){var e=this,t=e.view,n=e.view.el,r;e.stretcher=e.createStretcher(t),t=t.lockingPartner,t&&(r=e.stretcher,e.stretcher=new Ext.CompositeElement(r),e.stretcher.add(e.createStretcher(t)))},createStretcher:function(e){var t=e.el;return t.setStyle("position","relative"),t.createChild({style:{position:"absolute",width:"1px",height:0,top:0,left:0}},t.dom.firstChild)},onViewResize:function(e,t,n){var r=this,i;i=Math.ceil(n/r.rowHeight)+r.trailingBufferZone+r.numFromEdge*2+r.leadingBufferZone,i>r.viewSize&&(r.viewSize=r.store.viewSize=i,r.handleViewScroll(r.lastScrollDirection||1))},beforeViewRefresh:function(){var e=this,t=e.view,n,r;e.focusOnRefresh=Ext.Element.getActiveElement===t.el.dom,e.variableRowHeight&&(r=e.lastScrollDirection,e.commonRecordIndex=undefined,r&&e.previousStart!==undefined&&e.scrollProportion===undefined&&(n=t.getNodes()).length?(r===1?e.tableStart<=e.previousEnd&&(e.commonRecordIndex=n.length-1):r===-1&&e.tableEnd>=e.previousStart&&(e.commonRecordIndex=0),e.scrollOffset=-t.el.getOffsetsTo(n[e.commonRecordIndex])[1],e.commonRecordIndex-=e.tableStart-e.previousStart):e.scrollOffset=undefined)},onLockRefresh:function(e){e.table.dom.style.position="absolute"},onViewRefresh:function(){var e=this,t=e.store,n,r=e.view,i=r.el,s=i.dom,o,u,a,f=r.table.dom,l,c;e.focusOnRefresh&&(i.focus(),e.focusOnRefresh=!1),e.disabled=!0;if(t.getCount()===t.getTotalCount()||t.isFiltered()&&!t.remoteFilter){e.stretcher.setHeight(0),e.position=s.scrollTop=0,e.setTablePosition("absolute");return}e.stretcher.setHeight(n=e.getScrollHeight()),c=s.scrollTop,e.isScrollRefresh=c>0;if(e.scrollProportion!==undefined)e.setTablePosition("absolute"),e.setTableTop((e.scrollProportion?n*e.scrollProportion-f.offsetHeight*e.scrollProportion:0)+"px");else{e.setTablePosition("absolute"),e.setTableTop((l=(e.tableStart||0)*e.rowHeight)+"px");if(e.scrollOffset)o=r.getNodes(),u=-i.getOffsetsTo(o[e.commonRecordIndex])[1],a=u-e.scrollOffset,e.position=s.scrollTop+=a;else if(l>c||l+f.offsetHeight<c+s.clientHeight)e.lastScrollDirection=-1,e.position=s.scrollTop=l}e.disabled=!1},setTablePosition:function(e){this.setViewTableStyle(this.view,"position",e)},setTableTop:function(e){this.setViewTableStyle(this.view,"top",e)},setViewTableStyle:function(e,t,n){e.el.child("table",!0).style[t]=n,e=e.lockingPartner,e&&(e.el.child("table",!0).style[t]=n)},beforeViewrefreshSize:function(){if(this.isScrollRefresh)return this.view.table.attach(this.view.el.child("table",!0)),this.isScrollRefresh=!1},onGuaranteedRange:function(e,t,n){var r=this,i=r.store;if(e.length&&r.visibleStart<e[0].index)return;r.previousStart=r.tableStart,r.previousEnd=r.tableEnd,r.tableStart=t,r.tableEnd=n,i.loadRecords(e,{start:t})},onViewScroll:function(e,t){var n=this,r=n.view,i=n.position;n.position=r.el.dom.scrollTop;if(n.ignoreNextScrollEvent){n.ignoreNextScrollEvent=!1;return}n.disabled||(n.lastScrollDirection=n.position>i?1:-1,i!==n.position&&n.handleViewScroll(n.lastScrollDirection))},handleViewScroll:function(e){var t=this,n=t.store,r=t.view,i=t.viewSize,s=n.getTotalCount(),o=s-i,u=t.getFirstVisibleRowIndex(),a=t.getLastVisibleRowIndex(),f=r.el.dom,l,c;s>=i&&(t.scrollProportion=undefined,e==-1?t.tableStart&&(u!==undefined?u<t.tableStart+t.numFromEdge&&(l=Math.max(0,a+t.trailingBufferZone-i)):(t.scrollProportion=f.scrollTop/(f.scrollHeight-f.clientHeight),l=Math.max(0,s*t.scrollProportion-i/2-t.numFromEdge-(t.leadingBufferZone+t.trailingBufferZone)/2))):u!==undefined?a>t.tableEnd-t.numFromEdge&&(l=Math.max(0,u-t.trailingBufferZone)):(t.scrollProportion=f.scrollTop/(f.scrollHeight-f.clientHeight),l=s*t.scrollProportion-i/2-t.numFromEdge-(t.leadingBufferZone+t.trailingBufferZone)/2),l!==undefined&&(l>o?(l=o&-2,c=s-1):(l&=-2,c=l+i-1),n.rangeCached(l,c)?(t.cancelLoad(),n.guaranteeRange(l,c)):t.attemptLoad(l,c)))},getFirstVisibleRowIndex:function(){var e=this,t=e.view,n=t.el.dom.scrollTop,r,i,s,o;if(!e.variableRowHeight)return Math.floor(n/e.rowHeight);r=t.getNodes(),i=r.length;if(!i)return;o=Ext.fly(r[0]).getOffsetsTo(t.el)[1];for(s=0;s<i;s++){o+=r[s].offsetHeight;if(o>t.el.dom.clientHeight)return;if(o>0)return t.getRecord(r[s]).index}},getLastVisibleRowIndex:function(){var e=this,t=e.store,n=e.view,r=n.el.dom.clientHeight,i,s,o,u;if(!e.variableRowHeight)return e.getFirstVisibleRowIndex()+Math.ceil(r/e.rowHeight)+1;i=n.getNodes();if(!i.length)return;s=t.getCount()-1,u=Ext.fly(i[s]).getOffsetsTo(n.el)[1]+i[s].offsetHeight;for(o=s;o>=0;o--){u-=i[o].offsetHeight;if(u<0)return;if(u<r)return n.getRecord(i[o]).index}},getScrollHeight:function(){var e=this,t=e.view,n,r,i=e.store,s=0,o=!e.hasOwnProperty("rowHeight");return e.variableRowHeight?(n=e.view.table.dom,o?(e.initialTableHeight=n.offsetHeight,e.rowHeight=e.initialTableHeight/e.store.getCount()):(s=n.offsetHeight-e.initialTableHeight,i.getCount()>e.viewSize&&(s-=e.rowHeight))):o&&(r=t.el.down(t.getItemSelector()),r&&(e.rowHeight=r.getHeight(!1,!0))),Math.floor(i.getTotalCount()*e.rowHeight)+s},attemptLoad:function(e,t){var n=this;n.scrollToLoadBuffer?(n.loadTask||(n.loadTask=new Ext.util.DelayedTask(n.doAttemptLoad,n,[])),n.loadTask.delay(n.scrollToLoadBuffer,n.doAttemptLoad,n,[e,t])):n.store.guaranteeRange(e,t)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(e,t){this.store.guaranteeRange(e,t)},destroy:function(){var e=this,t=e.viewListeners.scroll;e.store.un({guaranteedrange:e.onGuaranteedRange,scope:e}),e.view.un(e.viewListeners),e.view.rendered&&(e.stretcher.remove(),e.view.el.un("scroll",t.fn,t.scope))}}),Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:!0,sizePolicies:{0:{setsWidth:0,setsHeight:0},1:{setsWidth:1,setsHeight:0},2:{setsWidth:0,setsHeight:1},3:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e,t){var n=t||this.owner.getSizeModel(),r=(n.width.shrinkWrap?0:1)|(n.height.shrinkWrap?0:2);return this.sizePolicies[r]},beginLayoutCycle:function(e,t){var n=this,r=n.lastHeightModel&&n.lastHeightModel.calculated,i=n.lastWidthModel&&n.lastWidthModel.calculated,s=i||r,o=0,u=0,a,f,l,c,h,p,d,v,m,g;n.callParent(arguments),s&&e.targetContext.el.dom.tagName.toUpperCase()!="TD"&&(s=i=r=!1),f=e.childItems,h=f.length;for(l=0;l<h;++l){c=f[l];if(t){a=c.target,d=a.minHeight,v=a.minWidth;if(v||d)p=c.marginInfo||c.getMarginInfo(),d+=p.height,v+=p.height,o<d&&(o=d),u<v&&(u=v)}s&&(m=c.el.dom.style,r&&(m.height=""),i&&(m.width=""))}t&&(e.maxChildMinHeight=o,e.maxChildMinWidth=u),a=e.target,e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&(a.autoScroll||a.overflowX)||g,e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&(a.autoScroll||a.overflowY)||g},calculate:function(e){var t=this,n=e.childItems,r=n.length,i=t.getContainerSize(e),s={length:r,ownerContext:e,targetSize:i},o=e.widthModel.shrinkWrap,u=e.heightModel.shrinkWrap,a=e.overflowX,f=e.overflowY,l,c,h,p,d,v;if(a||f)l=t.getScrollbarsNeeded(a&&i.width,f&&i.height,e.maxChildMinWidth,e.maxChildMinHeight),l&&(c=Ext.getScrollbarSize(),l&1&&(i.height-=c.height),l&2&&(i.width-=c.width));for(p=0;p<r;++p)s.index=p,t.fitItem(n[p],s);if(u||o)h=e.targetContext.getPaddingInfo(),o&&(f&&!i.gotHeight?t.done=!1:(d=s.contentWidth+h.width,l&2&&(d+=c.width),e.setContentWidth(d)||(t.done=!1))),u&&(a&&!i.gotWidth?t.done=!1:(v=s.contentHeight+h.height,l&1&&(v+=c.height),e.setContentHeight(v)||(t.done=!1)))},fitItem:function(e,t){var n=this;if(e.invalid){n.done=!1;return}t.margins=e.getMarginInfo(),t.needed=t.got=0,n.fitItemWidth(e,t),n.fitItemHeight(e,t),t.got!=t.needed&&(n.done=!1)},fitItemWidth:function(e,t){var n,r;t.ownerContext.widthModel.shrinkWrap?(r=e.getProp("width")+t.margins.width,n=t.contentWidth,n===undefined?t.contentWidth=r:t.contentWidth=Math.max(n,r)):e.widthModel.calculated&&(++t.needed,t.targetSize.gotWidth&&(++t.got,this.setItemWidth(e,t))),this.positionItemX(e,t)},fitItemHeight:function(e,t){var n,r;t.ownerContext.heightModel.shrinkWrap?(r=e.getProp("height")+t.margins.height,n=t.contentHeight,n===undefined?t.contentHeight=r:t.contentHeight=Math.max(n,r)):e.heightModel.calculated&&(++t.needed,t.targetSize.gotHeight&&(++t.got,this.setItemHeight(e,t))),this.positionItemY(e,t)},positionItemX:function(e,t){var n=t.margins;(t.index||n.left)&&e.setProp("x",n.left),n.width&&e.setProp("margin-right",n.width)},positionItemY:function(e,t){var n=t.margins;(t.index||n.top)&&e.setProp("y",n.top),n.height&&e.setProp("margin-bottom",n.height)},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}}),Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",alias:"widget.tablepanel",uses:["Ext.selection.RowModel","Ext.selection.CellModel","Ext.selection.CheckboxModel","Ext.grid.PagingScroller","Ext.grid.header.Container","Ext.grid.Lockable"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!0,sortableColumns:!0,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,enableColumnHide:!0,rowLines:!0,initComponent:function(){var e=this,t=e.scroll,n=!1,r=!1,i=e.columns||e.colModel,s,o=e.border,u,a;e.columnLines&&e.addCls(Ext.baseCSSPrefix+"grid-with-col-lines"),e.rowLines&&e.addCls(Ext.baseCSSPrefix+"grid-with-row-lines"),e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store");if(i instanceof Ext.grid.header.Container)e.headerCt=i,e.headerCt.border=o,e.columns=e.headerCt.items.items;else{Ext.isArray(i)&&(i={items:i,border:o}),Ext.apply(i,{forceFit:e.forceFit,sortable:e.sortableColumns,enableColumnMove:e.enableColumnMove,enableColumnResize:e.enableColumnResize,enableColumnHide:e.enableColumnHide,border:o,sealed:e.sealedColumns}),e.columns=i.items;if(e.enableLocking||Ext.ComponentQuery.query("{locked !== undefined}{processed != true}",e.columns).length)e.self.mixin("lockable",Ext.grid.Lockable),e.injectLockable()}e.scrollTask=new Ext.util.DelayedTask(e.syncHorizontalScroll,e),e.addEvents("reconfigure","viewready"),e.bodyCls=e.bodyCls||"",e.bodyCls+=" "+e.extraBodyCls,e.cls=e.cls||"",e.cls+=" "+e.extraBaseCls,delete e.autoScroll;if(!e.hasView){e.headerCt||(e.headerCt=new Ext.grid.header.Container(i)),e.columns=e.headerCt.items.items;if(e.store.buffered&&!e.store.remoteSort)for(u=0,a=e.columns.length;u<a;u++)e.columns[u].sortable=!1;e.hideHeaders&&(e.headerCt.height=0,e.headerCt.addCls(Ext.baseCSSPrefix+"grid-header-ct-hidden"),e.addCls(Ext.baseCSSPrefix+"grid-header-hidden"),Ext.isIEQuirks&&(e.headerCt.style={display:"none"})),t===!0||t==="both"?n=r=!0:t==="horizontal"?r=!0:t==="vertical"&&(n=!0),e.relayHeaderCtEvents(e.headerCt),e.features=e.features||[],Ext.isArray(e.features)||(e.features=[e.features]),e.dockedItems=[].concat(e.dockedItems||[]),e.dockedItems.unshift(e.headerCt),e.viewConfig=e.viewConfig||{},e.store&&e.store.buffered?e.viewConfig.preserveScrollOnRefresh=!0:e.invalidateScrollerOnRefresh!==undefined&&(e.viewConfig.preserveScrollOnRefresh=!e.invalidateScrollerOnRefresh),s=e.getView(),e.items=[s],e.hasView=!0,n&&e.store.buffered&&(e.verticalScroller=new Ext.grid.PagingScroller(Ext.apply({panel:e,store:e.store,view:e.view},e.verticalScroller))),r&&(e.hideHeaders||s.on({scroll:{fn:e.onHorizontalScroll,element:"el",scope:e}})),e.mon(s.store,{load:e.onStoreLoad,scope:e}),e.mon(s,{viewready:e.onViewReady,refresh:e.onRestoreHorzScroll,scope:e})}this.relayEvents(e.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]),e.callParent(arguments),e.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange"]),e.headerCt&&e.headerCt.on("afterlayout",e.onRestoreHorzScroll,e)},relayHeaderCtEvents:function(e){this.relayEvents(e,["columnresize","columnmove","columnhide","columnshow","sortchange"])},getState:function(){var e=this,t=e.callParent(),n=e.store.sorters.first();return t=e.addPropertyToState(t,"columns",(e.headerCt||e).getColumnsState()),n&&(t=e.addPropertyToState(t,"sort",{property:n.property,direction:n.direction,root:n.root})),t},applyState:function(e){var t=this,n=e.sort,r=t.store,i=e.columns;delete e.columns,t.callParent(arguments),i&&(t.headerCt||t).applyColumnsState(i),n&&(r.remoteSort?r.sort({property:n.property,direction:n.direction,root:n.root},null,!1):r.sort(n.property,n.direction))},getStore:function(){return this.store},getView:function(){var e=this,t;return e.view||(t=e.getSelectionModel(),e.view=Ext.widget(Ext.apply({},e.viewConfig,{grid:e,deferInitialRefresh:e.deferRowRender!==!1,scroll:e.scroll,xtype:e.viewType,store:e.store,headerCt:e.headerCt,selModel:t,features:e.features,panel:e,emptyText:e.emptyText?'<div class="'+Ext.baseCSSPrefix+'grid-empty">'+e.emptyText+"</div>":""})),e.view.getComponentLayout().headerCt=e.headerCt,e.mon(e.view,{uievent:e.processEvent,scope:e}),t.view=e.view,e.headerCt.view=e.view,e.relayEvents(e.view,["cellclick","celldblclick"])),e.view},setAutoScroll:Ext.emptyFn,processEvent:function(e,t,n,r,i,s){var o=this,u;if(i!==-1)return u=o.headerCt.getGridColumns()[i],u.processEvent.apply(u,arguments)},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(e,t){this.getView().scrollBy(0,e,t)},scrollByDeltaX:function(e,t){this.getView().scrollBy(e,0,t)},afterCollapse:function(){var e=this;e.saveScrollPos(),e.saveScrollPos(),e.callParent(arguments)},afterExpand:function(){var e=this;e.callParent(arguments),e.restoreScrollPos(),e.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(e,t,n,r,i){var s=this;s.optimizedColumnMove===!1?s.view.refresh():s.view.moveColumn(r,i,n),s.delayScroll()},onHeaderHide:function(e,t){this.delayScroll()},onHeaderShow:function(e,t){this.delayScroll()},delayScroll:function(){var e=this.getScrollTarget().el;e&&this.scrollTask.delay(10,null,null,[e.dom.scrollLeft])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var e=this.scrollLeftPos;e&&this.syncHorizontalScroll(e,!0)},getScrollerOwner:function(){var e=this;return this.scrollerOwner||(e=this.up("[scrollerOwner]")),e},getLhsMarker:function(){var e=this;return e.lhsMarker||(e.lhsMarker=Ext.DomHelper.append(e.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},!0))},getRhsMarker:function(){var e=this;return e.rhsMarker||(e.rhsMarker=Ext.DomHelper.append(e.el,{cls:Ext.baseCSSPrefix+"grid-resize-marker"},!0))},getSelectionModel:function(){this.selModel||(this.selModel={});var e="SINGLE",t;return this.simpleSelect?e="SIMPLE":this.multiSelect&&(e="MULTI"),Ext.applyIf(this.selModel,{allowDeselect:this.allowDeselect,mode:e}),this.selModel.events||(t=this.selModel.selType||this.selType,this.selModel=Ext.create("selection."+t,this.selModel)),this.selModel.hasRelaySetup||(this.relayEvents(this.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect"]),this.selModel.hasRelaySetup=!0),this.disableSelection&&(this.selModel.locked=!0),this.selModel},getScrollTarget:function(){var e=this.getScrollerOwner(),t=e.query("tableview");return t[1]||t[0]},onHorizontalScroll:function(e,t){this.syncHorizontalScroll(t.scrollLeft)},syncHorizontalScroll:function(e,t){var n=this,r;t=t===!0,n.rendered&&(t||e!==n.scrollLeftPos)&&(t&&(r=n.getScrollTarget(),r.el.dom.scrollLeft=e),n.headerCt.el.dom.scrollLeft=e,n.scrollLeftPos=e)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e){var t=this;t.store=e,t.getView().bindStore(e)},beforeDestroy:function(){Ext.destroy(this.verticalScroller),this.callParent()},reconfigure:function(e,t){var n=this,r=n.headerCt;n.lockable?n.reconfigureLockable(e,t):(Ext.suspendLayouts(),t&&(delete n.scrollLeftPos,r.removeAll(),r.add(t)),e?(e=Ext.StoreManager.lookup(e),n.bindStore(e)):n.getView().refresh(),r.setSortState(),Ext.resumeLayouts(!0)),n.fireEvent("reconfigure",n,e,t)}}),Ext.define("Ext.grid.View",{extend:"Ext.view.Table",alias:"widget.gridview",stripeRows:!0,autoScroll:!0}),Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.grid.View"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],rowLines:!0}),Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",requires:["Ext.tip.ToolTip","Ext.util.HashMap","Ext.util.KeyNav"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,hideMode:"offsets",initComponent:function(){var e=this,t;e.cls=Ext.baseCSSPrefix+"grid-row-editor",e.layout={type:"hbox",align:"middle"},e.columns=new Ext.util.HashMap,e.columns.getKey=function(e){var t;if(e.getEditor){t=e.getEditor();if(t)return t.id}return e.id},e.mon(e.columns,{add:e.onFieldAdd,remove:e.onFieldRemove,replace:e.onFieldReplace,scope:e}),e.callParent(arguments),e.fields&&(e.setField(e.fields),delete e.fields),e.mon(Ext.container.Container.hierarchyEventSource,{scope:e,show:e.repositionIfVisible}),t=e.getForm(),t.trackResetOnLoad=!0},onFieldChange:function(){var e=this,t=e.getForm(),n=t.isValid();e.errorSummary&&e.isVisible()&&e[n?"hideToolTip":"showToolTip"](),e.updateButton(n),e.isValid=n},updateButton:function(e){var t=this.floatingButtons;t&&t.child("#update").setDisabled(!e)},afterRender:function(){var e=this,t=e.editingPlugin;e.callParent(arguments),e.mon(e.renderTo,"scroll",e.onCtScroll,e,{buffer:100}),e.mon(e.el,{click:Ext.emptyFn,stopPropagation:!0}),e.el.swallowEvent(["keypress","keydown"]),e.keyNav=new Ext.util.KeyNav(e.el,{enter:t.completeEdit,esc:t.onEscKey,scope:t}),e.mon(t.view,{beforerefresh:e.onBeforeViewRefresh,refresh:e.onViewRefresh,itemremove:e.onViewItemRemove,scope:e})},onBeforeViewRefresh:function(e){var t=this,n=e.el.dom;t.el.dom.parentNode===n&&n.removeChild(t.el.dom)},onViewRefresh:function(e){var t=this,n=e.el.dom,r=t.context,i;n.appendChild(t.el.dom),r&&(i=r.store.indexOf(r.record))>=0?(r.row=e.getNode(i),t.reposition(),t.tooltip&&t.tooltip.isVisible()&&t.tooltip.setTarget(r.row)):t.editingPlugin.cancelEdit()},onViewItemRemove:function(e,t){var n=this.context;n&&e===n.record&&this.editingPlugin.cancelEdit()},onCtScroll:function(e,t){var n=this,r=t.scrollTop,i=t.scrollLeft;r!==n.lastScrollTop&&(n.lastScrollTop=r,(n.tooltip&&n.tooltip.isVisible()||n.hiddenTip)&&n.repositionTip()),i!==n.lastScrollLeft&&(n.lastScrollLeft=i,n.reposition())},onColumnAdd:function(e){e.isGroupHeader||this.setField(e)},onColumnRemove:function(e){this.columns.remove(e)},onColumnResize:function(e,t){e.isGroupHeader||(e.getEditor().setWidth(t-2),this.repositionIfVisible())},onColumnHide:function(e){e.isGroupHeader||(e.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(e){var t=e.getEditor();t.setWidth(e.getWidth()-2).show(),this.repositionIfVisible()},onColumnMove:function(e,t,n){if(!e.isGroupHeader){var r=e.getEditor();this.items.indexOf(r)!=n&&this.move(t,n)}},onFieldAdd:function(e,t,n){var r=this,i,s;n.isGroupHeader||(i=r.editingPlugin.grid.headerCt.getHeaderIndex(n),s=n.getEditor({xtype:"displayfield"}),r.insert(i,s))},onFieldRemove:function(e,t,n){var r=this,i,s;n.isGroupHeader||(i=n.getEditor(),s=i.el,r.remove(i,!1),s&&s.remove())},onFieldReplace:function(e,t,n,r){this.onFieldRemove(e,t,r)},clearFields:function(){var e=this.columns,t;for(t in e)e.hasOwnProperty(t)&&e.removeAtKey(t)},getFloatingButtons:function(){var e=this,t=Ext.baseCSSPrefix,n=t+"grid-row-editor-buttons",r=e.editingPlugin,i=Ext.panel.Panel.prototype.minButtonWidth,s;return e.floatingButtons||(s=e.floatingButtons=new Ext.Container({renderTpl:['<div class="{baseCls}-ml"></div>','<div class="{baseCls}-mr"></div>','<div class="{baseCls}-bl"></div>','<div class="{baseCls}-br"></div>','<div class="{baseCls}-bc"></div>',"{%this.renderContainer(out,values)%}"],width:200,renderTo:e.el,baseCls:n,layout:{type:"hbox",align:"middle"},defaults:{flex:1,margins:"0 1 0 1"},items:[{itemId:"update",xtype:"button",handler:r.completeEdit,scope:r,text:e.saveBtnText,minWidth:i},{xtype:"button",handler:r.cancelEdit,scope:r,text:e.cancelBtnText,minWidth:i}]}),e.mon(s.el,{mousedown:Ext.emptyFn,click:Ext.emptyFn,stopEvent:!0})),e.floatingButtons},repositionIfVisible:function(e){var t=this,n=t.view;if(e&&(e==t||!n.isDescendantOf(e)))return;t.isVisible()&&n.isVisible(!0)&&t.reposition()},reposition:function(e){var t=this,n=t.context,r=n&&Ext.get(n.row),i=t.getFloatingButtons(),s=i.el,o=t.editingPlugin.grid,u=o.view.el,a=o.headerCt.getFullWidth(),f=o.getWidth(),l=Math.min(a,f),c=o.view.el.dom.scrollLeft,h=i.getWidth(),p=(l-h)/2+c,d,v,m,g=function(){s.scrollIntoView(u,!1),e&&e.callback&&e.callback.call(e.scope||t)},y;r&&Ext.isElement(r.dom)&&(r.scrollIntoView(u,!1),d=r.getXY()[1]-5,v=r.getHeight(),m=v+(t.editingPlugin.grid.rowLines?9:10),t.getHeight()!=m&&(t.setHeight(m),t.el.setLeft(0)),e?(y={to:{y:d},duration:e.duration||125,listeners:{afteranimate:function(){g(),d=r.getXY()[1]-5}}},t.el.animate(y)):(t.el.setY(d),g())),t.getWidth()!=a&&t.setWidth(a),s.setLeft(p)},getEditor:function(e){var t=this;if(Ext.isNumber(e))return t.query(">[isFormField]"
)[e];if(e.isHeader&&!e.isGroupHeader)return e.getEditor()},removeField:function(e){var t=this;e=t.getEditor(e),t.mun(e,"validitychange",t.onValidityChange,t),t.columns.removeAtKey(e.id),Ext.destroy(e)},setField:function(e){var t=this,n,r,i;if(Ext.isArray(e)){r=e.length;for(n=0;n<r;n++)t.setField(e[n]);return}i=e.getEditor(null,{xtype:"displayfield",getModelData:function(){return null}}),i.margins="0 0 0 2",t.mon(i,"change",t.onFieldChange,t),t.isVisible()&&t.context&&(i.is("displayfield")?t.renderColumnData(i,t.context.record,e):(i.suspendEvents(),i.setValue(t.context.record.get(e.dataIndex)),i.resumeEvents())),t.columns.add(i.id,e),e.hidden?t.onColumnHide(e):e.rendered&&t.onColumnShow(e)},loadRecord:function(e){var t=this,n=t.getForm(),r=n.getFields(),i=r.items,s=i.length,o,u,a;for(o=0;o<s;o++)i[o].suspendEvents();n.loadRecord(e);for(o=0;o<s;o++)i[o].resumeEvents();a=n.isValid(),t.errorSummary&&(a?t.hideToolTip():t.showToolTip()),t.updateButton(a),u=t.query(">displayfield"),s=u.length;for(o=0;o<s;o++)t.renderColumnData(u[o],e)},renderColumnData:function(e,t,n){var r=this,i=r.editingPlugin.grid,s=i.headerCt,o=i.view,u=o.store,a=n||r.columns.get(e.id),f=t.get(a.dataIndex),l=a.editRenderer||a.renderer,c,h,p;l&&(c={tdCls:"",style:""},h=u.indexOf(t),p=s.getHeaderIndex(a),f=l.call(a.scope||s.ownerCt,f,c,t,h,p,u,o)),e.setRawValue(f),e.resetOriginalValue()},beforeEdit:function(){var e=this;if(e.isVisible()&&e.errorSummary&&!e.autoCancel&&e.isDirty())return e.showToolTip(),!1},startEdit:function(e,t){var n=this,r=n.editingPlugin.grid,i=r.store,s=n.context=Ext.apply(n.editingPlugin.context,{view:r.getView(),store:i});s.grid.getSelectionModel().select(e),n.loadRecord(e),n.isVisible()?n.reposition({callback:this.focusContextCell}):(n.show(),n.focusContextCell())},focusContextCell:function(){var e=this.getEditor(this.context.colIdx);e&&e.focus&&e.focus()},cancelEdit:function(){var e=this,t=e.getForm(),n=t.getFields(),r=n.items,i=r.length,s;e.hide(),t.clearInvalid();for(s=0;s<i;s++)r[s].suspendEvents();t.reset();for(s=0;s<i;s++)r[s].resumeEvents()},completeEdit:function(){var e=this,t=e.getForm();if(!t.isValid())return;return t.updateRecord(e.context.record),e.hide(),!0},onShow:function(){this.callParent(arguments),this.reposition()},onHide:function(){var e=this;e.callParent(arguments),e.tooltip&&e.hideToolTip(),e.context&&(e.context.view.focus(),e.context=null)},isDirty:function(){var e=this,t=e.getForm();return t.isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left"}))},hideToolTip:function(){var e=this,t=e.getToolTip();t.rendered&&t.disable(),e.hiddenTip=!1},showToolTip:function(){var e=this,t=e.getToolTip(),n=e.context,r=Ext.get(n.row),i=n.grid.view.el;t.setTarget(r),t.showAt([-1e4,-1e4]),t.update(e.getErrors()),t.mouseOffset=[i.getWidth()-r.getWidth()+e.lastScrollLeft+15,0],e.repositionTip(),t.doLayout(),t.enable()},repositionTip:function(){var e=this,t=e.getToolTip(),n=e.context,r=Ext.get(n.row),i=n.grid.view.el,s=i.getHeight(),o=e.lastScrollTop,u=o+s,a=r.getHeight(),f=r.dom.offsetTop,l=f+a;l>o&&f<u?(t.show(),e.hiddenTip=!1):(t.hide(),e.hiddenTip=!0)},getErrors:function(){function o(e){return"<li>"+e+"</li>"}var e=this,t=!e.autoCancel&&e.isDirty()?e.dirtyText+"<br />":"",n=[],r=e.query(">[isFormField]"),i=r.length,s;for(s=0;s<i;s++)n=n.concat(Ext.Array.map(r[s].getErrors(),o));return t+"<ul>"+n.join("")+"</ul>"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.AbstractPlugin",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(e){this.headerCt=e,e.on("render",this.afterHeaderRender,this,{single:!0})},destroy:function(){this.tracker&&this.tracker.destroy()},afterHeaderRender:function(){var e=this.headerCt,t=e.el;e.mon(t,"mousemove",this.onHeaderCtMouseMove,this),this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:t})},onHeaderCtMouseMove:function(e,t){var n=this,r,i,s,o,u,a;n.headerCt.dragging?n.activeHd&&(n.activeHd.el.dom.style.cursor="",delete n.activeHd):(i=e.getTarget("."+n.colHeaderCls,3,!0),i&&(s=Ext.getCmp(i.id),s.isOnLeftEdge(e)?(o=s.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"),o&&(a=n.headerCt.up("tablepanel"),u=o.up("tablepanel"),u===a||a.ownerCt.isXType("tablepanel")&&a.ownerCt.view.lockedGrid===u||(o=null))):s.isOnRightEdge(e)?o=s:o=null,o?(o.isGroupHeader&&(r=o.getGridColumns(),o=r[r.length-1]),o&&!o.fixed&&o.resizable!==!1&&!n.disabled&&(n.activeHd=o,s.el.dom.style.cursor=n.eResizeCursor)):(s.el.dom.style.cursor="",delete n.activeHd)))},onBeforeStart:function(e){var t=e.getTarget();return this.dragHd=this.activeHd,!!this.dragHd&&!Ext.fly(t).hasCls(Ext.baseCSSPrefix+"column-header-trigger")&&!this.headerCt.dragging?(this.tracker.constrainTo=this.getConstrainRegion(),!0):(this.headerCt.dragging=!1,!1)},getConstrainRegion:function(){var e=this,t=e.dragHd.el,n=Ext.util.Region.getRegion(t),r;return e.headerCt.forceFit&&(r=e.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])")),n.adjust(0,e.headerCt.forceFit?r?r.getWidth()-e.minColWidth:0:e.maxColWidth-t.getWidth(),0,e.minColWidth)},onStart:function(e){var t=this,n=t.dragHd,r=n.el,i=r.getWidth(),s=t.headerCt,o=e.getTarget(),u,a,f,l,c,h,p,d,v,m,g,y;t.dragHd&&!Ext.fly(o).hasCls(Ext.baseCSSPrefix+"column-header-trigger")&&(s.dragging=!0),t.origWidth=i,t.dynamic||(u=r.getXY(),a=s.up("[scrollerOwner]"),f=t.dragHd.up(":not([isGroupHeader])"),l=f.up(),c=a.getLhsMarker(),h=a.getRhsMarker(),p=h.parent(),d=p.getLocalX(),v=p.getLocalY(),m=p.translatePoints(u),g=l.body.getHeight()+s.getHeight(),y=m.top-v,c.setTop(y),h.setTop(y),c.setHeight(g),h.setHeight(g),c.setLeft(m.left-d),h.setLeft(m.left+i-d))},onDrag:function(e){if(!this.dynamic){var t=this.tracker.getXY("point"),n=this.headerCt.up("[scrollerOwner]"),r=n.getRhsMarker(),i=r.parent(),s=i.translatePoints(t),o=i.getLocalX();r.setLeft(s.left-o)}else this.doResize()},onEnd:function(e){this.headerCt.dragging=!1;if(this.dragHd){if(!this.dynamic){var t=this.dragHd,n=this.headerCt.up("[scrollerOwner]"),r=n.getLhsMarker(),i=n.getRhsMarker(),s=-9999;r.setLeft(s),i.setLeft(s)}this.doResize()}},doResize:function(){if(this.dragHd){var e=this.dragHd,t,n=this.tracker.getOffset("point");e.flex&&delete e.flex,Ext.suspendLayouts(),e.setWidth(this.origWidth+n[0]),this.headerCt.forceFit&&(t=e.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"),t&&(delete t.flex,t.setWidth(t.getWidth()-n[0]))),Ext.resumeLayouts(!0)}},disable:function(){this.disabled=!0,this.tracker&&this.tracker.disable()},enable:function(){this.disabled=!1,this.tracker&&this.tracker.enable()}}),Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",maxProxyWidth:120,constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.callParent([e.el]),this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){var t=e.getTarget("."+this.colHeaderCls),n,r;if(t){n=Ext.getCmp(t.id);if(!this.headerCt.dragging&&n.draggable&&!n.isOnLeftEdge(e)&&!n.isOnRightEdge(e))return r=document.createElement("div"),r.innerHTML=Ext.getCmp(t.id).text,{ddel:r,header:n}}return!1},onBeforeDrag:function(){return!this.headerCt.dragging&&!this.disabled},onInitDrag:function(){this.headerCt.dragging=!0,this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.callParent([e.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},!0)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},!0)),this.bottomIndicator},getLocation:function(e,t){var n=e.getXY()[0],r=Ext.fly(t).getRegion(),i,s;return r.right-n<=(r.right-r.left)/2?i="after":i="before",{pos:i,header:Ext.getCmp(t.id),node:t}},positionIndicator:function(e,t,n){var r=this.getLocation(n,t),i=r.header,s=r.pos,o=e.nextSibling("gridcolumn:not([hidden])"),u=e.previousSibling("gridcolumn:not([hidden])"),a,f,l,c,h,p,d,v,m,g,y,b,w;if(!i.draggable&&i.getIndex()===0)return!1;this.lastLocation=r;if(e!==i&&(s==="before"&&o!==i||s==="after"&&u!==i)&&!i.isDescendantOf(e)){g=Ext.dd.DragDropManager.getRelated(this),y=g.length,b=0;for(;b<y;b++)w=g[b],w!==this&&w.invalidateDrop&&w.invalidateDrop();this.valid=!0,a=this.getTopIndicator(),f=this.getBottomIndicator(),s==="before"?(l="tl",c="bl"):(l="tr",c="br"),h=i.el.getAnchorXY(l),p=i.el.getAnchorXY(c),d=this.headerCt.el,v=d.getLeft(),m=d.getRight(),h[0]=Ext.Number.constrain(h[0],v,m),p[0]=Ext.Number.constrain(p[0],v,m),h[0]-=4,h[1]-=9,p[0]-=4,a.setXY(h),f.setXY(p),a.show(),f.show()}else this.invalidateDrop()},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(e,t,n,r){var i=this,s=i.headerCt,o=!0,u=r.header,a;return r.header.el.dom===e?o=!1:(a=i.getLocation(n,e).header,o=u.ownerCt===a.ownerCt||!u.ownerCt.sealed&&!a.ownerCt.sealed),o?i.positionIndicator(r.header,e,n):i.valid=!1,i.valid?i.dropAllowed:i.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide(),this.getBottomIndicator().hide()},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(e,t,n,r){if(this.valid){var i=r.header,s=this.lastLocation,o=s.header,u=i.ownerCt,a=i.up("headercontainer:not(gridcolumn)"),f=u.items.indexOf(i),l=o.ownerCt,c=o.up("headercontainer:not(gridcolumn)"),h=l.items.indexOf(o),p=this.headerCt,d=p.getHeaderIndex(i),v=i.isGroupHeader?i.query(":not([isGroupHeader])").length:1,m=p.getHeaderIndex(o),g,y;s.pos==="after"&&(h++,m+=o.isGroupHeader?o.query(":not([isGroupHeader])").length:1),a!==c&&a.lockableInjected&&c.lockableInjected&&c.lockedCt?(y=u.up("[scrollerOwner]"),y.lock(i,h),this.onNodeDrop(e,t,n,r)):a!==c&&a.lockableInjected&&c.lockableInjected&&a.lockedCt?(y=u.up("[scrollerOwner]"),y.unlock(i,h),this.onNodeDrop(e,t,n,r)):(this.invalidateDrop(),u===l&&h>f&&(h-=1),Ext.suspendLayouts(),u!==l&&(u.remove(i,!1),u.isGroupHeader&&(u.items.getCount()||(g=u.ownerCt,g.remove(u,!1),u.el.dom.parentNode.removeChild(u.el.dom)))),u===l?l.move(f,h):l.insert(h,i),l.isGroupHeader?l!==u&&(i.savedFlex=i.flex,delete i.flex,i.width=i.getWidth()):i.savedFlex&&(i.flex=i.savedFlex,delete i.width),p.purgeCache(),Ext.resumeLayouts(!0),p.onHeaderMoved(i,v,d,m),u.items.getCount()||u.destroy())}}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.AbstractPlugin",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(e){this.headerCt=e,e.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var e=this;e.dragZone=new Ext.grid.header.DragZone(e.headerCt),e.dropZone=new Ext.grid.header.DropZone(e.headerCt),e.disabled&&e.dragZone.disable()},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer"],uses:["Ext.grid.column.Column","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",triStateSort:!1,ddLock:!1,dragging:!1,sortable:!0,initComponent:function(){var e=this;e.headerCounter=0,e.plugins=e.plugins||[],e.isHeader||(e.enableColumnResize&&(e.resizer=new Ext.grid.plugin.HeaderResizer,e.plugins.push(e.resizer)),e.enableColumnMove&&(e.reorderer=new Ext.grid.plugin.HeaderReorderer,e.plugins.push(e.reorderer))),e.isHeader&&!e.items?e.layout=e.layout||"auto":e.layout=Ext.apply({type:"gridcolumn",align:"stretchmax"},e.initialConfig.layout),e.defaults=e.defaults||{},Ext.applyIf(e.defaults,{triStateSort:e.triStateSort,sortable:e.sortable}),e.menuTask=new Ext.util.DelayedTask(e.updateMenuDisabledState,e),e.callParent(),e.addEvents("columnresize","headerclick","headertriggerclick","columnmove","columnhide","columnshow","sortchange","menucreate")},onDestroy:function(){var e=this;e.menuTask.cancel(),Ext.destroy(e.resizer,e.reorderer),e.callParent()},applyColumnsState:function(e){if(!e||!e.length)return;var t=this,n=t.items.items,r=n.length,i=0,s=e.length,o,u,a,f;for(o=0;o<s;o++){a=e[o];for(f=r;f--;){u=n[f];if(u.getStateId&&u.getStateId()==a.id){i!==f&&t.moveHeader(f,i),u.applyColumnState&&u.applyColumnState(a),++i;break}}}},getColumnsState:function(){var e=this,t=[],n;return e.items.each(function(e){n=e.getColumnState&&e.getColumnState(),n&&t.push(n)}),t},onAdd:function(e){var t=this,n=t.isHeader?t.getOwnerHeaderCt():t;e.headerId||(e.headerId=e.initialConfig.id||Ext.id(null,"header-")),e.stateId||(e.stateId=e.initialConfig.id||"h"+ ++t.headerCounter),t.callParent(arguments),n&&n.purgeCache()},onRemove:function(e){var t=this,n=t.isHeader?t.getOwnerHeaderCt():t;t.callParent(arguments),n&&t.purgeCache()},applyDefaults:function(e){var t;return e&&!e.isComponent&&e.xtype=="rownumberer"?t=e:(t=this.callParent(arguments),!e.isGroupHeader&&!("width"in t)&&!t.flex&&(t.width=this.defaultWidth)),t},afterRender:function(){this.callParent(),this.setSortState()},setSortState:function(){var e=this.up("[store]").store,t=e.getFirstSorter(),n;t?(n=this.down("gridcolumn[dataIndex="+t.property+"]"),n&&n.setSortState(t.direction,!1,!0)):this.clearOtherSortStates(null)},getHeaderMenu:function(){var e=this.getMenu(),t;if(e){t=e.child("#columnItem");if(t)return t.menu}return null},onHeaderVisibilityChange:function(e,t){var n=this,r=n.getHeaderMenu(),i;r&&(i=n.getMenuItemForHeader(r,e),i&&i.setChecked(t,!0),n.menuTask.delay(50))},getLeafMenuItems:function(){var e=this,t=e.getGridColumns(),n=[],r=0,i=0,s=t.length,o=e.getMenu(),u;for(;r<s;++r)u=t[r],u.hideable?(u=e.getMenuItemForHeader(o,u),u&&(n.push(u),u.checked&&++i)):!u.hidden&&!u.menuDisabled&&++i;return{items:n,checkedCount:i}},updateMenuDisabledState:function(){var e=this,t=e.getLeafMenuItems(),n=t.checkedCount,r=t.items,i=r.length,s=0,o=e.getMenu().child("#columnItem");if(n<=1)e.disableMenuItems(o,Ext.ComponentQuery.query("[checked=true]",r)[0]);else for(;s<i;++s)e.setMenuItemState(n,o,r[s])},disableMenuItems:function(e,t){while(t&&t!=e)t.disableCheckChange(),t=t.parentMenu.ownerItem},setMenuItemState:function(e,t,n){var r,i;while(n&&n!=t){r=n.parentMenu,i=n.parentMenu.query("[checked=true]:not([menu])").length,n.enableCheckChange(),n=r.ownerItem;if(i===e)break}this.disableMenuItems(t,n)},getMenuItemForHeader:function(e,t){return t?e.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(e){var t=this,n=t.ownerCt;t.onHeaderVisibilityChange(e,!0),e.isGroupHeader||n&&n.onHeaderShow(t,e),t.fireEvent("columnshow",t,e)},onHeaderHide:function(e){var t=this,n=t.ownerCt;t.onHeaderVisibilityChange(e,!1),e.isGroupHeader||n&&n.onHeaderHide(t,e),t.fireEvent("columnhide",t,e)},tempLock:function(){this.ddLock=!0,Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(e,t,n){var r=this,i=r.view,s=r.ownerCt;i&&i.table.dom&&(r.tempLock(),s&&s.onHeaderResize(r,e,t)),r.fireEvent("columnresize",this,e,t)},onHeaderClick:function(e,t,n){e.fireEvent("headerclick",this,e,t,n),this.fireEvent("headerclick",this,e,t,n)},onHeaderTriggerClick:function(e,t,n){var r=this;e.fireEvent("headertriggerclick",r,e,t,n)!==!1&&r.fireEvent("headertriggerclick",r,e,t,n)!==!1&&r.showMenuBy(n,e)},showMenuBy:function(e,t){var n=this.getMenu(),r=n.down("#ascItem"),i=n.down("#descItem"),s;n.activeHeader=n.ownerCt=t,n.setFloatParent(t),t.titleEl.addCls(this.headerOpenCls),s=t.sortable?"enable":"disable",r&&r[s](),i&&i[s](),n.showBy(e)},onMenuDeactivate:function(){var e=this.getMenu();e.activeHeader.titleEl.removeCls(this.headerOpenCls)},moveHeader:function(e,t){this.tempLock(),this.onHeaderMoved(this.move(e,t),1,e,t)},purgeCache:function(){var e=this;delete e.gridDataColumns,delete e.hideableColumns,e.menu&&(e.menu.hide(),e.menu.destroy(),delete e.menu)},onHeaderMoved:function(e,t,n,r){var i=this,s=i.ownerCt;s&&s.onHeaderMove&&s.onHeaderMove(i,e,t,n,r),i.fireEvent("columnmove",i,e,n,r)},getMenu:function(){var e=this;return e.menu||(e.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:e.getMenuItems(),listeners:{deactivate:e.onMenuDeactivate,scope:e}}),e.updateMenuDisabledState(),e.fireEvent("menucreate",e,e.menu)),e.menu},getMenuItems:function(){var e=this,t=[],n=e.enableColumnHide?e.getColumnMenu(e):null;return e.sortable&&(t=[{itemId:"ascItem",text:e.sortAscText,cls:Ext.baseCSSPrefix+"hmenu-sort-asc",handler:e.onSortAscClick,scope:e},{itemId:"descItem",text:e.sortDescText,cls:Ext.baseCSSPrefix+"hmenu-sort-desc",handler:e.onSortDescClick,scope:e}]),n&&n.length&&t.push("-",{itemId:"columnItem",text:e.columnsText,cls:Ext.baseCSSPrefix+"cols-icon",menu:n}),t},onSortAscClick:function(){var e=this.getMenu(),t=e.activeHeader;t.setSortState("ASC")},onSortDescClick:function(){var e=this.getMenu(),t=e.activeHeader;t.setSortState("DESC")},getColumnMenu:function(e){var t=[],n=0,r,i=e.query(">gridcolumn[hideable]"),s=i.length,o;for(;n<s;n++)r=i[n],o=new Ext.menu.CheckItem({text:r.menuText||r.text,checked:!r.hidden,hideOnClick:!1,headerId:r.id,menu:r.isGroupHeader?this.getColumnMenu(r):undefined,checkHandler:this.onColumnCheckChange,scope:this}),t.push(o),r.on({destroy:Ext.Function.bind(o.destroy,o)});return t},onColumnCheckChange:function(e,t){var n=Ext.getCmp(e.headerId);n[t?"show":"hide"]()},getColumnsForTpl:function(e){var t=[],n=this.getGridColumns(e),r=n.length,i=0,s,o;for(;i<r;i++)s=n[i],s.hidden||s.up("headercontainer[hidden=true]")?o=0:o=s.getDesiredWidth(),t.push({dataIndex:s.dataIndex,align:s.align,width:o,id:s.id,cls:s.tdCls,columnId:s.getItemId()});return t},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(e){var t=0,n=this.getVisibleGridColumns(e),r=n.length,i=0,s;for(;i<r;i++)s=n[i],s.getDesiredWidth?t+=s.getDesiredWidth()||0:t+=s.getWidth();return t},clearOtherSortStates:function(e){var t=this.getGridColumns(),n=t.length,r=0;for(;r<n;r++)t[r]!==e&&t[r].setSortState(null,!0)},getVisibleGridColumns:function(e){return Ext.ComponentQuery.query(":not([hidden])",this.getGridColumns(e))},getGridColumns:function(e){var t=this,n=e?null:t.gridDataColumns;return n||(t.gridDataColumns=n=[],t.cascade(function(e){e!==t&&!e.isGroupHeader&&n.push(e)})),n},getHideableColumns:function(e){var t=this,n=e?null:t.hideableColumns;return n||(n=t.hideableColumns=t.query("[hideable]")),n},getHeaderIndex:function(e){return e.isGroupHeader&&(e=e.down(":not([isgroupHeader])")),Ext.Array.indexOf(this.getGridColumns(),e)},getHeaderAtIndex:function(e){var t=this.getGridColumns();return t.length?t[e]:null},getVisibleHeaderClosestToIndex:function(e){var t=this.getHeaderAtIndex(e);return t&&t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),t},prepareData:function(e,t,n,r,i){var s=this,o={},u=s.gridDataColumns||s.getGridColumns(),a=u.length,f=0,l,c,h,p,d,v=i.store;for(;f<a;f++){d={tdCls:"",style:""},l=u[f],c=l.id,h=l.renderer,p=e[l.dataIndex],typeof h=="function"&&(p=h.call(l.scope||s.ownerCt,p,d,n,t,f,v,r)),s.markDirty&&(o[c+"-modified"]=n.isModified(l.dataIndex)?Ext.baseCSSPrefix+"grid-dirty-cell":""),o[c+"-tdCls"]=d.tdCls,o[c+"-tdAttr"]=d.tdAttr,o[c+"-style"]=d.style;if(typeof p=="undefined"||p===null||p==="")p=l.emptyCellText;o[c]=p}return o},expandToFit:function(e){var t=this.view;t&&t.expandToFit(e)}}),Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",alias:"widget.gridcolumn",requires:["Ext.util.KeyNav","Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout"],alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header "+Ext.baseCSSPrefix+"unselectable",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:5,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner">'+'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text">'+"{text}"+"</span>"+'<tpl if="!menuDisabled">'+'<div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger"></div>'+"</tpl>"+"</div>"+"{%this.renderContainer(out,values)%}",dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,editRenderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,isHeader:!0,componentLayout:"columncomponent",initResizable:Ext.emptyFn,initComponent:function(){var e=this,t;Ext.isDefined(e.header)&&(e.text=e.header,delete e.header),e.triStateSort||(e.possibleSortStates.length=2),Ext.isDefined(e.columns)?(e.isGroupHeader=!0,e.items=e.columns,delete e.columns,delete e.flex,delete e.width,e.cls=(e.cls||"")+" "+Ext.baseCSSPrefix+"group-header",e.sortable=!1,e.resizable=!1,e.align="center"):(e.isContainer=!1,e.flex&&(e.minWidth=e.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth)),e.addCls(Ext.baseCSSPrefix+"column-header-align-"+e.align),t=e.renderer,t?(typeof t=="string"&&(e.renderer=Ext.util.Format[t]),e.hasCustomRenderer=!0):e.defaultRenderer&&(e.scope=e,e.renderer=e.defaultRenderer),e.callParent(arguments),e.on({element:"el",click:e.onElClick,dblclick:e.onElDblClick,scope:e}),e.on({element:"titleEl",mouseenter:e.onTitleMouseOver,mouseleave:e.onTitleMouseOut,scope:e})},onAdd:function(e){e.isSubHeader=!0,e.addCls(Ext.baseCSSPrefix+"group-sub-header"),this.callParent(arguments)},onRemove:function(e){e.isSubHeader=!1,e.removeCls(Ext.baseCSSPrefix+"group-sub-header"),this.callParent(arguments)},initRenderData:function(){var e=this,t="",n=e.tooltip,r=e.tooltipType=="qtip"?"data-qtip":"title";return Ext.isEmpty(n)||(t=r+'="'+n+'" '),Ext.applyIf(e.callParent(arguments),{text:e.text,menuDisabled:e.menuDisabled,tipMarkup:t})},applyColumnState:function(e){var t=this,n=Ext.isDefined;t.applyColumnsState(e.columns),n(e.hidden)&&(t.hidden=e.hidden),n(e.locked)&&(t.locked=e.locked),n(e.sortable)&&(t.sortable=e.sortable),n(e.width)?(delete t.flex,t.width=e.width):n(e.flex)&&(delete t.width,t.flex=e.flex)},getColumnState:function(){var e=this,t=e.items.items,n=t?t.length:0,r,i=[],s={id:e.getStateId()};e.savePropsToState(["hidden","sortable","locked","flex","width"],s);if(e.isGroupHeader){for(r=0;r<n;r++)i.push(t[r].getColumnState());i.length&&(s.columns=i)}else e.isSubHeader&&e.ownerCt.hidden&&delete e.hidden;return"width"in s&&delete s.flex,s},getStateId:function(){return this.stateId||this.headerId},setText:function(e){this.text=e,this.rendered&&this.textEl.update(e)},getOwnerHeaderCt:function(){return this.up(":not([isHeader])")},getIndex:function(){return this.isGroupColumn?!1:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?!1:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var e=this,t=e.up("tablepanel");e.callParent(),t&&(!e.sortable||t.sortableColumns===!1)&&!e.groupable&&!e.lockable&&(t.enableColumnHide===!1||!e.getOwnerHeaderCt().getHideableColumns().length)&&(e.menuDisabled=!0)},afterRender:function(){var e=this,t=e.el;e.callParent(arguments),e.overCls&&t.addClsOnOver(e.overCls),(!Ext.isIE8||!Ext.isStrict)&&e.mon(e.getFocusEl(),{focus:e.onTitleMouseOver,blur:e.onTitleMouseOut,scope:e}),e.keyNav=new Ext.util.KeyNav(t,{enter:e.onEnterKey,down:e.onDownKey,scope:e})},afterComponentLayout:function(e,t,n,r){var i=this,s=i.getOwnerHeaderCt();i.callParent(arguments),s&&(n!=null||i.flex)&&e!==n&&s.onHeaderResize(i,e,!0)},setPadding:function(e){var t=this,n=parseInt(t.textEl.getStyle("line-height"),10),r=t.textEl.dom.offsetHeight,i=t.titleEl,s=e-t.el.getBorderWidth("tb"),o;t.isGroupHeader||i.getHeight()<s&&(i.setHeight(s),t.ownerCt.layout.innerCt.setHeight(e)),o=i.getViewSize().height,r&&(n&&(r=Math.ceil(r/n)*n),i.setStyle({paddingTop:Math.floor(Math.max((o-r)/2,0))+"px"})),Ext.isIE&&t.triggerEl&&t.triggerEl.setHeight(o)},onDestroy:function(){var e=this;Ext.destroy(e.textEl,e.keyNav,e.field),delete e.keyNav,e.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){this.triggerEl&&this.onElClick(e,this.triggerEl.dom||this.el.dom)},onEnterKey:function(e){this.onElClick(e,this.el.dom)},onElDblClick:function(e,t){var n=this,r=n.ownerCt;r&&Ext.Array.indexOf(r.items,n)!==0&&n.isOnLeftEdge(e)&&r.expandToFit(n.previousSibling("gridcolumn"))},onElClick:function(e,t){var n=this,r=n.getOwnerHeaderCt();if(r&&!r.ddLock)if(n.triggerEl&&(e.target===n.triggerEl.dom||t===n.triggerEl.dom||e.within(n.triggerEl)))r.onHeaderTriggerClick(n,e,t);else if(e.getKey()||!n.isOnLeftEdge(e)&&!n.isOnRightEdge(e))n.toggleSortState(),r.onHeaderClick(n,e,t)},processEvent:function(e,t,n,r,i,s){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var e=this,t,n;e.sortable&&(t=Ext.Array.indexOf(e.possibleSortStates,e.sortState),n=(t+1)%e.possibleSortStates.length,e.setSortState(e.possibleSortStates[n]))},doSort:function(e){var t=this.up("tablepanel").store;t.sort({property:this.getSortParam(),direction:e})},getSortParam:function(){return this.dataIndex},setSortState:function(e,t,n){var r=this,i=Ext.baseCSSPrefix+"column-header-sort-",s=i+"ASC",o=i+"DESC",u=i+"null",a=r.getOwnerHeaderCt(),f=r.sortState;if(f!==e&&r.getSortParam()){r.addCls(i+e),e&&!n&&r.doSort(e);switch(e){case"DESC":r.removeCls([s,u]);break;case"ASC":r.removeCls([o,u]);break;case null:r.removeCls([s,o])}a&&!r.triStateSort&&!t&&a.clearOtherSortStates(r),r.sortState=e,(r.triStateSort||e!=null)&&a.fireEvent("sortchange",a,r,e)}},hide:function(e){var t=this,n=t.getOwnerHeaderCt(),r=t.ownerCt,i=r.isGroupHeader,s,o,u,a;if(i&&!e){o=r.query(">:not([hidden])");if(o.length===1&&o[0]==t){t.ownerCt.hide();return}}Ext.suspendLayouts();if(t.isGroupHeader){o=t.items.items;for(a=0,u=o.length;a<u;a++)s=o[a],s.hidden||s.hide(!0)}t.callParent(),n.onHeaderHide(t),Ext.resumeLayouts(!0)},show:function(e,t){var n=this,r=n.ownerCt,i,s,o,u;Ext.suspendLayouts(),n.isSubHeader&&r.hidden&&r.show(!1,!0),n.callParent(arguments);if(n.isGroupHeader&&t!==!0&&!n.query(":not([hidden])").length){i=n.query(">*");for(o=0,s=i.length;o<s;o++)u=i[o],u.hidden&&u.show(!0)}Ext.resumeLayouts(!0),r=n.getOwnerHeaderCt(),r&&r.onHeaderShow(n)},getDesiredWidth:function(){var e=this;return e.rendered&&e.componentLayout&&e.componentLayout.lastComponentSize?e.componentLayout.lastComponentSize.width:e.flex?e.width:e.width},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(e){return e.getXY()[0]-this.el.getLeft()<=this.handleWidth},isOnRightEdge:function(e){return this.el.getRight()-e.getXY()[0]<=this.handleWidth}}),Ext.define("Ext.grid.RowNumberer",{extend:"Ext.grid.column.Column",alias:"widget.rownumberer",text:"&#160",width:23,sortable:!1,draggable:!1,align:"right",constructor:function(e){this.width=this.width,this.callParent(arguments),this.rowspan&&(this.renderer=Ext.Function.bind(this.renderer,this))},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",rowspan:undefined,renderer:function(e,t,n,r,i,s){return this.rowspan&&(t.cellAttr='rowspan="'+this.rowspan+'"'),t.tdCls=Ext.baseCSSPrefix+"grid-cell-special",s.indexOfTotal(n)+1}}),Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",constructor:function(e){var t=this;Ext.apply(t,e),t.ddGroup||(t.ddGroup="view-dd-zone-"+t.view.id),t.callParent([t.view.el])},fireViewEvent:function(){var e=this,t;return e.lock(),t=e.view.fireEvent.apply(e.view,arguments),e.unlock(),t},getTargetFromEvent:function(e){var t=e.getTarget(this.view.getItemSelector()),n,r,i,s,o,u;if(!t){n=e.getPageY();for(s=0,r=this.view.getNodes(),o=r.length;s<o;s++){i=r[s],u=Ext.fly(i).getBox();if(n<=u.bottom)return i}}return t},getIndicator:function(){var e=this;return e.indicator||(e.indicator=new Ext.Component({html:e.indicatorHtml,cls:e.indicatorCls,ownerCt:e.view,floating:!0,shadow:!1})),e.indicator},getPosition:function(e,t){var n=e.getXY()[1],r=Ext.fly(t).getRegion(),i;return r.bottom-n>=(r.bottom-r.top)/2?i="before":i="after",i},containsRecordAtOffset:function(e,t,n){if(!t)return!1;var r=this.view,i=r.indexOf(t),s=r.getNode(i+n),o=s?r.getRecord(s):null;return o&&Ext.Array.contains(e,o)},positionIndicator:function(e,t,n){var r=this,i=r.view,s=r.getPosition(n,e),o=i.getRecord(e),u=t.records,a;if(!Ext.Array.contains(u,o)&&(s=="before"&&!r.containsRecordAtOffset(u,o,-1)||s=="after"&&!r.containsRecordAtOffset(u,o,1))){r.valid=!0;if(r.overRecord!=o||r.currentPosition!=s)a=Ext.fly(e).getY()-i.el.getY()-1,s=="after"&&(a+=Ext.fly(e).getHeight()),r.getIndicator().setWidth(Ext.fly(i.el).getWidth()).showAt(0,a),r.overRecord=o,r.currentPosition=s}else r.invalidateDrop()},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(e,t,n,r){var i=this;return Ext.Array.contains(r.records,i.view.getRecord(e))||i.positionIndicator(e,r,n),i.valid?i.dropAllowed:i.dropNotAllowed},notifyOut:function(e,t,n,r){var i=this;i.callParent(arguments),delete i.overRecord,delete i.currentPosition,i.indicator&&i.indicator.hide()},onContainerOver:function(e,t,n){var r=this,i=r.view,s=i.store.getCount();return s?r.positionIndicator(i.getNode(s-1),n,t):(delete r.overRecord,delete r.currentPosition,r.getIndicator().setWidth(Ext.fly(i.el).getWidth()).showAt(0,0),r.valid=!0),r.dropAllowed},onContainerDrop:function(e,t,n){return this.onNodeDrop(e,null,t,n)},onNodeDrop:function(e,t,n,r){var i=this,s=!1,o={wait:!1,processDrop:function(){i.invalidateDrop(),i.handleNodeDrop(r,i.overRecord,i.currentPosition),s=!0,i.fireViewEvent("drop",e,r,i.overRecord,i.currentPosition)},cancelDrop:function(){i.invalidateDrop(),s=!0}},u=!1;if(i.valid){u=i.fireViewEvent("beforedrop",e,r,i.overRecord,i.currentPosition,o);if(o.wait)return;u!==!1&&(s||o.processDrop())}return u},destroy:function(){Ext.destroy(this.indicator),delete this.indicator,this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(e,t,n){var r=this.view,i=r.getStore(),s,o,u,a;if(e.copy){o=e.records,e.records=[];for(u=0,a=o.length;u<a;u++)e.records.push(o[u].copy(o[u].getId()))}else e.view.store.remove(e.records,e.view===r);s=i.indexOf(t),n!=="before"&&s++,i.insert(s,e.records),r.getSelectionModel().select(e.records)}}),Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:!1,constructor:function(e){var t=
this,n=Ext.apply({},e),r=n.items||[t],i,s,o;t.origRenderer=n.renderer||t.renderer,t.origScope=n.scope||t.scope,delete t.renderer,delete t.scope,delete n.renderer,delete n.scope,delete n.items,t.callParent([n]),t.items=r;for(s=0,o=r.length;s<o;++s)if(r[s].getClass){i=!0;break}if(t.origRenderer||i)t.hasCustomRenderer=!0},defaultRenderer:function(e,t){var n=this,r=Ext.baseCSSPrefix,i=n.origScope||n,s=n.items,o=s.length,u=0,a;e=Ext.isFunction(n.origRenderer)?n.origRenderer.apply(i,arguments)||"":"",t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;u<o;u++)a=s[u],a.hasActionConfiguration||(a.stopSelection=n.stopSelection,a.disable=Ext.Function.bind(n.disableAction,n,[u],0),a.enable=Ext.Function.bind(n.enableAction,n,[u],0),a.hasActionConfiguration=!0),e+='<img alt="'+(a.altText||n.altText)+'" src="'+(a.icon||Ext.BLANK_IMAGE_URL)+'" class="'+r+"action-col-icon "+r+"action-col-"+String(u)+" "+(a.disabled?r+"item-disabled":" ")+" "+(Ext.isFunction(a.getClass)?a.getClass.apply(a.scope||i,arguments):a.iconCls||n.iconCls||"")+'"'+(a.tooltip?' data-qtip="'+a.tooltip+'"':"")+" />";return e},enableAction:function(e,t){var n=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(n.items,e)):e=0,n.items[e].disabled=!1,n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).removeCls(n.disabledCls),t||n.fireEvent("enable",n)},disableAction:function(e,t){var n=this;e?Ext.isNumber(e)||(e=Ext.Array.indexOf(n.items,e)):e=0,n.items[e].disabled=!0,n.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).addCls(n.disabledCls),t||n.fireEvent("disable",n)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(e,t,n,r,i,s,o,u){var a=this,f=s.getTarget(),l,c,h,p=e=="keydown"&&s.getKey();p&&!Ext.fly(f).findParent(t.cellSelector)&&(f=Ext.fly(n).down("."+Ext.baseCSSPrefix+"action-col-icon",!0));if(f&&(l=f.className.match(a.actionIdRe))){c=a.items[parseInt(l[1],10)];if(c)if(e=="click"||p==s.ENTER||p==s.SPACE)h=c.handler||a.handler,h&&!c.disabled&&h.call(c.scope||a.origScope||a,t,r,i,c,s,o,u);else if(e=="mousedown"&&c.stopSelection!==!1)return!1}return a.callParent(arguments)},cascade:function(e,t){e.call(t||this,this)},getRefItems:function(){return[]}}),Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultRenderer:function(e){return e===undefined?this.undefinedText:!e||e==="false"?this.falseText:this.trueText}}),Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(e){return Ext.util.Format.date(e,this.format)}}),Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",format:"0,000.00",defaultRenderer:function(e){return Ext.util.Format.number(e,this.format)}}),Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){var e=this;e.tpl=!Ext.isPrimitive(e.tpl)&&e.tpl.compile?e.tpl:new Ext.XTemplate(e.tpl),e.hasCustomRenderer=!0,e.callParent(arguments)},defaultRenderer:function(e,t,n){var r=Ext.apply({},n.data,n.getAssociatedData());return this.tpl.apply(r)}}),Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,collectData:!1,constructor:function(e){this.initialConfig=e,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,getFeatureTpl:function(){return""},getFireEventArgs:function(e,t,n,r){return[e,t,n,r]},attachEvents:function(){},getFragmentTpl:Ext.emptyFn,mutateMetaRowTpl:Ext.emptyFn,getMetaRowTplFragments:function(){return{}},getTableFragments:function(){return{}},getAdditionalData:function(e,t,n,r){return{}},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",showSummaryRow:!0,nestedIdRe:/\{\{id\}([\w\-]*)\}/g,init:function(){var e=this;e.grid.optimizedColumnMove=!1,e.view.mon(e.view.store,{update:e.onStoreUpdate,scope:e})},onStoreUpdate:function(){var e=this.view;this.showSummaryRow&&(e.saveScrollState(),e.refresh(),e.restoreScrollState())},toggleSummaryRow:function(e){this.showSummaryRow=!!e},getSummaryFragments:function(){var e={};return this.showSummaryRow&&Ext.apply(e,{printSummaryRow:Ext.bind(this.printSummaryRow,this)}),e},printSummaryRow:function(e){var t=this.view.getTableChunker().metaRowTpl.join(""),n=Ext.baseCSSPrefix;return t=t.replace(n+"grid-row",n+"grid-row-summary"),t=t.replace("{{id}}","{gridSummaryValue}"),t=t.replace(this.nestedIdRe,"{id$1}"),t=t.replace("{[this.embedRowCls()]}","{rowCls}"),t=t.replace("{[this.embedRowAttr()]}","{rowAttr}"),t=new Ext.XTemplate(t,{firstOrLastCls:Ext.view.TableChunker.firstOrLastCls}),t.applyTemplate({columns:this.getPrintData(e)})},getColumnValue:function(e,t){var n=Ext.getCmp(e.id),r=t[e.id],i=n.summaryRenderer;return!r&&r!==0&&(r=""),i&&(r=i.call(n.scope||this,r,t,e.dataIndex)),r},getSummary:function(e,t,n,r){if(t){if(Ext.isFunction(t))return e.aggregate(t,null,r);switch(t){case"count":return e.count(r);case"min":return e.min(n,r);case"max":return e.max(n,r);case"sum":return e.sum(n,r);case"average":return e.average(n,r);default:return r?{}:""}}}}),Ext.define("Ext.grid.feature.Chunking",{extend:"Ext.grid.feature.Feature",alias:"feature.chunking",chunkSize:20,rowHeight:Ext.isIE?27:26,visibleChunk:0,hasFeatureEvent:!1,attachEvents:function(){this.view.el.on("scroll",this.onBodyScroll,this,{buffer:300})},onBodyScroll:function(e,t){var n=this.view,r=t.scrollTop,i=Math.floor(r/this.rowHeight/this.chunkSize);i!==this.visibleChunk&&(this.visibleChunk=i,n.refresh(),n.el.dom.scrollTop=r,n.el.dom.scrollTop=r)},collectData:function(e,t,n,r,i){var s=this,o=i.rows.length,u=0,a=0,f=s.visibleChunk,l,c,h=i.rows;delete i.rows,i.chunks=[];for(;u<o;u+=s.chunkSize,a++)u+s.chunkSize>o?c=o-u:c=s.chunkSize,a>=f-1&&a<=f+1?l=h.slice(u,u+s.chunkSize):l=[],i.chunks.push({rows:l,fullWidth:r,chunkHeight:c*s.rowHeight});return i},getTableFragments:function(){return{openTableWrap:function(){return'<tpl for="chunks"><div class="'+Ext.baseCSSPrefix+'grid-chunk" style="height: {chunkHeight}px;">'},closeTableWrap:function(){return"</div></tpl>"}}}}),Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",bodySelector:"."+Ext.baseCSSPrefix+"grid-group-body",constructor:function(){var e=this;e.collapsedState={},e.callParent(arguments)},groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,enable:function(){var e=this,t=e.view,n=t.store,r;e.lastGroupField=e.getGroupField(),e.lastGroupIndex&&(e.block(),n.group(e.lastGroupIndex),e.unblock()),e.callParent(),r=e.view.headerCt.getMenu().down("#groupToggleMenuItem"),r.setChecked(!0,!0),e.refreshIf()},disable:function(){var e=this,t=e.view,n=t.store,r=n.remoteGroup,i,s;s=n.groupers.first(),s&&(e.lastGroupIndex=s.property,e.block(),n.clearGrouping(),e.unblock()),e.callParent(),i=e.view.headerCt.getMenu().down("#groupToggleMenuItem"),i.setChecked(!0,!0),i.setChecked(!1,!0),e.refreshIf()},refreshIf:function(){var e=this.grid.ownerCt,t=this.view;!t.store.remoteGroup&&!this.blockRefresh&&(e&&e.lockable?e.view.refresh():t.refresh())},getFeatureTpl:function(e,t,n,r){return["<tpl if=\"typeof rows !== 'undefined'\">",'<tr id="{groupHeaderId}" class="'+Ext.baseCSSPrefix+'grid-group-hd {hdCollapsedCls} {collapsibleClass}"><td class="'+Ext.baseCSSPrefix+'grid-cell" colspan="'+t.columns.length+'" {[this.indentByDepth(values)]}><div class="'+Ext.baseCSSPrefix+'grid-cell-inner"><div class="'+Ext.baseCSSPrefix+'grid-group-title">{collapsed}{[this.renderGroupHeaderTpl(values, parent)]}</div></div></td></tr>','<tr id="{groupBodyId}" class="'+Ext.baseCSSPrefix+'grid-group-body {collapsedCls}"><td colspan="'+t.columns.length+'">{[this.recurse(values)]}</td></tr>',"</tpl>"].join("")},getFragmentTpl:function(){var e=this;return{indentByDepth:e.indentByDepth,depthToIndent:e.depthToIndent,renderGroupHeaderTpl:function(t,n){return Ext.XTemplate.getTpl(e,"groupHeaderTpl").apply(t,n)}}},indentByDepth:function(e){return'style="padding-left:'+(e.depth||0)*this.depthToIndent+'px;"'},destroy:function(){delete this.view,delete this.prunedHeader},attachEvents:function(){var e=this,t=e.view;t.on({scope:e,groupclick:e.onGroupClick,rowfocus:e.onRowFocus}),t.mon(t.store,{scope:e,groupchange:e.onGroupChange,remove:e.onRemove,add:e.onAdd,update:e.onUpdate}),e.enableGroupingMenu&&e.injectGroupingMenu(),e.pruneGroupedHeader(),e.lastGroupField=e.getGroupField(),e.block(),e.onGroupChange(),e.unblock()},onAdd:function(e,t){var n=this,r=n.view,i=n.getGroupField(),s=0,o=t.length,u,a,f,l,c;if(r.rendered){a={},u={};for(;s<o;++s)c=t[s].get(i),a[c]===undefined&&(a[c]=0),a[c]+=1;f=e.getGroups();for(s=0,o=f.length;s<o;++s)c=f[s],u[c.name]=c.children.length;for(c in a)if(a[c]===u[c]){l=!0;break}l&&r.refresh()}},onUpdate:function(e,t,n,r){var i=this.view;(i.rendered&&!r||Ext.Array.contains(r,this.getGroupField()))&&i.refresh()},onRemove:function(e,t){var n=this,r=n.getGroupField(),i=t.get(r),s=n.view;s.rendered&&e.findExact(r,i)===-1&&n.view.refresh()},injectGroupingMenu:function(){var e=this,t=e.view.headerCt;t.showMenuBy=e.showMenuBy,t.getMenuItems=e.getMenuItems()},showMenuBy:function(e,t){var n=this.getMenu(),r=n.down("#groupMenuItem"),i=t.groupable===!1?"disable":"enable";r[i](),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var e=this,t=e.groupByText,n=e.disabled||!e.getGroupField(),r=e.showGroupsText,i=e.enableNoGroups,s=e.view.headerCt.getMenuItems;return function(){var o=s.call(this);return o.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:t,handler:e.onGroupMenuItemClick,scope:e}),i&&o.push({itemId:"groupToggleMenuItem",text:r,checked:!n,checkHandler:e.onGroupToggleMenuItemClick,scope:e}),o}},onGroupMenuItemClick:function(e,t){var n=this,r=e.parentMenu,i=r.activeHeader,s=n.view,o=s.store;delete n.lastGroupIndex,n.block(),n.enable(),o.group(i.dataIndex),n.pruneGroupedHeader(),n.unblock(),n.refreshIf()},block:function(){this.blockRefresh=this.view.blockRefresh=!0},unblock:function(){this.blockRefresh=this.view.blockRefresh=!1},onGroupToggleMenuItemClick:function(e,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this,t=e.getGroupedHeader();e.hideGroupedHeader&&t&&(e.prunedHeader&&e.prunedHeader.show(),e.prunedHeader=t,t.hide())},getGroupedHeader:function(){var e=this.getGroupField(),t=this.view.headerCt;return e?t.down("[dataIndex="+e+"]"):null},getGroupField:function(){var e=this.view.store.groupers.first();return e?e.property:""},onRowFocus:function(e){var t=this.view.getNode(e),n=Ext.fly(t).up("."+this.collapsedCls);n&&this.expand(n)},isExpanded:function(e){return this.collapsedState[e]===!1},expand:function(e,t,n){var r=this,i=r.view,s,o,u=r.lockingPartner;Ext.isString(e)?o=Ext.fly(r.getGroupBodyId(e),"_grouping"):(o=Ext.fly(e,"_grouping"),e=r.getGroupName(o)),s=Ext.get(r.getGroupHeaderId(e)),r.collapsedState[e]&&(o.removeCls(r.collapsedCls),o.prev().removeCls(r.hdCollapsedCls),n!==!0&&i.refreshSize(),i.fireEvent("groupexpand",i,s,e),r.collapsedState[e]=!1,u&&u.expand(e,t,n),t&&o.scrollIntoView(i.el,null,!0))},expandAll:function(){var e=this,t=e.view,n=t.el.select(e.eventSelector).elements,r,i=n.length;for(r=0;r<i;r++)e.expand(Ext.fly(n[r]).next(),!1,!0);t.refreshSize()},collapse:function(e,t,n){var r=this,i=r.view,s,o,u=r.lockingPartner;Ext.isString(e)?o=Ext.fly(r.getGroupBodyId(e),"_grouping"):(o=Ext.fly(e,"_grouping"),e=r.getGroupName(o)),s=Ext.get(r.getGroupHeaderId(e)),r.collapsedState[e]||(o.addCls(r.collapsedCls),o.prev().addCls(r.hdCollapsedCls),n!==!0&&i.refreshSize(),i.fireEvent("groupcollapse",i,s,e),r.collapsedState[e]=!0,u&&u.collapse(e,t,n),t&&s.scrollIntoView(i.el,null,!0))},collapseAll:function(){var e=this,t=e.view,n=t.el.select(e.eventSelector).elements,r,i=n.length;for(r=0;r<i;r++)e.collapse(Ext.fly(n[r]).next(),!1,!0);t.refreshSize()},onGroupChange:function(){var e=this,t=e.getGroupField(),n,r,i;e.hideGroupedHeader&&(e.lastGroupField&&(n=e.getMenuItem(e.lastGroupField),n&&n.setChecked(!0)),t&&(r=e.view.headerCt.getVisibleGridColumns(),i=r.length===1&&r[0].dataIndex==t,n=e.getMenuItem(t),n&&!i&&n.setChecked(!1))),e.refreshIf(),e.lastGroupField=t},getMenuItem:function(e){var t=this.view,n=t.headerCt.down("gridcolumn[dataIndex="+e+"]"),r=t.headerCt.getMenu();return n?r.down("menuitem[headerId="+n.id+"]"):null},onGroupClick:function(e,t,n,r){var i=this;i.collapsible&&(i.collapsedState[n]?i.expand(n):i.collapse(n))},getMetaRowTplFragments:function(){return{isRow:this.isRow,closeRow:this.closeRow}},isRow:function(){return"<tpl if=\"typeof rows === 'undefined'\">"},closeRow:function(){return"</tpl>"},mutateMetaRowTpl:function(e){e.unshift("{[this.isRow()]}"),e.push("{[this.closeRow()]}")},getAdditionalData:function(e,t,n,r){var i=this.view,s=i.headerCt,o=s.items.getAt(0),u={},a;return o&&(a=o.id+"-tdAttr",u[a]=this.indentByDepth(e)+" "+(r[a]?r[a]:""),u.collapsed="true",u.data=n.getData()),u},getGroupRows:function(e,t,n,r){var i=this,s=e.children,o=e.rows=[],u=i.view,a=i.getGroupedHeader(),f=i.getGroupField(),l=-1,c,h=t.length,p;u.store.buffered&&(i.collapsible=!1),e.viewId=u.id;for(c=0;c<h;c++)p=t[c],p.get(f)==e.name&&(l=c),Ext.Array.indexOf(s,p)!=-1&&o.push(Ext.apply(n[c],{depth:1}));return e.groupField=f,e.groupHeaderId=i.getGroupHeaderId(e.name),e.groupBodyId=i.getGroupBodyId(e.name),e.fullWidth=r,e.columnName=a?a.text:f,e.groupValue=e.name,a&&l>-1&&(e.name=e.renderedValue=n[l][a.id]),i.collapsedState[e.name]?(e.collapsedCls=i.collapsedCls,e.hdCollapsedCls=i.hdCollapsedCls):e.collapsedCls=e.hdCollapsedCls="",i.collapsible?e.collapsibleClass=i.hdCollapsibleCls:e.collapsibleClass="",e},getGroupHeaderId:function(e){return this.view.id+"-hd-"+e},getGroupBodyId:function(e){return this.view.id+"-bd-"+e},getGroupName:function(e){var t=this,n;n=Ext.fly(e).findParent(t.eventSelector);if(n)return n.id.split(this.view.id+"-hd-")[1];n=Ext.fly(e).findParent(t.bodySelector);if(n)return n.id.split(this.view.id+"-bd-")[1]},collectData:function(e,t,n,r,i){var s=this,o=s.view.store,u=s.collapsedState,a,f,l,c,h;s.startCollapsed&&(s.startCollapsed=!1,a=!0);if(!s.disabled&&o.isGrouped()){i.rows=l=o.getGroups(),c=l.length;for(f=0;f<c;f++)h=l[f],a&&(u[h.name]=!0),s.getGroupRows(h,e,t,r)}return i},getFireEventArgs:function(e,t,n,r){return[e,t,n,this.getGroupName(n),r]}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",mixins:{summary:"Ext.grid.feature.AbstractSummary"},init:function(){this.mixins.summary.init.call(this)},getFeatureTpl:function(){var e=this.callParent(arguments);return this.showSummaryRow&&(e=e.replace("</tpl>",""),e+="{[this.printSummaryRow(xindex)]}</tpl>"),e},getFragmentTpl:function(){var e=this,t=e.callParent();return Ext.apply(t,e.getSummaryFragments()),e.showSummaryRow&&(e.summaryGroups=e.view.store.getGroups(),e.summaryData=e.generateSummaryData()),t},getPrintData:function(e){var t=this,n=t.view.headerCt.getColumnsForTpl(),r=0,i=n.length,s=[],o=t.summaryGroups[e-1].name,u=t.summaryData[o],a;for(;r<i;++r)a=n[r],a.gridSummaryValue=this.getColumnValue(a,u),s.push(a);return s},generateSummaryData:function(){var e=this,t={},n={},r=e.view.store,i=this.getGroupField(),s=r.proxy.reader,o=e.summaryGroups,u=e.view.headerCt.getColumnsForTpl(),a,f,l,c,h,p,d,v,m,g,y;for(f=0,l=o.length;f<l;++f)t[o[f].name]={};if(e.remoteRoot&&s.rawData){h=s.root,s.root=e.remoteRoot,s.buildExtractors(!0),v=s.getRoot(s.rawData),g=v.length,s.convertRecordData||s.buildExtractors();for(m=0;m<g;m++)y={},s.convertRecordData(y,v[m]),n[y[i]]=y;s.root=h,s.buildExtractors(!0)}for(f=0,l=u.length;f<l;++f){d=Ext.getCmp(u[f].id),c=e.getSummary(r,d.summaryType,d.dataIndex,!0);for(p in c)c.hasOwnProperty(p)&&(t[p][d.id]=c[p]);for(p in n)n.hasOwnProperty(p)&&(a=n[p][d.dataIndex],a!==undefined&&t[p]!==undefined&&(t[p][d.id]=a))}return t}}),Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTrCls:Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyTdCls:Ext.baseCSSPrefix+"grid-cell-rowbody",rowBodyDivCls:Ext.baseCSSPrefix+"grid-rowbody",eventPrefix:"rowbody",eventSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",getRowBody:function(e){return['<tr class="'+this.rowBodyTrCls+' {rowBodyCls}">','<td class="'+this.rowBodyTdCls+'" colspan="{rowBodyColspan}">','<div class="'+this.rowBodyDivCls+'">{rowBody}</div>',"</td>","</tr>"].join("")},getMetaRowTplFragments:function(){return{getRowBody:this.getRowBody,rowBodyTrCls:this.rowBodyTrCls,rowBodyTdCls:this.rowBodyTdCls,rowBodyDivCls:this.rowBodyDivCls}},mutateMetaRowTpl:function(e){e.push("{[this.getRowBody(values)]}")},getAdditionalData:function(e,t,n,r){var i=this.view.headerCt,s=i.getColumnCount();return{rowBody:"",rowBodyCls:this.rowBodyCls,rowBodyColspan:s}}}),Ext.define("Ext.grid.feature.RowWrap",{extend:"Ext.grid.feature.Feature",alias:"feature.rowwrap",hasFeatureEvent:!1,init:function(){this.disabled||this.enable()},getRowSelector:function(){return"tr:has(> "+this.view.cellSelector+")"},enable:function(){var e=this,t=e.view;e.callParent(),e.savedRowSelector=t.rowSelector,t.rowSelector=e.getRowSelector(),t.getComponentLayout().getColumnSelector=e.getColumnSelector},disable:function(){var e=this,t=e.view,n=e.savedRowSelector;e.callParent(),n&&(t.rowSelector=n),delete e.savedRowSelector},mutateMetaRowTpl:function(e){var t=Ext.baseCSSPrefix;e[0]=e[0].replace(t+"grid-row",""),e[0]=e[0].replace("{[this.embedRowCls()]}",""),e.unshift('<table class="'+t+"grid-table "+t+'grid-table-resizer" style="width: {[this.embedFullWidth()]}px;">'),e.unshift('<tr class="'+t+'grid-row {[this.embedRowCls()]}"><td colspan="{[this.embedColSpan()]}"><div class="'+t+'grid-rowwrap-div">'),e.push("</table>"),e.push("</div></td></tr>")},embedColSpan:function(){return"{colspan}"},embedFullWidth:function(){return"{fullWidth}"},getAdditionalData:function(e,t,n,r){var i=this.view.headerCt,s=i.getColumnCount(),o=i.getFullWidth(),u=i.query("gridcolumn"),a=u.length,f=0,l={colspan:s,fullWidth:o},c,h,p;for(;f<a;f++)c=u[f].id,h=c+"-tdCls",p=Ext.baseCSSPrefix+"grid-col-resizer-"+c,l[h]=p+" "+(r[h]?r[h]:""),l[c+"-tdAttr"]=' style="width: '+(u[f].hidden?0:u[f].getDesiredWidth())+'px;" ',r[c+"-tdAttr"]&&(l[c+"-tdAttr"]+=r[c+"-tdAttr"]);return l},getMetaRowTplFragments:function(){return{embedFullWidth:this.embedFullWidth,embedColSpan:this.embedColSpan}},getColumnSelector:function(e){var t=Ext.baseCSSPrefix+"grid-col-resizer-"+e.id;return"th."+t+",td."+t}}),Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",getFragmentTpl:function(){return this.summaryData=this.generateSummaryData(),this.getSummaryFragments()},getTableFragments:function(){if(this.showSummaryRow)return{closeRows:this.closeRows}},closeRows:function(){return"</tpl>{[this.printSummaryRow()]}"},getPrintData:function(e){var t=this,n=t.view.headerCt.getColumnsForTpl(),r=0,i=n.length,s=[],o=t.summaryData,u;for(;r<i;++r)u=n[r],u.gridSummaryValue=this.getColumnValue(u,o),s.push(u);return s},generateSummaryData:function(){var e=this,t={},n=e.view.store,r=e.view.headerCt.getColumnsForTpl(),i=0,s=r.length,o,u,a;for(i=0,s=r.length;i<s;++i)a=Ext.getCmp(r[i].id),t[a.id]=e.getSummary(n,a.summaryType,a.dataIndex,!1);return t}}),Ext.define("Ext.grid.plugin.Editing",{alias:"editing.editing",extend:"Ext.AbstractPlugin",requires:["Ext.grid.column.Column","Ext.util.KeyNav"],mixins:{observable:"Ext.util.Observable"},clicksToEdit:2,triggerEvent:undefined,defaultFieldXType:"textfield",editStyle:"",constructor:function(e){var t=this;t.addEvents("beforeedit","edit","validateedit","canceledit"),t.callParent(arguments),t.mixins.observable.constructor.call(t),t.on("edit",function(e,n){t.fireEvent("afteredit",e,n)})},init:function(e){var t=this;t.grid=e,t.view=e.view,t.initEvents(),t.mon(e,"reconfigure",t.onReconfigure,t),t.onReconfigure(),e.relayEvents(t,["beforeedit","edit","validateedit","canceledit"]),e.isEditable=!0,e.editingPlugin=e.view.editingPlugin=t},onReconfigure:function(){this.initFieldAccessors(this.view.getGridColumns())},destroy:function(){var e=this,t=e.grid;Ext.destroy(e.keyNav),e.removeFieldAccessors(t.getView().getGridColumns()),e.clearListeners(),delete e.grid.editingPlugin,delete e.grid.view.editingPlugin,delete e.grid,delete e.view,delete e.editor,delete e.keyNav},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){e=[].concat(e);var t=this,n,r=e.length,i;for(n=0;n<r;n++)i=e[n],Ext.applyIf(i,{getEditor:function(e,n){return t.getColumnField(this,n)},setEditor:function(e){t.setColumnField(this,e)}})},removeFieldAccessors:function(e){e=[].concat(e);var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],delete r.getEditor,delete r.setEditor},getColumnField:function(e,t){var n=e.field;!n&&e.editor&&(n=e.editor,delete e.editor),!n&&t&&(n=t);if(n)return Ext.isString(n)&&(n={xtype:n}),n.isFormField||(n=Ext.ComponentManager.create(n,this.defaultFieldXType)),e.field=n,Ext.apply(n,{name:e.dataIndex}),n},setColumnField:function(e,t){Ext.isObject(t)&&!t.isFormField&&(t=Ext.ComponentManager.create(t,this.defaultFieldXType)),e.field=t},initEvents:function(){var e=this;e.initEditTriggers(),e.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,t=e.view;e.triggerEvent=="cellfocus"?e.mon(t,"cellfocus",e.onCellFocus,e):e.triggerEvent=="rowfocus"?e.mon(t,"rowfocus",e.onRowFocus,e):(t.selModel.isCellModel&&(t.onCellFocus=Ext.Function.bind(e.beforeViewCellFocus,e)),e.mon(t,e.triggerEvent||"cell"+(e.clicksToEdit===1?"click":"dblclick"),e.onCellClick,e)),e.initAddRemoveHeaderEvents(),t.on("render",e.initKeyNavHeaderEvents,e,{single:!0})},beforeViewCellFocus:function(e){(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(e.row,e.columnHeader))&&this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(e,t,n){this.startEdit(t,0)},onCellFocus:function(e,t,n){this.startEdit(n.row,n.column)},onCellClick:function(e,t,n,r,i,s,o){(!e.expanderSelector||!o.getTarget(e.expanderSelector))&&this.startEdit(r,e.getHeaderAtIndex(n))},initAddRemoveHeaderEvents:function(){var e=this;e.mon(e.grid.headerCt,{scope:e,add:e.onColumnAdd,remove:e.onColumnRemove})},initKeyNavHeaderEvents:function(){var e=this;e.keyNav=Ext.create("Ext.util.KeyNav",e.view.el,{enter:e.onEnterKey,esc:e.onEscKey,scope:e})},onColumnAdd:function(e,t){t.isHeader&&this.initFieldAccessors(t)},onColumnRemove:function(e,t){t.isHeader&&this.removeFieldAccessors(t)},onEnterKey:function(e){var t=this,n=t.grid,r=n.getSelectionModel(),i,s,o=n.headerCt.getHeaderAtIndex(0);r.getCurrentPosition?(s=r.getCurrentPosition(),s&&(i=n.store.getAt(s.row),o=n.headerCt.getHeaderAtIndex(s.column))):i=r.getLastSelected(),i&&o&&t.startEdit(i,o)},onEscKey:function(e){this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(e,t){var n=this,r=n.getEditingContext(e,t);if(r==null||n.beforeEdit(r)===!1||n.fireEvent("beforeedit",n,r)===!1||r.cancel||!n.grid.view.isVisible(!0))return!1;n.context=r,n.editing=!0},getEditingContext:function(e,t){var n=this,r=n.grid,i=r.getView(),s=i.getNode(e),o,u;if(!s)return;t=r.headerCt.getVisibleHeaderClosestToIndex(Ext.isNumber(t)?t:t.getIndex());if(!t)return;return u=t.getIndex(),Ext.isNumber(e)?(o=e,e=i.getRecord(s)):o=i.indexOf(s),{grid:r,record:e,field:t.dataIndex,value:e.get(t.dataIndex),row:i.getNode(o),column:t,rowIdx:o,colIdx:u}},cancelEdit:function(){var e=this;e.editing=!1,e.fireEvent("canceledit",e,e.context)},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&e.fireEvent("edit",e,e.context),delete e.context,e.editing=!1},validateEdit:function(){var e=this,t=e.context;return e.fireEvent("validateedit",e,t)!==!1&&!t.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],constructor:function(){this.callParent(arguments),this.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId}),this.editTask=new Ext.util.DelayedTask},onReconfigure:function(){this.editors.clear(),this.callParent()},destroy:function(){var e=this;e.editTask.cancel(),e.editors.each(Ext.destroy,Ext),e.editors.clear(),e.callParent(arguments)},onBodyScroll:function(){var e=this,t=e.getActiveEditor(),n=e.view.el.getScroll();t&&t.editing&&(n.top!==e.scroll.top?t.field&&(t.field.triggerBlur?t.field.triggerBlur():t.field.blur()):t.realign()),e.scroll=n},initCancelTriggers:function(){var e=this,t=e.grid,n=t.view;n.addElListener("mousewheel",e.cancelEdit,e),e.mon(n,"bodyscroll",e.onBodyScroll,e),e.mon(t,{columnresize:e.cancelEdit,columnmove:e.cancelEdit,scope:e})},isCellEditable:function(e,t){var n=this,r=n.getEditingContext(e,t);if(n.grid.view.isVisible(!0)&&r){t=r.column,e=r.record;if(t&&n.getEditor(e,t))return!0}},startEdit:function(e,t){var n=this,r=n.getEditingContext(e,t),i,s;return n.completeEdit(),!r||!n.grid.view.isVisible(!0)?!1:(e=r.record,t=r.column,t&&!t.getEditor(e)?!1:(i=e.get(t.dataIndex),r.originalValue=r.value=i,n.beforeEdit(r)===!1||n.fireEvent("beforeedit",n,r)===!1||r.cancel?!1:(s=n.getEditor(e,t),n.grid.view.cancelFocus(),n.view.focusCell({row:r.rowIdx,column:r.colIdx}),s?(n.editTask.delay(15,n.showEditor,n,[s,r,i]),!0):!1)))},showEditor:function(e,t,n){var r=this,i=t.record,s=t.column,o=r.grid.getSelectionModel(),u=o.getCurrentPosition();r.context=t,r.setActiveEditor(e),r.setActiveRecord(i),r.setActiveColumn(s),o.selectByPosition&&(!u||u.column!==t.colIdx||u.row!==t.rowIdx)&&o.selectByPosition({row:t.rowIdx,column:t.colIdx}),e.startEdit(r.getCell(i,s),n),r.editing=!0,r.scroll=r.view.el.getScroll()},completeEdit:function(){var e=this.getActiveEditor();e&&(e.completeEdit(),this.editing=!1)},setActiveEditor:function(e){this.activeEditor=e},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(e){this.activeColumn=e},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(e){this.activeRecord=e},getActiveRecord:function(){return this.activeRecord},getEditor:function(e,t){var n=this,r=n.editors,i=t.getItemId(),s=r.getByKey(i);return s?s:(s=t.getEditor(e),s?(s instanceof Ext.grid.CellEditor?s.ownerCt=n.grid:s=new Ext.grid.CellEditor({editorId:i,field:s,ownerCt:n.grid}),s.editingPlugin=n,s.isForTree=n.grid.isTree,s.on({scope:n,specialkey:n.onSpecialKey,complete:n.onEditComplete,canceledit:n.cancelEdit}),r.add(s),s):!1)},setColumnField:function(e,t){var n=this.editors.getByKey(e.getItemId());Ext.destroy(n,e.field),this.editors.removeAtKey(e.getItemId()),this.callParent(arguments)},getCell:function(e,t){return this.grid.getView().getCell(e,t)},onSpecialKey:function(e,t,n){var r=this,i=r.grid,s;n.getKey()===n.TAB&&(n.stopEvent(),e&&e.onEditorTab(n),s=i.getSelectionModel(),s.onEditorTab&&s.onEditorTab(r,n))},onEditComplete:function(e,t,n){var r=this,i=r.grid,s=r.getActiveColumn(),o=i.getSelectionModel(),u;if(s){u=r.context.record,r.setActiveEditor(null),r.setActiveColumn(null),r.setActiveRecord(null);if(!r.validateEdit())return;u.isEqual(t,n)||u.set(s.dataIndex,t),o.setCurrentPosition&&o.setCurrentPosition(o.getCurrentPosition()),i.getView().getEl(s).focus(),r.context.value=t,r.fireEvent("edit",r,r.context)}},cancelEdit:function(){var e=this,t=e.getActiveEditor(),n=e.grid.getView().getEl(e.getActiveColumn());e.setActiveEditor(null),e.setActiveColumn(null),e.setActiveRecord(null),t&&(t.cancelEdit(),n.focus(),e.callParent(arguments))},startEditByPosition:function(e){return e.column=this.view.getHeaderCt().getVisibleHeaderClosestToIndex(e.column).getIndex(),this.startEdit(e.row,e.column)}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){var e=this;e.dragZone&&e.dragZone.unlock(),e.dropZone&&e.dropZone.unlock(),e.callParent()},disable:function(){var e=this;e.dragZone&&e.dragZone.lock(),e.dropZone&&e.dropZone.lock(),e.callParent()},onViewRender:function(e){var t=this;t.enableDrag&&(t.dragZone=new Ext.view.DragZone({view:e,ddGroup:t.dragGroup||t.ddGroup,dragText:t.dragText})),t.enableDrop&&(t.dropZone=new Ext.grid.ViewDropZone({view:e,ddGroup:t.dropGroup||t.ddGroup}))}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){var e=this;e.callParent(arguments),e.clicksToMoveEditor||(e.clicksToMoveEditor=e.clicksToEdit),e.autoCancel=!!e.autoCancel},init:function(e){this.callParent([e])},destroy:function(){var e=this;Ext.destroy(e.editor),e.callParent(arguments)},startEdit:function(e,t){var n=this,r=n.getEditor();return r.beforeEdit()!==!1&&n.callParent(arguments)!==!1?(r.startEdit(n.context.record,n.context.column),!0):!1},cancelEdit:function(){var e=this;e.editing&&(e.getEditor().cancelEdit(),e.callParent(arguments))},completeEdit:function(){var e=this;e.editing&&e.validateEdit()&&(e.editing=!1,e.fireEvent("edit",e,e.context))},validateEdit:function(){var e=this,t=e.editor,n=e.context,r=n.record,i={},s={},o=t.items.items,u,a=o.length,f,l;for(u=0;u<a;u++)l=o[u],f=l.name,i[f]=l.getValue(),s[f]=r.get(f);return Ext.apply(n,{newValues:i,originalValues:s}),e.callParent(arguments)&&e.getEditor().completeEdit()},getEditor:function(){var e=this;return e.editor||(e.editor=e.initEditor()),e.editor},initEditor:function(){var e=this,t=e.grid,n=e.view,r=t.headerCt,i=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s,o=i.length,u={autoCancel:e.autoCancel,errorSummary:e.errorSummary,fields:r.getGridColumns(),hidden:!0,view:n,editingPlugin:e,renderTo:n.el},a;for(s=0;s<o;s++)a=i[s],Ext.isDefined(e[a])&&(u[a]=e[a]);return Ext.create("Ext.grid.RowEditor",u)},initEditTriggers:function(){var e=this,t=e.view,n=e.clicksToMoveEditor===1?"click":"dblclick";e.callParent(arguments),e.clicksToMoveEditor!==e.clicksToEdit&&e.mon(t,"cell"+n,e.moveEditorByClick,e),t.on({render:function(){e.mon(e.grid.headerCt,{scope:e,columnresize:e.onColumnResize,columnhide:e.onColumnHide,columnshow:e.onColumnShow,columnmove:e.onColumnMove})},single:!0})},startEditByClick:function(){var e=this;(!e.editing||e.clicksToMoveEditor===e.clicksToEdit)&&e.callParent(arguments)},moveEditorByClick:function(){var e=this;e.editing&&e.superclass.onCellClick.apply(e,arguments)},onColumnAdd:function(e,t){if(t.isHeader){var n=this,r;n.initFieldAccessors(t),r=n.editor,r&&r.onColumnAdd&&r.onColumnAdd(t)}},onColumnRemove:function(e,t){if(t.isHeader){var n=this,r=n.getEditor();r&&r.onColumnRemove&&r.onColumnRemove(t),n.removeFieldAccessors(t)}},onColumnResize:function(e,t,n){if(t.isHeader){var r=this,i=r.getEditor();i&&i.onColumnResize&&i.onColumnResize(t,n)}},onColumnHide:function(e,t){var n=this,r=n.getEditor();r&&r.onColumnHide&&r.onColumnHide(t)},onColumnShow:function(e,t){var n=this,r=n.getEditor();r&&r.onColumnShow&&r.onColumnShow(t)},onColumnMove:function(e,t,n,r){var i=this,s=i.getEditor();s&&s.onColumnMove&&s.onColumnMove(t,n,r-(r>n?1:0))},setColumnField:function(e,t){var n=this,r=n.getEditor();r.removeField(e),n.callParent(arguments),n.getEditor().setField(e)}}),Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date"
,"Ext.form.field.Text","Ext.form.field.Number","Ext.form.field.ComboBox"],valueField:"value",nameField:"name",enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,initComponent:function(){var e=this;e.addCls(Ext.baseCSSPrefix+"property-grid"),e.plugins=e.plugins||[],e.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:e.clicksToEdit,startEdit:function(t,n){return this.self.prototype.startEdit.call(this,t,e.headerCt.child("#"+e.valueField))}})),e.selModel={selType:"cellmodel",onCellSelect:function(e){return e.column!=1&&(e.column=1),this.self.prototype.onCellSelect.call(this,e)}},e.customRenderers=e.customRenderers||{},e.customEditors=e.customEditors||{},e.store||(e.propStore=e.store=new Ext.grid.property.Store(e,e.source)),e.sortableColumns&&e.store.sort("name","ASC"),e.columns=new Ext.grid.property.HeaderContainer(e,e.store),e.addEvents("beforepropertychange","propertychange"),e.callParent(),e.getView().walkCells=this.walkCells,e.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,e.headerCt.trueText],[!1,e.headerCt.falseText]]})})},e.store.on("update",e.onUpdate,e)},onUpdate:function(e,t,n){var r=this,i,s;r.rendered&&n==Ext.data.Model.EDIT&&(i=t.get(r.valueField),s=t.modified.value,r.fireEvent("beforepropertychange",r.source,t.getId(),i,s)!==!1?(r.source&&(r.source[t.getId()]=i),t.commit(),r.fireEvent("propertychange",r.source,t.getId(),i,s)):t.reject())},walkCells:function(e,t,n,r,i,s){return t=="left"?t="up":t=="right"&&(t="down"),e=Ext.view.Table.prototype.walkCells.call(this,e,t,n,r,i,s),e.column||(e.column=1),e},getCellEditor:function(e,t){var n=this,r=e.get(n.nameField),i=e.get(n.valueField),s=n.customEditors[r];return s?s instanceof Ext.grid.CellEditor||(s instanceof Ext.form.field.Base||(s=Ext.ComponentManager.create(s,"textfield")),s=n.customEditors[r]=new Ext.grid.CellEditor({field:s})):Ext.isDate(i)?s=n.editors.date:Ext.isNumber(i)?s=n.editors.number:Ext.isBoolean(i)?s=n.editors["boolean"]:s=n.editors.string,s.editorId=r,s},beforeDestroy:function(){var e=this;e.callParent(),e.destroyEditors(e.editors),e.destroyEditors(e.customEditors),delete e.source},destroyEditors:function(e){for(var t in e)e.hasOwnProperty(t)&&Ext.destroy(e[t])},setSource:function(e){this.source=e,this.propStore.setSource(e)},getSource:function(){return this.propStore.getSource()},setProperty:function(e,t,n){this.propStore.setValue(e,t,n)},removeProperty:function(e){this.propStore.remove(e)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",constructor:function(e,t){var n=this;n.grid=e,n.store=t,n.callParent([{items:[{header:n.nameText,width:e.nameColumnWidth||n.nameWidth,sortable:e.sortableColumns,dataIndex:e.nameField,renderer:Ext.Function.bind(n.renderProp,n),itemId:e.nameField,menuDisabled:!0,tdCls:n.nameColumnCls},{header:n.valueText,renderer:Ext.Function.bind(n.renderCell,n),getEditor:Ext.Function.bind(n.getCellEditor,n),sortable:e.sortableColumns,flex:1,fixed:!0,dataIndex:e.valueField,itemId:e.valueField,menuDisabled:!0}]}])},getCellEditor:function(e){return this.grid.getCellEditor(e,this)},renderProp:function(e){return this.getPropertyName(e)},renderCell:function(e,t,n){var r=this,i=r.grid.customRenderers[n.get(r.grid.nameField)],s=e;return i?i.apply(r,arguments):(Ext.isDate(e)?s=r.renderDate(e):Ext.isBoolean(e)&&(s=r.renderBool(e)),Ext.util.Format.htmlEncode(s))},renderDate:Ext.util.Format.date,renderBool:function(e){return this[e?"trueText":"falseText"]},getPropertyName:function(e){var t=this.grid.propertyNames;return t&&t[e]?t[e]:e}}),Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"}),Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,uses:["Ext.data.reader.Reader","Ext.data.proxy.Proxy","Ext.data.ResultSet","Ext.grid.property.Property"],constructor:function(e,t){var n=this;n.grid=e,n.source=t,n.callParent([{data:t,model:Ext.grid.property.Property,proxy:n.getProxy()}])},getProxy:function(){return this.proxy||(Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),this.proxy},getReader:function(){return this.reader||(Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(e){return this.readRecords(e)},readRecords:function(e){var t,n,r={records:[],success:!0};for(n in e)e.hasOwnProperty(n)&&(t=e[n],this.isEditableValue(t)&&r.records.push(new Ext.grid.property.Property({name:n,value:t},n)));return r.total=r.count=r.records.length,new Ext.data.ResultSet(r)},isEditableValue:function(e){return Ext.isPrimitive(e)||Ext.isDate(e)}})),this.reader},setSource:function(e){var t=this;t.source=e,t.suspendEvents(),t.removeAll(),t.proxy.data=e,t.load(),t.resumeEvents(),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)},getProperty:function(e){return Ext.isNumber(e)?this.getAt(e):this.getById(e)},setValue:function(e,t,n){var r=this,i=r.getRec(e);i?(i.set("value",t),r.source[e]=t):n&&(r.source[e]=t,i=new Ext.grid.property.Property({name:e,value:t},e),r.add(i))},remove:function(e){var t=this.getRec(e);t&&(this.callParent([t]),delete this.source[e])},getRec:function(e){return this.getById(e)},getSource:function(){return this.source}}),Ext.define("Ext.layout.ClassList",function(){var e=Ext.String.splitWords,t=Ext.Array.toMap;return{dirty:!1,constructor:function(n){this.owner=n,this.map=t(this.classes=e(n.el.className))},add:function(e){var t=this;t.map[e]||(t.map[e]=!0,t.classes.push(e),t.dirty||(t.dirty=!0,t.owner.markDirty()))},addMany:function(t){Ext.each(e(t),this.add,this)},contains:function(e){return this.map[e]},flush:function(){this.owner.el.className=this.classes.join(" "),this.dirty=!1},remove:function(e){var t=this;t.map[e]&&(delete t.map[e],t.classes=Ext.Array.filter(t.classes,function(t){return t!=e}),t.dirty||(t.dirty=!0,t.owner.markDirty()))},removeMany:function(n){var r=this,i=t(e(n));r.classes=Ext.Array.filter(r.classes,function(e){return i[e]?(delete r.map[e],r.dirty||(r.dirty=!0,r.owner.markDirty()),!1):!0})}}}()),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e){var t=this,n=t.getKey(e);return t.map[n]||(++t.length,t.items.push(e),t.map[n]=e),e},clear:function(){var e=this,t=e.items;return e.items=[],e.map={},e.length=0,t},contains:function(e){var t=this.getKey(e);return this.map.hasOwnProperty(t)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t=this,n=t.getKey(e),r=t.items,i;return t.map[n]&&(i=Ext.Array.indexOf(r,e),Ext.Array.erase(r,i,1),delete t.map[n],--t.length),e}}),Ext.define("Ext.layout.ContextItem",{requires:["Ext.layout.ClassList"],heightModel:null,widthModel:null,sizeModel:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildLayouts:0,remainingComponentChildLayouts:0,remainingContainerChildLayouts:0,props:null,state:null,wrapsComponent:!1,constructor:function(e){var t=this,n,r,i,s,o;Ext.apply(t,e),n=t.el,t.id=n.id,t.lastBox=n.lastBox,t.flushedProps={},t.props={},t.styles={},o=t.target,o.isComponent&&(t.wrapsComponent=!0,r=o.ownerCt,r&&(i=t.context.items[r.el.id])&&(t.ownerCtContext=i),t.sizeModel=s=o.getSizeModel(i&&i.widthModel.pairsByHeightOrdinal[i.heightModel.ordinal]),t.widthModel=s.width,t.heightModel=s.height)},init:function(e,t){var n=this,r=n.props,i=n.dirty,s=n.ownerCtContext,o=n.target.ownerLayout,u=!n.state,a=e||u,f,l,c,h,p,d,v=n.heightModel,m=n.widthModel,g,y;n.dirty=n.invalid=!1,n.props={},n.boxChildren&&(n.boxChildren.length=0),u||(n.clearAllBlocks("blocks"),n.clearAllBlocks("domBlocks"));if(!n.wrapsComponent)return a;d=n.target,n.state={};if(u)d.beforeLayout&&d.beforeLayout(),!s&&(h=d.ownerCt)&&(s=n.context.items[h.el.id]),s?(n.ownerCtContext=s,n.isBoxParent=d.ownerLayout.isItemBoxParent(n)):n.isTopLevel=!0,n.frameBodyContext=n.getEl("frameBody");else{s=n.ownerCtContext,n.isTopLevel=!s,f=n.children;for(l=0,c=f.length;l<c;++l)f[l].init(!0)}return n.hasRawContent=!(d.isContainer&&d.items.items.length>0),e?(n.widthModel=n.heightModel=null,p=d.getSizeModel(s&&s.widthModel.pairsByHeightOrdinal[s.heightModel.ordinal]),u&&(n.sizeModel=p),n.widthModel=p.width,n.heightModel=p.height):r&&(n.recoverProp("x",r,i),n.recoverProp("y",r,i),n.widthModel.calculated&&n.recoverProp("width",r,i),n.heightModel.calculated&&n.recoverProp("height",r,i)),r&&o&&o.manageMargins&&(n.recoverProp("margin-top",r,i),n.recoverProp("margin-right",r,i),n.recoverProp("margin-bottom",r,i),n.recoverProp("margin-left",r,i)),t&&(g=t.heightModel,y=t.widthModel,y&&g&&m&&v&&m.shrinkWrap&&v.shrinkWrap&&y.constrainedMax&&g.constrainedMin&&(g=null),y&&(n.widthModel=y),g&&(n.heightModel=g),t.state&&Ext.apply(n.state,t.state)),a},initContinue:function(e){var t=this,n=t.ownerCtContext,r=t.widthModel,i;return e&&(n&&r.shrinkWrap?(i=n.isBoxParent?n:n.boxParent,i&&i.addBoxChild(t)):r.natural&&(t.boxParent=n)),e},initDone:function(e,t,n,r){var i=this,s=i.props,o=i.state;t&&(s.componentChildrenDone=!0),n&&(s.containerChildrenDone=!0),r&&(s.containerLayoutDone=!0),i.boxChildren&&i.boxChildren.length&&i.widthModel.shrinkWrap&&(i.el.setWidth(1e4),o.blocks=(o.blocks||0)+1)},initAnimation:function(){var e=this,t=e.target,n=e.ownerCtContext;n&&n.isTopLevel?e.animatePolicy=t.ownerLayout.getAnimatePolicy(e):!n&&t.isCollapsingOrExpanding&&t.animCollapse&&(e.animatePolicy=t.componentLayout.getAnimatePolicy(e)),e.animatePolicy&&e.context.queueAnimation(e)},noFraming:{left:0,top:0,right:0,bottom:0,width:0,height:0},addCls:function(e){this.getClassList().addMany(e)},removeCls:function(e){this.getClassList().removeMany(e)},addBlock:function(e,t,n){var r=this,i=r[e]||(r[e]={}),s=i[n]||(i[n]={});s[t.id]||(s[t.id]=t,++t.blockCount,++r.context.blockCount)},addBoxChild:function(e){var t=this,n,r=e.widthModel;e.boxParent=this,e.measuresBox=r.shrinkWrap?e.hasRawContent:r.natural,e.measuresBox&&(n=t.boxChildren,n?n.push(e):t.boxChildren=[e])},addTrigger:function(e,t){var n=this,r=t?"domTriggers":"triggers",i=n[r]||(n[r]={}),s=n.context,o=s.currentLayout,u=i[e]||(i[e]={});u[o.id]||(u[o.id]=o,++o.triggerCount,u=s.triggers[t?"dom":"data"],(u[o.id]||(u[o.id]=[])).push({item:this,prop:e}),n.props[e]!==undefined&&(!t||!(n.dirty&&e in n.dirty))&&++o.firedTriggers)},boxChildMeasured:function(){var e=this,t=e.state,n=t.boxesMeasured=(t.boxesMeasured||0)+1;n==e.boxChildren.length&&(t.clearBoxWidth=1,++e.context.progressCount,e.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){var t=e.getStyles(e.borderNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},marginInfo:function(e){var t=e.getStyles(e.marginNames,e.trblNames);return t.width=t.left+t.right,t.height=t.top+t.bottom,t},paddingInfo:function(e){var t=e.frameBodyContext||e,n=t.getStyles(e.paddingNames,e.trblNames);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t=this[e],n;if(t)for(n in t)this.clearBlocks(e,n)},clearBlocks:function(e,t){var n=this[e],r=n&&n[t],i,s,o;if(r){delete n[t],i=this.context;for(o in r)s=r[o],--i.blockCount,!--s.blockCount&&!s.pending&&!s.done&&i.queueLayout(s)}},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var n=this[e],r=n&&n[t],i=this.context,s,o;if(r)for(o in r)s=r[o],++s.firedTriggers,!s.done&&!s.blockCount&&!s.pending&&i.queueLayout(s)},flush:function(){var e=this,t=e.dirty,n=e.state,r=e.el;e.dirtyCount=0,e.classList&&e.classList.dirty&&e.classList.flush(),"attributes"in e&&(r.set(e.attributes),delete e.attributes),"innerHTML"in e&&(r.innerHTML=e.innerHTML,delete e.innerHTML),n&&n.clearBoxWidth&&(n.clearBoxWidth=0,e.el.setStyle("width",null),--n.blocks||e.context.queueItemLayouts(e)),t&&(delete e.dirty,e.writeProps(t,!0))},flushAnimations:function(){var e=this,t=e.lastBox,n,r,i,s,o,u,a,f,l,c,h;if(t){n=e.target,r=n.layout&&n.layout.animate,r&&(i=Ext.isNumber(r)?r:r.duration),s=Ext.Object.getKeys(e.animatePolicy),o=Ext.apply({},{from:{},to:{},duration:i||Ext.fx.Anim.prototype.duration},r);for(u=0,a=0,f=s.length;a<f;a++)l=s[a],c=t[l],h=e.peek(l),c!=h&&(l=e.translateProps[l]||l,o.from[l]=c,o.to[l]=h,++u);u&&(e.isCollapsingOrExpanding===1?n.componentLayout.undoLayout(e):e.writeProps(o.from),e.el.animate(o),Ext.fx.Manager.getFxQueue(e.el.id)[0].on({afteranimate:function(){e.isCollapsingOrExpanding===1?(n.componentLayout.redoLayout(e),n.afterCollapse(!0)):e.isCollapsingOrExpanding===2&&n.afterExpand(!0)}}))}},getBorderInfo:function(){var e=this,t=e.borderInfo;return t||(e.borderInfo=t=e.checkCache("borderInfo")),t},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(e,t){var n=this,r,i,s;if(e){if(e.dom)i=e;else{r=n.target,t&&(r=t),i=r[e];if(typeof i=="function"){i=i.call(r);if(i===n.el)return this}}i&&(s=n.context.getEl(n,i))}return s||null},getFraming:function(){var e=this;return e.framingInfo||(e.framingInfo=e.target.frameSize||e.noFraming),e.framingInfo},getFrameInfo:function(){var e=this,t=e.frameInfo,n,r;return t||(n=e.getFraming(),r=e.getBorderInfo(),e.frameInfo=t={top:n.top+r.top,right:n.right+r.right,bottom:n.bottom+r.bottom,left:n.left+r.left,width:n.width+r.width,height:n.height+r.height}),t},getMarginInfo:function(){var e=this,t=e.marginInfo,n,r,i,s,o;return t||(e.wrapsComponent?(n=e.target,s=n.ownerLayout,o=s?s.id:null,r=s&&s.manageMargins,t=n.margin$,t&&t.ownerId!==o&&(t=null),t||(t=e.parseMargins(n.margin)||e.checkCache("marginInfo"),r&&(i=e.parseMargins(n.margins,s.defaultMargins),i&&(t={top:t.top+i.top,right:t.right+i.right,bottom:t.bottom+i.bottom,left:t.left+i.left}),e.setProp("margin-top",0),e.setProp("margin-right",0),e.setProp("margin-bottom",0),e.setProp("margin-left",0)),t.ownerId=o,n.margin$=t),t.width=t.left+t.right,t.height=t.top+t.bottom):t=e.checkCache("marginInfo"),e.marginInfo=t),t},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var e=this,t=e.paddingInfo;return t||(e.paddingInfo=t=e.checkCache("paddingInfo")),t},getProp:function(e){var t=this,n=t.props[e];return t.addTrigger(e),n},getDomProp:function(e){var t=this,n=t.dirty&&e in t.dirty?undefined:t.props[e];return t.addTrigger(e,!0),n},getStyle:function(e){var t=this,n=t.styles,r,i;return e in n?i=n[e]:(r=t.styleInfo[e],i=t.el.getStyle(e),r&&r.parseInt&&(i=parseInt(i,10)||0),n[e]=i),i},getStyles:function(e,t){var n=this,r=n.styles,i={},s=0,o=e.length,u,a,f,l,c,h,p,d;t=t||e;for(u=0;u<o;++u)l=e[u],l in r?(i[t[u]]=r[l],++s,u&&s==1&&(a=e.slice(0,u),f=t.slice(0,u))):s&&((a||(a=[])).push(l),(f||(f=[])).push(t[u]));if(s<o){a=a||e,f=f||t,h=n.styleInfo,p=n.el.getStyle(a);for(u=a.length;u--;)l=a[u],c=h[l],d=p[l],c&&c.parseInt&&(d=parseInt(d,10)||0),i[f[u]]=d,r[l]=d}return i},hasProp:function(e){var t=this.getProp(e);return typeof t!="undefined"},hasDomProp:function(e){var t=this.getDomProp(e);return typeof t!="undefined"},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){++this.dirtyCount==1&&this.context.queueFlush(this)},onBoxMeasured:function(){var e=this.boxParent,t=this.state;e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,e.boxChildMeasured())},parseMargins:function(e,t){e===!0&&(e=5);var n=typeof e,r;if(n=="string"||n=="number")r=Ext.util.Format.parseBox(e);else if(e||t)r={top:0,right:0,bottom:0,left:0},t&&Ext.apply(r,this.parseMargins(t)),Ext.apply(r,e);return r},peek:function(e){return this.props[e]},recoverProp:function(e,t,n){var r=this,i=r.props,s;e in t&&(i[e]=t[e],n&&e in n&&(s=r.dirty||(r.dirty={}),s[e]=n[e]))},redo:function(e){var t=this,n,r,i;t.revertProps(t.props);if(e&&t.wrapsComponent){if(t.childItems)for(i=0,n=t.childItems,r=n.length;i<r;i++)n[i].redo(e);for(i=0,n=t.children,r=n.length;i<r;i++)n[i].redo()}},revertProps:function(e){var t,n=this.flushedProps,r={};for(t in e)n.hasOwnProperty(t)&&(r[t]=e[t]);this.writeProps(r)},setAttribute:function(e,t){var n=this;n.attributes||(n.attributes={}),n.attributes[e]=t,n.markDirty()},setBox:function(e){var t=this;"left"in e&&t.setProp("x",e.left),"top"in e&&t.setProp("y",e.top),t.setSize(e.width,e.height)},setContentHeight:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",e)},setContentWidth:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",e)},setContentSize:function(e,t,n){return this.setContentWidth(e,n)+this.setContentHeight(t,n)==2},setProp:function(e,t,n){var r=this,i=typeof t,s,o;if(i=="undefined"||i==="number"&&isNaN(t))return 0;if(r.props[e]===t)return 1;r.props[e]=t,++r.context.progressCount;if(n===!1)r.fireTriggers("domTriggers",e),r.clearBlocks("domBlocks",e);else{o=r.styleInfo[e];if(o){r.dirty||(r.dirty={});if(e=="width"||e=="height")s=r.isBorderBoxValue,s==null&&(r.isBorderBoxValue=s=!!r.el.isBorderBox()),s||(r.borderInfo||r.getBorderInfo(),r.paddingInfo||r.getPaddingInfo());r.dirty[e]=t,r.markDirty()}}return r.fireTriggers("triggers",e),r.clearBlocks("blocks",e),1},setHeight:function(e,t){var n=this,r=n.target,i,s,o;e<0&&(e=0);if(!n.wrapsComponent){if(!n.setProp("height",e,t))return NaN}else{e=Ext.Number.constrain(e,r.minHeight||0,r.maxHeight);if(!n.setProp("height",e,t))return NaN;i=n.frameBodyContext,i&&(s=n.getFrameInfo(),i.setHeight(e-s.height,t))}return e},setWidth:function(e,t){var n=this,r=n.target,i,s,o;e<0&&(e=0);if(!n.wrapsComponent){if(!n.setProp("width",e,t))return NaN}else{e=Ext.Number.constrain(e,r.minWidth||0,r.maxWidth);if(!n.setProp("width",e,t))return NaN;i=n.frameBodyContext,i&&(s=n.getFrameInfo(),i.setWidth(e-s.width,t))}return e},setSize:function(e,t,n){this.setWidth(e,n),this.setHeight(t,n)},translateProps:{x:"left",y:"top"},undo:function(e){var t=this,n,r,i;t.revertProps(t.lastBox);if(e&&t.wrapsComponent){if(t.childItems)for(i=0,n=t.childItems,r=n.length;i<r;i++)n[i].undo(e);for(i=0,n=t.children,r=n.length;i<r;i++)n[i].undo()}},unsetProp:function(e){var t=this.dirty;delete this.props[e],t&&delete t[e]},writeProps:function(e,t){if(!e||typeof e!="object")return;var n=this,r=n.el,i={},s=0,o=n.styleInfo,u,a,f,l="x"in e,c="y"in e,h=e.x,p=e.y,d=e.width,v=e.height,m=n.isBorderBoxValue,g=n.target,y=Math.max,b=0,w=0,E,S,x,T,N,C;"displayed"in e&&r.setDisplayed(e.displayed);for(a in e)t&&(n.fireTriggers("domTriggers",a),n.clearBlocks("domBlocks",a),n.flushedProps[a]=1),u=o[a],u&&u.dom&&(u.suffix&&(f=parseInt(e[a],10))?i[a]=f+u.suffix:i[a]=e[a],++s);if(l||c)g.isComponent?g.setPosition(h||n.props.x,p||n.props.y):(l&&(i.left=h+"px",++s),c&&(i.top=p+"px",++s));!m&&(d>0||v>0)&&(n.frameBodyContext||(b=n.paddingInfo.width,w=n.paddingInfo.height),d&&(d=y(parseInt(d,10)-(n.borderInfo.width+b),0),i.width=d+"px",++s),v&&(v=y(parseInt(v,10)-(n.borderInfo.height+w),0),i.height=v+"px",++s)),n.wrapsComponent&&Ext.isIE9&&Ext.isStrict&&((E=d!==undefined&&n.hasOverflowY)||(S=v!==undefined&&n.hasOverflowX))&&(x=n.isAbsolute,x===undefined&&(x=!1,C=n.target.getTargetEl(),N=C.getStyle("position"),N=="absolute"&&(N=C.getStyle("box-sizing"),x=N=="border-box"),n.isAbsolute=x),x&&(T=Ext.getScrollbarSize(),E&&(d=parseInt(d,10)+T.width,i.width=d+"px",++s),S&&(v=parseInt(v,10)+T.height,i.height=v+"px",++s))),s&&r.setStyle(i)}},function(){var e={dom:!0,parseInt:!0,suffix:"px"},t={dom:!0},n={dom:!1};this.prototype.styleInfo={childrenDone:n,componentChildrenDone:n,containerChildrenDone:n,containerLayoutDone:n,displayed:n,done:n,x:n,y:n,columnWidthsDone:n,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t}}),Ext.define("Ext.layout.Context",{requires:["Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,constructor:function(e){var t=this;Ext.apply(t,e),t.items={},t.layouts={},t.blockCount=0,t.cycleCount=0,t.flushCount=0,t.calcCount=0,t.animateQueue=t.newQueue(),t.completionQueue=t.newQueue(),t.finalizeQueue=t.newQueue(),t.finishQueue=t.newQueue(),t.flushQueue=t.newQueue(),t.invalidateData={},t.layoutQueue=t.newQueue(),t.invalidQueue=[],t.triggers={data:{},dom:{}}},callLayout:function(e,t){this.currentLayout=e,e[t](this.getCmp(e.owner))},cancelComponent:function(e,t,n){var r=this,i=e,s=!e.isComponent,o=s?i.length:1,u,a,f,l,c,h,p,d,v,m;for(u=0;u<o;++u){s&&(e=i[u]),n&&e.ownerCt&&(m=this.items[e.ownerCt.el.id],m&&Ext.Array.remove(m.childItems,r.getCmp(e)));if(!t){p=r.invalidQueue,f=p.length;if(f){r.invalidQueue=h=[];for(a=0;a<f;++a)d=p[a],v=d.item.target,v!=e&&!v.isDescendant(e)&&h.push(d)}}c=e.componentLayout,r.cancelLayout(c),c.getLayoutItems&&(l=c.getLayoutItems(),l.length&&r.cancelComponent(l,!0)),e.isContainer&&!e.collapsed&&(c=e.layout,r.cancelLayout(c),l=c.getVisibleItems(),l.length&&r.cancelComponent(l,!0))}},cancelLayout:function(e){var t=this;t.completionQueue.remove(e),t.finalizeQueue.remove(e),t.finishQueue.remove(e),t.layoutQueue.remove(e),e.running&&t.layoutDone(e),e.ownerContext=null},clearTriggers:function(e,t){var n=e.id,r=this.triggers[t?"dom":"data"],i=r&&r[n],s=i&&i.length||0,r,o,u,a;for(o=0;o<s;++o)a=i[o],u=a.item,r=t?u.domTriggers:u.triggers,delete r[a.prop][n]},flush:function(){var e=this,t=e.flushQueue.clear(),n=t.length,r;if(n){++e.flushCount;for(r=0;r<n;++r)t[r].flush()}},flushAnimations:function(){var e=this,t=e.animateQueue.clear(),n=t.length,r;if(n){for(r=0;r<n;r++)t[r].target.animate!==!1&&t[r].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var e=this,t=e.invalidQueue,n=t&&t.length,r,i,s,o;e.invalidQueue=[];if(n){i=[];for(o=0;o<n;++o)r=(s=t[o]).item.target,r.container.isDetachedBody||(i.push(r),s.options&&(e.invalidateData[r.id]=s.options));e.invalidate(i,null)}},flushLayouts:function(e,t,n){var r=this,i=n?r[e].items:r[e].clear(),s=i.length,o,u;if(s){for(o=0;o<s;++o)u=i[o],u.running||r.callLayout(u,t);r.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){var n=this.getItem(t,t);return n.parent||(n.parent=e,e.children.length?e.children.push(n):e.children=[n]),n},getItem:function(e,t){var n=t.id,r=this.items,i=r[n]||(r[n]=new Ext.layout.ContextItem({context:this,target:e,el:t}));return i},handleFailure:function(){var e=this.layouts,t,n;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(n in e)t=e[n],e.hasOwnProperty(n)&&(t.running=!1,t.ownerContext=null)},invalidate:function(e,t){var n=this,r=!e.isComponent,i,s,o,u,a,f,l,c,h,p,d,v,m;for(a=0,h=r?e.length:1;a<h;++a)f=r?e[a]:e,f.rendered&&!f.hidden&&(l=n.getCmp(f),p=f.componentLayout,u=!p.ownerContext,d=f.isContainer&&!f.collapsed?f.layout:null,v=n.invalidateData[l.id],delete n.invalidateData[l.id],m=l.init(t,v),v&&n.processInvalidate(v,l,"before"),p.beforeLayoutCycle&&p.beforeLayoutCycle(l),m=l.initContinue(m),i=s=o=!0,p.getLayoutItems&&(p.renderChildren(),c=p.getLayoutItems(),c.length&&(n.invalidate(c,!0),i=!1)),d&&(o=!1,d.renderChildren(),c=d.getVisibleItems(),c.length&&(n.invalidate(c,!0),s=!1)),l.initDone(m,i,s,o),n.resetLayout(p,l,u),d&&n.resetLayout(d,l,u),l.initAnimation(),v&&n.processInvalidate(v,l,"after"));n.currentLayout=null},layoutDone:function(e){var t=e.ownerContext,n;e.running=!1,e.isComponentLayout?(t.measuresBox&&t.onBoxMeasured(),t.setProp("done",!0),n=t.ownerCtContext,n&&(t.target.ownerLayout.isComponentLayout?--n.remainingComponentChildLayouts||n.setProp("componentChildrenDone",!0):--n.remainingContainerChildLayouts||n.setProp("containerChildrenDone",!0),--n.remainingChildLayouts||n.setProp("childrenDone",!0))):t.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,n){if(e[n]){var r=this,i=r.currentLayout;r.currentLayout=e.layout||null,e[n](t,e),r.currentLayout=i}},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e){this.flushQueue.add(e)},chainFns:function(e,t,n){var r=this,i=e.layout,s=t.layout,o=e[n],u=t[n];return function(n){var a=r.currentLayout;o&&(r.currentLayout=i,o.call(e.scope||e,n,e)),r.currentLayout=s,u.call(t.scope||t,n,t),r.currentLayout=a}},queueInvalidate:function(e,t){var n=this,r=[],i=n.invalidQueue,s=i.length,o,u,a,f,l;e.isComponent?e=n.getCmp(o=e):o=e.target,e.invalid=!0;while(s--){u=i[s],a=u.item.target;if(o.isDescendant(a))return;if(a==o){(f=u.options)?t&&(t.widthModel&&(f.widthModel=t.widthModel),t.heightModel&&(f.heightModel=t.heightModel),(l=f.state)?t.state&&Ext.apply(l,t.state):f.state=t.state,t.before&&(f.before=n.chainFns(f,t,"before")),t.after&&(f.after=n.chainFns(f,t,"after"))):u.options=t;return}a.isDescendant(o)||r.push(u)}r.push({item:e,options:t}),n.invalidQueue=r},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,n=t.componentLayout;!n.pending&&!n.invalid&&!n.done&&this.queueLayout(n),n=t.layout,n&&!n.pending&&!n.invalid&&!n.done&&this.queueLayout(n)},queueLayout:function(e){this.layoutQueue.add(e),e.pending=!0},resetLayout:function(e,t,n){var r=this,i;r.currentLayout=e,e.done=!1,e.pending=!0,e.firedTriggers=0,r.layoutQueue.add(e),n?(r.layouts[e.id]=e,e.running=!0,e.finishedLayout&&r.finishQueue.add(e),++r.remainingLayouts,++e.layoutCount,e.ownerContext=t,e.beginCount=0,e.blockCount=0,e.calcCount=0,e.triggerCount=0,e.isComponentLayout&&(i=t.ownerCtContext)&&(t.target.ownerLayout.isComponentLayout?++i.remainingComponentChildLayouts:++i.remainingContainerChildLayouts,++i.remainingChildLayouts),e.initialized||e.initLayout(),e.beginLayout(t)):(++e.beginCount,e.running||(++r.remainingLayouts,e.running=!0,e.isComponentLayout&&(t.unsetProp("done"),i=t.ownerCtContext,i&&(t.target.ownerLayout.isComponentLayout?++i.remainingComponentChildLayouts==1&&i.unsetProp("componentChildrenDone"):++i.remainingContainerChildLayouts==1&&i.unsetProp("containerChildrenDone"),++i.remainingChildLayouts==1&&i.unsetProp("childrenDone"))),r.completionQueue.remove(e),r.finalizeQueue.remove(e))),e.beginLayoutCycle(t,n)},run:function(){var e=this,t=!1,n=100;e.flushInvalidates(),e.state=1,e.totalCount=e.layoutQueue.getCount(),e.flush();while((e.remainingLayouts||e.invalidQueue.length)&&n--){e.invalidQueue.length&&e.flushInvalidates();if(e.runCycle())t=!1;else{if(!!t){e.state=2;break}e.flush(),t=!0,e.flushLayouts("completionQueue","completeLayout")}!e.remainingLayouts&&!e.invalidQueue.length&&(e.flush(),e.flushLayouts("completionQueue","completeLayout"),e.flushLayouts("finalizeQueue","finalizeLayout"))}return e.runComplete()},runComplete:function(){var e=this;return e.state=2,e.remainingLayouts?(e.handleFailure(),!1):(e.flush(),e.flushLayouts("finishQueue","finishedLayout",!0),e.flushLayouts("finishQueue","notifyOwner"),e.flush(),e.flushAnimations(),!0)},runCycle:function(){var e=this,t=e.layoutQueue.clear(),n=t.length,r;++e.cycleCount,e.progressCount=0;for(r=0;r<n;++r)e.runLayout(e.currentLayout=t[r]);return e.currentLayout=null,e.progressCount>0},runLayout:function(e){var t=this,n=t.getCmp(e.owner);e.pending=!1;if(n.state.blocks)return;e.done=!0,++e.calcCount,++t.calcCount,e.calculate(n),e.done?(t.layoutDone(e),e.completeLayout&&t.queueCompletion(e),e.finalizeLayout&&t.queueFinalize(e)):!e.pending&&!e.invalid&&!(e.blockCount+e.triggerCount-e.firedTriggers)&&t.queueLayout(e)},setItemSize:function(e,t,n){var r=e,i=1,s,o;e.isComposite?(r=e.elements,i=r.length,e=r[0]):!e.dom&&!e.el&&(i=r.length,e=r[0]);for(o=0;o<i;)s=this.get(e),s.setSize(t,n),e=r[++o]}}),Ext.define("Ext.layout.component.Tab",{extend:"Ext.layout.component.Button",alias:"layout.tab",beginLayout:function(e){var t=this,n=t.owner.closable;t.lastClosable!==n&&(t.lastClosable=n,t.clearTargetCache()),t.callParent(arguments)}}),Ext.define("Ext.layout.component.field.Slider",{alias:["layout.sliderfield"],extend:"Ext.layout.component.field.Field",type:"sliderfield",beginLayout:function(e){this.callParent(arguments),e.endElContext=e.getEl("endEl"),e.innerElContext=e.getEl("innerEl"),e.bodyElContext=e.getEl("bodyEl")},publishInnerHeight:function(e,t){var n=t-this.measureLabelErrorHeight(e),r,i;this.owner.vertical?(r=e.endElContext.getPaddingInfo(),i=e.inputContext.getPaddingInfo(),e.innerElContext.setHeight(n-i.height-r.height)):e.bodyElContext.setHeight(n)},publishInnerWidth:function(e,t){if(!this.owner.vertical){var n=e.endElContext.getPaddingInfo(),r=e.inputContext.getPaddingInfo();e.innerElContext.setWidth(t-r.left-n.right-e.labelContext.getProp("width"))}},beginLayoutFixed:function(e,t,n){var r=this,i=r.ieInputWidthAdjustment;i&&r.owner.bodyEl.setStyle("padding-right",i+"px"),r.callParent(arguments)}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(e,t){var n=this.targetPadding,r=t.getStyle("left");return e-r+n.left},adjustHeightAnchor:function(e,t){var n=this.targetPadding,r=t.getStyle("top");return e-r+n.top},isItemLayoutRoot:function(e){return this.ignoreOnContentChange||this.callParent(arguments)},isItemShrinkWrap:function(e){return!0},beginLayout:function(e){var t=this,n=t.getTarget();t.callParent(arguments),n.dom!==document.body&&n.position(),t.targetPadding=e.targetContext.getPaddingInfo()},isItemBoxParent:function(e){return!0},onContentChange:function(){return this.ignoreOnContentChange?!1:this.callParent(arguments)}}),Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:["layout.accordion"],alternateClassName:"Ext.layout.AccordionLayout",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:!1,animate:!0,activeOnTop:!1,multi:!1,defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){var e=this;e.callParent(arguments),e.animate?e.animatePolicy=Ext.apply({},e.defaultAnimatePolicy):e.animatePolicy=null},beforeRenderItems:function(e){var t=this,n=e.length,r=0,i;for(;r<n;r++)i=e[r],i.rendered||(t.collapseFirst&&(i.collapseFirst=t.collapseFirst),t.hideCollapseTool?(i.hideCollapseTool=t.hideCollapseTool,i.titleCollapse=!0):t.titleCollapse&&(i.titleCollapse=t.titleCollapse),delete i.hideHeader,delete i.width,i.collapsible=!0,i.title=i.title||"&#160;",i.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),t.multi||(t.expandedItem!==undefined?i.collapsed=!0:i.hasOwnProperty("collapsed")&&i.collapsed===!1?t.expandedItem=r:i.collapsed=!0,t.owner.mon(i,{show:t.onComponentShow,beforeexpand:t.onComponentExpand,scope:t})),t.fill&&t.owner.mon(i,{beforecollapse:t.onComponentCollapse,scope:t}));n&&t.expandedItem===undefined&&(t.expandedItem=0,e[0].collapsed=!1)},getItemsRenderTree:function(e){return this.beforeRenderItems(e),this.callParent(arguments)},renderItems:function(e,t){this.beforeRenderItems(e),this.callParent(arguments)},configureItem:function(e){this.callParent(arguments),e.animCollapse=e.border=!1,this.fill&&(e.flex=1)},onChildPanelRender:function(e){e.header.addCls(Ext.baseCSSPrefix+"accordion-hd")},beginLayout:function(e){this.callParent(arguments),this.updatePanelClasses(e)},updatePanelClasses:function(e){var t=e.visibleItems,n=t.length,r=!0,i,s,o;for(i=0;i<n;i++)s=t[i],o=s.header,o.addCls(Ext.baseCSSPrefix+"accordion-hd"),r?o.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"
):o.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),i+1==n&&s.collapsed?o.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):o.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),r=s.collapsed},onComponentExpand:function(e){var t=this,n=t.owner,r,i,s,o;if(!t.processing){t.processing=!0,o=n.deferLayouts,n.deferLayouts=!0,r=t.multi?[]:n.query(">panel:not([collapsed])"),i=r.length;for(s=0;s<i;s++)r[s].collapse();n.deferLayouts=o,t.processing=!1}},onComponentCollapse:function(e){var t=this,n=t.owner,r,i,s;if(t.owner.items.getCount()===1)return!1;t.processing||(t.processing=!0,s=n.deferLayouts,n.deferLayouts=!0,r=e.next()||e.prev(),t.multi?(i=t.owner.query(">panel:not([collapsed])"),i.length===1&&r.expand()):r&&r.expand(),n.deferLayouts=s,t.processing=!1)},onComponentShow:function(e){this.onComponentExpand(e)}}),Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],alias:"widget.splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}">&#160;</div>',"</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:!1,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var e=this,t=e.getCollapseTarget(),n=e.getCollapseDirection(),r=e.vertical,i=r?"width":"height",s=r?"height":"width",o;e.callParent(),e.hasOwnProperty(s)||(e[s]="100%"),e.hasOwnProperty(i)||(e[i]=5),t.collapsed&&e.addCls(e.collapsedClsInternal),o=e.baseCls+"-"+e.orientation,e.addCls(o),e.canResize||e.addCls(o+"-noresize"),Ext.applyIf(e.renderData,{collapseDir:n,collapsible:e.collapsible||t.collapsible})},onRender:function(){var e=this;e.callParent(arguments),e.performCollapse!==!1&&(e.renderData.collapsible&&e.mon(e.collapseEl,"click",e.toggleTargetCmp,e),e.collapseOnDblClick&&e.mon(e.el,"dblclick",e.toggleTargetCmp,e)),e.mon(e.getCollapseTarget(),{collapse:e.onTargetCollapse,expand:e.onTargetExpand,scope:e}),e.el.unselectable(),e.canResize&&(e.tracker=Ext.create(e.getTrackerConfig()),e.relayEvents(e.tracker,["beforedragstart","dragstart","dragend"]))},getCollapseDirection:function(){var e=this,t=e.collapseDirection,n,r,i,s;return t||(n=e.collapseTarget,n.isComponent&&(t=n.collapseDirection),t||(s=e.ownerCt.layout.type,n.isComponent?(i=e.ownerCt.items,r=Number(i.indexOf(n)==i.indexOf(e)-1)<<1|Number(s=="hbox")):r=Number(e.collapseTarget=="prev")<<1|Number(s=="hbox"),t=["bottom","right","top","left"][r]),e.collapseDirection=t),e.orientation=t=="top"||t=="bottom"?"horizontal":"vertical",e[e.orientation]=!0,t},getCollapseTarget:function(){var e=this;return e.collapseTarget.isComponent?e.collapseTarget:e.collapseTarget=="prev"?e.previousSibling():e.nextSibling()},onTargetCollapse:function(e){this.el.addCls([this.collapsedClsInternal,this.collapsedCls])},onTargetExpand:function(e){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls])},toggleTargetCmp:function(e,t){var n=this.getCollapseTarget(),r=n.placeholder,i;r&&!r.hidden?i=!0:i=!n.hidden,i&&(n.collapsed?n.expand():n.collapseDirection?n.collapse():n.collapse(this.renderData.collapseDir))},setSize:function(){var e=this;e.callParent(arguments),Ext.isIE&&e.el&&e.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var e=this.callParent();return e.xclass="Ext.resizer.BorderSplitterTracker",e}}),Ext.define("Ext.layout.container.Border",{alias:"layout.border",extend:"Ext.layout.container.Container",requires:["Ext.resizer.BorderSplitter","Ext.Component","Ext.fx.Anim"],alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",padding:undefined,percentageRe:/(\d+)%/,axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,collapseDirections:{north:"top",south:"bottom",east:"right",west:"left"},manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(e,t,n){var r=this,i=r.axisProps[n],s=!i.horizontal,o=i.sizeProp,u=0,a=e.childItems,f=a.length,l,c,h,p,d,v,m,g,y,b,w;for(c=0;c<f;++c){h=a[c],d=h.target,h.layoutPos={};if(d.region){h.region=v=d.region,h.isCenter=d.isCenter,h.isHorz=d.isHorz,h.isVert=d.isVert,h.weight=d.weight||r.regionWeights[v]||0,t[d.id]=h;if(d.isCenter){l=h,p=d.flex,e.centerRegion=l;continue}if(s!==h.isVert)continue;h.reverseWeighting=v==i.borderEnd,g=d[o],y=typeof g,d.collapsed||(y=="string"&&(m=r.percentageRe.exec(g))?h.percentage=parseInt(m[1],10):d.flex&&(u+=h.flex=d.flex))}}return l&&(b=l.target,(w=b.placeholderFor)?!p&&s===w.collapsedVertical()&&(p=0,l.collapseAxis=n):b.collapsed&&s===b.collapsedVertical()&&(p=0,l.collapseAxis=n)),p==null&&(p=1),u+=p,Ext.apply({before:s?"top":"left",totalFlex:u},i)},beginLayout:function(e){var t=this,n=t.getLayoutItems(),r=t.padding,i=typeof r,s=!1,o,u,a,f,l,c,h,p,d;if(r){if(i=="string"||i=="number")r=Ext.util.Format.parseBox(r)}else r=e.getEl("getTargetEl").getPaddingInfo(),s=!0;e.outerPad=r,e.padOnContainer=s;for(f=0,a=n.length;f<a;++f)u=n[f],c=t.getSplitterTarget(u),c&&(p=!!u.hidden,c.split?p!==c.hidden&&(h=!c.hidden):c.isCollapsingOrExpanding&&(h=!!c.collapsed),h===!0?u.show():h===!1&&u.hide());t.callParent(arguments),n=e.childItems,a=n.length,l={},e.borderAxisHorz=t.beginAxis(e,l,"horz"),e.borderAxisVert=t.beginAxis(e,l,"vert");for(f=0;f<a;++f)o=n[f],c=t.getSplitterTarget(o.target),c&&(d=l[c.id],d||(d=e.getEl(c.el,t),d.region=c.region),o.collapseTarget=c=d,o.weight=c.weight,o.reverseWeighting=c.reverseWeighting,c.splitter=o,o.isHorz=c.isHorz,o.isVert=c.isVert);t.sortWeightedItems(n,"reverseWeighting"),t.setupSplitterNeighbors(n)},calculate:function(e){var t=this,n=t.getContainerSize(e),r=e.childItems,i=r.length,s=e.borderAxisHorz,o=e.borderAxisVert,u=e.outerPad,a=e.padOnContainer,f,l,c,h,p,d;s.begin=u.left,o.begin=u.top,p=s.end=s.flexSpace=n.width+(a?u.left:-u.right),d=o.end=o.flexSpace=n.height+(a?u.top:-u.bottom);for(f=0;f<i;++f){l=r[f],c=l.getMarginInfo();if(l.isHorz||l.isCenter)s.addUnflexed(c.width),p-=c.width;if(l.isVert||l.isCenter)o.addUnflexed(c.height),d-=c.height;if(!l.flex&&!l.percentage)if(l.isHorz||l.isCenter&&l.collapseAxis==="horz")h=l.getProp("width"),s.addUnflexed(h),l.collapseTarget&&(p-=h);else if(l.isVert||l.isCenter&&l.collapseAxis==="vert")h=l.getProp("height"),o.addUnflexed(h),l.collapseTarget&&(d-=h)}for(f=0;f<i;++f)l=r[f],c=l.getMarginInfo(),l.percentage&&(l.isHorz?(h=Math.ceil(p*l.percentage/100),h=l.setWidth(h),s.addUnflexed(h)):l.isVert&&(h=Math.ceil(d*l.percentage/100),h=l.setHeight(h),o.addUnflexed(h)));for(f=0;f<i;++f)l=r[f],l.isCenter||(t.calculateChildAxis(l,s),t.calculateChildAxis(l,o));t.finishAxis(e,o)+t.finishAxis(e,s)<2?t.done=!1:t.finishPositions(r)},calculateChildAxis:function(e,t){var n=e.collapseTarget,r="set"+t.sizePropCap,i=t.sizeProp,s=e.getMarginInfo()[i],o,u,a,f,l;n?o=n.region:(o=e.region,a=e.flex),u=o==t.borderBegin,!u&&o!=t.borderEnd?(e[r](t.end-t.begin-s),f=t.begin):(a?(l=Math.ceil(t.flexSpace*(a/t.totalFlex)),l=e[r](l)):e.percentage?l=e.peek(i):l=e.getProp(i),l+=s,u?(f=t.begin,t.begin+=l):t.end=f=t.end-l),e.layoutPos[t.posProp]=f},finishAxis:function(e,t){var n=t.end-t.begin,r=e.centerRegion;return r&&(r["set"+t.sizePropCap](n-r.getMarginInfo()[t.sizeProp]),r.layoutPos[t.posProp]=t.begin),Ext.isNumber(n)?1:0},finishPositions:function(e){var t=e.length,n,r;for(n=0;n<t;++n)r=e[n],r.setProp("x",r.layoutPos.x+r.marginInfo.left),r.setProp("y",r.layoutPos.y+r.marginInfo.top)},getPlaceholder:function(e){return e.getPlaceholder&&e.getPlaceholder()},getSplitterTarget:function(e){var t=e.collapseTarget;return t&&t.collapsed?t.placeholder||t:t},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},insertSplitter:function(e,t,n){var r=e.region,i={xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:n,canResize:e.splitterResize!==!1},s=t+(r=="south"||r=="east"?0:1);e.isHorz?i.height=null:i.width=null,e.collapseMode=="mini"&&(i.collapsedCls=e.collapsedCls),e.splitter=this.owner.add(s,i)},onAdd:function(e,t){var n=this,r=e.placeholderFor,i=e.region,s,o;n.callParent(arguments),i?(Ext.apply(e,n.regionFlags[i]),i=="center"?n.centerRegion=e:(e.collapseDirection=this.collapseDirections[i],s=e.split,o=!!e.hidden,(e.isHorz||e.isVert)&&(s||e.collapseMode=="mini")&&n.insertSplitter(e,t,o||!s)),e.hasOwnProperty("collapseMode")||(e.collapseMode=n.panelCollapseMode),e.hasOwnProperty("animCollapse")||(e.collapseMode!="placeholder"?e.animCollapse=!1:e.animCollapse=n.panelCollapseAnimate)):r&&(Ext.apply(e,n.regionFlags[r.region]),e.region=r.region,e.weight=r.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(e){var t=this,n=e.region,r=e.splitter;n&&(e.isCenter&&(t.centerRegion=null),delete e.isCenter,delete e.isHorz,delete e.isVert,r&&(t.owner.doRemove(r,!0),delete e.splitter)),t.callParent(arguments)},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0},south:{isCenter:!1,isHorz:!1,isVert:!0},west:{isCenter:!1,isHorz:!0,isVert:!1},east:{isCenter:!1,isHorz:!0,isVert:!1}},setupSplitterNeighbors:function(e){var t={},n=e.length,r=this.touchedRegions,i,s,o,u,a,f,l,c,h;for(i=0;i<n;++i){f=e[i].target,l=f.region;if(f.isCenter)o=f;else if(l){h=r[l];for(s=0,u=h.length;s<u;++s)a=t[h[s]],a&&a.neighbors.push(f);f.placeholderFor?c=f.placeholderFor.splitter:c=f.splitter,c&&(c.neighbors=[]),t[l]=c}}if(o){h=r.center;for(s=0,u=h.length;s<u;++s)a=t[h[s]],a&&a.neighbors.push(o)}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{setsWidth:1,setsHeight:0},horz:{setsWidth:0,setsHeight:1},flexAll:{setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var t=this,n=this.sizePolicies,r,i,s,o;if(e.isCenter)return o=e.placeholderFor,o?o.collapsedVertical()?n.vert:n.horz:e.collapsed?e.collapsedVertical()?n.vert:n.horz:n.flexAll;return r=e.collapseTarget,r?r.isVert?n.vert:n.horz:e.region?(e.isVert?(i=e.height,s=n.vert):(i=e.width,s=n.horz),e.flex||typeof i=="string"&&t.percentageRe.test(i)?n.flexAll:s):t.autoSizePolicy}},function(){var e={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,e),Ext.apply(t.vert,e)}),Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var e=this,t=e.getActiveItem();if(t){t.hasListeners.beforeactivate&&t.fireEvent("beforeactivate",t)===!1?t=e.activeItem=e.owner.activeItem=null:t.hasListeners.activate&&t.on({boxready:function(){t.fireEvent("activate",t)},single:!0});if(!e.deferredRender)return e.callParent(arguments);if(t)return e.getItemsRenderTree([t])}},renderChildren:function(){var e=this,t=e.getActiveItem();e.deferredRender?t&&e.renderItems([t],e.getRenderTarget()):e.callParent()},isValidParent:function(e,t,n){var r=e.el?e.el.dom:Ext.getDom(e);return r&&r.parentNode===(t.dom||t)||!1},getActiveItem:function(){var e=this,t=e.parseActiveItem(e.activeItem||e.owner&&e.owner.activeItem);return t&&e.owner.items.indexOf(t)!=-1?e.activeItem=t:e.activeItem=null,e.activeItem},parseActiveItem:function(e){return e&&e.isComponent?e:typeof e=="number"||e===undefined?this.getLayoutItems()[e||0]:this.owner.getComponent(e)},configureItem:function(e){e===this.getActiveItem()?e.hidden=!1:e.hidden=!0,this.callParent(arguments)},onRemove:function(e){var t=this;e===t.activeItem&&(t.activeItem=null)},getAnimation:function(e,t){var n=(e||{}).cardSwitchAnimation;return n===!1?!1:n||t.cardSwitchAnimation},getNext:function(){var e=arguments[0],t=this.getLayoutItems(),n=Ext.Array.indexOf(t,this.activeItem);return t[n+1]||(e?t[0]:!1)},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems(),n=Ext.Array.indexOf(t,this.activeItem);return t[n-1]||(e?t[t.length-1]:!1)},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t=this,n=t.owner,r=t.activeItem,i=n.rendered,s;return e=t.parseActiveItem(e),s=n.items.indexOf(e),s==-1&&(s=n.items.items.length,Ext.suspendLayouts(),e=n.add(e),Ext.resumeLayouts()),e&&r!=e?e.fireEvent("beforeactivate",e,r)===!1?!1:r&&r.fireEvent("beforedeactivate",r,e)===!1?!1:(i?(Ext.suspendLayouts(),e.rendered||t.renderItem(e,t.getRenderTarget(),n.items.length),r&&(t.hideInactive&&(r.hide(),r.hiddenByLayout=!0),r.fireEvent("deactivate",r,e)),e.hidden&&e.show(),e.hidden||(t.activeItem=e),Ext.resumeLayouts(!0)):t.activeItem=e,e.fireEvent("activate",e,r),t.activeItem):!1}}),Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Container",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{setsWidth:1,setsHeight:0},childEls:["innerCt"],manageOverflow:2,renderTpl:['<div id="{ownerId}-innerCt" class="',Ext.baseCSSPrefix,'column-inner">',"{%this.renderBody(out,values)%}",'<div class="',Ext.baseCSSPrefix,'clear"></div>',"</div>","{%this.renderPadder(out,values)%}"],getItemSizePolicy:function(e){return e.columnWidth?this.columnWidthSizePolicy:this.autoSizePolicy},beginLayout:function(){this.callParent(arguments),this.innerCt.dom.style.width=""},calculate:function(e){var t=this,n=t.getContainerSize(e),r=e.state;if(r.calculatedColumns||(r.calculatedColumns=t.calculateColumns(e)))if(t.calculateHeights(e)){t.calculateOverflow(e,n);return}t.done=!1},calculateColumns:function(e){var t=this,n=t.getContainerSize(e),r=e.getEl("innerCt",t),i=e.childItems,s=i.length,o=0,u,a,f,l,c,h;if(!e.heightModel.shrinkWrap&&!e.targetContext.hasProp("height"))return!1;n.gotWidth?(a=n.width,r.setWidth(a)):(e.targetContext.block(t,"width"),u=!0);for(f=0;f<s;++f)l=i[f],c=l.getMarginInfo().width,l.widthModel.calculated||(h=l.getProp("width"),typeof h!="number"&&(l.block(t,"width"),u=!0),o+=h+c);if(!u){a=a<o?0:a-o;for(f=0;f<s;++f)l=i[f],l.widthModel.calculated&&(c=l.marginInfo.width,h=l.target.columnWidth,h=Math.floor(h*a)-c,h=l.setWidth(h),o+=h+c);e.setContentWidth(o)}return!u},calculateHeights:function(e){var t=this,n=e.childItems,r=n.length,i,s,o;i=!1;for(s=0;s<r;++s)o=n[s],o.hasDomProp("height")||(o.domBlock(t,"height"),i=!0);return i||e.setContentHeight(t.innerCt.getHeight()+e.targetContext.getPaddingInfo().height),!i},finishedLayout:function(e){var t=e.bodyContext;t&&(Ext.isIE6||Ext.isIE7||Ext.isIEQuirks)&&t.el.repaint(),this.callParent(arguments)},getRenderTarget:function(){return this.innerCt}}),Ext.define("Ext.layout.container.Form",{alias:"layout.form",extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.FormLayout",tableCls:Ext.baseCSSPrefix+"form-layout-table",type:"form",manageOverflow:2,childEls:["formTable"],padRow:'<tr><td class="'+Ext.baseCSSPrefix+'form-item-pad" colspan="3"></td></tr>',renderTpl:['<table id="{ownerId}-formTable" class="{tableCls}" style="width:100%" cellpadding="0">',"{%this.renderBody(out,values)%}","</table>","{%this.renderPadder(out,values)%}"],getRenderData:function(){var e=this.callParent();return e.tableCls=this.tableCls,e},calculate:function(e){var t=this,n=t.getContainerSize(e,!0),r,i,s=0,o;if(n.gotWidth){this.callParent(arguments),r=t.formTable.dom.offsetWidth,i=e.childItems;for(o=i.length;s<o;++s)i[s].setWidth(r,!1)}else t.done=!1},getRenderTarget:function(){return this.formTable},getRenderTree:function(){var e=this,t=e.callParent(arguments),n,r;for(n=0,r=t.length;n<r;n++)t[n]=e.transformItemRenderTree(t[n]);return t},transformItemRenderTree:function(e){return e.tag&&e.tag=="table"?(e.tag="tbody",delete e.cellspacing,delete e.cellpadding,Ext.isIE6&&(e.cn=this.padRow),e):{tag:"tbody",cn:{tag:"tr",cn:{tag:"td",colspan:3,style:"width:100%",cn:e}}}},isValidParent:function(e,t,n){return!0},isItemShrinkWrap:function(e){return(e.shrinkWrap===!0?3:e.shrinkWrap||0)&2},getItemSizePolicy:function(e){return{setsWidth:1,setsHeight:0}}}),Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:1,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,isMenuItem:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}" />',"</a>","</tpl>"],maskOnDisable:!1,activate:function(){var e=this;!e.activated&&e.canActivate&&e.rendered&&!e.isDisabled()&&e.isVisible()&&(e.el.addCls(e.activeCls),e.focus(),e.activated=!0,e.fireEvent("activate",e))},getFocusEl:function(){return this.itemEl},deactivate:function(){var e=this;e.activated&&(e.el.removeCls(e.activeCls),e.blur(),e.hideMenu(),e.activated=!1,e.fireEvent("deactivate",e))},deferExpandMenu:function(){var e=this;e.activated&&(!e.menu.rendered||!e.menu.isVisible())&&(e.parentMenu.activeChild=e.menu,e.menu.parentItem=e,e.menu.parentMenu=e.menu.ownerCt=e.parentMenu,e.menu.showBy(e,e.menuAlign))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var e;Ext.menu.Manager.hideAll(),Ext.Element.getActiveElement()||(e=this.up(":not([hidden])"),e&&e.focus())},expandMenu:function(e){var t=this;t.menu&&(t.cancelDeferHide(),e===0?t.deferExpandMenu():t.expandMenuTimer=Ext.defer(t.deferExpandMenu,Ext.isNumber(e)?e:t.menuExpandDelay,t))},getRefItems:function(e){var t=this.menu,n;return t&&(n=t.getRefItems(e),n.unshift(t)),n||[]},hideMenu:function(e){var t=this;t.menu&&(clearTimeout(t.expandMenuTimer),t.hideMenuTimer=Ext.defer(t.deferHideMenu,Ext.isNumber(e)?e:t.menuHideDelay,t))},initComponent:function(){var e=this,t=Ext.baseCSSPrefix,n=[t+"menu-item"],r;e.addEvents("activate","click","deactivate"),e.plain&&n.push(t+"menu-item-plain"),e.cls&&n.push(e.cls),e.cls=n.join(" "),e.menu&&(r=e.menu,delete e.menu,e.setMenu(r)),e.callParent(arguments)},onClick:function(e){var t=this;t.href||e.stopEvent();if(t.disabled)return;t.hideOnClick&&(t.deferHideParentMenusTimer=Ext.defer(t.deferHideParentMenus,t.clickHideDelay,t)),Ext.callback(t.handler,t.scope||t,[t,e]),t.fireEvent("click",t,e),t.hideOnClick||t.focus()},onRemoved:function(){var e=this;e.activated&&e.parentMenu.activeItem===e&&e.parentMenu.deactivateActiveItem(),e.callParent(arguments),delete e.parentMenu,delete e.ownerButton},beforeDestroy:function(){var e=this;e.rendered&&e.clearTip(),e.callParent()},onDestroy:function(){var e=this;clearTimeout(e.expandMenuTimer),e.cancelDeferHide(),clearTimeout(e.deferHideParentMenusTimer),e.setMenu(null),e.callParent(arguments)},beforeRender:function(){var e=this,t=Ext.BLANK_IMAGE_URL,n,r;e.callParent(),e.iconAlign==="right"?(n=e.checkChangeDisabled?e.disabledCls:"",r=Ext.baseCSSPrefix+"menu-item-icon-right "+e.iconCls):(n=e.iconCls+(e.checkChangeDisabled?" "+e.disabledCls:""),r=e.menu?e.arrowCls:""),Ext.applyIf(e.renderData,{href:e.href||"#",hrefTarget:e.hrefTarget,icon:e.icon||t,iconCls:n,plain:e.plain,text:e.text,arrowCls:r,blank:t})},onRender:function(){var e=this;e.callParent(arguments),e.tooltip&&e.setTooltip(e.tooltip,!0)},setMenu:function(e,t){var n=this,r=n.menu,i=n.arrowEl;r&&(delete r.parentItem,delete r.parentMenu,delete r.ownerCt,delete r.ownerItem,(t===!0||t!==!1&&n.destroyMenu)&&Ext.destroy(r)),e?(n.menu=Ext.menu.Manager.get(e),n.menu.ownerItem=n):n.menu=null,n.rendered&&!n.destroying&&i&&i[n.menu?"addCls":"removeCls"](n.arrowCls)},setHandler:function(e,t){this.handler=e||null,this.scope=t},setIcon:function(e){var t=this.iconEl;t&&(t.src=e||Ext.BLANK_IMAGE_URL),this.icon=e},setIconCls:function(e){var t=this,n=t.iconEl;n&&(t.iconCls&&n.removeCls(t.iconCls),e&&n.addCls(e)),t.iconCls=e},setText:function(e){var t=this,n=t.textEl||t.el;t.text=e,t.rendered&&(n.update(e||""),t.ownerCt.updateLayout())},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(e,t){var n=this;return n.rendered?(t||n.clearTip(),Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:n.itemEl.id},e)),n.tooltip=e):n.itemEl.dom.setAttribute(n.getTipAttr(),e)):n.tooltip=e,n}}),Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,afterRender:function(){var e=this;e.callParent(),e.checked=!e.checked,e.setChecked(!e.checked,!0),e.checkChangeDisabled&&e.disableCheckChange()},initComponent:function(){var e=this;e.addEvents("beforecheckchange","checkchange"),e.callParent(arguments),Ext.menu.Manager.registerCheckable(e),e.group&&(e.iconCls||(e.iconCls=e.groupCls),e.initialConfig.hideOnClick!==!1&&(e.hideOnClick=!0))},disableCheckChange:function(){var e=this,t=e.iconEl;t&&t.addCls(e.disabledCls),(!Ext.isIE9||!Ext.isStrict)&&e.rendered&&e.el.repaint(),e.checkChangeDisabled=!0},enableCheckChange:function(){var e=this,t=e.iconEl;t&&t.removeCls(e.disabledCls),e.checkChangeDisabled=!1},onClick:function(e){var t=this;!t.disabled&&!t.checkChangeDisabled&&(!t.checked||!t.group)&&t.setChecked(!t.checked),this.callParent([e])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent(arguments)},setChecked:function(e,t){var n=this;n.checked!==e&&(t||n.fireEvent("beforecheckchange",n,e)!==!1)&&(n.el&&n.el[e?"addCls":"removeCls"](n.checkedCls)[e?"removeCls":"addCls"](n.uncheckedCls),n.checked=e,Ext.menu.Manager.onCheckChange(n,e),t||(Ext.callback(n.checkHandler,n.scope,[n,e]),n.fireEvent("checkchange",n,e)))}}),Ext.define("Ext.menu.KeyNav",{extend:"Ext.util.KeyNav",requires:["Ext.FocusManager"],constructor:function(e){var t=this;t.menu=e,t.callParent([e.el,{down:t.down,enter:t.enter,esc:t.escape,left:t.left,right:t.right,space:t.enter,tab:t.tab,up:t.up}])},down:function(e){var t=this,n=t.menu.focusedItem;if(n&&e.getKey()==Ext.EventObject.DOWN&&t.isWhitelisted(n))return!0;t.focusNextItem(1)},enter:function(e){var t=this.menu,n=t.focusedItem;if(t.activeItem)t.onClick(e);else if(n&&n.isFormField)return!0},escape:function(e){Ext.menu.Manager.hideAll()},focusNextItem:function(e){var t=this.menu,n=t.items,r=t.focusedItem,i=r?n.indexOf(r):-1,s=i+e,o;while(s!=i){s<0?s=n.length-1:s>=n.length&&(s=0),o=n.getAt(s);if(t.canActivateItem(o)){t.setActiveItem(o);break}s+=e}},isWhitelisted:function(e){return Ext.FocusManager.isWhitelisted(e)},left:function(e){var t=this.menu,n=t.focusedItem,r=t.activeItem;if(n&&this.isWhitelisted(n))return!0;t.hide(),t.parentMenu&&t.parentMenu.focus()},right:function(e){var t=this.menu,n=t.focusedItem,r=t.activeItem,i;if(n&&this.isWhitelisted(n))return!0;r&&(i=t.activeItem.menu,i&&(r.expandMenu(0),Ext.defer(function(){i.setActiveItem(i.items.getAt(0))},25)))},tab:function(e){var t=this;e.shiftKey?t.up(e):t.down(e)},up:function(e){var t=this,n=t.menu.focusedItem;if(n&&e.getKey()==Ext.EventObject.UP&&t.isWhitelisted(n))return!0;t.focusNextItem(-1)}}),Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",canActivate:!1,focusable:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(e,t){var n=this;n.callParent(),n.addCls(n.separatorCls)}}),Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.KeyNav","Ext.menu.Manager","Ext.menu.Separator"],enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",defaultAlign:"tl-bl?",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:undefined,defaultMinWidth:120,initComponent:function(){var e=this,t=Ext.baseCSSPrefix,n=[t+"menu"],r=e.bodyCls?[e.bodyCls]:[],i=e.floating!==!1;e.addEvents("click","mouseenter","mouseleave","mouseover"),Ext.menu.Manager.register(e),e.plain&&n.push(t+"menu-plain"),e.cls=n.join(" "),r.unshift(t+"menu-body"),e.bodyCls=r.join(" "),e.layout||(e.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}),i&&e.minWidth===undefined&&(e.minWidth=e.defaultMinWidth),!i&&e.initialConfig.hidden!==!0&&(e.hidden=!1),e.callParent(arguments),e.on("beforeshow",function(){var t=!!e.items.length;return t&&e.rendered&&e.el.setStyle("visibility",null),t})},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var e=this,t;e.callParent(arguments);if(e.showSeparator){t={cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"};if(!Ext.isStrict&&Ext.isIE||Ext.isIE6)t.style="height:"+e.el.getHeight()+"px";e.iconSepEl=e.layout.getElementTarget().insertFirst(t)}e.mon(e.el,{click:e.onClick,mouseover:e.onMouseOver,scope:e}),e.mouseMonitor=e.el.monitorMouseLeave(100,e.onMouseLeave,e),e.enableKeyNav&&(e.keyNav=new Ext.menu.KeyNav(e))},getBubbleTarget:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(e){return e&&!e.isDisabled()&&e.isVisible()&&(e.canActivate||e.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(e){var t=this,n=t.activeItem,r=t.focusedItem;n&&(n.deactivate(),n.activated||delete t.activeItem),r&&e&&(r.blur(),delete t.focusedItem)},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(!0),this.callParent(arguments)},getItemFromEvent:function(e){return this.getChildByElement(e.getTarget())},lookupComponent:function(e){var t=this;return typeof e=="string"?e=t.lookupItemFromString(e):Ext.isObject(e)&&(e=t.lookupItemFromObject(e)),e.minWidth=e.minWidth||t.minWidth,e},lookupItemFromObject:function(e){var t=this,n=Ext.baseCSSPrefix,r;return e.isComponent||(e.xtype?e=Ext.ComponentManager.create(e,e.xtype):e=Ext.create("Ext.menu."+(Ext.isBoolean(e.checked)?"Check":"")+"Item",e)),e.isMenuItem&&(e.parentMenu=t),!e.isMenuItem&&!e.dock&&(r=[n+"menu-item",n+"menu-item-cmp"],!t.plain&&(e.indent===!0||e.iconCls==="no-icon")&&r.push(n+"menu-item-indent"),e.rendered?e.el.addCls(r):e.cls=(e.cls?e.cls:"")+" "+r.join(" ")),e},lookupItemFromString:function(e){return e=="separator"||e=="-"?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:e})},onClick:function(e){var t=this,n;if(t.disabled){e.stopEvent();return}n=e.type==="click"?t.getItemFromEvent(e):t.activeItem,n&&n.isMenuItem&&(!n.menu||!t.ignoreParentClicks?n.onClick(e):e.stopEvent());if(!n||n.disabled)n=undefined;t.fireEvent("click",t,n,e)},onDestroy:function(){var e=this;Ext.menu.Manager.unregister(e),delete e.parentMenu,delete e.ownerButton,e.rendered&&(e.el.un(e.mouseMonitor),Ext.destroy(e.keyNav),delete e.keyNav),e.callParent(arguments)},onMouseLeave:function(e){var t=this;t.deactivateActiveItem();if(t.disabled)return;t.fireEvent("mouseleave",t,e)},onMouseOver:function(e){var t=this,n=e.getRelatedTarget(),r=!t.el.contains(n),i=t.getItemFromEvent(e),s=t.parentMenu,o=t.parentItem;r&&s&&(s.setActiveItem(o),o.cancelDeferHide(),s.mouseMonitor.mouseenter());if(t.disabled)return;i&&!i.activated&&(t.setActiveItem(i),i.activated&&i.expandMenu&&i.expandMenu()),r&&t.fireEvent("mouseenter",t,e),t.fireEvent("mouseover",t,i,e)},setActiveItem:function(e){var t=this;e&&e!=t.activeItem&&(t.deactivateActiveItem(),t.canActivateItem(e)&&(e.activate?(e.activate(),e.activated&&(t.activeItem=e,t.focusedItem=e,t.focus())):(e.focus(),t.focusedItem=e)),e.el.scrollIntoView(t.layout.getRenderTarget()))},showBy:function(e,t,n){var r=this;return r.floating&&e&&(r.show(),r.setPagePosition(r.el.getAlignToXY(e.el||e,t||r.defaultAlign,n)),r.setVerticalPosition()),r},show:function(){var e=this,t,n,r,i=e.maxHeight;return e.rendered||e.doAutoRender(),e.floating&&(t=Ext.fly(e.el.getScopeParent()),n=t.getViewSize().height,e.maxHeight=Math.min(i||n,n)),r=e.callParent(arguments),e.maxHeight=i,r},afterComponentLayout:function(e,t,n,r){var i=this;i.callParent(arguments),i.showSeparator&&i.iconSepEl.setHeight(i.componentLayout.lastComponentSize.contentHeight)},setVerticalPosition:function(){var e=this,t,n=e.el.getY(),r=n,i=e.getHeight(),s=Ext.Element.getViewportHeight().height,o=Ext.fly(e.el.getScopeParent()),u=o.getViewSize().height,a=n-o.getScroll().top;o=null,e.floating&&(t=e.maxHeight?e.maxHeight:u-a,i>u?r=n-a:t<i?r=n-(i-t):n+i>s&&(r=s-i)),e.el.setY(r)}}),Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{plain:!0,showSeparator:!1,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",id:e.pickerId,xtype:"colorpicker"},t)}),e.callParent(arguments),e.picker=e.down("colorpicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{showSeparator:!1,plain:!0,border:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",id:e.pickerId,xtype:"datepicker"},t)}),e.callParent(arguments),e.picker=e.down("datepicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Tool",{extend:"Ext.Component",requires:["Ext.tip.QuickTipManager"],alias:"widget.tool",baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" src="{blank}" class="{baseCls}-{type}" role="presentation"/>'],tooltipType:"qtip",stopEvent:!0,height:15,width:15,initComponent:function(){var e=this;e.addEvents("click"),e.type=e.type||e.id,Ext.applyIf(e.renderData,{baseCls:e.baseCls,blank:Ext.BLANK_IMAGE_URL,type:e.type}),e.tooltip=e.tooltip||e.qtip,e.callParent(),e.on({element:"toolEl",click:e.onClick,mousedown:e.onMouseDown,mouseover:e.onMouseOver,mouseout:e.onMouseOut,scope:e})},afterRender:function(){var e=this,t;e.callParent(arguments),e.tooltip&&(Ext.isObject(e.tooltip)?Ext.tip.QuickTipManager.register(Ext.apply({target:e.id},e.tooltip)):(t=e.tooltipType=="qtip"?"data-qtip":"title",e.toolEl.dom.setAttribute(t,e.tooltip)))},getFocusEl:function(){return this.el},setType:function(e){var t=this;return t.type=e,t.rendered&&(t.toolEl.dom.className=t.baseCls+"-"+e),t},bindTo:function(e){this.owner=e},onClick:function(e,t){var n=this,r;return n.disabled?!1:(r=n.owner||n.ownerCt,n.el.removeCls(n.toolPressedCls),n.el.removeCls(n.toolOverCls),n.stopEvent!==!1&&e.stopEvent(),Ext.callback(n.handler,n.scope||n,[e,t,r,n]),n.fireEvent("click",n,e),!0)},onDestroy:function(){Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.id),this.callParent()},onMouseDown:function(
){if(this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}),Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var e;e=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"}),e.unselectable(),e.setSize(Ext.Element.getViewWidth(!0),Ext.Element.getViewHeight(!0)),e.show()},getPrevCmp:function(){var e=this.getSplitter();return e.previousSibling()},getNextCmp:function(){var e=this.getSplitter();return e.nextSibling()},onBeforeStart:function(e){var t=this,n=t.getPrevCmp(),r=t.getNextCmp(),i=t.getSplitter().collapseEl,s=e.getTarget(),o;return i&&s===t.getSplitter().collapseEl.dom?!1:r.collapsed||n.collapsed?!1:(t.prevBox=n.getEl().getBox(),t.nextBox=r.getEl().getBox(),t.constrainTo=o=t.calculateConstrainRegion(),o?(t.createDragOverlay(),o):!1)},onStart:function(e){var t=this.getSplitter();t.addCls(t.baseCls+"-active")},calculateConstrainRegion:function(){var e=this,t=e.getSplitter(),n=t.getWidth(),r=t.defaultSplitMin,i=t.orientation,s=e.prevBox,o=e.getPrevCmp(),u=e.nextBox,a=e.getNextCmp(),f,l;return i==="vertical"?(f=new Ext.util.Region(s.y,(o.maxWidth?s.x+o.maxWidth:u.right-(a.minWidth||r))+n,s.bottom,s.x+(o.minWidth||r)),l=new Ext.util.Region(u.y,u.right-(a.minWidth||r),u.bottom,(a.maxWidth?u.right-a.maxWidth:s.x+(s.minWidth||r))-n)):(f=new Ext.util.Region(s.y+(o.minHeight||r),s.right,(o.maxHeight?s.y+o.maxHeight:u.bottom-(a.minHeight||r))+n,s.x),l=new Ext.util.Region((a.maxHeight?u.bottom-a.maxHeight:s.y+(o.minHeight||r))-n,u.right,u.bottom-(a.minHeight||r),u.x)),f.intersect(l)},performResize:function(e,t){var n=this,r=n.getSplitter(),i=r.orientation,s=n.getPrevCmp(),o=n.getNextCmp(),u=r.ownerCt,a=u.query(">[flex]"),f=a.length,l=0,c,h,p=0;for(;l<f;l++)h=a[l].getWidth(),p+=h,a[l].flex=h;t=t||n.getOffset("dragTarget"),i==="vertical"?(t=t[0],c="width"):(c="height",t=t[1]),s&&(h=n.prevBox[c]+t,s.flex?s.flex=h:s[c]=h),o&&(h=n.nextBox[c]-t,o.flex?o.flex=h:o[c]=h),u.updateLayout()},endDrag:function(){var e=this;e.overlay&&(e.overlay.remove(),delete e.overlay),e.callParent(arguments)},onEnd:function(e){var t=this,n=t.getSplitter();n.removeCls(n.baseCls+"-active"),t.performResize(e,t.getOffset("dragTarget"))},onDrag:function(e){var t=this,n=t.getOffset("dragTarget"),r=t.getSplitter(),i=r.getEl(),s=r.orientation;s==="vertical"?i.setX(t.startRegion.left+n[0]):i.setY(t.startRegion.top+n[1])},getSplitter:function(){return this.splitter}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var e=this,t=e.splitter,n=t.collapseTarget,r=t.defaultSplitMin,i=t.vertical?"Width":"Height",s="min"+i,o="max"+i,u="get"+i,a=t.neighbors,f=a.length,l=n.el.getBox(),c=l.x,h=l.y,p=l.right,d=l.bottom,v=t.vertical?p-c:d-h,m,g,y,b,w,E,S;y=(n[s]||Math.min(v,r))-v,b=n[o],b?b-=v:b=1e9,S=v;for(m=0;m<f;++m)g=a[m],v=g[u](),w=v-g[o],E=v-(g[s]||Math.min(v,r)),isNaN(w)||y<w&&(y=w),b>E&&(b=E);return b-y<2?null:(l=new Ext.util.Region(h,p,d,c),e.constraintAdjusters[t.collapseDirection](l,y,b,t),e.dragInfo={minRange:y,maxRange:b,targetSize:S},l)},constraintAdjusters:{left:function(e,t,n,r){e[0]=e.x=e.left=e.right+t,e.right+=n+r.getWidth()},top:function(e,t,n,r){e[1]=e.y=e.top=e.bottom+t,e.bottom+=n+r.getHeight()},bottom:function(e,t,n,r){e.bottom=e.top-t,e.top-=n+r.getHeight()},right:function(e,t,n,r){e.right=e.left-t,e.left-=n+r.getWidth()}},onBeforeStart:function(e){var t=this,n=t.splitter,r=n.collapseTarget,i=n.neighbors,s=t.getSplitter().collapseEl,o=e.getTarget(),u=i.length,a,f;if(s&&o===n.collapseEl.dom)return!1;if(r.collapsed)return!1;for(a=0;a<u;++a){f=i[a];if(f.collapsed&&f.isHorz===r.isHorz)return!1}return(t.constrainTo=t.calculateConstrainRegion())?(t.createDragOverlay(),!0):!1},performResize:function(e,t){var n=this,r=n.splitter,i=r.collapseDirection,s=r.collapseTarget,o=n.splitAdjusters[r.vertical?"horz":"vert"],u=t[o.index],a=n.dragInfo,f;if(i=="right"||i=="bottom")u=-u;u=Math.min(Math.max(a.minRange,u),a.maxRange),u&&((f=r.ownerCt).suspendLayouts(),o.adjustTarget(s,a.targetSize,u),f.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(e,t,n){e.flex=null,e.setSize(t+n)}},vert:{index:1,adjustTarget:function(e,t,n){e.flex=null,e.setSize(undefined,t+n)}}}}),Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",beforeRender:function(){var e=this;e.callParent(),e.addCls(e.baseHandleCls,e.baseHandleCls+"-"+e.region,e.handleCls)},onRender:function(){this.callParent(arguments),this.el.unselectable()}}),Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t=this,n,r,i;e.el||(e.target.isComponent?t.el=e.target.getEl():t.el=e.target),this.callParent(arguments),t.preserveRatio&&t.minWidth&&t.minHeight&&(n=t.minWidth/t.el.getWidth(),r=t.minHeight/t.el.getHeight(),r>n?t.minWidth=t.el.getWidth()*r:t.minHeight=t.el.getHeight()*n),t.throttle&&(i=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(t,arguments)},t.throttle),t.resize=function(e,n,r){r?Ext.resizer.ResizeTracker.prototype.resize.apply(t,arguments):i.apply(null,arguments)})},onBeforeStart:function(e){this.startBox=this.el.getBox()},getDynamicTarget:function(){var e=this,t=e.target;return e.dynamic?t:(e.proxy||(e.proxy=e.createProxy(t)),e.proxy.show(),e.proxy)},createProxy:function(e){var t,n=this.proxyCls,r;return e.isComponent?t=e.getProxy().addCls(n):(r=Ext.getBody(),Ext.scopeResetCSS&&(r=Ext.getBody().createChild({cls:Ext.resetCls})),t=e.createProxy({tag:"div",cls:n,id:e.id+"-rzproxy"},r)),t.removeCls(Ext.baseCSSPrefix+"proxy-el"),t},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox,{horizontal:"none",vertical:"none"})},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,t){var n=this,r=n.activeResizeHandle.region,i=n.getOffset(n.constrainTo?"dragTarget":null),s=n.startBox,o,u=0,a=0,f,l,c=0,h=0,p,d=i[0]<0?"right":"left",v=i[1]<0?"down":"up",m,g,y,b,w;switch(r){case"south":a=i[1],g=2;break;case"north":a=-i[1],h=-a,g=2;break;case"east":u=i[0],g=1;break;case"west":u=-i[0],c=-u,g=1;break;case"northeast":a=-i[1],h=-a,u=i[0],m=[s.x,s.y+s.height],g=3;break;case"southeast":a=i[1],u=i[0],m=[s.x,s.y],g=3;break;case"southwest":u=-i[0],c=-u,a=i[1],m=[s.x+s.width,s.y],g=3;break;case"northwest":a=-i[1],h=-a,u=-i[0],c=-u,m=[s.x+s.width,s.y+s.height],g=3}y={width:s.width+u,height:s.height+a,x:s.x+c,y:s.y+h},f=Ext.Number.snap(y.width,n.widthIncrement),l=Ext.Number.snap(y.height,n.heightIncrement);if(f!=y.width||l!=y.height){switch(r){case"northeast":y.y-=l-y.height;break;case"north":y.y-=l-y.height;break;case"southwest":y.x-=f-y.width;break;case"west":y.x-=f-y.width;break;case"northwest":y.x-=f-y.width,y.y-=l-y.height}y.width=f,y.height=l}y.width<n.minWidth||y.width>n.maxWidth?(y.width=Ext.Number.constrain(y.width,n.minWidth,n.maxWidth),c&&(y.x=s.x+(s.width-y.width))):n.lastX=y.x,y.height<n.minHeight||y.height>n.maxHeight?(y.height=Ext.Number.constrain(y.height,n.minHeight,n.maxHeight),h&&(y.y=s.y+(s.height-y.height))):n.lastY=y.y;if(n.preserveRatio||e.shiftKey)o=n.startBox.width/n.startBox.height,b=Math.min(Math.max(n.minHeight,y.width/o),n.maxHeight),w=Math.min(Math.max(n.minWidth,y.height*o),n.maxWidth),g==1?y.height=b:g==2?y.width=w:(p=Math.abs(m[0]-this.lastXY[0])/Math.abs(m[1]-this.lastXY[1]),p>o?y.height=b:y.width=w,r=="northeast"?y.y=s.y-(y.height-s.height):r=="northwest"?(y.y=s.y-(y.height-s.height),y.x=s.x-(y.width-s.width)):r=="southwest"&&(y.x=s.x-(y.width-s.width)));a===0&&(v="none"),u===0&&(d="none"),n.resize(y,{horizontal:d,vertical:v},t)},getResizeTarget:function(e){return e?this.target:this.getDynamicTarget()},resize:function(e,t,n){var r=this.getResizeTarget(n);r.isComponent?(r.setSize(e.width,e.height),r.floating&&r.setPagePosition(e.x,e.y)):r.setBox(e),r=this.originalTarget,r&&(this.dynamic||n)&&(r.isComponent?(r.setSize(e.width,e.height),r.floating&&r.setPagePosition(e.x,e.y)):r.setBox(e))},onEnd:function(e){this.updateDimensions(e,!0),this.proxy&&this.proxy.hide()}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(e){var t=this,n,r,i,s=t.handles,o,u,a,f=0,l,c=[],h,p,d;t.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(e)||Ext.isElement(e)||e.dom)n=e,e=arguments[1]||{},e.target=n;t.mixins.observable.constructor.call(t,e),n=t.target,n?n.isComponent?(t.el=n.getEl(),n.minWidth&&(t.minWidth=n.minWidth),n.minHeight&&(t.minHeight=n.minHeight),n.maxWidth&&(t.maxWidth=n.maxWidth),n.maxHeight&&(t.maxHeight=n.maxHeight),n.floating&&(t.hasOwnProperty("handles")||(t.handles="n ne e se s sw w nw"))):t.el=t.target=Ext.get(n):t.target=t.el=Ext.get(t.el),i=t.el.dom.tagName.toUpperCase();if(i=="TEXTAREA"||i=="IMG"||i=="TABLE")t.originalTarget=t.target,r=t.el,d=r.getBox(),t.target=t.el=t.el.wrap({cls:t.wrapCls,id:t.el.id+"-rzwrap",style:r.getStyles("margin-top","margin-bottom")}),t.el.setPositioning(r.getPositioning()),r.clearPositioning(),t.el.setBox(d),r.setStyle("position","absolute");t.el.position(),t.pinned&&t.el.addCls(t.pinnedCls),t.resizeTracker=new Ext.resizer.ResizeTracker({disabled:t.disabled,target:t.target,constrainTo:t.constrainTo,overCls:t.overCls,throttle:t.throttle,originalTarget:t.originalTarget,delegate:"."+t.handleCls,dynamic:t.dynamic,preserveRatio:t.preserveRatio,heightIncrement:t.heightIncrement,widthIncrement:t.widthIncrement,minHeight:t.minHeight,maxHeight:t.maxHeight,minWidth:t.minWidth,maxWidth:t.maxWidth}),t.resizeTracker.on({mousedown:t.onBeforeResize,drag:t.onResize,dragend:t.onResizeEnd,scope:t}),t.handles=="all"&&(t.handles="n s e w ne nw se sw"),s=t.handles=t.handles.split(/ |\s*?[,;]\s*?/),u=t.possiblePositions,a=s.length,o=t.handleCls+" "+(t.target.isComponent?t.target.baseCls+"-handle ":"")+t.handleCls+"-",h=Ext.isIE6?' style="height:'+t.el.getHeight()+'px"':"";for(;f<a;f++)s[f]&&u[s[f]]&&(l=u[s[f]],l==="east"||l==="west"?p=h:p="",c.push('<div id="'+t.el.id+"-"+l+'-handle" class="'+o+l+" "+Ext.baseCSSPrefix+'unselectable"'+p+"></div>"));Ext.DomHelper.append(t.el,c.join(""));for(f=0;f<a;f++)s[f]&&u[s[f]]&&(l=u[s[f]],t[l]=t.el.getById(t.el.id+"-"+l+"-handle"),t[l].region=l,t[l].unselectable(),t.transparent&&t[l].setOpacity(0));Ext.isNumber(t.width)&&(t.width=Ext.Number.constrain(t.width,t.minWidth,t.maxWidth)),Ext.isNumber(t.height)&&(t.height=Ext.Number.constrain(t.height,t.minHeight,t.maxHeight));if(t.width!==null||t.height!==null)t.originalTarget&&(t.originalTarget.setWidth(t.width),t.originalTarget.setHeight(t.height)),t.resizeTo(t.width,t.height);t.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(e,t){var n=this.el.getBox();return this.fireEvent("beforeresize",this,n.width,n.height,t)},onResize:function(e,t){var n=this,r=n.el.getBox();return n.forceHandlesHeight(),n.fireEvent("resizedrag",n,r.width,r.height,t)},onResizeEnd:function(e,t){var n=this,r=n.el.getBox();return n.forceHandlesHeight(),n.fireEvent("resize",n,r.width,r.height,t)},resizeTo:function(e,t){var n=this;n.target.setSize(e,t),n.fireEvent("resize",n,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e=0,t=this.handles,n=t.length,r=this.possiblePositions;for(;e<n;e++)this[r[t[e]]].remove()},forceHandlesHeight:function(){var e=this,t;Ext.isIE6&&(t=e.east,t&&t.setHeight(e.el.getHeight()),t=e.west,t&&t.setHeight(e.el.getHeight()),e.el.repaint())}}),Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.Model",alias:"selection.cellmodel",requires:["Ext.util.KeyNav"],isCellModel:!0,enableKeyNav:!0,preventWrap:!1,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select"),this.callParent(arguments)},bindComponent:function(e){var t=this,n=e.ownerCt;t.primaryView=e,t.views=t.views||[],t.views.push(e),t.bindStore(e.getStore(),!0),e.on({cellmousedown:t.onMouseDown,refresh:t.onViewRefresh,scope:t}),n.optimizedColumnMove!==!1&&n.on("columnmove",t.onColumnMove,t),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;if(!e.rendered){e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0});return}e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e.el,ignoreInputFields:!0,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,tab:t.onKeyTab,scope:t})},getHeaderCt:function(){var e=this.getCurrentPosition(),t=e?e.view:this.primaryView;return t.headerCt},onKeyUp:function(e,t){this.keyNavigation=!0,this.move("up",e),this.keyNavigation=!1},onKeyDown:function(e,t){this.keyNavigation=!0,this.move("down",e),this.keyNavigation=!1},onKeyLeft:function(e,t){this.keyNavigation=!0,this.move("left",e),this.keyNavigation=!1},onKeyRight:function(e,t){this.keyNavigation=!0,this.move("right",e),this.keyNavigation=!1},move:function(e,t){var n=this,r=n.getCurrentPosition(),i=r.view.walkCells(r,e,t,n.preventWrap);if(i)return i.view=r.view,n.setCurrentPosition(i)},getCurrentPosition:function(){return this.selection},setCurrentPosition:function(e){var t=this;t.lastSelection=t.selection,t.selection&&t.onCellDeselect(t.selection);if(e)return t.nextSelection=new t.Selection(t),t.nextSelection.setPosition(e),t.onCellSelect(t.nextSelection),t.selection=t.nextSelection},onStoreRemove:function(e,t,n){var r=this,i=r.getCurrentPosition();r.callParent(arguments),i&&(i.row==n?n<e.getCount()-1?(i.setPosition(n,i.column),r.setCurrentPosition(i)):delete r.selection:n<i.row&&(i.setPosition(i.row-1,i.column),r.setCurrentPosition(i)))},onMouseDown:function(e,t,n,r,i,s,o){this.setCurrentPosition({view:e,row:s,column:n})},onCellSelect:function(e,t){e&&e.row!==undefined&&e.row>-1&&this.doSelect(e.view.getStore().getAt(e.row),!1,t)},onCellDeselect:function(e,t){e&&e.row!==undefined&&this.doDeselect(e.view.getStore().getAt(e.row),t)},onSelectChange:function(e,t,n,r){var i=this,s,o,u;t?(s=i.nextSelection,o="select"):(s=i.lastSelection||i.noSelection,o="deselect"),u=s.view||i.primaryView,(n||i.fireEvent("before"+o,i,e,s.row,s.column))!==!1&&r()!==!1&&(t?(u.onCellSelect(s),u.onCellFocus(s)):(u.onCellDeselect(s),delete i.selection),n||i.fireEvent(o,i,e,s.row,s.column))},onKeyTab:function(e,t){var n=this,r=n.getCurrentPosition().view.editingPlugin;r&&n.wasEditing?n.onEditorTab(r,e):n.move(e.shiftKey?"left":"right",e)},onEditorTab:function(e,t){var n=this,r=t.shiftKey?"left":"right",i=n.move(r,t);i&&(e.startEditByPosition(i)?n.wasEditing=!1:(n.wasEditing=!0,i.columnHeader.dataIndex||n.onEditorTab(e,t)))},refresh:function(){var e=this.getCurrentPosition(),t;e&&(t=this.store.indexOf(this.selected.last()))!==-1&&(e.row=t)},onColumnMove:function(e,t,n,r){var i=e.up("tablepanel");i&&this.onViewRefresh(i.view)},onViewRefresh:function(e){var t=this,n=t.getCurrentPosition(),r=e.headerCt,i,s;n&&n.view===e&&(i=n.record,s=n.columnHeader,s.isDescendantOf(r)||(s=r.queryById(s.id)||r.down('[text="'+s.text+'"]')||r.down('[dataIndex="'+s.dataIndex+'"]')),s&&e.store.indexOfId(i.getId())!==-1&&t.setCurrentPosition({row:i,column:s,view:e}))},selectByPosition:function(e){this.setCurrentPosition(e)}},function(){var e=this.prototype.Selection=function(e){this.model=e};e.prototype.setPosition=function(e,t){var n=this,r;return arguments.length===1&&(e.view&&(n.view=r=e.view),t=e.column,e=e.row),r||(n.view=r=n.model.primaryView),typeof e=="number"?(n.row=e,n.record=r.store.getAt(e)):e.isModel?(n.record=e,n.row=r.indexOf(e)):e.tagName&&(n.record=r.getRecord(e),n.row=r.indexOf(n.record)),typeof t=="number"?(n.column=t,n.columnHeader=r.getHeaderAtIndex(t)):(n.columnHeader=t,n.column=t.getIndex()),n}}),Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.Model",alias:"selection.rowmodel",requires:["Ext.util.KeyNav"],deltaScroll:5,enableKeyNav:!0,ignoreRightMouseSelection:!1,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select"),this.views=[],this.callParent(arguments)},bindComponent:function(e){var t=this;t.views=t.views||[],t.views.push(e),t.bindStore(e.getStore(),!0),e.on({itemmousedown:t.onRowMouseDown,scope:t}),t.enableKeyNav&&t.initKeyNav(e)},initKeyNav:function(e){var t=this;if(!e.rendered){e.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0});return}e.el.set({tabIndex:-1}),t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(e,t,n,r,i){return i.record=t,i.recordIndex=r,i},up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,scope:t})},getRowsVisible:function(){var e=!1,t=this.views[0],n=t.getNode(0),r,i;return n&&(r=Ext.fly(n).getHeight(),i=t.el.getHeight(),e=Math.floor(i/r)),e},onKeyEnd:function(e){var t=this,n=t.store.getAt(t.store.getCount()-1);n&&(e.shiftKey?(t.selectRange(n,t.lastFocused||0),t.setLastFocused(n)):e.ctrlKey?t.setLastFocused(n):t.doSelect(n))},onKeyHome:function(e){var t=this,n=t.store.getAt(0);n&&(e.shiftKey?(t.selectRange(n,t.lastFocused||0),t.setLastFocused(n)):e.ctrlKey?t.setLastFocused(n):t.doSelect(n,!1))},onKeyPageUp:function(e){var t=this,n=t.getRowsVisible(),r,i,s;n&&(r=e.recordIndex,i=r-n,i<0&&(i=0),s=t.store.getAt(i),e.shiftKey?(t.selectRange(s,e.record,e.ctrlKey,"up"),t.setLastFocused(s)):e.ctrlKey?(e.preventDefault(),t.setLastFocused(s)):t.doSelect(s))},onKeyPageDown:function(e){var t=this,n=t.getRowsVisible(),r,i,s;n&&(r=e.recordIndex,i=r+n,i>=t.store.getCount()&&(i=t.store.getCount()-1),s=t.store.getAt(i),e.shiftKey?(t.selectRange(s,e.record,e.ctrlKey,"down"),t.setLastFocused(s)):e.ctrlKey?(e.preventDefault(),t.setLastFocused(s)):t.doSelect(s))},onKeySpace:function(e){var t=this,n=t.lastFocused;n&&(t.isSelected(n)?t.doDeselect(n,!1):t.doSelect(n,!0))},onKeyEnter:Ext.emptyFn,onKeyUp:function(e){var t=this,n=t.store.indexOf(t.lastFocused),r;n>0&&(r=t.store.getAt(n-1),e.shiftKey&&t.lastFocused?t.isSelected(t.lastFocused)&&t.isSelected(r)?(t.doDeselect(t.lastFocused,!0),t.setLastFocused(r)):t.isSelected(t.lastFocused)?t.doSelect(r,!0):(t.doSelect(t.lastFocused,!0),t.doSelect(r,!0)):e.ctrlKey?t.setLastFocused(r):t.doSelect(r))},onKeyDown:function(e){var t=this,n=t.store.indexOf(t.lastFocused),r;n+1<t.store.getCount()&&(r=t.store.getAt(n+1),t.selected.getCount()===0?e.ctrlKey?t.setLastFocused(r):t.doSelect(r):e.shiftKey&&t.lastFocused?t.isSelected(t.lastFocused)&&t.isSelected(r)?(t.doDeselect(t.lastFocused,!0),t.setLastFocused(r)):t.isSelected(t.lastFocused)?t.doSelect(r,!0):(t.doSelect(t.lastFocused,!0),t.doSelect(r,!0)):e.ctrlKey?t.setLastFocused(r):t.doSelect(r))},scrollByDeltaX:function(e){var t=this.views[0],n=t.up(),r=n.horizontalScroller;r&&r.scrollByDeltaX(e)},onKeyLeft:function(e){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(e){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(e,t,n,r,i){if(!this.allowRightMouseSelection(i))return;(i.button===0||!this.isSelected(t))&&this.selectWithEvent(t,i)},allowRightMouseSelection:function(e){var t=this.ignoreRightMouseSelection&&e.button!==0;return t&&(t=this.hasSelection()),!t},onSelectChange:function(e,t,n,r){var i=this,s=i.views,o=s.length,u=i.store,a=u.indexOf(e),f=t?"select":"deselect",l=0;if((n||i.fireEvent("before"+f,i,e,a))!==!1&&r()!==!1){for(;l<o;l++)t?s[l].onRowSelect(a,n):s[l].onRowDeselect(a,n);n||i.fireEvent(f,i,e,a)}},onLastFocusChanged:function(e,t,n){var r=this.views,i=r.length,s=this.store,o,u=0;if(e){o=s.indexOf(e);if(o!=-1)for(;u<i;u++)r[u].onRowFocus(o,!1)}if(t){o=s.indexOf(t);if(o!=-1)for(u=0;u<i;u++)r[u].onRowFocus(o,!0,n)}this.callParent()},onEditorTab:function(e,t){var n=this,r=n.views[0],i=e.getActiveRecord(),s=e.getActiveColumn(),o=r.getPosition(i,s),u=t.shiftKey?"left":"right";do o=r.walkCells(o,u,t,n.preventWrap);while(o&&!r.headerCt.getHeaderAtIndex(o.column).getEditor());o&&e.startEditByPosition(o)},getCurrentPosition:function(){var e=this.selected.items[0];if(e)return{row:this.store.indexOf(e),column:0}},selectByPosition:function(e){var t=this.store.getAt(e.row);this.select(t)},selectNext:function(e,t){var n=this,r=n.store,i=n.getSelection(),s=i[i.length-1],o=r.indexOf(s)+1,u;return o===r.getCount()||o===0?u=!1:(n.doSelect(o,e,t),u=!0),u},selectPrevious:function(e,t){var n=this,r=n.getSelection(),i=r[0],s=n.store.indexOf(i)-1,o;return s<0?o=!1:(n.doSelect(s,e,t),o=!0),o}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:!0,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",refreshOnRemove:!0,beforeViewRender:function(e){var t=this;t.callParent(arguments);if(!t.hasLockedHeader()||e.headerCt.lockedCt)t.showHeaderCheckbox!==!1&&e.headerCt.on("headerclick",t.onHeaderClick,t),t.addCheckbox(e,!0),t.mon(e.ownerCt,"reconfigure",t.onReconfigure,t)},bindComponent:function(e){var t=this;t.sortable=!1,t.callParent(arguments)},hasLockedHeader:function(){var e=this.views,t=e.length,n;for(n=0;n<t;n++)if(e[n].headerCt.lockedCt)return!0;return!1},addCheckbox:function(e,t){var n=this,r=n.injectCheckbox,i=e.headerCt;r!==!1&&(r=="first"?r=0:r=="last"&&(r=i.getColumnCount()),Ext.suspendLayouts(),i.add(r,n.getHeaderConfig()),Ext.resumeLayouts()),t!==!0&&e.refresh()},onReconfigure:function(e,t,n){n&&this.addCheckbox(this.views[0])},toggleUiHeader:function(e){var t=this.views[0],n=t.headerCt,r=n.child("gridcolumn[isCheckerHd]");r&&(e?r.el.addCls(this.checkerOnCls):r.el.removeCls(this.checkerOnCls))},onHeaderClick:function(e,t,n){if(t.isCheckerHd){n.stopEvent();var r=this,i=t.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");r.preventFocus=!0,i?r.deselectAll():r.selectAll(),delete r.preventFocus}},getHeaderConfig:function(){var e=this,t=e.showHeaderCheckbox!==!1;return{isCheckerHd:t,text:"&#160;",width:e.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:t?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(e.renderer,e),editRenderer:e.editRenderer||e.renderEmpty,locked:e.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},renderer:function(e,t,n,r,i,s,o){var u=Ext.baseCSSPrefix;return t.tdCls=u+"grid-cell-special "+u+"grid-cell-row-checker",'<div class="'+u+'grid-row-checker">&#160;</div>'},onRowMouseDown:function(e,t,n,r,i){e.el.focus();var s=this,o=i.getTarget("."+Ext.baseCSSPrefix+"grid-row-checker"),u;if(!s.allowRightMouseSelection(i))return;if(s.checkOnly&&!o)return;o?(u=s.getSelectionMode(),u!=="SINGLE"&&s.setSelectionMode("SIMPLE"),s.selectWithEvent(t,i),s.setSelectionMode(u)):s.selectWithEvent(t,i)},onSelectChange:function(){var e=this;e.callParent(arguments),e.updateHeaderState()},onStoreLoad:function(){var e=this;e.callParent(arguments),e.updateHeaderState()},updateHeaderState:function(){var e=this.selected.getCount()===this.store.getCount();this.toggleUiHeader(e)}}),Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",pruneRemoved:!1,onKeyRight:function(e,t){var n=this.getLastFocused(),r=this.view;n&&(n.isExpanded()?this.onKeyDown(e,t):n.isExpandable()&&r.expand(n))},onKeyLeft:function(e,t){var n=this.getLastFocused(),r=this.view,i=r.getSelectionModel(),s,o;n&&(s=n.parentNode,n.isExpanded()?r.collapse(n):s&&!s.isRoot()&&(e.shiftKey?(i.selectRange(s,n,e.ctrlKey,"up"),i.setLastFocused(s)):e.ctrlKey?i.setLastFocused(s):i.select(s)))},onKeySpace:function(e,t){this.toggleCheck(e)},onKeyEnter:function(e,t){this.toggleCheck(e)},toggleCheck:function(e){e.stopEvent();var t=this.getLastSelected();t&&this.view.onCheckChange(t)}}),Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],topZIndex:1e4,constructor:function(e){var t=this;Ext.apply(t,e||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),t.callParent([e])},render:function(){var e=this;e.el=e.slider.innerEl.insertFirst(e.getElConfig()),e.onRender()},onRender:function(){this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var e=this,t=e.slider,n={};return n[t.vertical?"bottom":"left"]=t.calculateThumbPosition(t.normalizeValue(e.value))+"%",{style:n,id:this.id,cls:this.cls}},move:function(e,t){var n=this.el,r=this.slider.vertical?"bottom":"left",i,s;e+="%",t?(i={},i[r]=e,Ext.supports.GetPositionPercentage||(s={},s[r]=n.dom.style[r]),new Ext.fx.Anim({target:n,duration:350,from:s,to:i})):n.dom.style[r]=e},bringToFront:function(){this.el.setStyle("zIndex",this.topZIndex)},sendToBack:function(){this.el.setStyle("zIndex","")},enable:function(){var e=this;e.disabled=!1,e.el&&e.el.removeCls(e.slider.disabledCls)},disable:function(){var e=this;e.disabled=!0,e.el&&e.el.addCls(e.slider.disabledCls)},initEvents:function(){var e=this,t=e.el;e.tracker=new Ext.dd.DragTracker({onBeforeStart:Ext.Function.bind(e.onBeforeDragStart,e),onStart:Ext.Function.bind(e.onDragStart,e),onDrag:Ext.Function.bind(e.onDrag,e),onEnd:Ext.Function.bind(e.onDragEnd,e),tolerance:3,autoStart:300,overCls:Ext.baseCSSPrefix+"slider-thumb-over"}),e.tracker.initEl(t)},onBeforeDragStart:function(e){return this.disabled?!1:(this.slider.promoteThumb(this),!0)},onDragStart:function(e){var t=this;t.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=t.slider.dragging=!0,t.dragStartValue=t.value,t.slider.fireEvent("dragstart",t.slider,e,t)},onDrag:function(e){var t=this,n=t.slider,r=t.index,i=t.getValueFromTracker(),s,o;i!==undefined&&(t.constrain&&(s=n.thumbs[r+1],o=n.thumbs[r-1],o!==undefined&&i<=o.value&&(i=o.value),s!==undefined&&i>=s.value&&(i=s.value)),n.setValue(r,i,!1),n.fireEvent("drag",n,e,t))},getValueFromTracker:function(){var e=this.slider,t=e.getTrackpoint(this.tracker.getXY());if(t!==undefined)return e.reversePixelValue(t)},onDragEnd:function(e){var t=this,n=t.slider,r=t.value;t.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),t.dragging=n.dragging=!1,n.fireEvent("dragend",n,e),t.dragStartValue!=r&&n.fireEvent("changecomplete",n,r,t)},destroy:function(){Ext.destroy(this.tracker)}}),Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(e){var t=this,n,r;t.position||(t.position=e.vertical?t.defaultVerticalPosition:t.defaultHorizontalPosition);switch(t.position){case"top":r=[0,-10],n="b-t?";break;case"bottom":r=[0,10],n="t-b?";break;case"left":r=[-10,0],n="r-l?";break;case"right":r=[10,0],n="l-r?"}t.align||(t.align=n),t.offsets||(t.offsets=r),e.on({scope:t,dragstart:t.onSlide,drag:t.onSlide,dragend:t.hide,destroy:t.destroy})},onSlide:function(e,t,n){var r=this;r.show(),r.update(r.getText(n)),r.el.alignTo(n.el,r.align,r.offsets)},getText:function(e){return String(e.value)}}),Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template","Ext.layout.component.field.Slider"],childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" class="'+Ext.baseCSSPrefix+'slider {fieldCls} {vertical}" aria-valuemin="{minValue}" aria-valuemax="{maxValue}" aria-valuenow="{value}" aria-valuetext="{value}">','<div id="{cmpId}-endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(e,t){var n=t.$comp,r=0,i=n.thumbs,s=i.length,o,u;for(;r<s;r++)o=i[r],u=o.getElConfig(),u.id=n.id+"-thumb-"+r,Ext.DomHelper.generateMarkup(u,e)},disableFormats:!0}],vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,componentLayout:"sliderfield",useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var e=this,t=Ext.value,n=t(e.values,[t(e.value,t(e.minValue,0))]),r=0,i=n.length;e.originalValue=n;for(;r<i;r++)e.addThumb(n[r])},initComponent:function(){var e=this,t,n,r,i,s;e.thumbs=[],e.keyIncrement=Math.max(e.increment,e.keyIncrement),e.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend"),e.increment&&(e.maxValue=Ext.Number.snapInRange(e.maxValue,e.increment,e.minValue),e.value=e.normalizeValue(e.value)),e.callParent();if(e.useTips){Ext.isObject(e.useTips)?t=Ext.apply({},e.useTips):t=e.tipText?{getText:e.tipText}:{},s=e.plugins=e.plugins||[],i=s.length;for(r=0;r<i;r++)if(s[r].isSliderTip){n=!0;break}n||e.plugins.push(new Ext.slider.Tip(t))}},addThumb:function(e){var t=this,n=new Ext.slider.Thumb({ownerCt:t,ownerLayout:t.getComponentLayout(),value:e,slider:t,index:t.thumbs.length,constrain:t.constrainThumbs,disabled:!!t.readOnly});return t.thumbs.push(n),t.rendered&&n.render(),n},promoteThumb:function(e){var t=this.thumbs,n=t.length,r,i,s;for(s=0;s<n;s++)i=t[s],i==e?i.bringToFront():i.sendToBack()},getSubTplData:function(){var e=this;return Ext.apply(e.callParent(),{$comp:e,vertical:e.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:e.minValue,maxValue:e.maxValue,value:e.value})},onRender:function(){var e=this,t=e.thumbs,n=t.length,r=0,i;e.callParent(arguments);for(r=0;r<n;r++)i=t[r],i.el=e.el.getById(e.id+"-thumb-"+r),i.onRender()},initEvents:function(){var e=this;e.mon(e.el,{scope:e,mousedown:e.onMouseDown,keydown:e.onKeyDown})},getTrackpoint:function(e){var t=this,n,r,i=t.innerEl,s;return t.vertical?(r="top",s=i.getHeight()):(r="left",s=i.getWidth()),n=Ext.Number.constrain(i.translatePoints(e)[r],0,s),t.vertical?s-n:n},onMouseDown:function(e){var t=this,n=!1,r=0,i=t.thumbs,s=i.length,o;if(t.disabled)return;for(;r<s;r++)n=n||e.target==i[r].el.dom;t.clickToChange&&!n&&(o=t.getTrackpoint(e.getXY()),o!==undefined&&t.onClickChange(o)),t.focus()},onClickChange:function(e){var t=this,n,r;n=t.getNearest(e),n.disabled||(r=n.index,t.setValue(r,Ext.util.Format.round(t.reversePixelValue(e),t.decimalPrecision),undefined,!0))},getNearest:function(e){var t=this,n=t.reversePixelValue(e),r=t.maxValue-t.minValue+5,i=null,s=t.thumbs,o=0,u=s.length,a,f,l;for(;o<u;o++)a=t.thumbs[o],f=a.value,l=Math.abs(f-n),Math.abs(l<=r)&&(i=a,r=l);return i},onKeyDown:function(e){var t=this,n,r;if(t.disabled||t.thumbs.length!==1){e.preventDefault();return}n=e.getKey();switch(n){case e.UP:case e.RIGHT:e.stopEvent(),r=e.ctrlKey?t.maxValue:t.getValue(0)+t.keyIncrement,t.setValue(0,r,undefined,!0);break;case e.DOWN:case e.LEFT:e.stopEvent(),r=e.ctrlKey?t.minValue:t.getValue(0)-t.keyIncrement,t.setValue(0,r,undefined,!0);break;default:e.preventDefault()}},normalizeValue:function(e){var t=this,n=Ext.Number,r=n[t.zeroBasedSnapping?"snap":"snapInRange"];return e=r.call(n,e,t.increment,t.minValue,t.maxValue),e=Ext.util.Format.round(e,t.decimalPrecision),e=Ext.Number.constrain(e,t.minValue,t.maxValue),e},setMinValue:function(e){var t=this,n=0,r=t.thumbs,i=r.length,s;t.minValue=e,t.rendered&&t.inputEl.dom.setAttribute("aria-valuemin",e);for(;n<i;++n)s=r[n],s.value=s.value<e?e:s.value;t.syncThumbs()},setMaxValue:function(e){var t=this,n=0,r=t.thumbs,i=r.length,s;t.maxValue=e,t.rendered&&t.inputEl.dom.setAttribute("aria-valuemax",e);for(;n<i;++n)s=r[n],s.value=s.value>e?e:s.value;t.syncThumbs()},setValue:function(e,t,n,r){var i=this,s=i.thumbs[e];t=i.normalizeValue(t),t!==s.value&&i.fireEvent("beforechange",i,t,s.value,s)!==!1&&(s.value=t,i.rendered&&(i.inputEl.set({"aria-valuenow":t,"aria-valuetext":t}),s.move(i.calculateThumbPosition(t),Ext.isDefined(n)?n!==!1:i.animate),i.fireEvent("change",i,t,s),i.checkDirty(),r&&i.fireEvent("changecomplete",i,t,s)))},calculateThumbPosition:function(e){return(e-this.minValue)/(this
.maxValue-this.minValue)*100},getRatio:function(){var e=this,t=this.vertical?this.innerEl.getHeight():this.innerEl.getWidth(),n=this.maxValue-this.minValue;return n===0?t:t/n},reversePixelValue:function(e){return this.minValue+e/this.getRatio()},reversePercentageValue:function(e){return this.minValue+(this.maxValue-this.minValue)*(e/100)},onDisable:function(){var e=this,t=0,n=e.thumbs,r=n.length,i,s,o;e.callParent();for(;t<r;t++)i=n[t],s=i.el,i.disable(),Ext.isIE&&(o=s.getXY(),s.hide(),e.innerEl.addCls(e.disabledCls).dom.disabled=!0,e.thumbHolder||(e.thumbHolder=e.endEl.createChild({cls:Ext.baseCSSPrefix+"slider-thumb "+e.disabledCls})),e.thumbHolder.show().setXY(o))},onEnable:function(){var e=this,t=0,n=e.thumbs,r=n.length,i,s;this.callParent();for(;t<r;t++)i=n[t],s=i.el,i.enable(),Ext.isIE&&(e.innerEl.removeCls(e.disabledCls).dom.disabled=!1,e.thumbHolder&&e.thumbHolder.hide(),s.show(),e.syncThumbs())},syncThumbs:function(){if(this.rendered){var e=this.thumbs,t=e.length,n=0;for(;n<t;n++)e[n].move(this.calculateThumbPosition(e[n].value))}},getValue:function(e){return Ext.isNumber(e)?this.thumbs[e].value:this.getValues()},getValues:function(){var e=[],t=0,n=this.thumbs,r=n.length;for(;t<r;t++)e.push(n[t].value);return e},getSubmitValue:function(){var e=this;return e.disabled||!e.submitValue?null:e.getValue()},reset:function(){var e=this,t=[].concat(e.originalValue),n=0,r=t.length,i;for(;n<r;n++)i=t[n],e.setValue(n,i);e.clearInvalid(),delete e.wasValid},setReadOnly:function(e){var t=this,n=t.thumbs,r=n.length,i=0;t.callParent(arguments),e=t.readOnly;for(;i<r;++i)e?n[i].disable():n[i].enable()},beforeDestroy:function(){var e=this,t=e.thumbs,n=0,r=t.length,i;Ext.destroy(e.innerEl,e.endEl,e.focusEl);for(;n<r;n++)i=t[n],Ext.destroy(i);e.callParent()}}),Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],getValue:function(){return this.callParent([0])},setValue:function(e,t){var n=arguments,r=n.length;if(r==1||r<=3&&typeof n[1]!="number")n=Ext.toArray(n),n.unshift(0);return this.callParent(n)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(e){var t=this;t.path="/",t.expires=new Date((new Date).getTime()+6048e5),t.domain=null,t.secure=!1,t.callParent(arguments),t.state=t.readCookies()},set:function(e,t){var n=this;if(typeof t=="undefined"||t===null){n.clear(e);return}n.setCookie(e,t),n.callParent(arguments)},clear:function(e){this.clearCookie(e),this.callParent(arguments)},readCookies:function(){var e={},t=document.cookie+";",n=/\s?(.*?)=(.*?);/g,r=this.prefix,i=r.length,s,o,u;while((s=n.exec(t))!=null)o=s[1],u=s[2],o&&o.substring(0,i)==r&&(e[o.substr(i)]=this.decodeValue(u));return e},setCookie:function(e,t){var n=this;document.cookie=n.prefix+e+"="+n.encodeValue(t)+(n.expires==null?"":"; expires="+n.expires.toGMTString())+(n.path==null?"":"; path="+n.path)+(n.domain==null?"":"; domain="+n.domain)+(n.secure==1?"; secure":"")},clearCookie:function(e){var t=this;document.cookie=t.prefix+e+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+(t.path==null?"":"; path="+t.path)+(t.domain==null?"":"; domain="+t.domain)+(t.secure==1?"; secure":"")}}),Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",alias:"state.localstorage",constructor:function(){var e=this;e.callParent(arguments),e.store=e.getStorageObject(),e.state=e.readLocalStorage()},readLocalStorage:function(){var e=this.store,t=0,n=e.length,r=this.prefix,i=r.length,s={},o;for(;t<n;++t)o=e.key(t),o.substring(0,i)==r&&(s[o.substr(i)]=this.decodeValue(e.getItem(o)));return s},set:function(e,t){var n=this;n.clear(e);if(typeof t=="undefined"||t===null)return;n.store.setItem(n.prefix+e,n.encodeValue(t)),n.callParent(arguments)},clear:function(e){this.store.removeItem(this.prefix+e),this.callParent(arguments)},getStorageObject:function(){try{var e="localStorage"in window&&window.localStorage!==null;if(e)return window.localStorage}catch(t){return!1}}}),Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.layout.component.Tab","Ext.util.KeyNav"],componentLayout:"tab",isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",initComponent:function(){var e=this;e.addEvents("activate","deactivate","beforeclose","close"),e.callParent(arguments),e.card&&e.setCard(e.card)},getTemplateArgs:function(){var e=this,t=e.callParent();return t.closable=e.closable,t.closeText=e.closeText,t},beforeRender:function(){var e=this,t=e.up("tabbar"),n=e.up("tabpanel");e.callParent(),e.addClsWithUI(e.position),e.syncClosableUI(),e.minWidth||(e.minWidth=t?t.minTabWidth:e.minWidth,!e.minWidth&&n&&(e.minWidth=n.minTabWidth),e.minWidth&&e.iconCls&&(e.minWidth+=25)),e.maxWidth||(e.maxWidth=t?t.maxTabWidth:e.maxWidth,!e.maxWidth&&n&&(e.maxWidth=n.maxTabWidth))},onRender:function(){var e=this;e.callParent(arguments),e.keyNav=new Ext.util.KeyNav(e.el,{enter:e.onEnterKey,del:e.onDeleteKey,scope:e})},enable:function(e){var t=this;return t.callParent(arguments),t.removeClsWithUI(t.position+"-disabled"),t},disable:function(e){var t=this;return t.callParent(arguments),t.addClsWithUI(t.position+"-disabled"),t},onDestroy:function(){var e=this;Ext.destroy(e.keyNav),delete e.keyNav,e.callParent(arguments)},setClosable:function(e){var t=this;e=!arguments.length||!!e,t.closable!=e&&(t.closable=e,t.card&&(t.card.closable=e),t.syncClosableUI(),t.rendered&&(t.syncClosableElements(),t.updateLayout()))},syncClosableElements:function(){var e=this,t=e.closeEl;e.closable?t||(e.closeEl=e.btnWrap.insertSibling({tag:"a",cls:e.baseCls+"-close-btn",href:"#",title:e.closeText},"after")):t&&(t.remove(),delete e.closeEl)},syncClosableUI:function(){var e=this,t=[e.closableCls,e.closableCls+"-"+e.position];e.closable?e.addClsWithUI(t):e.removeClsWithUI(t)},setCard:function(e){var t=this;t.card=e,t.setText(t.title||e.title),t.setIconCls(t.iconCls||e.iconCls),t.setIcon(t.icon||e.icon)},onCloseClick:function(){var e=this;if(e.fireEvent("beforeclose",e)!==!1)if(e.tabBar){if(e.tabBar.closeTab(e)===!1)return}else e.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){var t=this;t.tabBar&&t.tabBar.onClick(e,t.el)},onDeleteKey:function(e){this.closable&&this.onCloseClick()},activate:function(e){var t=this;t.active=!0,t.addClsWithUI([t.activeCls,t.position+"-"+t.activeCls]),e!==!0&&t.fireEvent("activate",t)},deactivate:function(e){var t=this;t.active=!1,t.removeClsWithUI([t.activeCls,t.position+"-"+t.activeCls]),e!==!0&&t.fireEvent("deactivate",t)}}),Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Header",alias:"widget.tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab"],isTabBar:!0,defaultType:"tab",plain:!1,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip<tpl if="ui"> {baseCls}-strip-{ui}<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl></tpl>"></div>'],initComponent:function(){var e=this;e.plain&&e.setUI(e.ui+"-plain"),e.addClsWithUI(e.dock),e.addEvents("change"),e.callParent(arguments),e.layout.align=e.orientation=="vertical"?"left":"top",e.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(e.layout),e.remove(e.titleCmp),delete e.titleCmp,Ext.apply(e.renderData,{bodyCls:e.bodyCls})},getLayout:function(){var e=this;return e.layout.type=e.dock==="top"||e.dock==="bottom"?"hbox":"vbox",e.callParent(arguments)},onAdd:function(e){e.position=this.dock,this.callParent(arguments)},onRemove:function(e){var t=this;e===t.previousTab&&(t.previousTab=null),t.callParent(arguments)},afterComponentLayout:function(e){this.callParent(arguments),this.strip.setWidth(e)},onClick:function(e,t){var n=this,r=e.getTarget("."+Ext.tab.Tab.prototype.baseCls),i=r&&Ext.getCmp(r.id),s=n.tabPanel,o=i&&i.closeEl&&t===i.closeEl.dom;o&&e.preventDefault(),i&&i.isDisabled&&!i.isDisabled()&&(i.closable&&o?i.onCloseClick():(s?s.setActiveTab(i.card):n.setActiveTab(i),i.focus()))},closeTab:function(e){var t=this,n=e.card,r=t.tabPanel,i;if(n&&n.fireEvent("beforeclose",n)===!1)return!1;i=t.findNextActivatable(e),Ext.suspendLayouts();if(r&&n){delete e.ownerCt,n.fireEvent("close",n),r.remove(n);if(!!r.getComponent(n))return e.ownerCt=t,Ext.resumeLayouts(!0),!1;e.fireClose(),t.remove(e)}i&&(r?r.setActiveTab(i.card):t.setActiveTab(i),i.focus()),Ext.resumeLayouts(!0)},findNextActivatable:function(e){var t=this;if(e.active&&t.items.getCount()>1)return t.previousTab&&t.previousTab!==e&&!t.previousTab.disabled?t.previousTab:e.next("tab[disabled=false]")||e.prev("tab[disabled=false]")},setActiveTab:function(e){var t=this;!e.disabled&&e!==t.activeTab&&(t.activeTab&&(t.activeTab.isDestroyed?t.previousTab=null:(t.previousTab=t.activeTab,t.activeTab.deactivate())),e.activate(),t.activeTab=e,t.fireEvent("change",t,e,e.card),t.on({afterlayout:t.afterTabActivate,scope:t,single:!0}),t.updateLayout())},afterTabActivate:function(){this.layout.overflowHandler.scrollToItem(this.activeTab)}}),Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:!0,initComponent:function(){var e=this,t=[].concat(e.dockedItems||[]),n=e.activeTab||(e.activeTab=0);e.layout=new Ext.layout.container.Card(Ext.apply({owner:e,deferredRender:e.deferredRender,itemCls:e.itemCls,activeItem:e.activeTab},e.layout)),e.tabBar=new Ext.tab.Bar(Ext.apply({dock:e.tabPosition,plain:e.plain,border:e.border,cardLayout:e.layout,tabPanel:e},e.tabBar)),t.push(e.tabBar),e.dockedItems=t,e.addEvents("beforetabchange","tabchange"),e.callParent(arguments),e.activeTab=e.getComponent(n),e.activeTab&&(e.activeTab.tab.activate(!0),e.tabBar.activeTab=e.activeTab.tab)},setActiveTab:function(e){var t=this,n;e=t.getComponent(e);if(e)return n=t.getActiveTab(),n!==e&&t.fireEvent("beforetabchange",t,e,n)===!1?!1:(e.isComponent||(Ext.suspendLayouts(),e=t.add(e),Ext.resumeLayouts()),t.activeTab=e,Ext.suspendLayouts(),t.layout.setActiveItem(e),e=t.activeTab=t.layout.getActiveItem(),e&&e!==n?(t.tabBar.setActiveTab(e.tab),Ext.resumeLayouts(!0),n!==e&&t.fireEvent("tabchange",t,e,n)):Ext.resumeLayouts(!0),e)},getActiveTab:function(){var e=this,t=e.getComponent(e.activeTab);return t&&e.items.indexOf(t)!=-1?e.activeTab=t:e.activeTab=null,e.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(e,t){var n=this,r=e.tabConfig||{},i={xtype:"tab",card:e,disabled:e.disabled,closable:e.closable,hidden:e.hidden&&!e.hiddenByLayout,tooltip:e.tooltip,tabBar:n.tabBar,closeText:e.closeText};r=Ext.applyIf(r,i),e.tab=n.tabBar.insert(t,r),e.on({scope:n,enable:n.onItemEnable,disable:n.onItemDisable,beforeshow:n.onItemBeforeShow,iconchange:n.onItemIconChange,iconclschange:n.onItemIconClsChange,titlechange:n.onItemTitleChange}),e.isPanel&&(n.removePanelHeader&&(e.rendered?e.header&&e.header.hide():e.header=!1),e.isPanel&&n.border&&e.setBorder(!1))},onItemEnable:function(e){e.tab.enable()},onItemDisable:function(e){e.tab.disable()},onItemBeforeShow:function(e){if(e!==this.activeTab)return this.setActiveTab(e),!1},onItemIconChange:function(e,t){e.tab.setIcon(t)},onItemIconClsChange:function(e,t){e.tab.setIconCls(t)},onItemTitleChange:function(e,t){e.tab.setText(t)},doRemove:function(e,t){var n=this,r;n.destroying||n.items.getCount()==1?n.activeTab=null:(r=n.tabBar.items.indexOf(n.tabBar.findNextActivatable(e.tab)))!==-1&&n.setActiveTab(r),this.callParent(arguments),delete e.tab.card,delete e.tab},onRemove:function(e,t){var n=this;e.un({scope:n,enable:n.onItemEnable,disable:n.onItemDisable,beforeshow:n.onItemBeforeShow}),!n.destroying&&e.tab.ownerCt===n.tabBar&&n.tabBar.remove(e.tab)}}),Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:!1}),Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",treePrefix:Ext.baseCSSPrefix+"tree-",elbowPrefix:Ext.baseCSSPrefix+"tree-elbow-",expanderCls:Ext.baseCSSPrefix+"tree-expander",imgText:'<img src="{1}" class="{0}" />',checkboxText:'<input type="button" role="checkbox" class="{0}" {1} />',initComponent:function(){var e=this;e.origRenderer=e.renderer||e.defaultRenderer,e.origScope=e.scope||window,e.renderer=e.treeRenderer,e.scope=e,e.callParent()},treeRenderer:function(e,t,n,r,i,s,o){var u=this,a=[],f=Ext.String.format,l=n.getDepth(),c=u.treePrefix,h=u.elbowPrefix,p=u.expanderCls,d=u.imgText,v=u.checkboxText,m=u.origRenderer.apply(u.origScope,arguments),g=Ext.BLANK_IMAGE_URL,y=n.get("href"),b=n.get("hrefTarget"),w=n.get("cls");while(n){if(!n.isRoot()||n.isRoot()&&o.rootVisible)n.getDepth()===l?(a.unshift(f(d,c+"icon "+c+"icon"+(n.get("icon")?"-inline ":n.isLeaf()?"-leaf ":"-parent ")+(n.get("iconCls")||""),n.get("icon")||g)),n.get("checked")!==null&&(a.unshift(f(v,c+"checkbox"+(n.get("checked")?" "+c+"checkbox-checked":""),n.get("checked")?'aria-checked="true"':"")),n.get("checked")&&(t.tdCls+=" "+c+"checked")),n.isLast()?n.isExpandable()?a.unshift(f(d,h+"end-plus "+p,g)):a.unshift(f(d,h+"end",g)):n.isExpandable()?a.unshift(f(d,h+"plus "+p,g)):a.unshift(f(d,c+"elbow",g))):n.isLast()||n.getDepth()===0?a.unshift(f(d,h+"empty",g)):n.getDepth()!==0&&a.unshift(f(d,h+"line",g));n=n.parentNode}return y?a.push('<a href="',y,'" target="',b,'">',m,"</a>"):a.push(m),w&&(t.tdCls+=" "+w),a.join("")},defaultRenderer:function(e){return e}}),Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",requires:["Ext.data.NodeStore"],loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",blockRefresh:!0,loadMask:!1,rootVisible:!0,deferInitialRefresh:!1,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:["expanded","loaded","checked","expandable","leaf","icon","iconCls","loading","qtip","qtitle"],initComponent:function(){var e=this,t=e.panel.getStore();e.initialConfig.animate===undefined&&(e.animate=Ext.enableFx),e.store=new Ext.data.NodeStore({treeStore:t,recursive:!0,rootVisible:e.rootVisible,listeners:{beforeexpand:e.onBeforeExpand,expand:e.onExpand,beforecollapse:e.onBeforeCollapse,collapse:e.onCollapse,write:e.onStoreWrite,datachanged:e.onStoreDataChanged,scope:e}}),e.node&&e.setRootNode(e.node),e.animQueue={},e.animWraps={},e.addEvents("afteritemexpand","afteritemcollapse"),e.callParent(arguments),e.on({element:"el",scope:e,delegate:e.expanderSelector,mouseover:e.onExpanderMouseOver,mouseout:e.onExpanderMouseOut}),e.on({element:"el",scope:e,delegate:e.checkboxSelector,click:e.onCheckboxChange})},getMaskStore:function(){return this.panel.getStore()},afterComponentLayout:function(){this.callParent(arguments);var e=this.stretcher;e&&e.setWidth(this.getWidth()-Ext.getScrollbarSize().width)},processUIEvent:function(e){return e.getTarget("."+this.nodeAnimWrapCls,this.el)?!1:this.callParent(arguments)},onClear:function(){this.store.removeAll()},setRootNode:function(e){var t=this;t.store.setNode(e),t.node=e},onCheckboxChange:function(e,t){var n=this,r=e.getTarget(n.getItemSelector(),n.getTargetEl());r&&n.onCheckChange(n.getRecord(r))},onCheckChange:function(e){var t=e.get("checked");Ext.isBoolean(t)&&(t=!t,e.set("checked",t),this.fireEvent("checkchange",e,t))},getChecked:function(){var e=[];return this.node.cascadeBy(function(t){t.get("checked")&&e.push(t)}),e},isItemChecked:function(e){return e.get("checked")},createAnimWrap:function(e,t){var n="",r=this.panel.headerCt,i=r.getGridColumns(),s=0,o=i.length,u,a=this.getNode(e),f,l;for(;s<o;s++)u=i[s],n+='<th style="width: '+(u.hidden?0:u.getDesiredWidth())+'px; height: 0px;"></th>';return l=Ext.get(a),f=l.insertSibling({tag:"tr",html:['<td colspan="'+r.getColumnCount()+'">','<div class="'+this.nodeAnimWrapCls+'">','<table class="'+Ext.baseCSSPrefix+'grid-table" style="width: '+r.getFullWidth()+'px;"><tbody>',n,"</tbody></table>","</div>","</td>"].join("")},"after"),{record:e,node:a,el:f,expanding:!1,collapsing:!1,animating:!1,animateEl:f.down("div"),targetEl:f.down("tbody")}},getAnimWrap:function(e,t){if(!this.animate)return null;var n=this.animWraps,r=n[e.internalId];if(t!==!1)while(!r&&e)e=e.parentNode,e&&(r=n[e.internalId]);return r},doAdd:function(e,t,n){var r=this,i=t[0],s=i.parentNode,o=r.all.elements,u=0,a=r.getAnimWrap(s),f,l,c;if(!a||!a.expanding)return r.callParent(arguments);s=a.record,f=a.targetEl,l=f.dom.childNodes,c=l.length-1,u=n-r.indexOf(s)-1,!c||u>=c?f.appendChild(e):Ext.fly(l[u+1]).insertSibling(e,"before",!0),Ext.Array.insert(o,n,e),a.isAnimating&&r.onExpand(s)},beginBulkUpdate:function(){this.bulkUpdate=!0},endBulkUpdate:function(){this.bulkUpdate=!1},onRemove:function(e,t,n){var r=this,i=r.bulkUpdate;r.viewReady&&(r.doRemove(t,n),i||r.updateIndexes(n),r.store.getCount()===0&&r.refresh(),i||r.fireEvent("itemremove",t,n))},doRemove:function(e,t){var n=this,r=n.all,i=n.getAnimWrap(e),s=r.item(t),o=s?s.dom:null;if(!o||!i||!i.collapsing)return n.callParent(arguments);i.targetEl.appendChild(o),r.removeElement(t)},onBeforeExpand:function(e,t,n){var r=this,i;if(!r.rendered||!r.animate)return;r.getNode(e)&&(i=r.getAnimWrap(e,!1),i?i.collapsing&&i.targetEl.select(r.itemSelector).remove():(i=r.animWraps[e.internalId]=r.createAnimWrap(e),i.animateEl.setHeight(0)),i.expanding=!0,i.collapsing=!1)},onExpand:function(e){var t=this,n=t.animQueue,r=e.getId(),i=t.getNode(e),s=i?t.indexOf(i):-1,o,u,a;t.singleExpand&&t.ensureSingleExpand(e);if(s===-1)return;o=t.getAnimWrap(e,!1);if(!o){t.isExpandingOrCollapsing=!1,t.fireEvent("afteritemexpand",e,s,i);return}u=o.animateEl,a=o.targetEl,u.stopAnimation(),n[r]=!0,u.slideIn("t",{duration:t.expandDuration,listeners:{scope:t,lastframe:function(){o.el.insertSibling(a.query(t.itemSelector),"before"),o.el.remove(),t.refreshSize(),delete t.animWraps[o.record.internalId],delete n[r]}},callback:function(){t.isExpandingOrCollapsing=!1,t.fireEvent("afteritemexpand",e,s,i)}}),o.isAnimating=!0},onBeforeCollapse:function(e,t,n){var r=this,i;if(!r.rendered||!r.animate)return;r.getNode(e)&&(i=r.getAnimWrap(e),i?i.expanding&&i.targetEl.select(this.itemSelector).remove():i=r.animWraps[e.internalId]=r.createAnimWrap(e,n),i.expanding=!1,i.collapsing=!0)},onCollapse:function(e){var t=this,n=t.animQueue,r=e.getId(),i=t.getNode(e),s=i?t.indexOf(i):-1,o=t.getAnimWrap(e),u,a;if(s===-1)return;if(!o){t.isExpandingOrCollapsing=!1,t.fireEvent("afteritemcollapse",e,s,i);return}u=o.animateEl,a=o.targetEl,n[r]=!0,u.stopAnimation(),u.slideOut("t",{duration:t.collapseDuration,listeners:{scope:t,lastframe:function(){o.el.remove(),t.refreshSize(),delete t.animWraps[o.record.internalId],delete n[r]}},callback:function(){t.isExpandingOrCollapsing=!1,t.fireEvent("afteritemcollapse",e,s,i)}}),o.isAnimating=!0},isAnimating:function(e){return!!this.animQueue[e.getId()]},collectData:function(e){var t=this.callParent(arguments),n=t.rows,r=n.length,i=0,s,o;for(;i<r;i++)s=n[i],o=e[i],o.get("qtip")&&(s.rowAttr='data-qtip="'+o.get("qtip")+'"',o.get("qtitle")&&(s.rowAttr+=' data-qtitle="'+o.get("qtitle")+'"')),o.isExpanded()&&(s.rowCls=(s.rowCls||"")+" "+this.expandedCls),o.isLeaf()&&(s.rowCls=(s.rowCls||"")+" "+this.leafCls),o.isLoading()&&(s.rowCls=(s.rowCls||"")+" "+this.loadingCls);return t},expand:function(e,t,n,r){return e.expand(t,n,r)},collapse:function(e,t,n,r){return e.collapse(t,n,r)},toggle:function(e,t,n,r){var i=this,s=!!this.animate;if(!s||!this.isExpandingOrCollapsing)e.isLeaf()||(this.isExpandingOrCollapsing=s),e.isExpanded()?i.collapse(e,t,n,r):i.expand(e,t,n,r)},onItemDblClick:function(e,t,n){var r=this,i=r.editingPlugin;r.callParent(arguments),r.toggleOnDblClick&&e.isExpandable()&&(!i||i.clicksToEdit!==2)&&r.toggle(e)},onBeforeItemMouseDown:function(e,t,n,r){return r.getTarget(this.expanderSelector,t)?!1:this.callParent(arguments)},onItemClick:function(e,t,n,r){return r.getTarget(this.expanderSelector,t)&&e.isExpandable()?(this.toggle(e,r.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(e,t){e.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e,t){e.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getTreeStore:function(){return this.panel.store},ensureSingleExpand:function(e){var t=e.parentNode;t&&t.eachChild(function(t){t!==e&&t.isExpanded()&&t.collapse()})},shouldUpdateCell:function(e,t){if(t){var n=0,r=t.length;for(;n<r;++n)if(Ext.Array.contains(this.uiFields,t[n]))return!0}return this.callParent(arguments)},onStoreWrite:function(e,t){var n=this.panel.store;n.fireEvent("write",n,t)},onStoreDataChanged:function(e,t){var n=this.panel.store;n.fireEvent("datachanged",n)}}),Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",deferRowRender:!1,rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,constructor:function(e){e=e||{},e.animate===undefined&&(e.animate=Ext.isDefined(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){var e=this,t=[e.treeCls],n;e.useArrows&&(t.push(Ext.baseCSSPrefix+"tree-arrows"),e.lines=!1),e.lines?t.push(Ext.baseCSSPrefix+"tree-lines"):e.useArrows||t.push(Ext.baseCSSPrefix+"tree-no-lines"),Ext.isString(e.store)?e.store=Ext.StoreMgr.lookup(e.store):!e.store||Ext.isObject(e.store)&&!e.store.isStore?e.store=new Ext.data.TreeStore(Ext.apply({},e.store||{},{root:e.root,fields:e.fields,model:e.model,folderSort:e.folderSort})):e.root&&(e.store=Ext.data.StoreManager.lookup(e.store),e.store.setRootNode(e.root),e.folderSort!==undefined&&(e.store.folderSort=e.folderSort,e.store.sort())),e.viewConfig=Ext.apply({},e.viewConfig),e.viewConfig=Ext.applyIf(e.viewConfig,{rootVisible:e.rootVisible,animate:e.enableAnimations,singleExpand:e.singleExpand,node:e.store.getRootNode(),hideHeaders:e.hideHeaders}),e.mon(e.store,{scope:e,rootchange:e.onRootChange,clear:e.onClear}),e.relayEvents(e.store,["beforeload","load"]),e.mon(e.store,{append:e.createRelayer("itemappend"),remove:e.createRelayer("itemremove"),move:e.createRelayer("itemmove",[0,4]),insert:e.createRelayer("iteminsert"),beforeappend:e.createRelayer("beforeitemappend"),beforeremove:e.createRelayer("beforeitemremove"),beforemove:e.createRelayer("beforeitemmove"),beforeinsert:e.createRelayer("beforeiteminsert"),expand:e.createRelayer("itemexpand",[0,1]),collapse:e.createRelayer("itemcollapse",[0,1]),beforeexpand:e.createRelayer("beforeitemexpand",[0,1]),beforecollapse:e.createRelayer("beforeitemcollapse",[0,1])}),e.columns||(e.initialConfig.hideHeaders===undefined&&(e.hideHeaders=!0),e.addCls(Ext.baseCSSPrefix+"autowidth-table"),e.columns=[{xtype:"treecolumn",text:"Name",width:Ext.isIE6?null:1e4,dataIndex:e.displayField}]),e.cls&&t.push(e.cls),e.cls=t.join(" "),e.callParent(),n=e.getView(),e.relayEvents(n,["checkchange","afteritemexpand","afteritemcollapse"]),!n.rootVisible&&!e.getRootNode()&&e.setRootNode({expanded:!0})},onClear:function(){this.view.onClear()},setRootNode:function(){return this.store.setRootNode.apply(this.store,arguments)},getRootNode:function(){return this.store.getRootNode()},onRootChange:function(e){this.view.setRootNode(e)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(e){return e.get("checked")},expandNode:function(e,t,n,r){return this.getView().expand(e,t,n,r||this)},collapseNode:function(e,t,n,r){return this.getView().collapse(e,t,n,r||this)},expandAll:function(e,t){var n=this,r=n.getRootNode(),i=n.enableAnimations,s=n.getView();r&&(i||s.beginBulkUpdate(),r.expand(!0,e,t||n),i||s.endBulkUpdate())},collapseAll:function(e,t){var n=this,r=n.getRootNode(),i=n.enableAnimations,s=n.getView();r&&(i||s.beginBulkUpdate(),t=t||n,s.rootVisible?r.collapse(!0,e,t):r.collapseChildren(!0,e,t),i||s.endBulkUpdate())},expandPath:function(e,t,n,r,i){var s=this,o=s.getRootNode(),u=1,a=s.getView(),f,l;t=t||s.getRootNode().idProperty,n=n||"/";if(Ext.isEmpty(e)){Ext.callback(r,i||s,[!1,null]);return}f=e.split(n);if(o.get(t)!=f[1]){Ext.callback(r,i||s,[!1,o]);return}l=function(){if(++u===f.length){Ext.callback(r,i||s,[!0,o]);return}var e=o.findChild(t,f[u]);if(!e){Ext.callback(r,i||s,[!1,o]);return}o=e,o.expand(!1,l)},o.expand(!1,l)},selectPath:function(e,t,n,r,i){var s=this,o,u,a;t=t||s.getRootNode().idProperty,n=n||"/",u=e.split(n),a=u.pop(),u.length>1?s.expandPath(u.join(n),t,n,function(e,n){var o=n;if(e&&n){n=n.findChild(t,a);if(n){s.getSelectionModel().select(n),Ext.callback(r,i||s,[!0,n]);return}}Ext.callback(r,i||s,[!1,o])},s):(o=s.getRootNode(),o.getId()===a?(s.getSelectionModel().select(o),Ext.callback(r,i||s,[!0,o])):Ext.callback(r,i||s,[!1,null]))}}),Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:!1,constructor:function(e){var t=this,n,r,i;Ext.apply(t,e),t.ddGroup||(t.ddGroup="view-dd-zone-"+t.view.id),n=t.view,r=n.ownerCt,r?i=r.getTargetEl().dom:i=n.el.dom.parentNode,t.callParent([i]),t.ddel=Ext.get(document.createElement("div")),t.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(e,t,n){this.initTarget(e,t,n),this.view.mon(this.view,{itemmousedown:this.onItemMouseDown,scope:this})},onValidDrop:function(e,t,n){this.callParent(),e.el.focus()},onItemMouseDown:function(e,t,n,r,i){if(!this.isPreventDrag(i,t,n,r)){this.view.focus(),this.handleMouseDown(i);if(e.getSelectionModel().selectionMode=="MULTI"&&!i.ctrlKey&&e.getSelectionModel().isSelected(t))return!1}},isPreventDrag:function(e){return!1},getDragData:function(e){var t=this.view,n=e.getTarget(t.getItemSelector());if(n)return{copy:t.copy||t.allowCopy&&e.ctrlKey,event:new Ext.EventObjectImpl(e),view:t,ddel:this.ddel,item:n,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(n).getXY()}},onInitDrag:function(e,t){var n=this,r=n.dragData,i=r.view,s=i.getSelectionModel(),o=i.getRecord(r.item),u=r.event;return s.isSelected(o)||s.select(o,!0),r.records=s.getSelection(),n.ddel.update(n.getDragText()),n.proxy.update(n.ddel.dom),n.onStartDrag(e,t),!0},getDragText:function(){var e=this.dragData.records.length;return Ext.String.format(this.dragText,e,e==1?"":"s")},getRepairXY:function(e,t){return t?t.fromPosition:!1}}),Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(e,t){return t.get("allowDrag")===!1||!!e.getTarget(this.view.expanderSelector)},afterRepair:function(){var e=this,t=e.view,n=t.selectedItemCls,r=e.dragData.records,i,s=r.length,o=Ext.fly,u;if(Ext.enableFx&&e.repairHighlight)for(i=0;i<s;i++)u=t.getNode(r[i]),o(u.firstChild).highlight(e.repairHighlightColor,{listeners:{beforeanimate:function(){t.isSelected(u)&&o(u).removeCls(n)},afteranimate:function(){t.isSelected(u)&&o(u).addCls(n)}}});e.dragging=!1}}),Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(e){var t=this.view;!e.isLeaf()&&!e.isExpanded()&&(t.expand(e),this.expandProcId=!1)},queueExpand:function(e){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[e])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(e,t){var n=this.view,r=n.getRecord(t),i=e.getPageY(),s=r.isLeaf(),o=!1,u=Ext.fly(t).getRegion(),a;return r.isRoot()?"append":this.appendOnly?s?!1:"append":(this.allowParentInsert||(o=r.hasChildNodes()&&r.isExpanded()),a=(u.bottom-u.top)/(s?2:3),i>=u.top&&i<u.top+a?"before":!o&&(s||i>=u.bottom-a&&i<=u.bottom)?"after":"append")},isValidDropPoint:function(e,t,n,r,i){if(!e||!i.item)return!1;var s=this.view,o=s.getRecord(e),u=i.records,a=u.length,f=u.length,l,c;if(!(o&&t&&a))return!1;for(l=0;l<f;l++){c=u[l];if(c.isNode&&c.contains(o))return!1}return t==="append"&&o.get("allowDrop")===!1?!1:t!="append"&&o.parentNode.get("allowDrop")===!1?!1:Ext.Array.contains(u,o)?!1:!0},onNodeOver:function(e,t,n,r){var i=this.getPosition(n,e),s=this.dropNotAllowed,o=this.view,u=o.getRecord(e),a=this.getIndicator(),f=0,l=0;return this.cancelExpand(),i=="append"&&!this.expandProcId&&!Ext.Array.contains(r.records,u)&&!u.isLeaf()&&!u.isExpanded()&&this.queueExpand(u),this.isValidDropPoint(e,i,t,n,r)?(this.valid=!0,this.currentPosition=i,this.overRecord=u,a.setWidth(Ext.fly(e).getWidth()),l=Ext.fly(e).getY()-Ext.fly(o.el).getY()-1,i=="before"?(s=u.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",a.showAt(0,l),t.proxy.show()):i=="after"?(s=u.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",l+=Ext.fly(e).getHeight(),a.showAt(0,l),t.proxy.show()):(s=Ext.baseCSSPrefix+"tree-drop-ok-append",a.hide())):this.valid=!1,this.currentCls=s,s},onContainerOver:function(e,t,n){return t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(e,t,n){var r=this,i=r.view,s=t.parentNode,o=i.getStore(),u=[],a,f,l,c,h,p,d,v;if(e.copy){a=e.records,e.records=[];for(f=0,l=a.length;f<l;f++)e.records.push(Ext.apply({},a[f].data))}r.cancelExpand(),n=="before"?(c=s.insertBefore,h=[null,t],t=s):n=="after"?(t.nextSibling?(c=s.insertBefore,h=[null,t.nextSibling]):(c=s.appendChild,h=[null]),t=s):(t.isExpanded()||(p=!0),c=t.appendChild,h=[null]),d=function(){var n,s,o,a,p;for(f=0,l=e.records.length;f<l;f++)h[0]=e.records[f],n=c.apply(t,h),Ext.enableFx&&r.dropHighlight&&u.push(i.getNode(n));if(Ext.enableFx&&r.dropHighlight){o=u.length,a=r.dropHighlightColor;for(s=0;s<o;s++)p=u[s],p&&Ext.fly(p.firstChild?p.firstChild:p).highlight(a)}},p?t.expand(!1,d):d()}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.AbstractPlugin",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,nodeHighlightOnRepair:Ext.enableFx,init:function(e){e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(e){var t=this;t.enableDrag&&(t.dragZone=new Ext.tree.ViewDragZone({view:e,ddGroup:t.dragGroup||t.ddGroup,dragText:t.dragText,repairHighlightColor:t.nodeHighlightColor,repairHighlight:t.nodeHighlightOnRepair})),t.enableDrop&&(t.dropZone=new Ext.tree.ViewDropZone({view:e,ddGroup:t.dropGroup||t.ddGroup,allowContainerDrops:t.allowContainerDrops,appendOnly:t.appendOnly,allowParentInserts:t.allowParentInserts,expandDelay:t.expandDelay,dropHighlightColor:t.nodeHighlightColor,dropHighlight:t.nodeHighlightOnDrop}))}}),Ext.define("Ext.util.CSS",function(){var e=null,t=document,n=/(-[a-z])/gi,r=function(e,t){return t.charAt(1).toUpperCase()};return{singleton:!0,constructor:function(){this.rules={},this.initialized=!1},createStyleSheet:function(e,n){var r,i=t.getElementsByTagName("head")[0],s=t.createElement("style");s.setAttribute("type","text/css"),n&&s.setAttribute("id",n);if(Ext.isIE)i.appendChild(s),r=s.styleSheet,r.cssText=e;else{try{s.appendChild(t.createTextNode(e))}catch(o){s.cssText=e}i.appendChild(s),r=s.styleSheet?s.styleSheet:s.sheet||t.styleSheets[t.styleSheets.length-1]}return this.cacheStyleSheet(r),r},removeStyleSheet:function(e){var t=document.getElementById(e);t&&t.parentNode
.removeChild(t)},swapStyleSheet:function(e,t){var n=document,r;this.removeStyleSheet(e),r=n.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("id",e),r.setAttribute("href",t),n.getElementsByTagName("head")[0].appendChild(r)},refreshCache:function(){return this.getRules(!0)},cacheStyleSheet:function(t){e||(e={});try{var n=t.cssRules||t.rules,r,i=n.length-1,s,o;for(;i>=0;--i){r=n[i].selectorText;if(r){r=r.split(","),o=r.length;for(s=0;s<o;s++)e[Ext.String.trim(r[s]).toLowerCase()]=n[i]}}}catch(u){}},getRules:function(n){if(e===null||n){e={};var r=t.styleSheets,i=0,s=r.length;for(;i<s;i++)try{r[i].disabled||this.cacheStyleSheet(r[i])}catch(o){}}return e},getRule:function(e,t){var n=this.getRules(t),r;if(!Ext.isArray(e))return n[e.toLowerCase()];for(r=0;r<e.length;r++)if(n[e[r]])return n[e[r].toLowerCase()];return null},updateRule:function(e,t,i){var s,o;if(!Ext.isArray(e)){s=this.getRule(e);if(s)return s.style[t.replace(n,r)]=i,!0}else for(o=0;o<e.length;o++)if(this.updateRule(e[o],t,i))return!0;return!1}}}()),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(e,t){var n=arguments,r=arguments.length,i=r>2?n[2]:null,s=r>3?n[3]:"/",o=r>4?n[4]:null,u=r>5?n[5]:!1;document.cookie=e+"="+escape(t)+(i===null?"":"; expires="+i.toGMTString())+(s===null?"":"; path="+s)+(o===null?"":"; domain="+o)+(u===!0?"; secure":"")},get:function(e){var t=e+"=",n=t.length,r=document.cookie.length,i=0,s=0;while(i<r){s=i+n;if(document.cookie.substring(i,s)==t)return this.getCookieVal(s);i=document.cookie.indexOf(" ",i)+1;if(i===0)break}return null},clear:function(e,t){this.get(e)&&(t=t||"/",document.cookie=e+"="+"; expires=Thu, 01-Jan-70 00:00:01 GMT; path="+t)},getCookieVal:function(e){var t=document.cookie.indexOf(";",e);return t==-1&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))}}),Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,getGroupString:function(e){return e.get(this.property)}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},useTopWindow:!0,fieldId:Ext.baseCSSPrefix+"history-field",iframeId:Ext.baseCSSPrefix+"history-frame",constructor:function(){var e=this;e.oldIEMode=Ext.isIE6||Ext.isIE7||!Ext.isStrict&&Ext.isIE8,e.iframe=null,e.hiddenField=null,e.ready=!1,e.currentToken=null,e.mixins.observable.constructor.call(e)},getHash:function(){var e=window.location.href,t=e.indexOf("#");return t>=0?e.substr(t+1):null},setHash:function(e){var t=this,n=t.useTopWindow?window.top:window;try{n.location.hash=e}catch(r){}},doSave:function(){this.hiddenField.value=this.currentToken},handleStateChange:function(e){this.currentToken=e,this.fireEvent("change",e)},updateIFrame:function(e){var t='<html><body><div id="state">'+Ext.util.Format.htmlEncode(e)+"</div></body></html>",n;try{return n=this.iframe.contentWindow.document,n.open(),n.write(t),n.close(),!0}catch(r){return!1}},checkIFrame:function(){var e=this,t=e.iframe.contentWindow,n,r,i,s;if(!t||!t.document){Ext.Function.defer(this.checkIFrame,10,this);return}n=t.document,r=n.getElementById("state"),i=r?r.innerText:null,s=e.getHash(),Ext.TaskManager.start({run:function(){var n=t.document,r=n.getElementById("state"),o=r?r.innerText:null,u=e.getHash();o!==i?(i=o,e.handleStateChange(o),e.setHash(o),s=o,e.doSave()):u!==s&&(s=u,e.updateIFrame(u))},interval:50,scope:e}),e.ready=!0,e.fireEvent("ready",e)},startUp:function(){var e=this,t;e.currentToken=e.hiddenField.value||this.getHash(),e.oldIEMode?e.checkIFrame():(t=e.getHash(),Ext.TaskManager.start({run:function(){var n=e.getHash();n!==t&&(t=n,e.handleStateChange(t),e.doSave())},interval:50,scope:e}),e.ready=!0,e.fireEvent("ready",e))},init:function(e,t){var n=this,r=Ext.DomHelper;if(n.ready){Ext.callback(e,t,[n]);return}if(!Ext.isReady){Ext.onReady(function(){n.init(e,t)});return}n.hiddenField=Ext.getDom(n.fieldId),n.hiddenField||(n.hiddenField=Ext.getBody().createChild({id:Ext.id(),tag:"form",cls:Ext.baseCSSPrefix+"hide-display",children:[{tag:"input",type:"hidden",id:n.fieldId}]},!1,!0).firstChild),n.oldIEMode&&(n.iframe=Ext.getDom(n.iframeId),n.iframe||(n.iframe=r.append(n.hiddenField.parentNode,{tag:"iframe",id:n.iframeId,src:Ext.SSL_SECURE_URL}))),n.addEvents("ready","change"),e&&n.on("ready",e,t,{single:!0}),n.startUp()},add:function(e,t){var n=this;return t!==!1&&n.getToken()===e?!0:n.oldIEMode?n.updateIFrame(e):(n.setHash(e),!0)},back:function(){window.history.go(-1)},forward:function(){window.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}}),Ext.define("Ext.util.Point",{extend:"Ext.util.Region",statics:{fromEvent:function(e){return e=e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e,new this(e.pageX,e.pageY)}},constructor:function(e,t){this.callParent([t,e,t,e])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(e){return this.x==e.x&&this.y==e.y},isWithin:function(e,t){return Ext.isObject(t)||(t={x:t,y:t}),this.x<=e.x+t.x&&this.x>=e.x-t.x&&this.y<=e.y+t.y&&this.y>=e.y-t.y},roundedEquals:function(e){return Math.round(this.x)==Math.round(e.x)&&Math.round(this.y)==Math.round(e.y)}},function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}),Ext.define("Ext.view.TableChunker",{singleton:!0,requires:["Ext.XTemplate"],metaTableTpl:["{%if (this.openTableWrap)out.push(this.openTableWrap())%}",'<table class="'+Ext.baseCSSPrefix+"grid-table "+Ext.baseCSSPrefix+'grid-table-resizer" border="0" cellspacing="0" cellpadding="0" {[this.embedFullWidth(values)]}>',"<tbody>",'<tr class="'+Ext.baseCSSPrefix+'grid-header-row">','<tpl for="columns">','<th class="'+Ext.baseCSSPrefix+'grid-col-resizer-{id}" style="width: {width}px; height: 0px;"></th>',"</tpl>","</tr>","{[this.openRows()]}","{row}",'<tpl for="features">',"{[this.embedFeature(values, parent, xindex, xcount)]}","</tpl>","{[this.closeRows()]}","</tbody>","</table>","{%if (this.closeTableWrap)out.push(this.closeTableWrap())%}"],constructor:function(){Ext.XTemplate.prototype.recurse=function(e,t){return this.apply(t?e[t]:e)}},embedFeature:function(e,t,n,r){var i="";return e.disabled||(i=e.getFeatureTpl(e,t,n,r)),i},embedFullWidth:function(e){var t='style="width:{fullWidth}px;';return e.rowCount||(t+="height:1px;"),t+'"'},openRows:function(){return'<tpl for="rows">'},closeRows:function(){return"</tpl>"},metaRowTpl:['<tr class="'+Ext.baseCSSPrefix+'grid-row {[this.embedRowCls()]}" {[this.embedRowAttr()]}>','<tpl for="columns">','<td class="{cls} '+Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+'grid-cell-{columnId} {{id}-modified} {{id}-tdCls} {[this.firstOrLastCls(xindex, xcount)]}" {{id}-tdAttr}>','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {unselectableCls}" style="text-align: {align}; {{id}-style};">{{id}}</div>',"</td>","</tpl>","</tr>"],firstOrLastCls:function(e,t){if(e===1)return Ext.view.Table.prototype.firstCls;if(e===t)return Ext.view.Table.prototype.lastCls},embedRowCls:function(){return"{rowCls}"},embedRowAttr:function(){return"{rowAttr}"},openTableWrap:undefined,closeTableWrap:undefined,getTableTpl:function(e,t){var n,r={openRows:this.openRows,closeRows:this.closeRows,embedFeature:this.embedFeature,embedFullWidth:this.embedFullWidth,openTableWrap:this.openTableWrap,closeTableWrap:this.closeTableWrap},i={},s=e.features||[],o=s.length,u=0,a={embedRowCls:this.embedRowCls,embedRowAttr:this.embedRowAttr,firstOrLastCls:this.firstOrLastCls,unselectableAttr:e.enableTextSelection?"":'unselectable="on"',unselectableCls:e.enableTextSelection?"":Ext.baseCSSPrefix+"unselectable"},f=Array.prototype.slice.call(this.metaRowTpl,0),l;for(;u<o;u++)s[u].disabled||(s[u].mutateMetaRowTpl(f),Ext.apply(a,s[u].getMetaRowTplFragments()),Ext.apply(i,s[u].getFragmentTpl()),Ext.apply(r,s[u].getTableFragments()));return f=new Ext.XTemplate(f.join(""),a),e.row=f.applyTemplate(e),l=new Ext.XTemplate(this.metaTableTpl.join(""),r),n=l.applyTemplate(e),t||(n=new Ext.XTemplate(n,i)),n}}),Ext._endTime=(new Date).getTime(),Ext._beforereadyhandler&&Ext._beforereadyhandler();